var hg=Object.defineProperty;var fg=(s,r,o)=>r in s?hg(s,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[r]=o;var mr=(s,r,o)=>fg(s,typeof r!="symbol"?r+"":r,o);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&l(p)}).observe(document,{childList:!0,subtree:!0});function o(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(u){if(u.ep)return;u.ep=!0;const h=o(u);fetch(u.href,h)}})();function jd(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function pg(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var r=s.default;if(typeof r=="function"){var o=function l(){return this instanceof l?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};o.prototype=r.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(s).forEach(function(l){var u=Object.getOwnPropertyDescriptor(s,l);Object.defineProperty(o,l,u.get?u:{enumerable:!0,get:function(){return s[l]}})}),o}var Qc={exports:{}},Ea={},Xc={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pf;function mg(){if(Pf)return $e;Pf=1;var s=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),p=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.iterator;function M(R){return R===null||typeof R!="object"?null:(R=C&&R[C]||R["@@iterator"],typeof R=="function"?R:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,j={};function z(R,B,ae){this.props=R,this.context=B,this.refs=j,this.updater=ae||T}z.prototype.isReactComponent={},z.prototype.setState=function(R,B){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,B,"setState")},z.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function Z(){}Z.prototype=z.prototype;function Y(R,B,ae){this.props=R,this.context=B,this.refs=j,this.updater=ae||T}var G=Y.prototype=new Z;G.constructor=Y,P(G,z.prototype),G.isPureReactComponent=!0;var X=Array.isArray,oe=Object.prototype.hasOwnProperty,se={current:null},me={key:!0,ref:!0,__self:!0,__source:!0};function K(R,B,ae){var U,ue={},de=null,Le=null;if(B!=null)for(U in B.ref!==void 0&&(Le=B.ref),B.key!==void 0&&(de=""+B.key),B)oe.call(B,U)&&!me.hasOwnProperty(U)&&(ue[U]=B[U]);var Se=arguments.length-2;if(Se===1)ue.children=ae;else if(1<Se){for(var Ae=Array(Se),Be=0;Be<Se;Be++)Ae[Be]=arguments[Be+2];ue.children=Ae}if(R&&R.defaultProps)for(U in Se=R.defaultProps,Se)ue[U]===void 0&&(ue[U]=Se[U]);return{$$typeof:s,type:R,key:de,ref:Le,props:ue,_owner:se.current}}function J(R,B){return{$$typeof:s,type:R.type,key:B,ref:R.ref,props:R.props,_owner:R._owner}}function xe(R){return typeof R=="object"&&R!==null&&R.$$typeof===s}function ve(R){var B={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ae){return B[ae]})}var ne=/\/+/g;function Re(R,B){return typeof R=="object"&&R!==null&&R.key!=null?ve(""+R.key):B.toString(36)}function ce(R,B,ae,U,ue){var de=typeof R;(de==="undefined"||de==="boolean")&&(R=null);var Le=!1;if(R===null)Le=!0;else switch(de){case"string":case"number":Le=!0;break;case"object":switch(R.$$typeof){case s:case r:Le=!0}}if(Le)return Le=R,ue=ue(Le),R=U===""?"."+Re(Le,0):U,X(ue)?(ae="",R!=null&&(ae=R.replace(ne,"$&/")+"/"),ce(ue,B,ae,"",function(Be){return Be})):ue!=null&&(xe(ue)&&(ue=J(ue,ae+(!ue.key||Le&&Le.key===ue.key?"":(""+ue.key).replace(ne,"$&/")+"/")+R)),B.push(ue)),1;if(Le=0,U=U===""?".":U+":",X(R))for(var Se=0;Se<R.length;Se++){de=R[Se];var Ae=U+Re(de,Se);Le+=ce(de,B,ae,Ae,ue)}else if(Ae=M(R),typeof Ae=="function")for(R=Ae.call(R),Se=0;!(de=R.next()).done;)de=de.value,Ae=U+Re(de,Se++),Le+=ce(de,B,ae,Ae,ue);else if(de==="object")throw B=String(R),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return Le}function he(R,B,ae){if(R==null)return R;var U=[],ue=0;return ce(R,U,"","",function(de){return B.call(ae,de,ue++)}),U}function fe(R){if(R._status===-1){var B=R._result;B=B(),B.then(function(ae){(R._status===0||R._status===-1)&&(R._status=1,R._result=ae)},function(ae){(R._status===0||R._status===-1)&&(R._status=2,R._result=ae)}),R._status===-1&&(R._status=0,R._result=B)}if(R._status===1)return R._result.default;throw R._result}var Ce={current:null},V={transition:null},le={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:V,ReactCurrentOwner:se};function q(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:he,forEach:function(R,B,ae){he(R,function(){B.apply(this,arguments)},ae)},count:function(R){var B=0;return he(R,function(){B++}),B},toArray:function(R){return he(R,function(B){return B})||[]},only:function(R){if(!xe(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},$e.Component=z,$e.Fragment=o,$e.Profiler=u,$e.PureComponent=Y,$e.StrictMode=l,$e.Suspense=y,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,$e.act=q,$e.cloneElement=function(R,B,ae){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var U=P({},R.props),ue=R.key,de=R.ref,Le=R._owner;if(B!=null){if(B.ref!==void 0&&(de=B.ref,Le=se.current),B.key!==void 0&&(ue=""+B.key),R.type&&R.type.defaultProps)var Se=R.type.defaultProps;for(Ae in B)oe.call(B,Ae)&&!me.hasOwnProperty(Ae)&&(U[Ae]=B[Ae]===void 0&&Se!==void 0?Se[Ae]:B[Ae])}var Ae=arguments.length-2;if(Ae===1)U.children=ae;else if(1<Ae){Se=Array(Ae);for(var Be=0;Be<Ae;Be++)Se[Be]=arguments[Be+2];U.children=Se}return{$$typeof:s,type:R.type,key:ue,ref:de,props:U,_owner:Le}},$e.createContext=function(R){return R={$$typeof:p,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:h,_context:R},R.Consumer=R},$e.createElement=K,$e.createFactory=function(R){var B=K.bind(null,R);return B.type=R,B},$e.createRef=function(){return{current:null}},$e.forwardRef=function(R){return{$$typeof:_,render:R}},$e.isValidElement=xe,$e.lazy=function(R){return{$$typeof:b,_payload:{_status:-1,_result:R},_init:fe}},$e.memo=function(R,B){return{$$typeof:w,type:R,compare:B===void 0?null:B}},$e.startTransition=function(R){var B=V.transition;V.transition={};try{R()}finally{V.transition=B}},$e.unstable_act=q,$e.useCallback=function(R,B){return Ce.current.useCallback(R,B)},$e.useContext=function(R){return Ce.current.useContext(R)},$e.useDebugValue=function(){},$e.useDeferredValue=function(R){return Ce.current.useDeferredValue(R)},$e.useEffect=function(R,B){return Ce.current.useEffect(R,B)},$e.useId=function(){return Ce.current.useId()},$e.useImperativeHandle=function(R,B,ae){return Ce.current.useImperativeHandle(R,B,ae)},$e.useInsertionEffect=function(R,B){return Ce.current.useInsertionEffect(R,B)},$e.useLayoutEffect=function(R,B){return Ce.current.useLayoutEffect(R,B)},$e.useMemo=function(R,B){return Ce.current.useMemo(R,B)},$e.useReducer=function(R,B,ae){return Ce.current.useReducer(R,B,ae)},$e.useRef=function(R){return Ce.current.useRef(R)},$e.useState=function(R){return Ce.current.useState(R)},$e.useSyncExternalStore=function(R,B,ae){return Ce.current.useSyncExternalStore(R,B,ae)},$e.useTransition=function(){return Ce.current.useTransition()},$e.version="18.3.1",$e}var Tf;function Ad(){return Tf||(Tf=1,Xc.exports=mg()),Xc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mf;function gg(){if(Mf)return Ea;Mf=1;var s=Ad(),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,u=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h={key:!0,ref:!0,__self:!0,__source:!0};function p(_,y,w){var b,C={},M=null,T=null;w!==void 0&&(M=""+w),y.key!==void 0&&(M=""+y.key),y.ref!==void 0&&(T=y.ref);for(b in y)l.call(y,b)&&!h.hasOwnProperty(b)&&(C[b]=y[b]);if(_&&_.defaultProps)for(b in y=_.defaultProps,y)C[b]===void 0&&(C[b]=y[b]);return{$$typeof:r,type:_,key:M,ref:T,props:C,_owner:u.current}}return Ea.Fragment=o,Ea.jsx=p,Ea.jsxs=p,Ea}var Lf;function vg(){return Lf||(Lf=1,Qc.exports=gg()),Qc.exports}var f=vg(),k=Ad();const gi=jd(k);var lu={},ed={exports:{}},hn={},td={exports:{}},nd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rf;function yg(){return Rf||(Rf=1,function(s){function r(V,le){var q=V.length;V.push(le);e:for(;0<q;){var R=q-1>>>1,B=V[R];if(0<u(B,le))V[R]=le,V[q]=B,q=R;else break e}}function o(V){return V.length===0?null:V[0]}function l(V){if(V.length===0)return null;var le=V[0],q=V.pop();if(q!==le){V[0]=q;e:for(var R=0,B=V.length,ae=B>>>1;R<ae;){var U=2*(R+1)-1,ue=V[U],de=U+1,Le=V[de];if(0>u(ue,q))de<B&&0>u(Le,ue)?(V[R]=Le,V[de]=q,R=de):(V[R]=ue,V[U]=q,R=U);else if(de<B&&0>u(Le,q))V[R]=Le,V[de]=q,R=de;else break e}}return le}function u(V,le){var q=V.sortIndex-le.sortIndex;return q!==0?q:V.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var p=Date,_=p.now();s.unstable_now=function(){return p.now()-_}}var y=[],w=[],b=1,C=null,M=3,T=!1,P=!1,j=!1,z=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(V){for(var le=o(w);le!==null;){if(le.callback===null)l(w);else if(le.startTime<=V)l(w),le.sortIndex=le.expirationTime,r(y,le);else break;le=o(w)}}function X(V){if(j=!1,G(V),!P)if(o(y)!==null)P=!0,fe(oe);else{var le=o(w);le!==null&&Ce(X,le.startTime-V)}}function oe(V,le){P=!1,j&&(j=!1,Z(K),K=-1),T=!0;var q=M;try{for(G(le),C=o(y);C!==null&&(!(C.expirationTime>le)||V&&!ve());){var R=C.callback;if(typeof R=="function"){C.callback=null,M=C.priorityLevel;var B=R(C.expirationTime<=le);le=s.unstable_now(),typeof B=="function"?C.callback=B:C===o(y)&&l(y),G(le)}else l(y);C=o(y)}if(C!==null)var ae=!0;else{var U=o(w);U!==null&&Ce(X,U.startTime-le),ae=!1}return ae}finally{C=null,M=q,T=!1}}var se=!1,me=null,K=-1,J=5,xe=-1;function ve(){return!(s.unstable_now()-xe<J)}function ne(){if(me!==null){var V=s.unstable_now();xe=V;var le=!0;try{le=me(!0,V)}finally{le?Re():(se=!1,me=null)}}else se=!1}var Re;if(typeof Y=="function")Re=function(){Y(ne)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,he=ce.port2;ce.port1.onmessage=ne,Re=function(){he.postMessage(null)}}else Re=function(){z(ne,0)};function fe(V){me=V,se||(se=!0,Re())}function Ce(V,le){K=z(function(){V(s.unstable_now())},le)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(V){V.callback=null},s.unstable_continueExecution=function(){P||T||(P=!0,fe(oe))},s.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<V?Math.floor(1e3/V):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_getFirstCallbackNode=function(){return o(y)},s.unstable_next=function(V){switch(M){case 1:case 2:case 3:var le=3;break;default:le=M}var q=M;M=le;try{return V()}finally{M=q}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(V,le){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var q=M;M=V;try{return le()}finally{M=q}},s.unstable_scheduleCallback=function(V,le,q){var R=s.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?R+q:R):q=R,V){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=q+B,V={id:b++,callback:le,priorityLevel:V,startTime:q,expirationTime:B,sortIndex:-1},q>R?(V.sortIndex=q,r(w,V),o(y)===null&&V===o(w)&&(j?(Z(K),K=-1):j=!0,Ce(X,q-R))):(V.sortIndex=B,r(y,V),P||T||(P=!0,fe(oe))),V},s.unstable_shouldYield=ve,s.unstable_wrapCallback=function(V){var le=M;return function(){var q=M;M=le;try{return V.apply(this,arguments)}finally{M=q}}}}(nd)),nd}var jf;function _g(){return jf||(jf=1,td.exports=yg()),td.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Af;function xg(){if(Af)return hn;Af=1;var s=Ad(),r=_g();function o(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,u={};function h(e,n){p(e,n),p(e+"Capture",n)}function p(e,n){for(u[e]=n,e=0;e<n.length;e++)l.add(n[e])}var _=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},C={};function M(e){return y.call(C,e)?!0:y.call(b,e)?!1:w.test(e)?C[e]=!0:(b[e]=!0,!1)}function T(e,n,a,d){if(a!==null&&a.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return d?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function P(e,n,a,d){if(n===null||typeof n>"u"||T(e,n,a,d))return!0;if(d)return!1;if(a!==null)switch(a.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function j(e,n,a,d,g,v,S){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=d,this.attributeNamespace=g,this.mustUseProperty=a,this.propertyName=e,this.type=n,this.sanitizeURL=v,this.removeEmptyString=S}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new j(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];z[n]=new j(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new j(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new j(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new j(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){z[e]=new j(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){z[e]=new j(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){z[e]=new j(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){z[e]=new j(e,5,!1,e.toLowerCase(),null,!1,!1)});var Z=/[\-:]([a-z])/g;function Y(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Z,Y);z[n]=new j(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Z,Y);z[n]=new j(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Z,Y);z[n]=new j(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){z[e]=new j(e,1,!1,e.toLowerCase(),null,!1,!1)}),z.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){z[e]=new j(e,1,!1,e.toLowerCase(),null,!0,!0)});function G(e,n,a,d){var g=z.hasOwnProperty(n)?z[n]:null;(g!==null?g.type!==0:d||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(P(n,a,g,d)&&(a=null),d||g===null?M(n)&&(a===null?e.removeAttribute(n):e.setAttribute(n,""+a)):g.mustUseProperty?e[g.propertyName]=a===null?g.type===3?!1:"":a:(n=g.attributeName,d=g.attributeNamespace,a===null?e.removeAttribute(n):(g=g.type,a=g===3||g===4&&a===!0?"":""+a,d?e.setAttributeNS(d,n,a):e.setAttribute(n,a))))}var X=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oe=Symbol.for("react.element"),se=Symbol.for("react.portal"),me=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),xe=Symbol.for("react.provider"),ve=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),Re=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),V=Symbol.iterator;function le(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,R;function B(e){if(R===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);R=n&&n[1]||""}return`
`+R+e}var ae=!1;function U(e,n){if(!e||ae)return"";ae=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(W){var d=W}Reflect.construct(e,[],n)}else{try{n.call()}catch(W){d=W}e.call(n.prototype)}else{try{throw Error()}catch(W){d=W}e()}}catch(W){if(W&&d&&typeof W.stack=="string"){for(var g=W.stack.split(`
`),v=d.stack.split(`
`),S=g.length-1,A=v.length-1;1<=S&&0<=A&&g[S]!==v[A];)A--;for(;1<=S&&0<=A;S--,A--)if(g[S]!==v[A]){if(S!==1||A!==1)do if(S--,A--,0>A||g[S]!==v[A]){var I=`
`+g[S].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=S&&0<=A);break}}}finally{ae=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?B(e):""}function ue(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1),e;case 11:return e=U(e.type.render,!1),e;case 1:return e=U(e.type,!0),e;default:return""}}function de(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case me:return"Fragment";case se:return"Portal";case J:return"Profiler";case K:return"StrictMode";case Re:return"Suspense";case ce:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ve:return(e.displayName||"Context")+".Consumer";case xe:return(e._context.displayName||"Context")+".Provider";case ne:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case he:return n=e.displayName||null,n!==null?n:de(e.type)||"Memo";case fe:n=e._payload,e=e._init;try{return de(e(n))}catch{}}return null}function Le(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(n);case 8:return n===K?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Se(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ae(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Be(e){var n=Ae(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),d=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var g=a.get,v=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return g.call(this)},set:function(S){d=""+S,v.call(this,S)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function St(e){e._valueTracker||(e._valueTracker=Be(e))}function rt(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),d="";return e&&(d=Ae(e)?e.checked?"true":"false":e.value),e=d,e!==a?(n.setValue(e),!0):!1}function ot(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qe(e,n){var a=n.checked;return q({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function It(e,n){var a=n.defaultValue==null?"":n.defaultValue,d=n.checked!=null?n.checked:n.defaultChecked;a=Se(n.value!=null?n.value:a),e._wrapperState={initialChecked:d,initialValue:a,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function pn(e,n){n=n.checked,n!=null&&G(e,"checked",n,!1)}function it(e,n){pn(e,n);var a=Se(n.value),d=n.type;if(a!=null)d==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(d==="submit"||d==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?$n(e,n.type,a):n.hasOwnProperty("defaultValue")&&$n(e,n.type,Se(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function kt(e,n,a){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var d=n.type;if(!(d!=="submit"&&d!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,a||n===e.value||(e.value=n),e.defaultValue=n}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function $n(e,n,a){(n!=="number"||ot(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var mn=Array.isArray;function Ee(e,n,a,d){if(e=e.options,n){n={};for(var g=0;g<a.length;g++)n["$"+a[g]]=!0;for(a=0;a<e.length;a++)g=n.hasOwnProperty("$"+e[a].value),e[a].selected!==g&&(e[a].selected=g),g&&d&&(e[a].defaultSelected=!0)}else{for(a=""+Se(a),n=null,g=0;g<e.length;g++){if(e[g].value===a){e[g].selected=!0,d&&(e[g].defaultSelected=!0);return}n!==null||e[g].disabled||(n=e[g])}n!==null&&(n.selected=!0)}}function Ue(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(o(91));return q({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ye(e,n){var a=n.value;if(a==null){if(a=n.children,n=n.defaultValue,a!=null){if(n!=null)throw Error(o(92));if(mn(a)){if(1<a.length)throw Error(o(93));a=a[0]}n=a}n==null&&(n=""),a=n}e._wrapperState={initialValue:Se(a)}}function nt(e,n){var a=Se(n.value),d=Se(n.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),n.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),d!=null&&(e.defaultValue=""+d)}function Xe(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function pt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ve(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?pt(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ct,gn=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,a,d,g){MSApp.execUnsafeLocalFunction(function(){return e(n,a,d,g)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Ct=Ct||document.createElement("div"),Ct.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Ct.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function rn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Pt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tu=["Webkit","ms","Moz","O"];Object.keys(Pt).forEach(function(e){Tu.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Pt[n]=Pt[e]})});function Ls(e,n,a){return n==null||typeof n=="boolean"||n===""?"":a||typeof n!="number"||n===0||Pt.hasOwnProperty(e)&&Pt[e]?(""+n).trim():n+"px"}function xi(e,n){e=e.style;for(var a in n)if(n.hasOwnProperty(a)){var d=a.indexOf("--")===0,g=Ls(a,n[a],d);a==="float"&&(a="cssFloat"),d?e.setProperty(a,g):e[a]=g}}var Ga=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rs(e,n){if(n){if(Ga[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(o(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(o(61))}if(n.style!=null&&typeof n.style!="object")throw Error(o(62))}}function _r(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var js=null;function As(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wi=null,xr=null,wr=null;function Ha(e){if(e=Ar(e)){if(typeof wi!="function")throw Error(o(280));var n=e.stateNode;n&&(n=qi(n),wi(e.stateNode,e.type,n))}}function Wa(e){xr?wr?wr.push(e):wr=[e]:xr=e}function Va(){if(xr){var e=xr,n=wr;if(wr=xr=null,Ha(e),n)for(e=0;e<n.length;e++)Ha(n[e])}}function Za(e,n){return e(n)}function qa(){}var Os=!1;function bi(e,n,a){if(Os)return e(n,a);Os=!0;try{return Za(e,n,a)}finally{Os=!1,(xr!==null||wr!==null)&&(qa(),Va())}}function Io(e,n){var a=e.stateNode;if(a===null)return null;var d=qi(a);if(d===null)return null;a=d[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(e=e.type,d=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!d;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,n,typeof a));return a}var Is=!1;if(_)try{var No={};Object.defineProperty(No,"passive",{get:function(){Is=!0}}),window.addEventListener("test",No,No),window.removeEventListener("test",No,No)}catch{Is=!1}function Mu(e,n,a,d,g,v,S,A,I){var W=Array.prototype.slice.call(arguments,3);try{n.apply(a,W)}catch(te){this.onError(te)}}var Gt=!1,be=null,zo=!1,Si=null,Ka={onError:function(e){Gt=!0,be=e}};function Ja(e,n,a,d,g,v,S,A,I){Gt=!1,be=null,Mu.apply(Ka,arguments)}function Ns(e,n,a,d,g,v,S,A,I){if(Ja.apply(this,arguments),Gt){if(Gt){var W=be;Gt=!1,be=null}else throw Error(o(198));zo||(zo=!0,Si=W)}}function rr(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function br(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function zs(e){if(rr(e)!==e)throw Error(o(188))}function Lu(e){var n=e.alternate;if(!n){if(n=rr(e),n===null)throw Error(o(188));return n!==e?null:e}for(var a=e,d=n;;){var g=a.return;if(g===null)break;var v=g.alternate;if(v===null){if(d=g.return,d!==null){a=d;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===a)return zs(g),e;if(v===d)return zs(g),n;v=v.sibling}throw Error(o(188))}if(a.return!==d.return)a=g,d=v;else{for(var S=!1,A=g.child;A;){if(A===a){S=!0,a=g,d=v;break}if(A===d){S=!0,d=g,a=v;break}A=A.sibling}if(!S){for(A=v.child;A;){if(A===a){S=!0,a=v,d=g;break}if(A===d){S=!0,d=v,a=g;break}A=A.sibling}if(!S)throw Error(o(189))}}if(a.alternate!==d)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:n}function Ya(e){return e=Lu(e),e!==null?Qa(e):null}function Qa(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Qa(e);if(n!==null)return n;e=e.sibling}return null}var Xa=r.unstable_scheduleCallback,Ds=r.unstable_cancelCallback,Ru=r.unstable_shouldYield,ki=r.unstable_requestPaint,mt=r.unstable_now,ju=r.unstable_getCurrentPriorityLevel,Fs=r.unstable_ImmediatePriority,el=r.unstable_UserBlockingPriority,Ei=r.unstable_NormalPriority,Bs=r.unstable_LowPriority,Kr=r.unstable_IdlePriority,Do=null,vn=null;function Fo(e){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(Do,e,void 0,(e.current.flags&128)===128)}catch{}}var ze=Math.clz32?Math.clz32:Jr,ct=Math.log,Ci=Math.LN2;function Jr(e){return e>>>=0,e===0?32:31-(ct(e)/Ci|0)|0}var Gn=64,Yr=4194304;function Ie(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function st(e,n){var a=e.pendingLanes;if(a===0)return 0;var d=0,g=e.suspendedLanes,v=e.pingedLanes,S=a&268435455;if(S!==0){var A=S&~g;A!==0?d=Ie(A):(v&=S,v!==0&&(d=Ie(v)))}else S=a&~g,S!==0?d=Ie(S):v!==0&&(d=Ie(v));if(d===0)return 0;if(n!==0&&n!==d&&(n&g)===0&&(g=d&-d,v=n&-n,g>=v||g===16&&(v&4194240)!==0))return n;if((d&4)!==0&&(d|=a&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=d;0<n;)a=31-ze(n),g=1<<a,d|=e[a],n&=~g;return d}function Us(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pi(e,n){for(var a=e.suspendedLanes,d=e.pingedLanes,g=e.expirationTimes,v=e.pendingLanes;0<v;){var S=31-ze(v),A=1<<S,I=g[S];I===-1?((A&a)===0||(A&d)!==0)&&(g[S]=Us(A,n)):I<=n&&(e.expiredLanes|=A),v&=~A}}function Ht(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tl(){var e=Gn;return Gn<<=1,(Gn&4194240)===0&&(Gn=64),e}function Qr(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function yn(e,n,a){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-ze(n),e[n]=a}function xt(e,n){var a=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var d=e.eventTimes;for(e=e.expirationTimes;0<a;){var g=31-ze(a),v=1<<g;n[g]=0,d[g]=-1,e[g]=-1,a&=~v}}function Hn(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var d=31-ze(a),g=1<<d;g&n|e[d]&n&&(e[d]|=n),a&=~g}}var Ze=0;function Xr(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ti,Sr,Mi,Li,Bo,Uo=!1,eo=[],_n=null,Wn=null,Mn=null,$o=new Map,je=new Map,Rt=[],et="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $s(e,n){switch(e){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":Mn=null;break;case"pointerover":case"pointerout":$o.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":je.delete(n.pointerId)}}function kr(e,n,a,d,g,v){return e===null||e.nativeEvent!==v?(e={blockedOn:n,domEventName:a,eventSystemFlags:d,nativeEvent:v,targetContainers:[g]},n!==null&&(n=Ar(n),n!==null&&Sr(n)),e):(e.eventSystemFlags|=d,n=e.targetContainers,g!==null&&n.indexOf(g)===-1&&n.push(g),e)}function Gs(e,n,a,d,g){switch(n){case"focusin":return _n=kr(_n,e,n,a,d,g),!0;case"dragenter":return Wn=kr(Wn,e,n,a,d,g),!0;case"mouseover":return Mn=kr(Mn,e,n,a,d,g),!0;case"pointerover":var v=g.pointerId;return $o.set(v,kr($o.get(v)||null,e,n,a,d,g)),!0;case"gotpointercapture":return v=g.pointerId,je.set(v,kr(je.get(v)||null,e,n,a,d,g)),!0}return!1}function Ri(e){var n=jr(e.target);if(n!==null){var a=rr(n);if(a!==null){if(n=a.tag,n===13){if(n=br(a),n!==null){e.blockedOn=n,Bo(e.priority,function(){Mi(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ln(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Oi(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var d=new a.constructor(a.type,a);js=d,a.target.dispatchEvent(d),js=null}else return n=Ar(a),n!==null&&Sr(n),e.blockedOn=a,!1;n.shift()}return!0}function ji(e,n,a){Ln(e)&&a.delete(n)}function Go(){Uo=!1,_n!==null&&Ln(_n)&&(_n=null),Wn!==null&&Ln(Wn)&&(Wn=null),Mn!==null&&Ln(Mn)&&(Mn=null),$o.forEach(ji),je.forEach(ji)}function gt(e,n){e.blockedOn===n&&(e.blockedOn=null,Uo||(Uo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Go)))}function xn(e){function n(g){return gt(g,e)}if(0<eo.length){gt(eo[0],e);for(var a=1;a<eo.length;a++){var d=eo[a];d.blockedOn===e&&(d.blockedOn=null)}}for(_n!==null&&gt(_n,e),Wn!==null&&gt(Wn,e),Mn!==null&&gt(Mn,e),$o.forEach(n),je.forEach(n),a=0;a<Rt.length;a++)d=Rt[a],d.blockedOn===e&&(d.blockedOn=null);for(;0<Rt.length&&(a=Rt[0],a.blockedOn===null);)Ri(a),a.blockedOn===null&&Rt.shift()}var Er=X.ReactCurrentBatchConfig,Ho=!0;function Au(e,n,a,d){var g=Ze,v=Er.transition;Er.transition=null;try{Ze=1,Wo(e,n,a,d)}finally{Ze=g,Er.transition=v}}function nl(e,n,a,d){var g=Ze,v=Er.transition;Er.transition=null;try{Ze=4,Wo(e,n,a,d)}finally{Ze=g,Er.transition=v}}function Wo(e,n,a,d){if(Ho){var g=Oi(e,n,a,d);if(g===null)t(e,n,d,Ai,a),$s(e,d);else if(Gs(g,e,n,a,d))d.stopPropagation();else if($s(e,d),n&4&&-1<et.indexOf(e)){for(;g!==null;){var v=Ar(g);if(v!==null&&Ti(v),v=Oi(e,n,a,d),v===null&&t(e,n,d,Ai,a),v===g)break;g=v}g!==null&&d.stopPropagation()}else t(e,n,d,null,a)}}var Ai=null;function Oi(e,n,a,d){if(Ai=null,e=As(d),e=jr(e),e!==null)if(n=rr(e),n===null)e=null;else if(a=n.tag,a===13){if(e=br(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Ai=e,null}function Ge(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ju()){case Fs:return 1;case el:return 4;case Ei:case Bs:return 16;case Kr:return 536870912;default:return 16}default:return 16}}var or=null,Qt=null,ir=null;function Hs(){if(ir)return ir;var e,n=Qt,a=n.length,d,g="value"in or?or.value:or.textContent,v=g.length;for(e=0;e<a&&n[e]===g[e];e++);var S=a-e;for(d=1;d<=S&&n[a-d]===g[v-d];d++);return ir=g.slice(e,1<d?1-d:void 0)}function Ii(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function to(){return!0}function rl(){return!1}function Wt(e){function n(a,d,g,v,S){this._reactName=a,this._targetInst=g,this.type=d,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(a=e[A],this[A]=a?a(v):v[A]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?to:rl,this.isPropagationStopped=rl,this}return q(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=to)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=to)},persist:function(){},isPersistent:to}),n}var no={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ws=Wt(no),Cr=q({},no,{view:0,detail:0}),Ou=Wt(Cr),on,Vs,ro,wn=q({},Cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ro&&(ro&&e.type==="mousemove"?(on=e.screenX-ro.screenX,Vs=e.screenY-ro.screenY):Vs=on=0,ro=e),on)},movementY:function(e){return"movementY"in e?e.movementY:Vs}}),Zs=Wt(wn),ol=q({},wn,{dataTransfer:0}),qs=Wt(ol),Iu=q({},Cr,{relatedTarget:0}),Ni=Wt(Iu),il=q({},no,{animationName:0,elapsedTime:0,pseudoElement:0}),Nu=Wt(il),zu=q({},no,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ks=Wt(zu),Du=q({},no,{data:0}),Js=Wt(Du),sl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Pr[e])?!!n[e]:!1}function Tr(){return Fu}var sn=q({},Cr,{key:function(e){if(e.key){var n=sl[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ii(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zi[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tr,charCode:function(e){return e.type==="keypress"?Ii(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ii(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),al=Wt(sn),ll=q({},wn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ul=Wt(ll),Ys=q({},Cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tr}),Qs=Wt(Ys),Bu=q({},no,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uu=Wt(Bu),cl=q({},wn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$u=Wt(cl),bn=[9,13,27,32],sr=_&&"CompositionEvent"in window,Vo=null;_&&"documentMode"in document&&(Vo=document.documentMode);var Vn=_&&"TextEvent"in window&&!Vo,dl=_&&(!sr||Vo&&8<Vo&&11>=Vo),Mr=" ",hl=!1;function oo(e,n){switch(e){case"keyup":return bn.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xs(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zn=!1;function Gu(e,n){switch(e){case"compositionend":return Xs(n);case"keypress":return n.which!==32?null:(hl=!0,Mr);case"textInput":return e=n.data,e===Mr&&hl?null:e;default:return null}}function ar(e,n){if(Zn)return e==="compositionend"||!sr&&oo(e,n)?(e=Hs(),ir=Qt=or=null,Zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return dl&&n.locale!=="ko"?null:n.data;default:return null}}var Di={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Di[e.type]:n==="textarea"}function Fi(e,n,a,d){Wa(d),n=c(n,"onChange"),0<n.length&&(a=new Ws("onChange","change",null,a,d),e.push({event:a,listeners:n}))}var Zo=null,Xt=null;function Hu(e){la(e,0)}function qn(e){var n=Or(e);if(rt(n))return e}function Wu(e,n){if(e==="change")return n}var Rn=!1;if(_){var io;if(_){var Bi="oninput"in document;if(!Bi){var Ui=document.createElement("div");Ui.setAttribute("oninput","return;"),Bi=typeof Ui.oninput=="function"}io=Bi}else io=!1;Rn=io&&(!document.documentMode||9<document.documentMode)}function qo(){Zo&&(Zo.detachEvent("onpropertychange",$i),Xt=Zo=null)}function $i(e){if(e.propertyName==="value"&&qn(Xt)){var n=[];Fi(n,Xt,e,As(e)),bi(Hu,n)}}function Gi(e,n,a){e==="focusin"?(qo(),Zo=n,Xt=a,Zo.attachEvent("onpropertychange",$i)):e==="focusout"&&qo()}function so(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qn(Xt)}function Hi(e,n){if(e==="click")return qn(n)}function ea(e,n){if(e==="input"||e==="change")return qn(n)}function pl(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Sn=typeof Object.is=="function"?Object.is:pl;function lr(e,n){if(Sn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),d=Object.keys(n);if(a.length!==d.length)return!1;for(d=0;d<a.length;d++){var g=a[d];if(!y.call(n,g)||!Sn(e[g],n[g]))return!1}return!0}function ml(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ta(e,n){var a=ml(e);e=0;for(var d;a;){if(a.nodeType===3){if(d=e+a.textContent.length,e<=n&&d>=n)return{node:a,offset:n-e};e=d}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ml(a)}}function gl(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?gl(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function na(){for(var e=window,n=ot();n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=ot(e.document)}return n}function ra(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function jn(e){var n=na(),a=e.focusedElem,d=e.selectionRange;if(n!==a&&a&&a.ownerDocument&&gl(a.ownerDocument.documentElement,a)){if(d!==null&&ra(a)){if(n=d.start,e=d.end,e===void 0&&(e=n),"selectionStart"in a)a.selectionStart=n,a.selectionEnd=Math.min(e,a.value.length);else if(e=(n=a.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var g=a.textContent.length,v=Math.min(d.start,g);d=d.end===void 0?v:Math.min(d.end,g),!e.extend&&v>d&&(g=d,d=v,v=g),g=ta(a,v);var S=ta(a,d);g&&S&&(e.rangeCount!==1||e.anchorNode!==g.node||e.anchorOffset!==g.offset||e.focusNode!==S.node||e.focusOffset!==S.offset)&&(n=n.createRange(),n.setStart(g.node,g.offset),e.removeAllRanges(),v>d?(e.addRange(n),e.extend(S.node,S.offset)):(n.setEnd(S.node,S.offset),e.addRange(n)))}}for(n=[],e=a;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<n.length;a++)e=n[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Wi=_&&"documentMode"in document&&11>=document.documentMode,ao=null,lo=null,Ko=null,Vi=!1;function vl(e,n,a){var d=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Vi||ao==null||ao!==ot(d)||(d=ao,"selectionStart"in d&&ra(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ko&&lr(Ko,d)||(Ko=d,d=c(lo,"onSelect"),0<d.length&&(n=new Ws("onSelect","select",null,n,a),e.push({event:n,listeners:d}),n.target=ao)))}function ur(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var uo={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionend:ur("Transition","TransitionEnd")},cr={},oa={};_&&(oa=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function Jo(e){if(cr[e])return cr[e];if(!uo[e])return e;var n=uo[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in oa)return cr[e]=n[a];return e}var yl=Jo("animationend"),An=Jo("animationiteration"),ia=Jo("animationstart"),sa=Jo("transitionend"),co=new Map,_l="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kn(e,n){co.set(e,n),h(n,[e])}for(var Lr=0;Lr<_l.length;Lr++){var Zi=_l[Lr],xl=Zi.toLowerCase(),Vu=Zi[0].toUpperCase()+Zi.slice(1);kn(xl,"on"+Vu)}kn(yl,"onAnimationEnd"),kn(An,"onAnimationIteration"),kn(ia,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(sa,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),h("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),h("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),h("onBeforeInput",["compositionend","keypress","textInput","paste"]),h("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wl=new Set("cancel close invalid load scroll toggle".split(" ").concat(ho));function aa(e,n,a){var d=e.type||"unknown-event";e.currentTarget=a,Ns(d,n,void 0,e),e.currentTarget=null}function la(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var d=e[a],g=d.event;d=d.listeners;e:{var v=void 0;if(n)for(var S=d.length-1;0<=S;S--){var A=d[S],I=A.instance,W=A.currentTarget;if(A=A.listener,I!==v&&g.isPropagationStopped())break e;aa(g,A,W),v=I}else for(S=0;S<d.length;S++){if(A=d[S],I=A.instance,W=A.currentTarget,A=A.listener,I!==v&&g.isPropagationStopped())break e;aa(g,A,W),v=I}}}if(zo)throw e=Si,zo=!1,Si=null,e}function tt(e,n){var a=n[go];a===void 0&&(a=n[go]=new Set);var d=e+"__bubble";a.has(d)||(bl(n,e,2,!1),a.add(d))}function ua(e,n,a){var d=0;n&&(d|=4),bl(a,e,d,n)}var Yo="_reactListening"+Math.random().toString(36).slice(2);function fo(e){if(!e[Yo]){e[Yo]=!0,l.forEach(function(a){a!=="selectionchange"&&(wl.has(a)||ua(a,!1,e),ua(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Yo]||(n[Yo]=!0,ua("selectionchange",!1,n))}}function bl(e,n,a,d){switch(Ge(n)){case 1:var g=Au;break;case 4:g=nl;break;default:g=Wo}a=g.bind(null,n,a,e),g=void 0,!Is||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(g=!0),d?g!==void 0?e.addEventListener(n,a,{capture:!0,passive:g}):e.addEventListener(n,a,!0):g!==void 0?e.addEventListener(n,a,{passive:g}):e.addEventListener(n,a,!1)}function t(e,n,a,d,g){var v=d;if((n&1)===0&&(n&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var A=d.stateNode.containerInfo;if(A===g||A.nodeType===8&&A.parentNode===g)break;if(S===4)for(S=d.return;S!==null;){var I=S.tag;if((I===3||I===4)&&(I=S.stateNode.containerInfo,I===g||I.nodeType===8&&I.parentNode===g))return;S=S.return}for(;A!==null;){if(S=jr(A),S===null)return;if(I=S.tag,I===5||I===6){d=v=S;continue e}A=A.parentNode}}d=d.return}bi(function(){var W=v,te=As(a),re=[];e:{var ee=co.get(e);if(ee!==void 0){var ge=Ws,_e=e;switch(e){case"keypress":if(Ii(a)===0)break e;case"keydown":case"keyup":ge=al;break;case"focusin":_e="focus",ge=Ni;break;case"focusout":_e="blur",ge=Ni;break;case"beforeblur":case"afterblur":ge=Ni;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Zs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=qs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=Qs;break;case yl:case An:case ia:ge=Nu;break;case sa:ge=Uu;break;case"scroll":ge=Ou;break;case"wheel":ge=$u;break;case"copy":case"cut":case"paste":ge=Ks;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=ul}var we=(n&4)!==0,Et=!we&&e==="scroll",F=we?ee!==null?ee+"Capture":null:ee;we=[];for(var N=W,$;N!==null;){$=N;var ie=$.stateNode;if($.tag===5&&ie!==null&&($=ie,F!==null&&(ie=Io(N,F),ie!=null&&we.push(i(N,ie,$)))),Et)break;N=N.return}0<we.length&&(ee=new ge(ee,_e,null,a,te),re.push({event:ee,listeners:we}))}}if((n&7)===0){e:{if(ee=e==="mouseover"||e==="pointerover",ge=e==="mouseout"||e==="pointerout",ee&&a!==js&&(_e=a.relatedTarget||a.fromElement)&&(jr(_e)||_e[Je]))break e;if((ge||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,ge?(_e=a.relatedTarget||a.toElement,ge=W,_e=_e?jr(_e):null,_e!==null&&(Et=rr(_e),_e!==Et||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(ge=null,_e=W),ge!==_e)){if(we=Zs,ie="onMouseLeave",F="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(we=ul,ie="onPointerLeave",F="onPointerEnter",N="pointer"),Et=ge==null?ee:Or(ge),$=_e==null?ee:Or(_e),ee=new we(ie,N+"leave",ge,a,te),ee.target=Et,ee.relatedTarget=$,ie=null,jr(te)===W&&(we=new we(F,N+"enter",_e,a,te),we.target=$,we.relatedTarget=Et,ie=we),Et=ie,ge&&_e)t:{for(we=ge,F=_e,N=0,$=we;$;$=m($))N++;for($=0,ie=F;ie;ie=m(ie))$++;for(;0<N-$;)we=m(we),N--;for(;0<$-N;)F=m(F),$--;for(;N--;){if(we===F||F!==null&&we===F.alternate)break t;we=m(we),F=m(F)}we=null}else we=null;ge!==null&&x(re,ee,ge,we,!1),_e!==null&&Et!==null&&x(re,Et,_e,we,!0)}}e:{if(ee=W?Or(W):window,ge=ee.nodeName&&ee.nodeName.toLowerCase(),ge==="select"||ge==="input"&&ee.type==="file")var ke=Wu;else if(fl(ee))if(Rn)ke=ea;else{ke=so;var Te=Gi}else(ge=ee.nodeName)&&ge.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ke=Hi);if(ke&&(ke=ke(e,W))){Fi(re,ke,a,te);break e}Te&&Te(e,ee,W),e==="focusout"&&(Te=ee._wrapperState)&&Te.controlled&&ee.type==="number"&&$n(ee,"number",ee.value)}switch(Te=W?Or(W):window,e){case"focusin":(fl(Te)||Te.contentEditable==="true")&&(ao=Te,lo=W,Ko=null);break;case"focusout":Ko=lo=ao=null;break;case"mousedown":Vi=!0;break;case"contextmenu":case"mouseup":case"dragend":Vi=!1,vl(re,a,te);break;case"selectionchange":if(Wi)break;case"keydown":case"keyup":vl(re,a,te)}var Me;if(sr)e:{switch(e){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Zn?oo(e,a)&&(Oe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(dl&&a.locale!=="ko"&&(Zn||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Zn&&(Me=Hs()):(or=te,Qt="value"in or?or.value:or.textContent,Zn=!0)),Te=c(W,Oe),0<Te.length&&(Oe=new Js(Oe,e,null,a,te),re.push({event:Oe,listeners:Te}),Me?Oe.data=Me:(Me=Xs(a),Me!==null&&(Oe.data=Me)))),(Me=Vn?Gu(e,a):ar(e,a))&&(W=c(W,"onBeforeInput"),0<W.length&&(te=new Js("onBeforeInput","beforeinput",null,a,te),re.push({event:te,listeners:W}),te.data=Me))}la(re,n)})}function i(e,n,a){return{instance:e,listener:n,currentTarget:a}}function c(e,n){for(var a=n+"Capture",d=[];e!==null;){var g=e,v=g.stateNode;g.tag===5&&v!==null&&(g=v,v=Io(e,a),v!=null&&d.unshift(i(e,v,g)),v=Io(e,n),v!=null&&d.push(i(e,v,g))),e=e.return}return d}function m(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function x(e,n,a,d,g){for(var v=n._reactName,S=[];a!==null&&a!==d;){var A=a,I=A.alternate,W=A.stateNode;if(I!==null&&I===d)break;A.tag===5&&W!==null&&(A=W,g?(I=Io(a,v),I!=null&&S.unshift(i(a,I,A))):g||(I=Io(a,v),I!=null&&S.push(i(a,I,A)))),a=a.return}S.length!==0&&e.push({event:n,listeners:S})}var E=/\r\n?/g,O=/\u0000|\uFFFD/g;function D(e){return(typeof e=="string"?e:""+e).replace(E,`
`).replace(O,"")}function H(e,n,a){if(n=D(n),D(e)!==n&&a)throw Error(o(425))}function Q(){}var pe=null,Pe=null;function De(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var jt=typeof setTimeout=="function"?setTimeout:void 0,Tt=typeof clearTimeout=="function"?clearTimeout:void 0,en=typeof Promise=="function"?Promise:void 0,Vt=typeof queueMicrotask=="function"?queueMicrotask:typeof en<"u"?function(e){return en.resolve(null).then(e).catch(po)}:jt;function po(e){setTimeout(function(){throw e})}function ca(e,n){var a=n,d=0;do{var g=a.nextSibling;if(e.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"){if(d===0){e.removeChild(g),xn(n);return}d--}else a!=="$"&&a!=="$?"&&a!=="$!"||d++;a=g}while(a);xn(n)}function dr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Sl(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}var Rr=Math.random().toString(36).slice(2),On="__reactFiber$"+Rr,mo="__reactProps$"+Rr,Je="__reactContainer$"+Rr,go="__reactEvents$"+Rr,Zu="__reactListeners$"+Rr,qu="__reactHandles$"+Rr;function jr(e){var n=e[On];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Je]||a[On]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Sl(e);e!==null;){if(a=e[On])return a;e=Sl(e)}return n}e=a,a=e.parentNode}return null}function Ar(e){return e=e[On]||e[Je],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Or(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function qi(e){return e[mo]||null}var Ku=[],Ki=-1;function vo(e){return{current:e}}function dt(e){0>Ki||(e.current=Ku[Ki],Ku[Ki]=null,Ki--)}function at(e,n){Ki++,Ku[Ki]=e.current,e.current=n}var yo={},Zt=vo(yo),an=vo(!1),Qo=yo;function Ji(e,n){var a=e.type.contextTypes;if(!a)return yo;var d=e.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===n)return d.__reactInternalMemoizedMaskedChildContext;var g={},v;for(v in a)g[v]=n[v];return d&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=g),g}function ln(e){return e=e.childContextTypes,e!=null}function kl(){dt(an),dt(Zt)}function qd(e,n,a){if(Zt.current!==yo)throw Error(o(168));at(Zt,n),at(an,a)}function Kd(e,n,a){var d=e.stateNode;if(n=n.childContextTypes,typeof d.getChildContext!="function")return a;d=d.getChildContext();for(var g in d)if(!(g in n))throw Error(o(108,Le(e)||"Unknown",g));return q({},a,d)}function El(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yo,Qo=Zt.current,at(Zt,e),at(an,an.current),!0}function Jd(e,n,a){var d=e.stateNode;if(!d)throw Error(o(169));a?(e=Kd(e,n,Qo),d.__reactInternalMemoizedMergedChildContext=e,dt(an),dt(Zt),at(Zt,e)):dt(an),at(an,a)}var Ir=null,Cl=!1,Ju=!1;function Yd(e){Ir===null?Ir=[e]:Ir.push(e)}function Rm(e){Cl=!0,Yd(e)}function _o(){if(!Ju&&Ir!==null){Ju=!0;var e=0,n=Ze;try{var a=Ir;for(Ze=1;e<a.length;e++){var d=a[e];do d=d(!0);while(d!==null)}Ir=null,Cl=!1}catch(g){throw Ir!==null&&(Ir=Ir.slice(e+1)),Xa(Fs,_o),g}finally{Ze=n,Ju=!1}}return null}var Yi=[],Qi=0,Pl=null,Tl=0,In=[],Nn=0,Xo=null,Nr=1,zr="";function ei(e,n){Yi[Qi++]=Tl,Yi[Qi++]=Pl,Pl=e,Tl=n}function Qd(e,n,a){In[Nn++]=Nr,In[Nn++]=zr,In[Nn++]=Xo,Xo=e;var d=Nr;e=zr;var g=32-ze(d)-1;d&=~(1<<g),a+=1;var v=32-ze(n)+g;if(30<v){var S=g-g%5;v=(d&(1<<S)-1).toString(32),d>>=S,g-=S,Nr=1<<32-ze(n)+g|a<<g|d,zr=v+e}else Nr=1<<v|a<<g|d,zr=e}function Yu(e){e.return!==null&&(ei(e,1),Qd(e,1,0))}function Qu(e){for(;e===Pl;)Pl=Yi[--Qi],Yi[Qi]=null,Tl=Yi[--Qi],Yi[Qi]=null;for(;e===Xo;)Xo=In[--Nn],In[Nn]=null,zr=In[--Nn],In[Nn]=null,Nr=In[--Nn],In[Nn]=null}var En=null,Cn=null,ft=!1,Kn=null;function Xd(e,n){var a=Bn(5,null,null,0);a.elementType="DELETED",a.stateNode=n,a.return=e,n=e.deletions,n===null?(e.deletions=[a],e.flags|=16):n.push(a)}function eh(e,n){switch(e.tag){case 5:var a=e.type;return n=n.nodeType!==1||a.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,En=e,Cn=dr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,En=e,Cn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(a=Xo!==null?{id:Nr,overflow:zr}:null,e.memoizedState={dehydrated:n,treeContext:a,retryLane:1073741824},a=Bn(18,null,null,0),a.stateNode=n,a.return=e,e.child=a,En=e,Cn=null,!0):!1;default:return!1}}function Xu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ec(e){if(ft){var n=Cn;if(n){var a=n;if(!eh(e,n)){if(Xu(e))throw Error(o(418));n=dr(a.nextSibling);var d=En;n&&eh(e,n)?Xd(d,a):(e.flags=e.flags&-4097|2,ft=!1,En=e)}}else{if(Xu(e))throw Error(o(418));e.flags=e.flags&-4097|2,ft=!1,En=e}}}function th(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;En=e}function Ml(e){if(e!==En)return!1;if(!ft)return th(e),ft=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!De(e.type,e.memoizedProps)),n&&(n=Cn)){if(Xu(e))throw nh(),Error(o(418));for(;n;)Xd(e,n),n=dr(n.nextSibling)}if(th(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(n===0){Cn=dr(e.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++}e=e.nextSibling}Cn=null}}else Cn=En?dr(e.stateNode.nextSibling):null;return!0}function nh(){for(var e=Cn;e;)e=dr(e.nextSibling)}function Xi(){Cn=En=null,ft=!1}function tc(e){Kn===null?Kn=[e]:Kn.push(e)}var jm=X.ReactCurrentBatchConfig;function da(e,n,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(o(309));var d=a.stateNode}if(!d)throw Error(o(147,e));var g=d,v=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===v?n.ref:(n=function(S){var A=g.refs;S===null?delete A[v]:A[v]=S},n._stringRef=v,n)}if(typeof e!="string")throw Error(o(284));if(!a._owner)throw Error(o(290,e))}return e}function Ll(e,n){throw e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function rh(e){var n=e._init;return n(e._payload)}function oh(e){function n(F,N){if(e){var $=F.deletions;$===null?(F.deletions=[N],F.flags|=16):$.push(N)}}function a(F,N){if(!e)return null;for(;N!==null;)n(F,N),N=N.sibling;return null}function d(F,N){for(F=new Map;N!==null;)N.key!==null?F.set(N.key,N):F.set(N.index,N),N=N.sibling;return F}function g(F,N){return F=Po(F,N),F.index=0,F.sibling=null,F}function v(F,N,$){return F.index=$,e?($=F.alternate,$!==null?($=$.index,$<N?(F.flags|=2,N):$):(F.flags|=2,N)):(F.flags|=1048576,N)}function S(F){return e&&F.alternate===null&&(F.flags|=2),F}function A(F,N,$,ie){return N===null||N.tag!==6?(N=Vc($,F.mode,ie),N.return=F,N):(N=g(N,$),N.return=F,N)}function I(F,N,$,ie){var ke=$.type;return ke===me?te(F,N,$.props.children,ie,$.key):N!==null&&(N.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===fe&&rh(ke)===N.type)?(ie=g(N,$.props),ie.ref=da(F,N,$),ie.return=F,ie):(ie=eu($.type,$.key,$.props,null,F.mode,ie),ie.ref=da(F,N,$),ie.return=F,ie)}function W(F,N,$,ie){return N===null||N.tag!==4||N.stateNode.containerInfo!==$.containerInfo||N.stateNode.implementation!==$.implementation?(N=Zc($,F.mode,ie),N.return=F,N):(N=g(N,$.children||[]),N.return=F,N)}function te(F,N,$,ie,ke){return N===null||N.tag!==7?(N=li($,F.mode,ie,ke),N.return=F,N):(N=g(N,$),N.return=F,N)}function re(F,N,$){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Vc(""+N,F.mode,$),N.return=F,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case oe:return $=eu(N.type,N.key,N.props,null,F.mode,$),$.ref=da(F,null,N),$.return=F,$;case se:return N=Zc(N,F.mode,$),N.return=F,N;case fe:var ie=N._init;return re(F,ie(N._payload),$)}if(mn(N)||le(N))return N=li(N,F.mode,$,null),N.return=F,N;Ll(F,N)}return null}function ee(F,N,$,ie){var ke=N!==null?N.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return ke!==null?null:A(F,N,""+$,ie);if(typeof $=="object"&&$!==null){switch($.$$typeof){case oe:return $.key===ke?I(F,N,$,ie):null;case se:return $.key===ke?W(F,N,$,ie):null;case fe:return ke=$._init,ee(F,N,ke($._payload),ie)}if(mn($)||le($))return ke!==null?null:te(F,N,$,ie,null);Ll(F,$)}return null}function ge(F,N,$,ie,ke){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return F=F.get($)||null,A(N,F,""+ie,ke);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case oe:return F=F.get(ie.key===null?$:ie.key)||null,I(N,F,ie,ke);case se:return F=F.get(ie.key===null?$:ie.key)||null,W(N,F,ie,ke);case fe:var Te=ie._init;return ge(F,N,$,Te(ie._payload),ke)}if(mn(ie)||le(ie))return F=F.get($)||null,te(N,F,ie,ke,null);Ll(N,ie)}return null}function _e(F,N,$,ie){for(var ke=null,Te=null,Me=N,Oe=N=0,Dt=null;Me!==null&&Oe<$.length;Oe++){Me.index>Oe?(Dt=Me,Me=null):Dt=Me.sibling;var Ke=ee(F,Me,$[Oe],ie);if(Ke===null){Me===null&&(Me=Dt);break}e&&Me&&Ke.alternate===null&&n(F,Me),N=v(Ke,N,Oe),Te===null?ke=Ke:Te.sibling=Ke,Te=Ke,Me=Dt}if(Oe===$.length)return a(F,Me),ft&&ei(F,Oe),ke;if(Me===null){for(;Oe<$.length;Oe++)Me=re(F,$[Oe],ie),Me!==null&&(N=v(Me,N,Oe),Te===null?ke=Me:Te.sibling=Me,Te=Me);return ft&&ei(F,Oe),ke}for(Me=d(F,Me);Oe<$.length;Oe++)Dt=ge(Me,F,Oe,$[Oe],ie),Dt!==null&&(e&&Dt.alternate!==null&&Me.delete(Dt.key===null?Oe:Dt.key),N=v(Dt,N,Oe),Te===null?ke=Dt:Te.sibling=Dt,Te=Dt);return e&&Me.forEach(function(To){return n(F,To)}),ft&&ei(F,Oe),ke}function we(F,N,$,ie){var ke=le($);if(typeof ke!="function")throw Error(o(150));if($=ke.call($),$==null)throw Error(o(151));for(var Te=ke=null,Me=N,Oe=N=0,Dt=null,Ke=$.next();Me!==null&&!Ke.done;Oe++,Ke=$.next()){Me.index>Oe?(Dt=Me,Me=null):Dt=Me.sibling;var To=ee(F,Me,Ke.value,ie);if(To===null){Me===null&&(Me=Dt);break}e&&Me&&To.alternate===null&&n(F,Me),N=v(To,N,Oe),Te===null?ke=To:Te.sibling=To,Te=To,Me=Dt}if(Ke.done)return a(F,Me),ft&&ei(F,Oe),ke;if(Me===null){for(;!Ke.done;Oe++,Ke=$.next())Ke=re(F,Ke.value,ie),Ke!==null&&(N=v(Ke,N,Oe),Te===null?ke=Ke:Te.sibling=Ke,Te=Ke);return ft&&ei(F,Oe),ke}for(Me=d(F,Me);!Ke.done;Oe++,Ke=$.next())Ke=ge(Me,F,Oe,Ke.value,ie),Ke!==null&&(e&&Ke.alternate!==null&&Me.delete(Ke.key===null?Oe:Ke.key),N=v(Ke,N,Oe),Te===null?ke=Ke:Te.sibling=Ke,Te=Ke);return e&&Me.forEach(function(dg){return n(F,dg)}),ft&&ei(F,Oe),ke}function Et(F,N,$,ie){if(typeof $=="object"&&$!==null&&$.type===me&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case oe:e:{for(var ke=$.key,Te=N;Te!==null;){if(Te.key===ke){if(ke=$.type,ke===me){if(Te.tag===7){a(F,Te.sibling),N=g(Te,$.props.children),N.return=F,F=N;break e}}else if(Te.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===fe&&rh(ke)===Te.type){a(F,Te.sibling),N=g(Te,$.props),N.ref=da(F,Te,$),N.return=F,F=N;break e}a(F,Te);break}else n(F,Te);Te=Te.sibling}$.type===me?(N=li($.props.children,F.mode,ie,$.key),N.return=F,F=N):(ie=eu($.type,$.key,$.props,null,F.mode,ie),ie.ref=da(F,N,$),ie.return=F,F=ie)}return S(F);case se:e:{for(Te=$.key;N!==null;){if(N.key===Te)if(N.tag===4&&N.stateNode.containerInfo===$.containerInfo&&N.stateNode.implementation===$.implementation){a(F,N.sibling),N=g(N,$.children||[]),N.return=F,F=N;break e}else{a(F,N);break}else n(F,N);N=N.sibling}N=Zc($,F.mode,ie),N.return=F,F=N}return S(F);case fe:return Te=$._init,Et(F,N,Te($._payload),ie)}if(mn($))return _e(F,N,$,ie);if(le($))return we(F,N,$,ie);Ll(F,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,N!==null&&N.tag===6?(a(F,N.sibling),N=g(N,$),N.return=F,F=N):(a(F,N),N=Vc($,F.mode,ie),N.return=F,F=N),S(F)):a(F,N)}return Et}var es=oh(!0),ih=oh(!1),Rl=vo(null),jl=null,ts=null,nc=null;function rc(){nc=ts=jl=null}function oc(e){var n=Rl.current;dt(Rl),e._currentValue=n}function ic(e,n,a){for(;e!==null;){var d=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,d!==null&&(d.childLanes|=n)):d!==null&&(d.childLanes&n)!==n&&(d.childLanes|=n),e===a)break;e=e.return}}function ns(e,n){jl=e,nc=ts=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(un=!0),e.firstContext=null)}function zn(e){var n=e._currentValue;if(nc!==e)if(e={context:e,memoizedValue:n,next:null},ts===null){if(jl===null)throw Error(o(308));ts=e,jl.dependencies={lanes:0,firstContext:e}}else ts=ts.next=e;return n}var ti=null;function sc(e){ti===null?ti=[e]:ti.push(e)}function sh(e,n,a,d){var g=n.interleaved;return g===null?(a.next=a,sc(n)):(a.next=g.next,g.next=a),n.interleaved=a,Dr(e,d)}function Dr(e,n){e.lanes|=n;var a=e.alternate;for(a!==null&&(a.lanes|=n),a=e,e=e.return;e!==null;)e.childLanes|=n,a=e.alternate,a!==null&&(a.childLanes|=n),a=e,e=e.return;return a.tag===3?a.stateNode:null}var xo=!1;function ac(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ah(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fr(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function wo(e,n,a){var d=e.updateQueue;if(d===null)return null;if(d=d.shared,(qe&2)!==0){var g=d.pending;return g===null?n.next=n:(n.next=g.next,g.next=n),d.pending=n,Dr(e,a)}return g=d.interleaved,g===null?(n.next=n,sc(d)):(n.next=g.next,g.next=n),d.interleaved=n,Dr(e,a)}function Al(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194240)!==0)){var d=n.lanes;d&=e.pendingLanes,a|=d,n.lanes=a,Hn(e,a)}}function lh(e,n){var a=e.updateQueue,d=e.alternate;if(d!==null&&(d=d.updateQueue,a===d)){var g=null,v=null;if(a=a.firstBaseUpdate,a!==null){do{var S={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};v===null?g=v=S:v=v.next=S,a=a.next}while(a!==null);v===null?g=v=n:v=v.next=n}else g=v=n;a={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:d.shared,effects:d.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}function Ol(e,n,a,d){var g=e.updateQueue;xo=!1;var v=g.firstBaseUpdate,S=g.lastBaseUpdate,A=g.shared.pending;if(A!==null){g.shared.pending=null;var I=A,W=I.next;I.next=null,S===null?v=W:S.next=W,S=I;var te=e.alternate;te!==null&&(te=te.updateQueue,A=te.lastBaseUpdate,A!==S&&(A===null?te.firstBaseUpdate=W:A.next=W,te.lastBaseUpdate=I))}if(v!==null){var re=g.baseState;S=0,te=W=I=null,A=v;do{var ee=A.lane,ge=A.eventTime;if((d&ee)===ee){te!==null&&(te=te.next={eventTime:ge,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var _e=e,we=A;switch(ee=n,ge=a,we.tag){case 1:if(_e=we.payload,typeof _e=="function"){re=_e.call(ge,re,ee);break e}re=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=we.payload,ee=typeof _e=="function"?_e.call(ge,re,ee):_e,ee==null)break e;re=q({},re,ee);break e;case 2:xo=!0}}A.callback!==null&&A.lane!==0&&(e.flags|=64,ee=g.effects,ee===null?g.effects=[A]:ee.push(A))}else ge={eventTime:ge,lane:ee,tag:A.tag,payload:A.payload,callback:A.callback,next:null},te===null?(W=te=ge,I=re):te=te.next=ge,S|=ee;if(A=A.next,A===null){if(A=g.shared.pending,A===null)break;ee=A,A=ee.next,ee.next=null,g.lastBaseUpdate=ee,g.shared.pending=null}}while(!0);if(te===null&&(I=re),g.baseState=I,g.firstBaseUpdate=W,g.lastBaseUpdate=te,n=g.shared.interleaved,n!==null){g=n;do S|=g.lane,g=g.next;while(g!==n)}else v===null&&(g.shared.lanes=0);oi|=S,e.lanes=S,e.memoizedState=re}}function uh(e,n,a){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var d=e[n],g=d.callback;if(g!==null){if(d.callback=null,d=a,typeof g!="function")throw Error(o(191,g));g.call(d)}}}var ha={},hr=vo(ha),fa=vo(ha),pa=vo(ha);function ni(e){if(e===ha)throw Error(o(174));return e}function lc(e,n){switch(at(pa,n),at(fa,e),at(hr,ha),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Ve(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Ve(n,e)}dt(hr),at(hr,n)}function rs(){dt(hr),dt(fa),dt(pa)}function ch(e){ni(pa.current);var n=ni(hr.current),a=Ve(n,e.type);n!==a&&(at(fa,e),at(hr,a))}function uc(e){fa.current===e&&(dt(hr),dt(fa))}var vt=vo(0);function Il(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var cc=[];function dc(){for(var e=0;e<cc.length;e++)cc[e]._workInProgressVersionPrimary=null;cc.length=0}var Nl=X.ReactCurrentDispatcher,hc=X.ReactCurrentBatchConfig,ri=0,yt=null,At=null,Nt=null,zl=!1,ma=!1,ga=0,Am=0;function qt(){throw Error(o(321))}function fc(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Sn(e[a],n[a]))return!1;return!0}function pc(e,n,a,d,g,v){if(ri=v,yt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Nl.current=e===null||e.memoizedState===null?zm:Dm,e=a(d,g),ma){v=0;do{if(ma=!1,ga=0,25<=v)throw Error(o(301));v+=1,Nt=At=null,n.updateQueue=null,Nl.current=Fm,e=a(d,g)}while(ma)}if(Nl.current=Bl,n=At!==null&&At.next!==null,ri=0,Nt=At=yt=null,zl=!1,n)throw Error(o(300));return e}function mc(){var e=ga!==0;return ga=0,e}function fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?yt.memoizedState=Nt=e:Nt=Nt.next=e,Nt}function Dn(){if(At===null){var e=yt.alternate;e=e!==null?e.memoizedState:null}else e=At.next;var n=Nt===null?yt.memoizedState:Nt.next;if(n!==null)Nt=n,At=e;else{if(e===null)throw Error(o(310));At=e,e={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Nt===null?yt.memoizedState=Nt=e:Nt=Nt.next=e}return Nt}function va(e,n){return typeof n=="function"?n(e):n}function gc(e){var n=Dn(),a=n.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var d=At,g=d.baseQueue,v=a.pending;if(v!==null){if(g!==null){var S=g.next;g.next=v.next,v.next=S}d.baseQueue=g=v,a.pending=null}if(g!==null){v=g.next,d=d.baseState;var A=S=null,I=null,W=v;do{var te=W.lane;if((ri&te)===te)I!==null&&(I=I.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),d=W.hasEagerState?W.eagerState:e(d,W.action);else{var re={lane:te,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};I===null?(A=I=re,S=d):I=I.next=re,yt.lanes|=te,oi|=te}W=W.next}while(W!==null&&W!==v);I===null?S=d:I.next=A,Sn(d,n.memoizedState)||(un=!0),n.memoizedState=d,n.baseState=S,n.baseQueue=I,a.lastRenderedState=d}if(e=a.interleaved,e!==null){g=e;do v=g.lane,yt.lanes|=v,oi|=v,g=g.next;while(g!==e)}else g===null&&(a.lanes=0);return[n.memoizedState,a.dispatch]}function vc(e){var n=Dn(),a=n.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var d=a.dispatch,g=a.pending,v=n.memoizedState;if(g!==null){a.pending=null;var S=g=g.next;do v=e(v,S.action),S=S.next;while(S!==g);Sn(v,n.memoizedState)||(un=!0),n.memoizedState=v,n.baseQueue===null&&(n.baseState=v),a.lastRenderedState=v}return[v,d]}function dh(){}function hh(e,n){var a=yt,d=Dn(),g=n(),v=!Sn(d.memoizedState,g);if(v&&(d.memoizedState=g,un=!0),d=d.queue,yc(mh.bind(null,a,d,e),[e]),d.getSnapshot!==n||v||Nt!==null&&Nt.memoizedState.tag&1){if(a.flags|=2048,ya(9,ph.bind(null,a,d,g,n),void 0,null),zt===null)throw Error(o(349));(ri&30)!==0||fh(a,n,g)}return g}function fh(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=yt.updateQueue,n===null?(n={lastEffect:null,stores:null},yt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function ph(e,n,a,d){n.value=a,n.getSnapshot=d,gh(n)&&vh(e)}function mh(e,n,a){return a(function(){gh(n)&&vh(e)})}function gh(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Sn(e,a)}catch{return!0}}function vh(e){var n=Dr(e,1);n!==null&&Xn(n,e,1,-1)}function yh(e){var n=fr();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:e},n.queue=e,e=e.dispatch=Nm.bind(null,yt,e),[n.memoizedState,e]}function ya(e,n,a,d){return e={tag:e,create:n,destroy:a,deps:d,next:null},n=yt.updateQueue,n===null?(n={lastEffect:null,stores:null},yt.updateQueue=n,n.lastEffect=e.next=e):(a=n.lastEffect,a===null?n.lastEffect=e.next=e:(d=a.next,a.next=e,e.next=d,n.lastEffect=e)),e}function _h(){return Dn().memoizedState}function Dl(e,n,a,d){var g=fr();yt.flags|=e,g.memoizedState=ya(1|n,a,void 0,d===void 0?null:d)}function Fl(e,n,a,d){var g=Dn();d=d===void 0?null:d;var v=void 0;if(At!==null){var S=At.memoizedState;if(v=S.destroy,d!==null&&fc(d,S.deps)){g.memoizedState=ya(n,a,v,d);return}}yt.flags|=e,g.memoizedState=ya(1|n,a,v,d)}function xh(e,n){return Dl(8390656,8,e,n)}function yc(e,n){return Fl(2048,8,e,n)}function wh(e,n){return Fl(4,2,e,n)}function bh(e,n){return Fl(4,4,e,n)}function Sh(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function kh(e,n,a){return a=a!=null?a.concat([e]):null,Fl(4,4,Sh.bind(null,n,e),a)}function _c(){}function Eh(e,n){var a=Dn();n=n===void 0?null:n;var d=a.memoizedState;return d!==null&&n!==null&&fc(n,d[1])?d[0]:(a.memoizedState=[e,n],e)}function Ch(e,n){var a=Dn();n=n===void 0?null:n;var d=a.memoizedState;return d!==null&&n!==null&&fc(n,d[1])?d[0]:(e=e(),a.memoizedState=[e,n],e)}function Ph(e,n,a){return(ri&21)===0?(e.baseState&&(e.baseState=!1,un=!0),e.memoizedState=a):(Sn(a,n)||(a=tl(),yt.lanes|=a,oi|=a,e.baseState=!0),n)}function Om(e,n){var a=Ze;Ze=a!==0&&4>a?a:4,e(!0);var d=hc.transition;hc.transition={};try{e(!1),n()}finally{Ze=a,hc.transition=d}}function Th(){return Dn().memoizedState}function Im(e,n,a){var d=Eo(e);if(a={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null},Mh(e))Lh(n,a);else if(a=sh(e,n,a,d),a!==null){var g=nn();Xn(a,e,d,g),Rh(a,n,d)}}function Nm(e,n,a){var d=Eo(e),g={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null};if(Mh(e))Lh(n,g);else{var v=e.alternate;if(e.lanes===0&&(v===null||v.lanes===0)&&(v=n.lastRenderedReducer,v!==null))try{var S=n.lastRenderedState,A=v(S,a);if(g.hasEagerState=!0,g.eagerState=A,Sn(A,S)){var I=n.interleaved;I===null?(g.next=g,sc(n)):(g.next=I.next,I.next=g),n.interleaved=g;return}}catch{}finally{}a=sh(e,n,g,d),a!==null&&(g=nn(),Xn(a,e,d,g),Rh(a,n,d))}}function Mh(e){var n=e.alternate;return e===yt||n!==null&&n===yt}function Lh(e,n){ma=zl=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Rh(e,n,a){if((a&4194240)!==0){var d=n.lanes;d&=e.pendingLanes,a|=d,n.lanes=a,Hn(e,a)}}var Bl={readContext:zn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},zm={readContext:zn,useCallback:function(e,n){return fr().memoizedState=[e,n===void 0?null:n],e},useContext:zn,useEffect:xh,useImperativeHandle:function(e,n,a){return a=a!=null?a.concat([e]):null,Dl(4194308,4,Sh.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Dl(4194308,4,e,n)},useInsertionEffect:function(e,n){return Dl(4,2,e,n)},useMemo:function(e,n){var a=fr();return n=n===void 0?null:n,e=e(),a.memoizedState=[e,n],e},useReducer:function(e,n,a){var d=fr();return n=a!==void 0?a(n):n,d.memoizedState=d.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},d.queue=e,e=e.dispatch=Im.bind(null,yt,e),[d.memoizedState,e]},useRef:function(e){var n=fr();return e={current:e},n.memoizedState=e},useState:yh,useDebugValue:_c,useDeferredValue:function(e){return fr().memoizedState=e},useTransition:function(){var e=yh(!1),n=e[0];return e=Om.bind(null,e[1]),fr().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,a){var d=yt,g=fr();if(ft){if(a===void 0)throw Error(o(407));a=a()}else{if(a=n(),zt===null)throw Error(o(349));(ri&30)!==0||fh(d,n,a)}g.memoizedState=a;var v={value:a,getSnapshot:n};return g.queue=v,xh(mh.bind(null,d,v,e),[e]),d.flags|=2048,ya(9,ph.bind(null,d,v,a,n),void 0,null),a},useId:function(){var e=fr(),n=zt.identifierPrefix;if(ft){var a=zr,d=Nr;a=(d&~(1<<32-ze(d)-1)).toString(32)+a,n=":"+n+"R"+a,a=ga++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=Am++,n=":"+n+"r"+a.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Dm={readContext:zn,useCallback:Eh,useContext:zn,useEffect:yc,useImperativeHandle:kh,useInsertionEffect:wh,useLayoutEffect:bh,useMemo:Ch,useReducer:gc,useRef:_h,useState:function(){return gc(va)},useDebugValue:_c,useDeferredValue:function(e){var n=Dn();return Ph(n,At.memoizedState,e)},useTransition:function(){var e=gc(va)[0],n=Dn().memoizedState;return[e,n]},useMutableSource:dh,useSyncExternalStore:hh,useId:Th,unstable_isNewReconciler:!1},Fm={readContext:zn,useCallback:Eh,useContext:zn,useEffect:yc,useImperativeHandle:kh,useInsertionEffect:wh,useLayoutEffect:bh,useMemo:Ch,useReducer:vc,useRef:_h,useState:function(){return vc(va)},useDebugValue:_c,useDeferredValue:function(e){var n=Dn();return At===null?n.memoizedState=e:Ph(n,At.memoizedState,e)},useTransition:function(){var e=vc(va)[0],n=Dn().memoizedState;return[e,n]},useMutableSource:dh,useSyncExternalStore:hh,useId:Th,unstable_isNewReconciler:!1};function Jn(e,n){if(e&&e.defaultProps){n=q({},n),e=e.defaultProps;for(var a in e)n[a]===void 0&&(n[a]=e[a]);return n}return n}function xc(e,n,a,d){n=e.memoizedState,a=a(d,n),a=a==null?n:q({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ul={isMounted:function(e){return(e=e._reactInternals)?rr(e)===e:!1},enqueueSetState:function(e,n,a){e=e._reactInternals;var d=nn(),g=Eo(e),v=Fr(d,g);v.payload=n,a!=null&&(v.callback=a),n=wo(e,v,g),n!==null&&(Xn(n,e,g,d),Al(n,e,g))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var d=nn(),g=Eo(e),v=Fr(d,g);v.tag=1,v.payload=n,a!=null&&(v.callback=a),n=wo(e,v,g),n!==null&&(Xn(n,e,g,d),Al(n,e,g))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=nn(),d=Eo(e),g=Fr(a,d);g.tag=2,n!=null&&(g.callback=n),n=wo(e,g,d),n!==null&&(Xn(n,e,d,a),Al(n,e,d))}};function jh(e,n,a,d,g,v,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(d,v,S):n.prototype&&n.prototype.isPureReactComponent?!lr(a,d)||!lr(g,v):!0}function Ah(e,n,a){var d=!1,g=yo,v=n.contextType;return typeof v=="object"&&v!==null?v=zn(v):(g=ln(n)?Qo:Zt.current,d=n.contextTypes,v=(d=d!=null)?Ji(e,g):yo),n=new n(a,v),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Ul,e.stateNode=n,n._reactInternals=e,d&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=g,e.__reactInternalMemoizedMaskedChildContext=v),n}function Oh(e,n,a,d){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,d),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,d),n.state!==e&&Ul.enqueueReplaceState(n,n.state,null)}function wc(e,n,a,d){var g=e.stateNode;g.props=a,g.state=e.memoizedState,g.refs={},ac(e);var v=n.contextType;typeof v=="object"&&v!==null?g.context=zn(v):(v=ln(n)?Qo:Zt.current,g.context=Ji(e,v)),g.state=e.memoizedState,v=n.getDerivedStateFromProps,typeof v=="function"&&(xc(e,n,v,a),g.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(n=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),n!==g.state&&Ul.enqueueReplaceState(g,g.state,null),Ol(e,a,g,d),g.state=e.memoizedState),typeof g.componentDidMount=="function"&&(e.flags|=4194308)}function os(e,n){try{var a="",d=n;do a+=ue(d),d=d.return;while(d);var g=a}catch(v){g=`
Error generating stack: `+v.message+`
`+v.stack}return{value:e,source:n,stack:g,digest:null}}function bc(e,n,a){return{value:e,source:null,stack:a??null,digest:n??null}}function Sc(e,n){try{console.error(n.value)}catch(a){setTimeout(function(){throw a})}}var Bm=typeof WeakMap=="function"?WeakMap:Map;function Ih(e,n,a){a=Fr(-1,a),a.tag=3,a.payload={element:null};var d=n.value;return a.callback=function(){ql||(ql=!0,Dc=d),Sc(e,n)},a}function Nh(e,n,a){a=Fr(-1,a),a.tag=3;var d=e.type.getDerivedStateFromError;if(typeof d=="function"){var g=n.value;a.payload=function(){return d(g)},a.callback=function(){Sc(e,n)}}var v=e.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(a.callback=function(){Sc(e,n),typeof d!="function"&&(So===null?So=new Set([this]):So.add(this));var S=n.stack;this.componentDidCatch(n.value,{componentStack:S!==null?S:""})}),a}function zh(e,n,a){var d=e.pingCache;if(d===null){d=e.pingCache=new Bm;var g=new Set;d.set(n,g)}else g=d.get(n),g===void 0&&(g=new Set,d.set(n,g));g.has(a)||(g.add(a),e=eg.bind(null,e,n,a),n.then(e,e))}function Dh(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Fh(e,n,a,d,g){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(n=Fr(-1,1),n.tag=2,wo(a,n,1))),a.lanes|=1),e):(e.flags|=65536,e.lanes=g,e)}var Um=X.ReactCurrentOwner,un=!1;function tn(e,n,a,d){n.child=e===null?ih(n,null,a,d):es(n,e.child,a,d)}function Bh(e,n,a,d,g){a=a.render;var v=n.ref;return ns(n,g),d=pc(e,n,a,d,v,g),a=mc(),e!==null&&!un?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~g,Br(e,n,g)):(ft&&a&&Yu(n),n.flags|=1,tn(e,n,d,g),n.child)}function Uh(e,n,a,d,g){if(e===null){var v=a.type;return typeof v=="function"&&!Wc(v)&&v.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(n.tag=15,n.type=v,$h(e,n,v,d,g)):(e=eu(a.type,null,d,n,n.mode,g),e.ref=n.ref,e.return=n,n.child=e)}if(v=e.child,(e.lanes&g)===0){var S=v.memoizedProps;if(a=a.compare,a=a!==null?a:lr,a(S,d)&&e.ref===n.ref)return Br(e,n,g)}return n.flags|=1,e=Po(v,d),e.ref=n.ref,e.return=n,n.child=e}function $h(e,n,a,d,g){if(e!==null){var v=e.memoizedProps;if(lr(v,d)&&e.ref===n.ref)if(un=!1,n.pendingProps=d=v,(e.lanes&g)!==0)(e.flags&131072)!==0&&(un=!0);else return n.lanes=e.lanes,Br(e,n,g)}return kc(e,n,a,d,g)}function Gh(e,n,a){var d=n.pendingProps,g=d.children,v=e!==null?e.memoizedState:null;if(d.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(ss,Pn),Pn|=a;else{if((a&1073741824)===0)return e=v!==null?v.baseLanes|a:a,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,at(ss,Pn),Pn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:a,at(ss,Pn),Pn|=d}else v!==null?(d=v.baseLanes|a,n.memoizedState=null):d=a,at(ss,Pn),Pn|=d;return tn(e,n,g,a),n.child}function Hh(e,n){var a=n.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(n.flags|=512,n.flags|=2097152)}function kc(e,n,a,d,g){var v=ln(a)?Qo:Zt.current;return v=Ji(n,v),ns(n,g),a=pc(e,n,a,d,v,g),d=mc(),e!==null&&!un?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~g,Br(e,n,g)):(ft&&d&&Yu(n),n.flags|=1,tn(e,n,a,g),n.child)}function Wh(e,n,a,d,g){if(ln(a)){var v=!0;El(n)}else v=!1;if(ns(n,g),n.stateNode===null)Gl(e,n),Ah(n,a,d),wc(n,a,d,g),d=!0;else if(e===null){var S=n.stateNode,A=n.memoizedProps;S.props=A;var I=S.context,W=a.contextType;typeof W=="object"&&W!==null?W=zn(W):(W=ln(a)?Qo:Zt.current,W=Ji(n,W));var te=a.getDerivedStateFromProps,re=typeof te=="function"||typeof S.getSnapshotBeforeUpdate=="function";re||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(A!==d||I!==W)&&Oh(n,S,d,W),xo=!1;var ee=n.memoizedState;S.state=ee,Ol(n,d,S,g),I=n.memoizedState,A!==d||ee!==I||an.current||xo?(typeof te=="function"&&(xc(n,a,te,d),I=n.memoizedState),(A=xo||jh(n,a,A,d,ee,I,W))?(re||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(n.flags|=4194308)):(typeof S.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=d,n.memoizedState=I),S.props=d,S.state=I,S.context=W,d=A):(typeof S.componentDidMount=="function"&&(n.flags|=4194308),d=!1)}else{S=n.stateNode,ah(e,n),A=n.memoizedProps,W=n.type===n.elementType?A:Jn(n.type,A),S.props=W,re=n.pendingProps,ee=S.context,I=a.contextType,typeof I=="object"&&I!==null?I=zn(I):(I=ln(a)?Qo:Zt.current,I=Ji(n,I));var ge=a.getDerivedStateFromProps;(te=typeof ge=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(A!==re||ee!==I)&&Oh(n,S,d,I),xo=!1,ee=n.memoizedState,S.state=ee,Ol(n,d,S,g);var _e=n.memoizedState;A!==re||ee!==_e||an.current||xo?(typeof ge=="function"&&(xc(n,a,ge,d),_e=n.memoizedState),(W=xo||jh(n,a,W,d,ee,_e,I)||!1)?(te||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(d,_e,I),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(d,_e,I)),typeof S.componentDidUpdate=="function"&&(n.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof S.componentDidUpdate!="function"||A===e.memoizedProps&&ee===e.memoizedState||(n.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&ee===e.memoizedState||(n.flags|=1024),n.memoizedProps=d,n.memoizedState=_e),S.props=d,S.state=_e,S.context=I,d=W):(typeof S.componentDidUpdate!="function"||A===e.memoizedProps&&ee===e.memoizedState||(n.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&ee===e.memoizedState||(n.flags|=1024),d=!1)}return Ec(e,n,a,d,v,g)}function Ec(e,n,a,d,g,v){Hh(e,n);var S=(n.flags&128)!==0;if(!d&&!S)return g&&Jd(n,a,!1),Br(e,n,v);d=n.stateNode,Um.current=n;var A=S&&typeof a.getDerivedStateFromError!="function"?null:d.render();return n.flags|=1,e!==null&&S?(n.child=es(n,e.child,null,v),n.child=es(n,null,A,v)):tn(e,n,A,v),n.memoizedState=d.state,g&&Jd(n,a,!0),n.child}function Vh(e){var n=e.stateNode;n.pendingContext?qd(e,n.pendingContext,n.pendingContext!==n.context):n.context&&qd(e,n.context,!1),lc(e,n.containerInfo)}function Zh(e,n,a,d,g){return Xi(),tc(g),n.flags|=256,tn(e,n,a,d),n.child}var Cc={dehydrated:null,treeContext:null,retryLane:0};function Pc(e){return{baseLanes:e,cachePool:null,transitions:null}}function qh(e,n,a){var d=n.pendingProps,g=vt.current,v=!1,S=(n.flags&128)!==0,A;if((A=S)||(A=e!==null&&e.memoizedState===null?!1:(g&2)!==0),A?(v=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(g|=1),at(vt,g&1),e===null)return ec(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(S=d.children,e=d.fallback,v?(d=n.mode,v=n.child,S={mode:"hidden",children:S},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=S):v=tu(S,d,0,null),e=li(e,d,a,null),v.return=n,e.return=n,v.sibling=e,n.child=v,n.child.memoizedState=Pc(a),n.memoizedState=Cc,e):Tc(n,S));if(g=e.memoizedState,g!==null&&(A=g.dehydrated,A!==null))return $m(e,n,S,d,A,g,a);if(v){v=d.fallback,S=n.mode,g=e.child,A=g.sibling;var I={mode:"hidden",children:d.children};return(S&1)===0&&n.child!==g?(d=n.child,d.childLanes=0,d.pendingProps=I,n.deletions=null):(d=Po(g,I),d.subtreeFlags=g.subtreeFlags&14680064),A!==null?v=Po(A,v):(v=li(v,S,a,null),v.flags|=2),v.return=n,d.return=n,d.sibling=v,n.child=d,d=v,v=n.child,S=e.child.memoizedState,S=S===null?Pc(a):{baseLanes:S.baseLanes|a,cachePool:null,transitions:S.transitions},v.memoizedState=S,v.childLanes=e.childLanes&~a,n.memoizedState=Cc,d}return v=e.child,e=v.sibling,d=Po(v,{mode:"visible",children:d.children}),(n.mode&1)===0&&(d.lanes=a),d.return=n,d.sibling=null,e!==null&&(a=n.deletions,a===null?(n.deletions=[e],n.flags|=16):a.push(e)),n.child=d,n.memoizedState=null,d}function Tc(e,n){return n=tu({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function $l(e,n,a,d){return d!==null&&tc(d),es(n,e.child,null,a),e=Tc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function $m(e,n,a,d,g,v,S){if(a)return n.flags&256?(n.flags&=-257,d=bc(Error(o(422))),$l(e,n,S,d)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(v=d.fallback,g=n.mode,d=tu({mode:"visible",children:d.children},g,0,null),v=li(v,g,S,null),v.flags|=2,d.return=n,v.return=n,d.sibling=v,n.child=d,(n.mode&1)!==0&&es(n,e.child,null,S),n.child.memoizedState=Pc(S),n.memoizedState=Cc,v);if((n.mode&1)===0)return $l(e,n,S,null);if(g.data==="$!"){if(d=g.nextSibling&&g.nextSibling.dataset,d)var A=d.dgst;return d=A,v=Error(o(419)),d=bc(v,d,void 0),$l(e,n,S,d)}if(A=(S&e.childLanes)!==0,un||A){if(d=zt,d!==null){switch(S&-S){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(d.suspendedLanes|S))!==0?0:g,g!==0&&g!==v.retryLane&&(v.retryLane=g,Dr(e,g),Xn(d,e,g,-1))}return Hc(),d=bc(Error(o(421))),$l(e,n,S,d)}return g.data==="$?"?(n.flags|=128,n.child=e.child,n=tg.bind(null,e),g._reactRetry=n,null):(e=v.treeContext,Cn=dr(g.nextSibling),En=n,ft=!0,Kn=null,e!==null&&(In[Nn++]=Nr,In[Nn++]=zr,In[Nn++]=Xo,Nr=e.id,zr=e.overflow,Xo=n),n=Tc(n,d.children),n.flags|=4096,n)}function Kh(e,n,a){e.lanes|=n;var d=e.alternate;d!==null&&(d.lanes|=n),ic(e.return,n,a)}function Mc(e,n,a,d,g){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:d,tail:a,tailMode:g}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=a,v.tailMode=g)}function Jh(e,n,a){var d=n.pendingProps,g=d.revealOrder,v=d.tail;if(tn(e,n,d.children,a),d=vt.current,(d&2)!==0)d=d&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kh(e,a,n);else if(e.tag===19)Kh(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}d&=1}if(at(vt,d),(n.mode&1)===0)n.memoizedState=null;else switch(g){case"forwards":for(a=n.child,g=null;a!==null;)e=a.alternate,e!==null&&Il(e)===null&&(g=a),a=a.sibling;a=g,a===null?(g=n.child,n.child=null):(g=a.sibling,a.sibling=null),Mc(n,!1,g,a,v);break;case"backwards":for(a=null,g=n.child,n.child=null;g!==null;){if(e=g.alternate,e!==null&&Il(e)===null){n.child=g;break}e=g.sibling,g.sibling=a,a=g,g=e}Mc(n,!0,a,null,v);break;case"together":Mc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Gl(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Br(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),oi|=n.lanes,(a&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,a=Po(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Po(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Gm(e,n,a){switch(n.tag){case 3:Vh(n),Xi();break;case 5:ch(n);break;case 1:ln(n.type)&&El(n);break;case 4:lc(n,n.stateNode.containerInfo);break;case 10:var d=n.type._context,g=n.memoizedProps.value;at(Rl,d._currentValue),d._currentValue=g;break;case 13:if(d=n.memoizedState,d!==null)return d.dehydrated!==null?(at(vt,vt.current&1),n.flags|=128,null):(a&n.child.childLanes)!==0?qh(e,n,a):(at(vt,vt.current&1),e=Br(e,n,a),e!==null?e.sibling:null);at(vt,vt.current&1);break;case 19:if(d=(a&n.childLanes)!==0,(e.flags&128)!==0){if(d)return Jh(e,n,a);n.flags|=128}if(g=n.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),at(vt,vt.current),d)break;return null;case 22:case 23:return n.lanes=0,Gh(e,n,a)}return Br(e,n,a)}var Yh,Lc,Qh,Xh;Yh=function(e,n){for(var a=n.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Lc=function(){},Qh=function(e,n,a,d){var g=e.memoizedProps;if(g!==d){e=n.stateNode,ni(hr.current);var v=null;switch(a){case"input":g=Qe(e,g),d=Qe(e,d),v=[];break;case"select":g=q({},g,{value:void 0}),d=q({},d,{value:void 0}),v=[];break;case"textarea":g=Ue(e,g),d=Ue(e,d),v=[];break;default:typeof g.onClick!="function"&&typeof d.onClick=="function"&&(e.onclick=Q)}Rs(a,d);var S;a=null;for(W in g)if(!d.hasOwnProperty(W)&&g.hasOwnProperty(W)&&g[W]!=null)if(W==="style"){var A=g[W];for(S in A)A.hasOwnProperty(S)&&(a||(a={}),a[S]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(u.hasOwnProperty(W)?v||(v=[]):(v=v||[]).push(W,null));for(W in d){var I=d[W];if(A=g!=null?g[W]:void 0,d.hasOwnProperty(W)&&I!==A&&(I!=null||A!=null))if(W==="style")if(A){for(S in A)!A.hasOwnProperty(S)||I&&I.hasOwnProperty(S)||(a||(a={}),a[S]="");for(S in I)I.hasOwnProperty(S)&&A[S]!==I[S]&&(a||(a={}),a[S]=I[S])}else a||(v||(v=[]),v.push(W,a)),a=I;else W==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,A=A?A.__html:void 0,I!=null&&A!==I&&(v=v||[]).push(W,I)):W==="children"?typeof I!="string"&&typeof I!="number"||(v=v||[]).push(W,""+I):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(u.hasOwnProperty(W)?(I!=null&&W==="onScroll"&&tt("scroll",e),v||A===I||(v=[])):(v=v||[]).push(W,I))}a&&(v=v||[]).push("style",a);var W=v;(n.updateQueue=W)&&(n.flags|=4)}},Xh=function(e,n,a,d){a!==d&&(n.flags|=4)};function _a(e,n){if(!ft)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:d.sibling=null}}function Kt(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,d=0;if(n)for(var g=e.child;g!==null;)a|=g.lanes|g.childLanes,d|=g.subtreeFlags&14680064,d|=g.flags&14680064,g.return=e,g=g.sibling;else for(g=e.child;g!==null;)a|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=e,g=g.sibling;return e.subtreeFlags|=d,e.childLanes=a,n}function Hm(e,n,a){var d=n.pendingProps;switch(Qu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(n),null;case 1:return ln(n.type)&&kl(),Kt(n),null;case 3:return d=n.stateNode,rs(),dt(an),dt(Zt),dc(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(e===null||e.child===null)&&(Ml(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Kn!==null&&(Uc(Kn),Kn=null))),Lc(e,n),Kt(n),null;case 5:uc(n);var g=ni(pa.current);if(a=n.type,e!==null&&n.stateNode!=null)Qh(e,n,a,d,g),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!d){if(n.stateNode===null)throw Error(o(166));return Kt(n),null}if(e=ni(hr.current),Ml(n)){d=n.stateNode,a=n.type;var v=n.memoizedProps;switch(d[On]=n,d[mo]=v,e=(n.mode&1)!==0,a){case"dialog":tt("cancel",d),tt("close",d);break;case"iframe":case"object":case"embed":tt("load",d);break;case"video":case"audio":for(g=0;g<ho.length;g++)tt(ho[g],d);break;case"source":tt("error",d);break;case"img":case"image":case"link":tt("error",d),tt("load",d);break;case"details":tt("toggle",d);break;case"input":It(d,v),tt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},tt("invalid",d);break;case"textarea":Ye(d,v),tt("invalid",d)}Rs(a,v),g=null;for(var S in v)if(v.hasOwnProperty(S)){var A=v[S];S==="children"?typeof A=="string"?d.textContent!==A&&(v.suppressHydrationWarning!==!0&&H(d.textContent,A,e),g=["children",A]):typeof A=="number"&&d.textContent!==""+A&&(v.suppressHydrationWarning!==!0&&H(d.textContent,A,e),g=["children",""+A]):u.hasOwnProperty(S)&&A!=null&&S==="onScroll"&&tt("scroll",d)}switch(a){case"input":St(d),kt(d,v,!0);break;case"textarea":St(d),Xe(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=Q)}d=g,n.updateQueue=d,d!==null&&(n.flags|=4)}else{S=g.nodeType===9?g:g.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pt(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=S.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof d.is=="string"?e=S.createElement(a,{is:d.is}):(e=S.createElement(a),a==="select"&&(S=e,d.multiple?S.multiple=!0:d.size&&(S.size=d.size))):e=S.createElementNS(e,a),e[On]=n,e[mo]=d,Yh(e,n,!1,!1),n.stateNode=e;e:{switch(S=_r(a,d),a){case"dialog":tt("cancel",e),tt("close",e),g=d;break;case"iframe":case"object":case"embed":tt("load",e),g=d;break;case"video":case"audio":for(g=0;g<ho.length;g++)tt(ho[g],e);g=d;break;case"source":tt("error",e),g=d;break;case"img":case"image":case"link":tt("error",e),tt("load",e),g=d;break;case"details":tt("toggle",e),g=d;break;case"input":It(e,d),g=Qe(e,d),tt("invalid",e);break;case"option":g=d;break;case"select":e._wrapperState={wasMultiple:!!d.multiple},g=q({},d,{value:void 0}),tt("invalid",e);break;case"textarea":Ye(e,d),g=Ue(e,d),tt("invalid",e);break;default:g=d}Rs(a,g),A=g;for(v in A)if(A.hasOwnProperty(v)){var I=A[v];v==="style"?xi(e,I):v==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&gn(e,I)):v==="children"?typeof I=="string"?(a!=="textarea"||I!=="")&&rn(e,I):typeof I=="number"&&rn(e,""+I):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(u.hasOwnProperty(v)?I!=null&&v==="onScroll"&&tt("scroll",e):I!=null&&G(e,v,I,S))}switch(a){case"input":St(e),kt(e,d,!1);break;case"textarea":St(e),Xe(e);break;case"option":d.value!=null&&e.setAttribute("value",""+Se(d.value));break;case"select":e.multiple=!!d.multiple,v=d.value,v!=null?Ee(e,!!d.multiple,v,!1):d.defaultValue!=null&&Ee(e,!!d.multiple,d.defaultValue,!0);break;default:typeof g.onClick=="function"&&(e.onclick=Q)}switch(a){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Kt(n),null;case 6:if(e&&n.stateNode!=null)Xh(e,n,e.memoizedProps,d);else{if(typeof d!="string"&&n.stateNode===null)throw Error(o(166));if(a=ni(pa.current),ni(hr.current),Ml(n)){if(d=n.stateNode,a=n.memoizedProps,d[On]=n,(v=d.nodeValue!==a)&&(e=En,e!==null))switch(e.tag){case 3:H(d.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&H(d.nodeValue,a,(e.mode&1)!==0)}v&&(n.flags|=4)}else d=(a.nodeType===9?a:a.ownerDocument).createTextNode(d),d[On]=n,n.stateNode=d}return Kt(n),null;case 13:if(dt(vt),d=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ft&&Cn!==null&&(n.mode&1)!==0&&(n.flags&128)===0)nh(),Xi(),n.flags|=98560,v=!1;else if(v=Ml(n),d!==null&&d.dehydrated!==null){if(e===null){if(!v)throw Error(o(318));if(v=n.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(o(317));v[On]=n}else Xi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Kt(n),v=!1}else Kn!==null&&(Uc(Kn),Kn=null),v=!0;if(!v)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=a,n):(d=d!==null,d!==(e!==null&&e.memoizedState!==null)&&d&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(vt.current&1)!==0?Ot===0&&(Ot=3):Hc())),n.updateQueue!==null&&(n.flags|=4),Kt(n),null);case 4:return rs(),Lc(e,n),e===null&&fo(n.stateNode.containerInfo),Kt(n),null;case 10:return oc(n.type._context),Kt(n),null;case 17:return ln(n.type)&&kl(),Kt(n),null;case 19:if(dt(vt),v=n.memoizedState,v===null)return Kt(n),null;if(d=(n.flags&128)!==0,S=v.rendering,S===null)if(d)_a(v,!1);else{if(Ot!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(S=Il(e),S!==null){for(n.flags|=128,_a(v,!1),d=S.updateQueue,d!==null&&(n.updateQueue=d,n.flags|=4),n.subtreeFlags=0,d=a,a=n.child;a!==null;)v=a,e=d,v.flags&=14680066,S=v.alternate,S===null?(v.childLanes=0,v.lanes=e,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=S.childLanes,v.lanes=S.lanes,v.child=S.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=S.memoizedProps,v.memoizedState=S.memoizedState,v.updateQueue=S.updateQueue,v.type=S.type,e=S.dependencies,v.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return at(vt,vt.current&1|2),n.child}e=e.sibling}v.tail!==null&&mt()>as&&(n.flags|=128,d=!0,_a(v,!1),n.lanes=4194304)}else{if(!d)if(e=Il(S),e!==null){if(n.flags|=128,d=!0,a=e.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),_a(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!ft)return Kt(n),null}else 2*mt()-v.renderingStartTime>as&&a!==1073741824&&(n.flags|=128,d=!0,_a(v,!1),n.lanes=4194304);v.isBackwards?(S.sibling=n.child,n.child=S):(a=v.last,a!==null?a.sibling=S:n.child=S,v.last=S)}return v.tail!==null?(n=v.tail,v.rendering=n,v.tail=n.sibling,v.renderingStartTime=mt(),n.sibling=null,a=vt.current,at(vt,d?a&1|2:a&1),n):(Kt(n),null);case 22:case 23:return Gc(),d=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==d&&(n.flags|=8192),d&&(n.mode&1)!==0?(Pn&1073741824)!==0&&(Kt(n),n.subtreeFlags&6&&(n.flags|=8192)):Kt(n),null;case 24:return null;case 25:return null}throw Error(o(156,n.tag))}function Wm(e,n){switch(Qu(n),n.tag){case 1:return ln(n.type)&&kl(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return rs(),dt(an),dt(Zt),dc(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return uc(n),null;case 13:if(dt(vt),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));Xi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return dt(vt),null;case 4:return rs(),null;case 10:return oc(n.type._context),null;case 22:case 23:return Gc(),null;case 24:return null;default:return null}}var Hl=!1,Jt=!1,Vm=typeof WeakSet=="function"?WeakSet:Set,ye=null;function is(e,n){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(d){wt(e,n,d)}else a.current=null}function Rc(e,n,a){try{a()}catch(d){wt(e,n,d)}}var ef=!1;function Zm(e,n){if(pe=Ho,e=na(),ra(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var d=a.getSelection&&a.getSelection();if(d&&d.rangeCount!==0){a=d.anchorNode;var g=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{a.nodeType,v.nodeType}catch{a=null;break e}var S=0,A=-1,I=-1,W=0,te=0,re=e,ee=null;t:for(;;){for(var ge;re!==a||g!==0&&re.nodeType!==3||(A=S+g),re!==v||d!==0&&re.nodeType!==3||(I=S+d),re.nodeType===3&&(S+=re.nodeValue.length),(ge=re.firstChild)!==null;)ee=re,re=ge;for(;;){if(re===e)break t;if(ee===a&&++W===g&&(A=S),ee===v&&++te===d&&(I=S),(ge=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=ge}a=A===-1||I===-1?null:{start:A,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Pe={focusedElem:e,selectionRange:a},Ho=!1,ye=n;ye!==null;)if(n=ye,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ye=e;else for(;ye!==null;){n=ye;try{var _e=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var we=_e.memoizedProps,Et=_e.memoizedState,F=n.stateNode,N=F.getSnapshotBeforeUpdate(n.elementType===n.type?we:Jn(n.type,we),Et);F.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var $=n.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ie){wt(n,n.return,ie)}if(e=n.sibling,e!==null){e.return=n.return,ye=e;break}ye=n.return}return _e=ef,ef=!1,_e}function xa(e,n,a){var d=n.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var g=d=d.next;do{if((g.tag&e)===e){var v=g.destroy;g.destroy=void 0,v!==void 0&&Rc(n,a,v)}g=g.next}while(g!==d)}}function Wl(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var d=a.create;a.destroy=d()}a=a.next}while(a!==n)}}function jc(e){var n=e.ref;if(n!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof n=="function"?n(e):n.current=e}}function tf(e){var n=e.alternate;n!==null&&(e.alternate=null,tf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[On],delete n[mo],delete n[go],delete n[Zu],delete n[qu])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nf(e){return e.tag===5||e.tag===3||e.tag===4}function rf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ac(e,n,a){var d=e.tag;if(d===5||d===6)e=e.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(e,n):a.insertBefore(e,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(e,a)):(n=a,n.appendChild(e)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Q));else if(d!==4&&(e=e.child,e!==null))for(Ac(e,n,a),e=e.sibling;e!==null;)Ac(e,n,a),e=e.sibling}function Oc(e,n,a){var d=e.tag;if(d===5||d===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(d!==4&&(e=e.child,e!==null))for(Oc(e,n,a),e=e.sibling;e!==null;)Oc(e,n,a),e=e.sibling}var Ut=null,Yn=!1;function bo(e,n,a){for(a=a.child;a!==null;)of(e,n,a),a=a.sibling}function of(e,n,a){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(Do,a)}catch{}switch(a.tag){case 5:Jt||is(a,n);case 6:var d=Ut,g=Yn;Ut=null,bo(e,n,a),Ut=d,Yn=g,Ut!==null&&(Yn?(e=Ut,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):Ut.removeChild(a.stateNode));break;case 18:Ut!==null&&(Yn?(e=Ut,a=a.stateNode,e.nodeType===8?ca(e.parentNode,a):e.nodeType===1&&ca(e,a),xn(e)):ca(Ut,a.stateNode));break;case 4:d=Ut,g=Yn,Ut=a.stateNode.containerInfo,Yn=!0,bo(e,n,a),Ut=d,Yn=g;break;case 0:case 11:case 14:case 15:if(!Jt&&(d=a.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){g=d=d.next;do{var v=g,S=v.destroy;v=v.tag,S!==void 0&&((v&2)!==0||(v&4)!==0)&&Rc(a,n,S),g=g.next}while(g!==d)}bo(e,n,a);break;case 1:if(!Jt&&(is(a,n),d=a.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=a.memoizedProps,d.state=a.memoizedState,d.componentWillUnmount()}catch(A){wt(a,n,A)}bo(e,n,a);break;case 21:bo(e,n,a);break;case 22:a.mode&1?(Jt=(d=Jt)||a.memoizedState!==null,bo(e,n,a),Jt=d):bo(e,n,a);break;default:bo(e,n,a)}}function sf(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new Vm),n.forEach(function(d){var g=ng.bind(null,e,d);a.has(d)||(a.add(d),d.then(g,g))})}}function Qn(e,n){var a=n.deletions;if(a!==null)for(var d=0;d<a.length;d++){var g=a[d];try{var v=e,S=n,A=S;e:for(;A!==null;){switch(A.tag){case 5:Ut=A.stateNode,Yn=!1;break e;case 3:Ut=A.stateNode.containerInfo,Yn=!0;break e;case 4:Ut=A.stateNode.containerInfo,Yn=!0;break e}A=A.return}if(Ut===null)throw Error(o(160));of(v,S,g),Ut=null,Yn=!1;var I=g.alternate;I!==null&&(I.return=null),g.return=null}catch(W){wt(g,n,W)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)af(n,e),n=n.sibling}function af(e,n){var a=e.alternate,d=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qn(n,e),pr(e),d&4){try{xa(3,e,e.return),Wl(3,e)}catch(we){wt(e,e.return,we)}try{xa(5,e,e.return)}catch(we){wt(e,e.return,we)}}break;case 1:Qn(n,e),pr(e),d&512&&a!==null&&is(a,a.return);break;case 5:if(Qn(n,e),pr(e),d&512&&a!==null&&is(a,a.return),e.flags&32){var g=e.stateNode;try{rn(g,"")}catch(we){wt(e,e.return,we)}}if(d&4&&(g=e.stateNode,g!=null)){var v=e.memoizedProps,S=a!==null?a.memoizedProps:v,A=e.type,I=e.updateQueue;if(e.updateQueue=null,I!==null)try{A==="input"&&v.type==="radio"&&v.name!=null&&pn(g,v),_r(A,S);var W=_r(A,v);for(S=0;S<I.length;S+=2){var te=I[S],re=I[S+1];te==="style"?xi(g,re):te==="dangerouslySetInnerHTML"?gn(g,re):te==="children"?rn(g,re):G(g,te,re,W)}switch(A){case"input":it(g,v);break;case"textarea":nt(g,v);break;case"select":var ee=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!v.multiple;var ge=v.value;ge!=null?Ee(g,!!v.multiple,ge,!1):ee!==!!v.multiple&&(v.defaultValue!=null?Ee(g,!!v.multiple,v.defaultValue,!0):Ee(g,!!v.multiple,v.multiple?[]:"",!1))}g[mo]=v}catch(we){wt(e,e.return,we)}}break;case 6:if(Qn(n,e),pr(e),d&4){if(e.stateNode===null)throw Error(o(162));g=e.stateNode,v=e.memoizedProps;try{g.nodeValue=v}catch(we){wt(e,e.return,we)}}break;case 3:if(Qn(n,e),pr(e),d&4&&a!==null&&a.memoizedState.isDehydrated)try{xn(n.containerInfo)}catch(we){wt(e,e.return,we)}break;case 4:Qn(n,e),pr(e);break;case 13:Qn(n,e),pr(e),g=e.child,g.flags&8192&&(v=g.memoizedState!==null,g.stateNode.isHidden=v,!v||g.alternate!==null&&g.alternate.memoizedState!==null||(zc=mt())),d&4&&sf(e);break;case 22:if(te=a!==null&&a.memoizedState!==null,e.mode&1?(Jt=(W=Jt)||te,Qn(n,e),Jt=W):Qn(n,e),pr(e),d&8192){if(W=e.memoizedState!==null,(e.stateNode.isHidden=W)&&!te&&(e.mode&1)!==0)for(ye=e,te=e.child;te!==null;){for(re=ye=te;ye!==null;){switch(ee=ye,ge=ee.child,ee.tag){case 0:case 11:case 14:case 15:xa(4,ee,ee.return);break;case 1:is(ee,ee.return);var _e=ee.stateNode;if(typeof _e.componentWillUnmount=="function"){d=ee,a=ee.return;try{n=d,_e.props=n.memoizedProps,_e.state=n.memoizedState,_e.componentWillUnmount()}catch(we){wt(d,a,we)}}break;case 5:is(ee,ee.return);break;case 22:if(ee.memoizedState!==null){cf(re);continue}}ge!==null?(ge.return=ee,ye=ge):cf(re)}te=te.sibling}e:for(te=null,re=e;;){if(re.tag===5){if(te===null){te=re;try{g=re.stateNode,W?(v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(A=re.stateNode,I=re.memoizedProps.style,S=I!=null&&I.hasOwnProperty("display")?I.display:null,A.style.display=Ls("display",S))}catch(we){wt(e,e.return,we)}}}else if(re.tag===6){if(te===null)try{re.stateNode.nodeValue=W?"":re.memoizedProps}catch(we){wt(e,e.return,we)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===e)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===e)break e;for(;re.sibling===null;){if(re.return===null||re.return===e)break e;te===re&&(te=null),re=re.return}te===re&&(te=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Qn(n,e),pr(e),d&4&&sf(e);break;case 21:break;default:Qn(n,e),pr(e)}}function pr(e){var n=e.flags;if(n&2){try{e:{for(var a=e.return;a!==null;){if(nf(a)){var d=a;break e}a=a.return}throw Error(o(160))}switch(d.tag){case 5:var g=d.stateNode;d.flags&32&&(rn(g,""),d.flags&=-33);var v=rf(e);Oc(e,v,g);break;case 3:case 4:var S=d.stateNode.containerInfo,A=rf(e);Ac(e,A,S);break;default:throw Error(o(161))}}catch(I){wt(e,e.return,I)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function qm(e,n,a){ye=e,lf(e)}function lf(e,n,a){for(var d=(e.mode&1)!==0;ye!==null;){var g=ye,v=g.child;if(g.tag===22&&d){var S=g.memoizedState!==null||Hl;if(!S){var A=g.alternate,I=A!==null&&A.memoizedState!==null||Jt;A=Hl;var W=Jt;if(Hl=S,(Jt=I)&&!W)for(ye=g;ye!==null;)S=ye,I=S.child,S.tag===22&&S.memoizedState!==null?df(g):I!==null?(I.return=S,ye=I):df(g);for(;v!==null;)ye=v,lf(v),v=v.sibling;ye=g,Hl=A,Jt=W}uf(e)}else(g.subtreeFlags&8772)!==0&&v!==null?(v.return=g,ye=v):uf(e)}}function uf(e){for(;ye!==null;){var n=ye;if((n.flags&8772)!==0){var a=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Jt||Wl(5,n);break;case 1:var d=n.stateNode;if(n.flags&4&&!Jt)if(a===null)d.componentDidMount();else{var g=n.elementType===n.type?a.memoizedProps:Jn(n.type,a.memoizedProps);d.componentDidUpdate(g,a.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=n.updateQueue;v!==null&&uh(n,v,d);break;case 3:var S=n.updateQueue;if(S!==null){if(a=null,n.child!==null)switch(n.child.tag){case 5:a=n.child.stateNode;break;case 1:a=n.child.stateNode}uh(n,S,a)}break;case 5:var A=n.stateNode;if(a===null&&n.flags&4){a=A;var I=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&a.focus();break;case"img":I.src&&(a.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var W=n.alternate;if(W!==null){var te=W.memoizedState;if(te!==null){var re=te.dehydrated;re!==null&&xn(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}Jt||n.flags&512&&jc(n)}catch(ee){wt(n,n.return,ee)}}if(n===e){ye=null;break}if(a=n.sibling,a!==null){a.return=n.return,ye=a;break}ye=n.return}}function cf(e){for(;ye!==null;){var n=ye;if(n===e){ye=null;break}var a=n.sibling;if(a!==null){a.return=n.return,ye=a;break}ye=n.return}}function df(e){for(;ye!==null;){var n=ye;try{switch(n.tag){case 0:case 11:case 15:var a=n.return;try{Wl(4,n)}catch(I){wt(n,a,I)}break;case 1:var d=n.stateNode;if(typeof d.componentDidMount=="function"){var g=n.return;try{d.componentDidMount()}catch(I){wt(n,g,I)}}var v=n.return;try{jc(n)}catch(I){wt(n,v,I)}break;case 5:var S=n.return;try{jc(n)}catch(I){wt(n,S,I)}}}catch(I){wt(n,n.return,I)}if(n===e){ye=null;break}var A=n.sibling;if(A!==null){A.return=n.return,ye=A;break}ye=n.return}}var Km=Math.ceil,Vl=X.ReactCurrentDispatcher,Ic=X.ReactCurrentOwner,Fn=X.ReactCurrentBatchConfig,qe=0,zt=null,Mt=null,$t=0,Pn=0,ss=vo(0),Ot=0,wa=null,oi=0,Zl=0,Nc=0,ba=null,cn=null,zc=0,as=1/0,Ur=null,ql=!1,Dc=null,So=null,Kl=!1,ko=null,Jl=0,Sa=0,Fc=null,Yl=-1,Ql=0;function nn(){return(qe&6)!==0?mt():Yl!==-1?Yl:Yl=mt()}function Eo(e){return(e.mode&1)===0?1:(qe&2)!==0&&$t!==0?$t&-$t:jm.transition!==null?(Ql===0&&(Ql=tl()),Ql):(e=Ze,e!==0||(e=window.event,e=e===void 0?16:Ge(e.type)),e)}function Xn(e,n,a,d){if(50<Sa)throw Sa=0,Fc=null,Error(o(185));yn(e,a,d),((qe&2)===0||e!==zt)&&(e===zt&&((qe&2)===0&&(Zl|=a),Ot===4&&Co(e,$t)),dn(e,d),a===1&&qe===0&&(n.mode&1)===0&&(as=mt()+500,Cl&&_o()))}function dn(e,n){var a=e.callbackNode;Pi(e,n);var d=st(e,e===zt?$t:0);if(d===0)a!==null&&Ds(a),e.callbackNode=null,e.callbackPriority=0;else if(n=d&-d,e.callbackPriority!==n){if(a!=null&&Ds(a),n===1)e.tag===0?Rm(ff.bind(null,e)):Yd(ff.bind(null,e)),Vt(function(){(qe&6)===0&&_o()}),a=null;else{switch(Xr(d)){case 1:a=Fs;break;case 4:a=el;break;case 16:a=Ei;break;case 536870912:a=Kr;break;default:a=Ei}a=wf(a,hf.bind(null,e))}e.callbackPriority=n,e.callbackNode=a}}function hf(e,n){if(Yl=-1,Ql=0,(qe&6)!==0)throw Error(o(327));var a=e.callbackNode;if(ls()&&e.callbackNode!==a)return null;var d=st(e,e===zt?$t:0);if(d===0)return null;if((d&30)!==0||(d&e.expiredLanes)!==0||n)n=Xl(e,d);else{n=d;var g=qe;qe|=2;var v=mf();(zt!==e||$t!==n)&&(Ur=null,as=mt()+500,si(e,n));do try{Qm();break}catch(A){pf(e,A)}while(!0);rc(),Vl.current=v,qe=g,Mt!==null?n=0:(zt=null,$t=0,n=Ot)}if(n!==0){if(n===2&&(g=Ht(e),g!==0&&(d=g,n=Bc(e,g))),n===1)throw a=wa,si(e,0),Co(e,d),dn(e,mt()),a;if(n===6)Co(e,d);else{if(g=e.current.alternate,(d&30)===0&&!Jm(g)&&(n=Xl(e,d),n===2&&(v=Ht(e),v!==0&&(d=v,n=Bc(e,v))),n===1))throw a=wa,si(e,0),Co(e,d),dn(e,mt()),a;switch(e.finishedWork=g,e.finishedLanes=d,n){case 0:case 1:throw Error(o(345));case 2:ai(e,cn,Ur);break;case 3:if(Co(e,d),(d&130023424)===d&&(n=zc+500-mt(),10<n)){if(st(e,0)!==0)break;if(g=e.suspendedLanes,(g&d)!==d){nn(),e.pingedLanes|=e.suspendedLanes&g;break}e.timeoutHandle=jt(ai.bind(null,e,cn,Ur),n);break}ai(e,cn,Ur);break;case 4:if(Co(e,d),(d&4194240)===d)break;for(n=e.eventTimes,g=-1;0<d;){var S=31-ze(d);v=1<<S,S=n[S],S>g&&(g=S),d&=~v}if(d=g,d=mt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Km(d/1960))-d,10<d){e.timeoutHandle=jt(ai.bind(null,e,cn,Ur),d);break}ai(e,cn,Ur);break;case 5:ai(e,cn,Ur);break;default:throw Error(o(329))}}}return dn(e,mt()),e.callbackNode===a?hf.bind(null,e):null}function Bc(e,n){var a=ba;return e.current.memoizedState.isDehydrated&&(si(e,n).flags|=256),e=Xl(e,n),e!==2&&(n=cn,cn=a,n!==null&&Uc(n)),e}function Uc(e){cn===null?cn=e:cn.push.apply(cn,e)}function Jm(e){for(var n=e;;){if(n.flags&16384){var a=n.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var d=0;d<a.length;d++){var g=a[d],v=g.getSnapshot;g=g.value;try{if(!Sn(v(),g))return!1}catch{return!1}}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Co(e,n){for(n&=~Nc,n&=~Zl,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var a=31-ze(n),d=1<<a;e[a]=-1,n&=~d}}function ff(e){if((qe&6)!==0)throw Error(o(327));ls();var n=st(e,0);if((n&1)===0)return dn(e,mt()),null;var a=Xl(e,n);if(e.tag!==0&&a===2){var d=Ht(e);d!==0&&(n=d,a=Bc(e,d))}if(a===1)throw a=wa,si(e,0),Co(e,n),dn(e,mt()),a;if(a===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,ai(e,cn,Ur),dn(e,mt()),null}function $c(e,n){var a=qe;qe|=1;try{return e(n)}finally{qe=a,qe===0&&(as=mt()+500,Cl&&_o())}}function ii(e){ko!==null&&ko.tag===0&&(qe&6)===0&&ls();var n=qe;qe|=1;var a=Fn.transition,d=Ze;try{if(Fn.transition=null,Ze=1,e)return e()}finally{Ze=d,Fn.transition=a,qe=n,(qe&6)===0&&_o()}}function Gc(){Pn=ss.current,dt(ss)}function si(e,n){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,Tt(a)),Mt!==null)for(a=Mt.return;a!==null;){var d=a;switch(Qu(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&kl();break;case 3:rs(),dt(an),dt(Zt),dc();break;case 5:uc(d);break;case 4:rs();break;case 13:dt(vt);break;case 19:dt(vt);break;case 10:oc(d.type._context);break;case 22:case 23:Gc()}a=a.return}if(zt=e,Mt=e=Po(e.current,null),$t=Pn=n,Ot=0,wa=null,Nc=Zl=oi=0,cn=ba=null,ti!==null){for(n=0;n<ti.length;n++)if(a=ti[n],d=a.interleaved,d!==null){a.interleaved=null;var g=d.next,v=a.pending;if(v!==null){var S=v.next;v.next=g,d.next=S}a.pending=d}ti=null}return e}function pf(e,n){do{var a=Mt;try{if(rc(),Nl.current=Bl,zl){for(var d=yt.memoizedState;d!==null;){var g=d.queue;g!==null&&(g.pending=null),d=d.next}zl=!1}if(ri=0,Nt=At=yt=null,ma=!1,ga=0,Ic.current=null,a===null||a.return===null){Ot=1,wa=n,Mt=null;break}e:{var v=e,S=a.return,A=a,I=n;if(n=$t,A.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=I,te=A,re=te.tag;if((te.mode&1)===0&&(re===0||re===11||re===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var ge=Dh(S);if(ge!==null){ge.flags&=-257,Fh(ge,S,A,v,n),ge.mode&1&&zh(v,W,n),n=ge,I=W;var _e=n.updateQueue;if(_e===null){var we=new Set;we.add(I),n.updateQueue=we}else _e.add(I);break e}else{if((n&1)===0){zh(v,W,n),Hc();break e}I=Error(o(426))}}else if(ft&&A.mode&1){var Et=Dh(S);if(Et!==null){(Et.flags&65536)===0&&(Et.flags|=256),Fh(Et,S,A,v,n),tc(os(I,A));break e}}v=I=os(I,A),Ot!==4&&(Ot=2),ba===null?ba=[v]:ba.push(v),v=S;do{switch(v.tag){case 3:v.flags|=65536,n&=-n,v.lanes|=n;var F=Ih(v,I,n);lh(v,F);break e;case 1:A=I;var N=v.type,$=v.stateNode;if((v.flags&128)===0&&(typeof N.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(So===null||!So.has($)))){v.flags|=65536,n&=-n,v.lanes|=n;var ie=Nh(v,A,n);lh(v,ie);break e}}v=v.return}while(v!==null)}vf(a)}catch(ke){n=ke,Mt===a&&a!==null&&(Mt=a=a.return);continue}break}while(!0)}function mf(){var e=Vl.current;return Vl.current=Bl,e===null?Bl:e}function Hc(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),zt===null||(oi&268435455)===0&&(Zl&268435455)===0||Co(zt,$t)}function Xl(e,n){var a=qe;qe|=2;var d=mf();(zt!==e||$t!==n)&&(Ur=null,si(e,n));do try{Ym();break}catch(g){pf(e,g)}while(!0);if(rc(),qe=a,Vl.current=d,Mt!==null)throw Error(o(261));return zt=null,$t=0,Ot}function Ym(){for(;Mt!==null;)gf(Mt)}function Qm(){for(;Mt!==null&&!Ru();)gf(Mt)}function gf(e){var n=xf(e.alternate,e,Pn);e.memoizedProps=e.pendingProps,n===null?vf(e):Mt=n,Ic.current=null}function vf(e){var n=e;do{var a=n.alternate;if(e=n.return,(n.flags&32768)===0){if(a=Hm(a,n,Pn),a!==null){Mt=a;return}}else{if(a=Wm(a,n),a!==null){a.flags&=32767,Mt=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ot=6,Mt=null;return}}if(n=n.sibling,n!==null){Mt=n;return}Mt=n=e}while(n!==null);Ot===0&&(Ot=5)}function ai(e,n,a){var d=Ze,g=Fn.transition;try{Fn.transition=null,Ze=1,Xm(e,n,a,d)}finally{Fn.transition=g,Ze=d}return null}function Xm(e,n,a,d){do ls();while(ko!==null);if((qe&6)!==0)throw Error(o(327));a=e.finishedWork;var g=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var v=a.lanes|a.childLanes;if(xt(e,v),e===zt&&(Mt=zt=null,$t=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Kl||(Kl=!0,wf(Ei,function(){return ls(),null})),v=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||v){v=Fn.transition,Fn.transition=null;var S=Ze;Ze=1;var A=qe;qe|=4,Ic.current=null,Zm(e,a),af(a,e),jn(Pe),Ho=!!pe,Pe=pe=null,e.current=a,qm(a),ki(),qe=A,Ze=S,Fn.transition=v}else e.current=a;if(Kl&&(Kl=!1,ko=e,Jl=g),v=e.pendingLanes,v===0&&(So=null),Fo(a.stateNode),dn(e,mt()),n!==null)for(d=e.onRecoverableError,a=0;a<n.length;a++)g=n[a],d(g.value,{componentStack:g.stack,digest:g.digest});if(ql)throw ql=!1,e=Dc,Dc=null,e;return(Jl&1)!==0&&e.tag!==0&&ls(),v=e.pendingLanes,(v&1)!==0?e===Fc?Sa++:(Sa=0,Fc=e):Sa=0,_o(),null}function ls(){if(ko!==null){var e=Xr(Jl),n=Fn.transition,a=Ze;try{if(Fn.transition=null,Ze=16>e?16:e,ko===null)var d=!1;else{if(e=ko,ko=null,Jl=0,(qe&6)!==0)throw Error(o(331));var g=qe;for(qe|=4,ye=e.current;ye!==null;){var v=ye,S=v.child;if((ye.flags&16)!==0){var A=v.deletions;if(A!==null){for(var I=0;I<A.length;I++){var W=A[I];for(ye=W;ye!==null;){var te=ye;switch(te.tag){case 0:case 11:case 15:xa(8,te,v)}var re=te.child;if(re!==null)re.return=te,ye=re;else for(;ye!==null;){te=ye;var ee=te.sibling,ge=te.return;if(tf(te),te===W){ye=null;break}if(ee!==null){ee.return=ge,ye=ee;break}ye=ge}}}var _e=v.alternate;if(_e!==null){var we=_e.child;if(we!==null){_e.child=null;do{var Et=we.sibling;we.sibling=null,we=Et}while(we!==null)}}ye=v}}if((v.subtreeFlags&2064)!==0&&S!==null)S.return=v,ye=S;else e:for(;ye!==null;){if(v=ye,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:xa(9,v,v.return)}var F=v.sibling;if(F!==null){F.return=v.return,ye=F;break e}ye=v.return}}var N=e.current;for(ye=N;ye!==null;){S=ye;var $=S.child;if((S.subtreeFlags&2064)!==0&&$!==null)$.return=S,ye=$;else e:for(S=N;ye!==null;){if(A=ye,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:Wl(9,A)}}catch(ke){wt(A,A.return,ke)}if(A===S){ye=null;break e}var ie=A.sibling;if(ie!==null){ie.return=A.return,ye=ie;break e}ye=A.return}}if(qe=g,_o(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(Do,e)}catch{}d=!0}return d}finally{Ze=a,Fn.transition=n}}return!1}function yf(e,n,a){n=os(a,n),n=Ih(e,n,1),e=wo(e,n,1),n=nn(),e!==null&&(yn(e,1,n),dn(e,n))}function wt(e,n,a){if(e.tag===3)yf(e,e,a);else for(;n!==null;){if(n.tag===3){yf(n,e,a);break}else if(n.tag===1){var d=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(So===null||!So.has(d))){e=os(a,e),e=Nh(n,e,1),n=wo(n,e,1),e=nn(),n!==null&&(yn(n,1,e),dn(n,e));break}}n=n.return}}function eg(e,n,a){var d=e.pingCache;d!==null&&d.delete(n),n=nn(),e.pingedLanes|=e.suspendedLanes&a,zt===e&&($t&a)===a&&(Ot===4||Ot===3&&($t&130023424)===$t&&500>mt()-zc?si(e,0):Nc|=a),dn(e,n)}function _f(e,n){n===0&&((e.mode&1)===0?n=1:(n=Yr,Yr<<=1,(Yr&130023424)===0&&(Yr=4194304)));var a=nn();e=Dr(e,n),e!==null&&(yn(e,n,a),dn(e,a))}function tg(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),_f(e,a)}function ng(e,n){var a=0;switch(e.tag){case 13:var d=e.stateNode,g=e.memoizedState;g!==null&&(a=g.retryLane);break;case 19:d=e.stateNode;break;default:throw Error(o(314))}d!==null&&d.delete(n),_f(e,a)}var xf;xf=function(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps||an.current)un=!0;else{if((e.lanes&a)===0&&(n.flags&128)===0)return un=!1,Gm(e,n,a);un=(e.flags&131072)!==0}else un=!1,ft&&(n.flags&1048576)!==0&&Qd(n,Tl,n.index);switch(n.lanes=0,n.tag){case 2:var d=n.type;Gl(e,n),e=n.pendingProps;var g=Ji(n,Zt.current);ns(n,a),g=pc(null,n,d,e,g,a);var v=mc();return n.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,ln(d)?(v=!0,El(n)):v=!1,n.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,ac(n),g.updater=Ul,n.stateNode=g,g._reactInternals=n,wc(n,d,e,a),n=Ec(null,n,d,!0,v,a)):(n.tag=0,ft&&v&&Yu(n),tn(null,n,g,a),n=n.child),n;case 16:d=n.elementType;e:{switch(Gl(e,n),e=n.pendingProps,g=d._init,d=g(d._payload),n.type=d,g=n.tag=og(d),e=Jn(d,e),g){case 0:n=kc(null,n,d,e,a);break e;case 1:n=Wh(null,n,d,e,a);break e;case 11:n=Bh(null,n,d,e,a);break e;case 14:n=Uh(null,n,d,Jn(d.type,e),a);break e}throw Error(o(306,d,""))}return n;case 0:return d=n.type,g=n.pendingProps,g=n.elementType===d?g:Jn(d,g),kc(e,n,d,g,a);case 1:return d=n.type,g=n.pendingProps,g=n.elementType===d?g:Jn(d,g),Wh(e,n,d,g,a);case 3:e:{if(Vh(n),e===null)throw Error(o(387));d=n.pendingProps,v=n.memoizedState,g=v.element,ah(e,n),Ol(n,d,null,a);var S=n.memoizedState;if(d=S.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},n.updateQueue.baseState=v,n.memoizedState=v,n.flags&256){g=os(Error(o(423)),n),n=Zh(e,n,d,a,g);break e}else if(d!==g){g=os(Error(o(424)),n),n=Zh(e,n,d,a,g);break e}else for(Cn=dr(n.stateNode.containerInfo.firstChild),En=n,ft=!0,Kn=null,a=ih(n,null,d,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Xi(),d===g){n=Br(e,n,a);break e}tn(e,n,d,a)}n=n.child}return n;case 5:return ch(n),e===null&&ec(n),d=n.type,g=n.pendingProps,v=e!==null?e.memoizedProps:null,S=g.children,De(d,g)?S=null:v!==null&&De(d,v)&&(n.flags|=32),Hh(e,n),tn(e,n,S,a),n.child;case 6:return e===null&&ec(n),null;case 13:return qh(e,n,a);case 4:return lc(n,n.stateNode.containerInfo),d=n.pendingProps,e===null?n.child=es(n,null,d,a):tn(e,n,d,a),n.child;case 11:return d=n.type,g=n.pendingProps,g=n.elementType===d?g:Jn(d,g),Bh(e,n,d,g,a);case 7:return tn(e,n,n.pendingProps,a),n.child;case 8:return tn(e,n,n.pendingProps.children,a),n.child;case 12:return tn(e,n,n.pendingProps.children,a),n.child;case 10:e:{if(d=n.type._context,g=n.pendingProps,v=n.memoizedProps,S=g.value,at(Rl,d._currentValue),d._currentValue=S,v!==null)if(Sn(v.value,S)){if(v.children===g.children&&!an.current){n=Br(e,n,a);break e}}else for(v=n.child,v!==null&&(v.return=n);v!==null;){var A=v.dependencies;if(A!==null){S=v.child;for(var I=A.firstContext;I!==null;){if(I.context===d){if(v.tag===1){I=Fr(-1,a&-a),I.tag=2;var W=v.updateQueue;if(W!==null){W=W.shared;var te=W.pending;te===null?I.next=I:(I.next=te.next,te.next=I),W.pending=I}}v.lanes|=a,I=v.alternate,I!==null&&(I.lanes|=a),ic(v.return,a,n),A.lanes|=a;break}I=I.next}}else if(v.tag===10)S=v.type===n.type?null:v.child;else if(v.tag===18){if(S=v.return,S===null)throw Error(o(341));S.lanes|=a,A=S.alternate,A!==null&&(A.lanes|=a),ic(S,a,n),S=v.sibling}else S=v.child;if(S!==null)S.return=v;else for(S=v;S!==null;){if(S===n){S=null;break}if(v=S.sibling,v!==null){v.return=S.return,S=v;break}S=S.return}v=S}tn(e,n,g.children,a),n=n.child}return n;case 9:return g=n.type,d=n.pendingProps.children,ns(n,a),g=zn(g),d=d(g),n.flags|=1,tn(e,n,d,a),n.child;case 14:return d=n.type,g=Jn(d,n.pendingProps),g=Jn(d.type,g),Uh(e,n,d,g,a);case 15:return $h(e,n,n.type,n.pendingProps,a);case 17:return d=n.type,g=n.pendingProps,g=n.elementType===d?g:Jn(d,g),Gl(e,n),n.tag=1,ln(d)?(e=!0,El(n)):e=!1,ns(n,a),Ah(n,d,g),wc(n,d,g,a),Ec(null,n,d,!0,e,a);case 19:return Jh(e,n,a);case 22:return Gh(e,n,a)}throw Error(o(156,n.tag))};function wf(e,n){return Xa(e,n)}function rg(e,n,a,d){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(e,n,a,d){return new rg(e,n,a,d)}function Wc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function og(e){if(typeof e=="function")return Wc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ne)return 11;if(e===he)return 14}return 2}function Po(e,n){var a=e.alternate;return a===null?(a=Bn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function eu(e,n,a,d,g,v){var S=2;if(d=e,typeof e=="function")Wc(e)&&(S=1);else if(typeof e=="string")S=5;else e:switch(e){case me:return li(a.children,g,v,n);case K:S=8,g|=8;break;case J:return e=Bn(12,a,n,g|2),e.elementType=J,e.lanes=v,e;case Re:return e=Bn(13,a,n,g),e.elementType=Re,e.lanes=v,e;case ce:return e=Bn(19,a,n,g),e.elementType=ce,e.lanes=v,e;case Ce:return tu(a,g,v,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xe:S=10;break e;case ve:S=9;break e;case ne:S=11;break e;case he:S=14;break e;case fe:S=16,d=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return n=Bn(S,a,n,g),n.elementType=e,n.type=d,n.lanes=v,n}function li(e,n,a,d){return e=Bn(7,e,d,n),e.lanes=a,e}function tu(e,n,a,d){return e=Bn(22,e,d,n),e.elementType=Ce,e.lanes=a,e.stateNode={isHidden:!1},e}function Vc(e,n,a){return e=Bn(6,e,null,n),e.lanes=a,e}function Zc(e,n,a){return n=Bn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function ig(e,n,a,d,g){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qr(0),this.expirationTimes=Qr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qr(0),this.identifierPrefix=d,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function qc(e,n,a,d,g,v,S,A,I){return e=new ig(e,n,a,A,I),n===1?(n=1,v===!0&&(n|=8)):n=0,v=Bn(3,null,null,n),e.current=v,v.stateNode=e,v.memoizedState={element:d,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},ac(v),e}function sg(e,n,a){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:d==null?null:""+d,children:e,containerInfo:n,implementation:a}}function bf(e){if(!e)return yo;e=e._reactInternals;e:{if(rr(e)!==e||e.tag!==1)throw Error(o(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(ln(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(o(171))}if(e.tag===1){var a=e.type;if(ln(a))return Kd(e,a,n)}return n}function Sf(e,n,a,d,g,v,S,A,I){return e=qc(a,d,!0,e,g,v,S,A,I),e.context=bf(null),a=e.current,d=nn(),g=Eo(a),v=Fr(d,g),v.callback=n??null,wo(a,v,g),e.current.lanes=g,yn(e,g,d),dn(e,d),e}function nu(e,n,a,d){var g=n.current,v=nn(),S=Eo(g);return a=bf(a),n.context===null?n.context=a:n.pendingContext=a,n=Fr(v,S),n.payload={element:e},d=d===void 0?null:d,d!==null&&(n.callback=d),e=wo(g,n,S),e!==null&&(Xn(e,g,S,v),Al(e,g,S)),S}function ru(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kf(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Kc(e,n){kf(e,n),(e=e.alternate)&&kf(e,n)}function ag(){return null}var Ef=typeof reportError=="function"?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}ou.prototype.render=Jc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));nu(e,n,null,null)},ou.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;ii(function(){nu(null,e,null,null)}),n[Je]=null}};function ou(e){this._internalRoot=e}ou.prototype.unstable_scheduleHydration=function(e){if(e){var n=Li();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Rt.length&&n!==0&&n<Rt[a].priority;a++);Rt.splice(a,0,e),a===0&&Ri(e)}};function Yc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function iu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cf(){}function lg(e,n,a,d,g){if(g){if(typeof d=="function"){var v=d;d=function(){var W=ru(S);v.call(W)}}var S=Sf(n,d,e,0,null,!1,!1,"",Cf);return e._reactRootContainer=S,e[Je]=S.current,fo(e.nodeType===8?e.parentNode:e),ii(),S}for(;g=e.lastChild;)e.removeChild(g);if(typeof d=="function"){var A=d;d=function(){var W=ru(I);A.call(W)}}var I=qc(e,0,!1,null,null,!1,!1,"",Cf);return e._reactRootContainer=I,e[Je]=I.current,fo(e.nodeType===8?e.parentNode:e),ii(function(){nu(n,I,a,d)}),I}function su(e,n,a,d,g){var v=a._reactRootContainer;if(v){var S=v;if(typeof g=="function"){var A=g;g=function(){var I=ru(S);A.call(I)}}nu(n,S,e,g)}else S=lg(a,n,e,g,d);return ru(S)}Ti=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var a=Ie(n.pendingLanes);a!==0&&(Hn(n,a|1),dn(n,mt()),(qe&6)===0&&(as=mt()+500,_o()))}break;case 13:ii(function(){var d=Dr(e,1);if(d!==null){var g=nn();Xn(d,e,1,g)}}),Kc(e,1)}},Sr=function(e){if(e.tag===13){var n=Dr(e,134217728);if(n!==null){var a=nn();Xn(n,e,134217728,a)}Kc(e,134217728)}},Mi=function(e){if(e.tag===13){var n=Eo(e),a=Dr(e,n);if(a!==null){var d=nn();Xn(a,e,n,d)}Kc(e,n)}},Li=function(){return Ze},Bo=function(e,n){var a=Ze;try{return Ze=e,n()}finally{Ze=a}},wi=function(e,n,a){switch(n){case"input":if(it(e,a),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<a.length;n++){var d=a[n];if(d!==e&&d.form===e.form){var g=qi(d);if(!g)throw Error(o(90));rt(d),it(d,g)}}}break;case"textarea":nt(e,a);break;case"select":n=a.value,n!=null&&Ee(e,!!a.multiple,n,!1)}},Za=$c,qa=ii;var ug={usingClientEntryPoint:!1,Events:[Ar,Or,qi,Wa,Va,$c]},ka={findFiberByHostInstance:jr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cg={bundleType:ka.bundleType,version:ka.version,rendererPackageName:ka.rendererPackageName,rendererConfig:ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ya(e),e===null?null:e.stateNode},findFiberByHostInstance:ka.findFiberByHostInstance||ag,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{Do=au.inject(cg),vn=au}catch{}}return hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ug,hn.createPortal=function(e,n){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yc(n))throw Error(o(200));return sg(e,n,null,a)},hn.createRoot=function(e,n){if(!Yc(e))throw Error(o(299));var a=!1,d="",g=Ef;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(d=n.identifierPrefix),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=qc(e,1,!1,null,null,a,!1,d,g),e[Je]=n.current,fo(e.nodeType===8?e.parentNode:e),new Jc(n)},hn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=Ya(n),e=e===null?null:e.stateNode,e},hn.flushSync=function(e){return ii(e)},hn.hydrate=function(e,n,a){if(!iu(n))throw Error(o(200));return su(null,e,n,!0,a)},hn.hydrateRoot=function(e,n,a){if(!Yc(e))throw Error(o(405));var d=a!=null&&a.hydratedSources||null,g=!1,v="",S=Ef;if(a!=null&&(a.unstable_strictMode===!0&&(g=!0),a.identifierPrefix!==void 0&&(v=a.identifierPrefix),a.onRecoverableError!==void 0&&(S=a.onRecoverableError)),n=Sf(n,null,e,1,a??null,g,!1,v,S),e[Je]=n.current,fo(e),d)for(e=0;e<d.length;e++)a=d[e],g=a._getVersion,g=g(a._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[a,g]:n.mutableSourceEagerHydrationData.push(a,g);return new ou(n)},hn.render=function(e,n,a){if(!iu(n))throw Error(o(200));return su(null,e,n,!1,a)},hn.unmountComponentAtNode=function(e){if(!iu(e))throw Error(o(40));return e._reactRootContainer?(ii(function(){su(null,null,e,!1,function(){e._reactRootContainer=null,e[Je]=null})}),!0):!1},hn.unstable_batchedUpdates=$c,hn.unstable_renderSubtreeIntoContainer=function(e,n,a,d){if(!iu(a))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return su(e,n,a,!1,d)},hn.version="18.3.1-next-f1338f8080-20240426",hn}var Of;function Cp(){if(Of)return ed.exports;Of=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),ed.exports=xg(),ed.exports}var If;function wg(){if(If)return lu;If=1;var s=Cp();return lu.createRoot=s.createRoot,lu.hydrateRoot=s.hydrateRoot,lu}var bg=wg();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Nf="popstate";function Sg(s={}){function r(l,u){let{pathname:h,search:p,hash:_}=l.location;return vd("",{pathname:h,search:p,hash:_},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function o(l,u){return typeof u=="string"?u:Oa(u)}return Eg(r,o,null,s)}function _t(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function vr(s,r){if(!s){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function kg(){return Math.random().toString(36).substring(2,10)}function zf(s,r){return{usr:s.state,key:s.key,idx:r}}function vd(s,r,o=null,l){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof r=="string"?Ps(r):r,state:o,key:r&&r.key||l||kg()}}function Oa({pathname:s="/",search:r="",hash:o=""}){return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(s+=o.charAt(0)==="#"?o:"#"+o),s}function Ps(s){let r={};if(s){let o=s.indexOf("#");o>=0&&(r.hash=s.substring(o),s=s.substring(0,o));let l=s.indexOf("?");l>=0&&(r.search=s.substring(l),s=s.substring(0,l)),s&&(r.pathname=s)}return r}function Eg(s,r,o,l={}){let{window:u=document.defaultView,v5Compat:h=!1}=l,p=u.history,_="POP",y=null,w=b();w==null&&(w=0,p.replaceState({...p.state,idx:w},""));function b(){return(p.state||{idx:null}).idx}function C(){_="POP";let z=b(),Z=z==null?null:z-w;w=z,y&&y({action:_,location:j.location,delta:Z})}function M(z,Z){_="PUSH";let Y=vd(j.location,z,Z);w=b()+1;let G=zf(Y,w),X=j.createHref(Y);try{p.pushState(G,"",X)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;u.location.assign(X)}h&&y&&y({action:_,location:j.location,delta:1})}function T(z,Z){_="REPLACE";let Y=vd(j.location,z,Z);w=b();let G=zf(Y,w),X=j.createHref(Y);p.replaceState(G,"",X),h&&y&&y({action:_,location:j.location,delta:0})}function P(z){return Cg(z)}let j={get action(){return _},get location(){return s(u,p)},listen(z){if(y)throw new Error("A history only accepts one active listener");return u.addEventListener(Nf,C),y=z,()=>{u.removeEventListener(Nf,C),y=null}},createHref(z){return r(u,z)},createURL:P,encodeLocation(z){let Z=P(z);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:M,replace:T,go(z){return p.go(z)}};return j}function Cg(s,r=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),_t(o,"No window.location.(origin|href) available to create URL");let l=typeof s=="string"?s:Oa(s);return l=l.replace(/ $/,"%20"),!r&&l.startsWith("//")&&(l=o+l),new URL(l,o)}function Pp(s,r,o="/"){return Pg(s,r,o,!1)}function Pg(s,r,o,l){let u=typeof r=="string"?Ps(r):r,h=Zr(u.pathname||"/",o);if(h==null)return null;let p=Tp(s);Tg(p);let _=null;for(let y=0;_==null&&y<p.length;++y){let w=Fg(h);_=zg(p[y],w,l)}return _}function Tp(s,r=[],o=[],l=""){let u=(h,p,_)=>{let y={relativePath:_===void 0?h.path||"":_,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};y.relativePath.startsWith("/")&&(_t(y.relativePath.startsWith(l),`Absolute route path "${y.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(l.length));let w=Vr([l,y.relativePath]),b=o.concat(y);h.children&&h.children.length>0&&(_t(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),Tp(h.children,r,b,w)),!(h.path==null&&!h.index)&&r.push({path:w,score:Ig(w,h.index),routesMeta:b})};return s.forEach((h,p)=>{var _;if(h.path===""||!((_=h.path)!=null&&_.includes("?")))u(h,p);else for(let y of Mp(h.path))u(h,p,y)}),r}function Mp(s){let r=s.split("/");if(r.length===0)return[];let[o,...l]=r,u=o.endsWith("?"),h=o.replace(/\?$/,"");if(l.length===0)return u?[h,""]:[h];let p=Mp(l.join("/")),_=[];return _.push(...p.map(y=>y===""?h:[h,y].join("/"))),u&&_.push(...p),_.map(y=>s.startsWith("/")&&y===""?"/":y)}function Tg(s){s.sort((r,o)=>r.score!==o.score?o.score-r.score:Ng(r.routesMeta.map(l=>l.childrenIndex),o.routesMeta.map(l=>l.childrenIndex)))}var Mg=/^:[\w-]+$/,Lg=3,Rg=2,jg=1,Ag=10,Og=-2,Df=s=>s==="*";function Ig(s,r){let o=s.split("/"),l=o.length;return o.some(Df)&&(l+=Og),r&&(l+=Rg),o.filter(u=>!Df(u)).reduce((u,h)=>u+(Mg.test(h)?Lg:h===""?jg:Ag),l)}function Ng(s,r){return s.length===r.length&&s.slice(0,-1).every((l,u)=>l===r[u])?s[s.length-1]-r[r.length-1]:0}function zg(s,r,o=!1){let{routesMeta:l}=s,u={},h="/",p=[];for(let _=0;_<l.length;++_){let y=l[_],w=_===l.length-1,b=h==="/"?r:r.slice(h.length)||"/",C=gu({path:y.relativePath,caseSensitive:y.caseSensitive,end:w},b),M=y.route;if(!C&&w&&o&&!l[l.length-1].route.index&&(C=gu({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},b)),!C)return null;Object.assign(u,C.params),p.push({params:u,pathname:Vr([h,C.pathname]),pathnameBase:Gg(Vr([h,C.pathnameBase])),route:M}),C.pathnameBase!=="/"&&(h=Vr([h,C.pathnameBase]))}return p}function gu(s,r){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[o,l]=Dg(s.path,s.caseSensitive,s.end),u=r.match(o);if(!u)return null;let h=u[0],p=h.replace(/(.)\/+$/,"$1"),_=u.slice(1);return{params:l.reduce((w,{paramName:b,isOptional:C},M)=>{if(b==="*"){let P=_[M]||"";p=h.slice(0,h.length-P.length).replace(/(.)\/+$/,"$1")}const T=_[M];return C&&!T?w[b]=void 0:w[b]=(T||"").replace(/%2F/g,"/"),w},{}),pathname:h,pathnameBase:p,pattern:s}}function Dg(s,r=!1,o=!0){vr(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let l=[],u="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,_,y)=>(l.push({paramName:_,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(l.push({paramName:"*"}),u+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?u+="\\/*$":s!==""&&s!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,r?void 0:"i"),l]}function Fg(s){try{return s.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return vr(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),s}}function Zr(s,r){if(r==="/")return s;if(!s.toLowerCase().startsWith(r.toLowerCase()))return null;let o=r.endsWith("/")?r.length-1:r.length,l=s.charAt(o);return l&&l!=="/"?null:s.slice(o)||"/"}function Bg(s,r="/"){let{pathname:o,search:l="",hash:u=""}=typeof s=="string"?Ps(s):s;return{pathname:o?o.startsWith("/")?o:Ug(o,r):r,search:Hg(l),hash:Wg(u)}}function Ug(s,r){let o=r.replace(/\/+$/,"").split("/");return s.split("/").forEach(u=>{u===".."?o.length>1&&o.pop():u!=="."&&o.push(u)}),o.length>1?o.join("/"):"/"}function rd(s,r,o,l){return`Cannot include a '${s}' character in a manually specified \`to.${r}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $g(s){return s.filter((r,o)=>o===0||r.route.path&&r.route.path.length>0)}function Lp(s){let r=$g(s);return r.map((o,l)=>l===r.length-1?o.pathname:o.pathnameBase)}function Rp(s,r,o,l=!1){let u;typeof s=="string"?u=Ps(s):(u={...s},_t(!u.pathname||!u.pathname.includes("?"),rd("?","pathname","search",u)),_t(!u.pathname||!u.pathname.includes("#"),rd("#","pathname","hash",u)),_t(!u.search||!u.search.includes("#"),rd("#","search","hash",u)));let h=s===""||u.pathname==="",p=h?"/":u.pathname,_;if(p==null)_=o;else{let C=r.length-1;if(!l&&p.startsWith("..")){let M=p.split("/");for(;M[0]==="..";)M.shift(),C-=1;u.pathname=M.join("/")}_=C>=0?r[C]:"/"}let y=Bg(u,_),w=p&&p!=="/"&&p.endsWith("/"),b=(h||p===".")&&o.endsWith("/");return!y.pathname.endsWith("/")&&(w||b)&&(y.pathname+="/"),y}var Vr=s=>s.join("/").replace(/\/\/+/g,"/"),Gg=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Hg=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Wg=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Vg(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var jp=["POST","PUT","PATCH","DELETE"];new Set(jp);var Zg=["GET",...jp];new Set(Zg);var Ts=k.createContext(null);Ts.displayName="DataRouter";var xu=k.createContext(null);xu.displayName="DataRouterState";k.createContext(!1);var Ap=k.createContext({isTransitioning:!1});Ap.displayName="ViewTransition";var qg=k.createContext(new Map);qg.displayName="Fetchers";var Kg=k.createContext(null);Kg.displayName="Await";var yr=k.createContext(null);yr.displayName="Navigation";var za=k.createContext(null);za.displayName="Location";var qr=k.createContext({outlet:null,matches:[],isDataRoute:!1});qr.displayName="Route";var Od=k.createContext(null);Od.displayName="RouteError";function Jg(s,{relative:r}={}){_t(Da(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:l}=k.useContext(yr),{hash:u,pathname:h,search:p}=Fa(s,{relative:r}),_=h;return o!=="/"&&(_=h==="/"?o:Vr([o,h])),l.createHref({pathname:_,search:p,hash:u})}function Da(){return k.useContext(za)!=null}function yi(){return _t(Da(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(za).location}var Op="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ip(s){k.useContext(yr).static||k.useLayoutEffect(s)}function Yg(){let{isDataRoute:s}=k.useContext(qr);return s?cv():Qg()}function Qg(){_t(Da(),"useNavigate() may be used only in the context of a <Router> component.");let s=k.useContext(Ts),{basename:r,navigator:o}=k.useContext(yr),{matches:l}=k.useContext(qr),{pathname:u}=yi(),h=JSON.stringify(Lp(l)),p=k.useRef(!1);return Ip(()=>{p.current=!0}),k.useCallback((y,w={})=>{if(vr(p.current,Op),!p.current)return;if(typeof y=="number"){o.go(y);return}let b=Rp(y,JSON.parse(h),u,w.relative==="path");s==null&&r!=="/"&&(b.pathname=b.pathname==="/"?r:Vr([r,b.pathname])),(w.replace?o.replace:o.push)(b,w.state,w)},[r,o,h,u,s])}k.createContext(null);function Fa(s,{relative:r}={}){let{matches:o}=k.useContext(qr),{pathname:l}=yi(),u=JSON.stringify(Lp(o));return k.useMemo(()=>Rp(s,JSON.parse(u),l,r==="path"),[s,u,l,r])}function Xg(s,r){return Np(s,r)}function Np(s,r,o,l){var Z;_t(Da(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=k.useContext(yr),{matches:h}=k.useContext(qr),p=h[h.length-1],_=p?p.params:{},y=p?p.pathname:"/",w=p?p.pathnameBase:"/",b=p&&p.route;{let Y=b&&b.path||"";zp(y,!b||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let C=yi(),M;if(r){let Y=typeof r=="string"?Ps(r):r;_t(w==="/"||((Z=Y.pathname)==null?void 0:Z.startsWith(w)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),M=Y}else M=C;let T=M.pathname||"/",P=T;if(w!=="/"){let Y=w.replace(/^\//,"").split("/");P="/"+T.replace(/^\//,"").split("/").slice(Y.length).join("/")}let j=Pp(s,{pathname:P});vr(b||j!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),vr(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=ov(j&&j.map(Y=>Object.assign({},Y,{params:Object.assign({},_,Y.params),pathname:Vr([w,u.encodeLocation?u.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?w:Vr([w,u.encodeLocation?u.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),h,o,l);return r&&z?k.createElement(za.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},z):z}function ev(){let s=uv(),r=Vg(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),o=s instanceof Error?s.stack:null,l="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:l},h={padding:"2px 4px",backgroundColor:l},p=null;return console.error("Error handled by React Router default ErrorBoundary:",s),p=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:h},"ErrorBoundary")," or"," ",k.createElement("code",{style:h},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},r),o?k.createElement("pre",{style:u},o):null,p)}var tv=k.createElement(ev,null),nv=class extends k.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?k.createElement(qr.Provider,{value:this.props.routeContext},k.createElement(Od.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rv({routeContext:s,match:r,children:o}){let l=k.useContext(Ts);return l&&l.static&&l.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(qr.Provider,{value:s},o)}function ov(s,r=[],o=null,l=null){if(s==null){if(!o)return null;if(o.errors)s=o.matches;else if(r.length===0&&!o.initialized&&o.matches.length>0)s=o.matches;else return null}let u=s,h=o==null?void 0:o.errors;if(h!=null){let y=u.findIndex(w=>w.route.id&&(h==null?void 0:h[w.route.id])!==void 0);_t(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let p=!1,_=-1;if(o)for(let y=0;y<u.length;y++){let w=u[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(_=y),w.route.id){let{loaderData:b,errors:C}=o,M=w.route.loader&&!b.hasOwnProperty(w.route.id)&&(!C||C[w.route.id]===void 0);if(w.route.lazy||M){p=!0,_>=0?u=u.slice(0,_+1):u=[u[0]];break}}}return u.reduceRight((y,w,b)=>{let C,M=!1,T=null,P=null;o&&(C=h&&w.route.id?h[w.route.id]:void 0,T=w.route.errorElement||tv,p&&(_<0&&b===0?(zp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,P=null):_===b&&(M=!0,P=w.route.hydrateFallbackElement||null)));let j=r.concat(u.slice(0,b+1)),z=()=>{let Z;return C?Z=T:M?Z=P:w.route.Component?Z=k.createElement(w.route.Component,null):w.route.element?Z=w.route.element:Z=y,k.createElement(rv,{match:w,routeContext:{outlet:y,matches:j,isDataRoute:o!=null},children:Z})};return o&&(w.route.ErrorBoundary||w.route.errorElement||b===0)?k.createElement(nv,{location:o.location,revalidation:o.revalidation,component:T,error:C,children:z(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):z()},null)}function Id(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iv(s){let r=k.useContext(Ts);return _t(r,Id(s)),r}function sv(s){let r=k.useContext(xu);return _t(r,Id(s)),r}function av(s){let r=k.useContext(qr);return _t(r,Id(s)),r}function Nd(s){let r=av(s),o=r.matches[r.matches.length-1];return _t(o.route.id,`${s} can only be used on routes that contain a unique "id"`),o.route.id}function lv(){return Nd("useRouteId")}function uv(){var l;let s=k.useContext(Od),r=sv("useRouteError"),o=Nd("useRouteError");return s!==void 0?s:(l=r.errors)==null?void 0:l[o]}function cv(){let{router:s}=iv("useNavigate"),r=Nd("useNavigate"),o=k.useRef(!1);return Ip(()=>{o.current=!0}),k.useCallback(async(u,h={})=>{vr(o.current,Op),o.current&&(typeof u=="number"?s.navigate(u):await s.navigate(u,{fromRouteId:r,...h}))},[s,r])}var Ff={};function zp(s,r,o){!r&&!Ff[s]&&(Ff[s]=!0,vr(!1,o))}k.memo(dv);function dv({routes:s,future:r,state:o}){return Np(s,void 0,o,r)}function Lo(s){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hv({basename:s="/",children:r=null,location:o,navigationType:l="POP",navigator:u,static:h=!1}){_t(!Da(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=s.replace(/^\/*/,"/"),_=k.useMemo(()=>({basename:p,navigator:u,static:h,future:{}}),[p,u,h]);typeof o=="string"&&(o=Ps(o));let{pathname:y="/",search:w="",hash:b="",state:C=null,key:M="default"}=o,T=k.useMemo(()=>{let P=Zr(y,p);return P==null?null:{location:{pathname:P,search:w,hash:b,state:C,key:M},navigationType:l}},[p,y,w,b,C,M,l]);return vr(T!=null,`<Router basename="${p}"> is not able to match the URL "${y}${w}${b}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:k.createElement(yr.Provider,{value:_},k.createElement(za.Provider,{children:r,value:T}))}function fv({children:s,location:r}){return Xg(yd(s),r)}function yd(s,r=[]){let o=[];return k.Children.forEach(s,(l,u)=>{if(!k.isValidElement(l))return;let h=[...r,u];if(l.type===k.Fragment){o.push.apply(o,yd(l.props.children,h));return}_t(l.type===Lo,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!l.props.index||!l.props.children,"An index route cannot have child routes.");let p={id:l.props.id||h.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(p.children=yd(l.props.children,h)),o.push(p)}),o}var pu="get",mu="application/x-www-form-urlencoded";function wu(s){return s!=null&&typeof s.tagName=="string"}function pv(s){return wu(s)&&s.tagName.toLowerCase()==="button"}function mv(s){return wu(s)&&s.tagName.toLowerCase()==="form"}function gv(s){return wu(s)&&s.tagName.toLowerCase()==="input"}function vv(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function yv(s,r){return s.button===0&&(!r||r==="_self")&&!vv(s)}var uu=null;function _v(){if(uu===null)try{new FormData(document.createElement("form"),0),uu=!1}catch{uu=!0}return uu}var xv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function od(s){return s!=null&&!xv.has(s)?(vr(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mu}"`),null):s}function wv(s,r){let o,l,u,h,p;if(mv(s)){let _=s.getAttribute("action");l=_?Zr(_,r):null,o=s.getAttribute("method")||pu,u=od(s.getAttribute("enctype"))||mu,h=new FormData(s)}else if(pv(s)||gv(s)&&(s.type==="submit"||s.type==="image")){let _=s.form;if(_==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=s.getAttribute("formaction")||_.getAttribute("action");if(l=y?Zr(y,r):null,o=s.getAttribute("formmethod")||_.getAttribute("method")||pu,u=od(s.getAttribute("formenctype"))||od(_.getAttribute("enctype"))||mu,h=new FormData(_,s),!_v()){let{name:w,type:b,value:C}=s;if(b==="image"){let M=w?`${w}.`:"";h.append(`${M}x`,"0"),h.append(`${M}y`,"0")}else w&&h.append(w,C)}}else{if(wu(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=pu,l=null,u=mu,p=s}return h&&u==="text/plain"&&(p=h,h=void 0),{action:l,method:o.toLowerCase(),encType:u,formData:h,body:p}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zd(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function bv(s,r,o){let l=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return l.pathname==="/"?l.pathname=`_root.${o}`:r&&Zr(l.pathname,r)==="/"?l.pathname=`${r.replace(/\/$/,"")}/_root.${o}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${o}`,l}async function Sv(s,r){if(s.id in r)return r[s.id];try{let o=await import(s.module);return r[s.id]=o,o}catch(o){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kv(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Ev(s,r,o){let l=await Promise.all(s.map(async u=>{let h=r.routes[u.route.id];if(h){let p=await Sv(h,o);return p.links?p.links():[]}return[]}));return Mv(l.flat(1).filter(kv).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function Bf(s,r,o,l,u,h){let p=(y,w)=>o[w]?y.route.id!==o[w].route.id:!0,_=(y,w)=>{var b;return o[w].pathname!==y.pathname||((b=o[w].route.path)==null?void 0:b.endsWith("*"))&&o[w].params["*"]!==y.params["*"]};return h==="assets"?r.filter((y,w)=>p(y,w)||_(y,w)):h==="data"?r.filter((y,w)=>{var C;let b=l.routes[y.route.id];if(!b||!b.hasLoader)return!1;if(p(y,w)||_(y,w))return!0;if(y.route.shouldRevalidate){let M=y.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:((C=o[0])==null?void 0:C.params)||{},nextUrl:new URL(s,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof M=="boolean")return M}return!0}):[]}function Cv(s,r,{includeHydrateFallback:o}={}){return Pv(s.map(l=>{let u=r.routes[l.route.id];if(!u)return[];let h=[u.module];return u.clientActionModule&&(h=h.concat(u.clientActionModule)),u.clientLoaderModule&&(h=h.concat(u.clientLoaderModule)),o&&u.hydrateFallbackModule&&(h=h.concat(u.hydrateFallbackModule)),u.imports&&(h=h.concat(u.imports)),h}).flat(1))}function Pv(s){return[...new Set(s)]}function Tv(s){let r={},o=Object.keys(s).sort();for(let l of o)r[l]=s[l];return r}function Mv(s,r){let o=new Set;return new Set(r),s.reduce((l,u)=>{let h=JSON.stringify(Tv(u));return o.has(h)||(o.add(h),l.push({key:h,link:u})),l},[])}function Dp(){let s=k.useContext(Ts);return zd(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Lv(){let s=k.useContext(xu);return zd(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Dd=k.createContext(void 0);Dd.displayName="FrameworkContext";function Fp(){let s=k.useContext(Dd);return zd(s,"You must render this element inside a <HydratedRouter> element"),s}function Rv(s,r){let o=k.useContext(Dd),[l,u]=k.useState(!1),[h,p]=k.useState(!1),{onFocus:_,onBlur:y,onMouseEnter:w,onMouseLeave:b,onTouchStart:C}=r,M=k.useRef(null);k.useEffect(()=>{if(s==="render"&&p(!0),s==="viewport"){let j=Z=>{Z.forEach(Y=>{p(Y.isIntersecting)})},z=new IntersectionObserver(j,{threshold:.5});return M.current&&z.observe(M.current),()=>{z.disconnect()}}},[s]),k.useEffect(()=>{if(l){let j=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(j)}}},[l]);let T=()=>{u(!0)},P=()=>{u(!1),p(!1)};return o?s!=="intent"?[h,M,{}]:[h,M,{onFocus:Ca(_,T),onBlur:Ca(y,P),onMouseEnter:Ca(w,T),onMouseLeave:Ca(b,P),onTouchStart:Ca(C,T)}]:[!1,M,{}]}function Ca(s,r){return o=>{s&&s(o),o.defaultPrevented||r(o)}}function jv({page:s,...r}){let{router:o}=Dp(),l=k.useMemo(()=>Pp(o.routes,s,o.basename),[o.routes,s,o.basename]);return l?k.createElement(Ov,{page:s,matches:l,...r}):null}function Av(s){let{manifest:r,routeModules:o}=Fp(),[l,u]=k.useState([]);return k.useEffect(()=>{let h=!1;return Ev(s,r,o).then(p=>{h||u(p)}),()=>{h=!0}},[s,r,o]),l}function Ov({page:s,matches:r,...o}){let l=yi(),{manifest:u,routeModules:h}=Fp(),{basename:p}=Dp(),{loaderData:_,matches:y}=Lv(),w=k.useMemo(()=>Bf(s,r,y,u,l,"data"),[s,r,y,u,l]),b=k.useMemo(()=>Bf(s,r,y,u,l,"assets"),[s,r,y,u,l]),C=k.useMemo(()=>{if(s===l.pathname+l.search+l.hash)return[];let P=new Set,j=!1;if(r.forEach(Z=>{var G;let Y=u.routes[Z.route.id];!Y||!Y.hasLoader||(!w.some(X=>X.route.id===Z.route.id)&&Z.route.id in _&&((G=h[Z.route.id])!=null&&G.shouldRevalidate)||Y.hasClientLoader?j=!0:P.add(Z.route.id))}),P.size===0)return[];let z=bv(s,p,"data");return j&&P.size>0&&z.searchParams.set("_routes",r.filter(Z=>P.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[z.pathname+z.search]},[p,_,l,u,w,r,s,h]),M=k.useMemo(()=>Cv(b,u),[b,u]),T=Av(b);return k.createElement(k.Fragment,null,C.map(P=>k.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...o})),M.map(P=>k.createElement("link",{key:P,rel:"modulepreload",href:P,...o})),T.map(({key:P,link:j})=>k.createElement("link",{key:P,...j})))}function Iv(...s){return r=>{s.forEach(o=>{typeof o=="function"?o(r):o!=null&&(o.current=r)})}}var Bp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Bp&&(window.__reactRouterVersion="7.7.0")}catch{}function Nv({basename:s,children:r,window:o}){let l=k.useRef();l.current==null&&(l.current=Sg({window:o,v5Compat:!0}));let u=l.current,[h,p]=k.useState({action:u.action,location:u.location}),_=k.useCallback(y=>{k.startTransition(()=>p(y))},[p]);return k.useLayoutEffect(()=>u.listen(_),[u,_]),k.createElement(hv,{basename:s,children:r,location:h.location,navigationType:h.action,navigator:u})}var Up=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bs=k.forwardRef(function({onClick:r,discover:o="render",prefetch:l="none",relative:u,reloadDocument:h,replace:p,state:_,target:y,to:w,preventScrollReset:b,viewTransition:C,...M},T){let{basename:P}=k.useContext(yr),j=typeof w=="string"&&Up.test(w),z,Z=!1;if(typeof w=="string"&&j&&(z=w,Bp))try{let J=new URL(window.location.href),xe=w.startsWith("//")?new URL(J.protocol+w):new URL(w),ve=Zr(xe.pathname,P);xe.origin===J.origin&&ve!=null?w=ve+xe.search+xe.hash:Z=!0}catch{vr(!1,`<Link to="${w}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=Jg(w,{relative:u}),[G,X,oe]=Rv(l,M),se=Bv(w,{replace:p,state:_,target:y,preventScrollReset:b,relative:u,viewTransition:C});function me(J){r&&r(J),J.defaultPrevented||se(J)}let K=k.createElement("a",{...M,...oe,href:z||Y,onClick:Z||h?r:me,ref:Iv(T,X),target:y,"data-discover":!j&&o==="render"?"true":void 0});return G&&!j?k.createElement(k.Fragment,null,K,k.createElement(jv,{page:Y})):K});bs.displayName="Link";var zv=k.forwardRef(function({"aria-current":r="page",caseSensitive:o=!1,className:l="",end:u=!1,style:h,to:p,viewTransition:_,children:y,...w},b){let C=Fa(p,{relative:w.relative}),M=yi(),T=k.useContext(xu),{navigator:P,basename:j}=k.useContext(yr),z=T!=null&&Wv(C)&&_===!0,Z=P.encodeLocation?P.encodeLocation(C).pathname:C.pathname,Y=M.pathname,G=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;o||(Y=Y.toLowerCase(),G=G?G.toLowerCase():null,Z=Z.toLowerCase()),G&&j&&(G=Zr(G,j)||G);const X=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let oe=Y===Z||!u&&Y.startsWith(Z)&&Y.charAt(X)==="/",se=G!=null&&(G===Z||!u&&G.startsWith(Z)&&G.charAt(Z.length)==="/"),me={isActive:oe,isPending:se,isTransitioning:z},K=oe?r:void 0,J;typeof l=="function"?J=l(me):J=[l,oe?"active":null,se?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let xe=typeof h=="function"?h(me):h;return k.createElement(bs,{...w,"aria-current":K,className:J,ref:b,style:xe,to:p,viewTransition:_},typeof y=="function"?y(me):y)});zv.displayName="NavLink";var Dv=k.forwardRef(({discover:s="render",fetcherKey:r,navigate:o,reloadDocument:l,replace:u,state:h,method:p=pu,action:_,onSubmit:y,relative:w,preventScrollReset:b,viewTransition:C,...M},T)=>{let P=Gv(),j=Hv(_,{relative:w}),z=p.toLowerCase()==="get"?"get":"post",Z=typeof _=="string"&&Up.test(_),Y=G=>{if(y&&y(G),G.defaultPrevented)return;G.preventDefault();let X=G.nativeEvent.submitter,oe=(X==null?void 0:X.getAttribute("formmethod"))||p;P(X||G.currentTarget,{fetcherKey:r,method:oe,navigate:o,replace:u,state:h,relative:w,preventScrollReset:b,viewTransition:C})};return k.createElement("form",{ref:T,method:z,action:j,onSubmit:l?y:Y,...M,"data-discover":!Z&&s==="render"?"true":void 0})});Dv.displayName="Form";function Fv(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $p(s){let r=k.useContext(Ts);return _t(r,Fv(s)),r}function Bv(s,{target:r,replace:o,state:l,preventScrollReset:u,relative:h,viewTransition:p}={}){let _=Yg(),y=yi(),w=Fa(s,{relative:h});return k.useCallback(b=>{if(yv(b,r)){b.preventDefault();let C=o!==void 0?o:Oa(y)===Oa(w);_(s,{replace:C,state:l,preventScrollReset:u,relative:h,viewTransition:p})}},[y,_,w,o,l,r,s,u,h,p])}var Uv=0,$v=()=>`__${String(++Uv)}__`;function Gv(){let{router:s}=$p("useSubmit"),{basename:r}=k.useContext(yr),o=lv();return k.useCallback(async(l,u={})=>{let{action:h,method:p,encType:_,formData:y,body:w}=wv(l,r);if(u.navigate===!1){let b=u.fetcherKey||$v();await s.fetch(b,o,u.action||h,{preventScrollReset:u.preventScrollReset,formData:y,body:w,formMethod:u.method||p,formEncType:u.encType||_,flushSync:u.flushSync})}else await s.navigate(u.action||h,{preventScrollReset:u.preventScrollReset,formData:y,body:w,formMethod:u.method||p,formEncType:u.encType||_,replace:u.replace,state:u.state,fromRouteId:o,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,r,o])}function Hv(s,{relative:r}={}){let{basename:o}=k.useContext(yr),l=k.useContext(qr);_t(l,"useFormAction must be used inside a RouteContext");let[u]=l.matches.slice(-1),h={...Fa(s||".",{relative:r})},p=yi();if(s==null){h.search=p.search;let _=new URLSearchParams(h.search),y=_.getAll("index");if(y.some(b=>b==="")){_.delete("index"),y.filter(C=>C).forEach(C=>_.append("index",C));let b=_.toString();h.search=b?`?${b}`:""}}return(!s||s===".")&&u.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(h.pathname=h.pathname==="/"?o:Vr([o,h.pathname])),Oa(h)}function Wv(s,r={}){let o=k.useContext(Ap);_t(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=$p("useViewTransitionState"),u=Fa(s,{relative:r.relative});if(!o.isTransitioning)return!1;let h=Zr(o.currentLocation.pathname,l)||o.currentLocation.pathname,p=Zr(o.nextLocation.pathname,l)||o.nextLocation.pathname;return gu(u.pathname,p)!=null||gu(u.pathname,h)!=null}var Vv=Cp();const Zv="modulepreload",qv=function(s){return"/geosantos/"+s},Uf={},Ba=function(r,o,l){let u=Promise.resolve();if(o&&o.length>0){let p=function(w){return Promise.all(w.map(b=>Promise.resolve(b).then(C=>({status:"fulfilled",value:C}),C=>({status:"rejected",reason:C}))))};document.getElementsByTagName("link");const _=document.querySelector("meta[property=csp-nonce]"),y=(_==null?void 0:_.nonce)||(_==null?void 0:_.getAttribute("nonce"));u=p(o.map(w=>{if(w=qv(w),w in Uf)return;Uf[w]=!0;const b=w.endsWith(".css"),C=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${w}"]${C}`))return;const M=document.createElement("link");if(M.rel=b?"stylesheet":Zv,b||(M.as="script"),M.crossOrigin="",M.href=w,y&&M.setAttribute("nonce",y),document.head.appendChild(M),b)return new Promise((T,P)=>{M.addEventListener("load",T),M.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${w}`)))})}))}function h(p){const _=new Event("vite:preloadError",{cancelable:!0});if(_.payload=p,window.dispatchEvent(_),!_.defaultPrevented)throw p}return u.then(p=>{for(const _ of p||[])_.status==="rejected"&&h(_.reason);return r().catch(h)})},Kv=s=>{let r;return s?r=s:typeof fetch>"u"?r=(...o)=>Ba(async()=>{const{default:l}=await Promise.resolve().then(()=>Ms);return{default:l}},[]).then(({default:l})=>l(...o)):r=fetch,(...o)=>r(...o)};class Fd extends Error{constructor(r,o="FunctionsError",l){super(r),this.name=o,this.context=l}}class Jv extends Fd{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class $f extends Fd{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Gf extends Fd{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var _d;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(_d||(_d={}));var Yv=function(s,r,o,l){function u(h){return h instanceof o?h:new o(function(p){p(h)})}return new(o||(o=Promise))(function(h,p){function _(b){try{w(l.next(b))}catch(C){p(C)}}function y(b){try{w(l.throw(b))}catch(C){p(C)}}function w(b){b.done?h(b.value):u(b.value).then(_,y)}w((l=l.apply(s,r||[])).next())})};class Qv{constructor(r,{headers:o={},customFetch:l,region:u=_d.Any}={}){this.url=r,this.headers=o,this.region=u,this.fetch=Kv(l)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,o={}){var l;return Yv(this,void 0,void 0,function*(){try{const{headers:u,method:h,body:p}=o;let _={},{region:y}=o;y||(y=this.region);const w=new URL(`${this.url}/${r}`);y&&y!=="any"&&(_["x-region"]=y,w.searchParams.set("forceFunctionRegion",y));let b;p&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)&&(typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",b=p):typeof p=="string"?(_["Content-Type"]="text/plain",b=p):typeof FormData<"u"&&p instanceof FormData?b=p:(_["Content-Type"]="application/json",b=JSON.stringify(p)));const C=yield this.fetch(w.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),u),body:b}).catch(j=>{throw new Jv(j)}),M=C.headers.get("x-relay-error");if(M&&M==="true")throw new $f(C);if(!C.ok)throw new Gf(C);let T=((l=C.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),P;return T==="application/json"?P=yield C.json():T==="application/octet-stream"?P=yield C.blob():T==="text/event-stream"?P=C:T==="multipart/form-data"?P=yield C.formData():P=yield C.text(),{data:P,error:null,response:C}}catch(u){return{data:null,error:u,response:u instanceof Gf||u instanceof $f?u.context:void 0}}})}}var Ft={},us={},cs={},ds={},hs={},fs={},Xv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ss=Xv();const ey=Ss.fetch,Gp=Ss.fetch.bind(Ss),Hp=Ss.Headers,ty=Ss.Request,ny=Ss.Response,Ms=Object.freeze(Object.defineProperty({__proto__:null,Headers:Hp,Request:ty,Response:ny,default:Gp,fetch:ey},Symbol.toStringTag,{value:"Module"})),ry=pg(Ms);var cu={},Hf;function Wp(){if(Hf)return cu;Hf=1,Object.defineProperty(cu,"__esModule",{value:!0});class s extends Error{constructor(o){super(o.message),this.name="PostgrestError",this.details=o.details,this.hint=o.hint,this.code=o.code}}return cu.default=s,cu}var Wf;function Vp(){if(Wf)return fs;Wf=1;var s=fs&&fs.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(fs,"__esModule",{value:!0});const r=s(ry),o=s(Wp());class l{constructor(h){this.shouldThrowOnError=!1,this.method=h.method,this.url=h.url,this.headers=h.headers,this.schema=h.schema,this.body=h.body,this.shouldThrowOnError=h.shouldThrowOnError,this.signal=h.signal,this.isMaybeSingle=h.isMaybeSingle,h.fetch?this.fetch=h.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(h,p){return this.headers=Object.assign({},this.headers),this.headers[h]=p,this}then(h,p){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const _=this.fetch;let y=_(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async w=>{var b,C,M;let T=null,P=null,j=null,z=w.status,Z=w.statusText;if(w.ok){if(this.method!=="HEAD"){const oe=await w.text();oe===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?P=oe:P=JSON.parse(oe))}const G=(b=this.headers.Prefer)===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),X=(C=w.headers.get("content-range"))===null||C===void 0?void 0:C.split("/");G&&X&&X.length>1&&(j=parseInt(X[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(P)&&(P.length>1?(T={code:"PGRST116",details:`Results contain ${P.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},P=null,j=null,z=406,Z="Not Acceptable"):P.length===1?P=P[0]:P=null)}else{const G=await w.text();try{T=JSON.parse(G),Array.isArray(T)&&w.status===404&&(P=[],T=null,z=200,Z="OK")}catch{w.status===404&&G===""?(z=204,Z="No Content"):T={message:G}}if(T&&this.isMaybeSingle&&(!((M=T==null?void 0:T.details)===null||M===void 0)&&M.includes("0 rows"))&&(T=null,z=200,Z="OK"),T&&this.shouldThrowOnError)throw new o.default(T)}return{error:T,data:P,count:j,status:z,statusText:Z}});return this.shouldThrowOnError||(y=y.catch(w=>{var b,C,M;return{error:{message:`${(b=w==null?void 0:w.name)!==null&&b!==void 0?b:"FetchError"}: ${w==null?void 0:w.message}`,details:`${(C=w==null?void 0:w.stack)!==null&&C!==void 0?C:""}`,hint:"",code:`${(M=w==null?void 0:w.code)!==null&&M!==void 0?M:""}`},data:null,count:null,status:0,statusText:""}})),y.then(h,p)}returns(){return this}overrideTypes(){return this}}return fs.default=l,fs}var Vf;function Zp(){if(Vf)return hs;Vf=1;var s=hs&&hs.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(hs,"__esModule",{value:!0});const r=s(Vp());class o extends r.default{select(u){let h=!1;const p=(u??"*").split("").map(_=>/\s/.test(_)&&!h?"":(_==='"'&&(h=!h),_)).join("");return this.url.searchParams.set("select",p),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(u,{ascending:h=!0,nullsFirst:p,foreignTable:_,referencedTable:y=_}={}){const w=y?`${y}.order`:"order",b=this.url.searchParams.get(w);return this.url.searchParams.set(w,`${b?`${b},`:""}${u}.${h?"asc":"desc"}${p===void 0?"":p?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:h,referencedTable:p=h}={}){const _=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(_,`${u}`),this}range(u,h,{foreignTable:p,referencedTable:_=p}={}){const y=typeof _>"u"?"offset":`${_}.offset`,w=typeof _>"u"?"limit":`${_}.limit`;return this.url.searchParams.set(y,`${u}`),this.url.searchParams.set(w,`${h-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:u=!1,verbose:h=!1,settings:p=!1,buffers:_=!1,wal:y=!1,format:w="text"}={}){var b;const C=[u?"analyze":null,h?"verbose":null,p?"settings":null,_?"buffers":null,y?"wal":null].filter(Boolean).join("|"),M=(b=this.headers.Accept)!==null&&b!==void 0?b:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${w}; for="${M}"; options=${C};`,w==="json"?this:this}rollback(){var u;return((u=this.headers.Prefer)!==null&&u!==void 0?u:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return hs.default=o,hs}var Zf;function Bd(){if(Zf)return ds;Zf=1;var s=ds&&ds.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ds,"__esModule",{value:!0});const r=s(Zp());class o extends r.default{eq(u,h){return this.url.searchParams.append(u,`eq.${h}`),this}neq(u,h){return this.url.searchParams.append(u,`neq.${h}`),this}gt(u,h){return this.url.searchParams.append(u,`gt.${h}`),this}gte(u,h){return this.url.searchParams.append(u,`gte.${h}`),this}lt(u,h){return this.url.searchParams.append(u,`lt.${h}`),this}lte(u,h){return this.url.searchParams.append(u,`lte.${h}`),this}like(u,h){return this.url.searchParams.append(u,`like.${h}`),this}likeAllOf(u,h){return this.url.searchParams.append(u,`like(all).{${h.join(",")}}`),this}likeAnyOf(u,h){return this.url.searchParams.append(u,`like(any).{${h.join(",")}}`),this}ilike(u,h){return this.url.searchParams.append(u,`ilike.${h}`),this}ilikeAllOf(u,h){return this.url.searchParams.append(u,`ilike(all).{${h.join(",")}}`),this}ilikeAnyOf(u,h){return this.url.searchParams.append(u,`ilike(any).{${h.join(",")}}`),this}is(u,h){return this.url.searchParams.append(u,`is.${h}`),this}in(u,h){const p=Array.from(new Set(h)).map(_=>typeof _=="string"&&new RegExp("[,()]").test(_)?`"${_}"`:`${_}`).join(",");return this.url.searchParams.append(u,`in.(${p})`),this}contains(u,h){return typeof h=="string"?this.url.searchParams.append(u,`cs.${h}`):Array.isArray(h)?this.url.searchParams.append(u,`cs.{${h.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(h)}`),this}containedBy(u,h){return typeof h=="string"?this.url.searchParams.append(u,`cd.${h}`):Array.isArray(h)?this.url.searchParams.append(u,`cd.{${h.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(h)}`),this}rangeGt(u,h){return this.url.searchParams.append(u,`sr.${h}`),this}rangeGte(u,h){return this.url.searchParams.append(u,`nxl.${h}`),this}rangeLt(u,h){return this.url.searchParams.append(u,`sl.${h}`),this}rangeLte(u,h){return this.url.searchParams.append(u,`nxr.${h}`),this}rangeAdjacent(u,h){return this.url.searchParams.append(u,`adj.${h}`),this}overlaps(u,h){return typeof h=="string"?this.url.searchParams.append(u,`ov.${h}`):this.url.searchParams.append(u,`ov.{${h.join(",")}}`),this}textSearch(u,h,{config:p,type:_}={}){let y="";_==="plain"?y="pl":_==="phrase"?y="ph":_==="websearch"&&(y="w");const w=p===void 0?"":`(${p})`;return this.url.searchParams.append(u,`${y}fts${w}.${h}`),this}match(u){return Object.entries(u).forEach(([h,p])=>{this.url.searchParams.append(h,`eq.${p}`)}),this}not(u,h,p){return this.url.searchParams.append(u,`not.${h}.${p}`),this}or(u,{foreignTable:h,referencedTable:p=h}={}){const _=p?`${p}.or`:"or";return this.url.searchParams.append(_,`(${u})`),this}filter(u,h,p){return this.url.searchParams.append(u,`${h}.${p}`),this}}return ds.default=o,ds}var qf;function qp(){if(qf)return cs;qf=1;var s=cs&&cs.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(cs,"__esModule",{value:!0});const r=s(Bd());class o{constructor(u,{headers:h={},schema:p,fetch:_}){this.url=u,this.headers=h,this.schema=p,this.fetch=_}select(u,{head:h=!1,count:p}={}){const _=h?"HEAD":"GET";let y=!1;const w=(u??"*").split("").map(b=>/\s/.test(b)&&!y?"":(b==='"'&&(y=!y),b)).join("");return this.url.searchParams.set("select",w),p&&(this.headers.Prefer=`count=${p}`),new r.default({method:_,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(u,{count:h,defaultToNull:p=!0}={}){const _="POST",y=[];if(this.headers.Prefer&&y.push(this.headers.Prefer),h&&y.push(`count=${h}`),p||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(u)){const w=u.reduce((b,C)=>b.concat(Object.keys(C)),[]);if(w.length>0){const b=[...new Set(w)].map(C=>`"${C}"`);this.url.searchParams.set("columns",b.join(","))}}return new r.default({method:_,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:this.fetch,allowEmpty:!1})}upsert(u,{onConflict:h,ignoreDuplicates:p=!1,count:_,defaultToNull:y=!0}={}){const w="POST",b=[`resolution=${p?"ignore":"merge"}-duplicates`];if(h!==void 0&&this.url.searchParams.set("on_conflict",h),this.headers.Prefer&&b.push(this.headers.Prefer),_&&b.push(`count=${_}`),y||b.push("missing=default"),this.headers.Prefer=b.join(","),Array.isArray(u)){const C=u.reduce((M,T)=>M.concat(Object.keys(T)),[]);if(C.length>0){const M=[...new Set(C)].map(T=>`"${T}"`);this.url.searchParams.set("columns",M.join(","))}}return new r.default({method:w,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:this.fetch,allowEmpty:!1})}update(u,{count:h}={}){const p="PATCH",_=[];return this.headers.Prefer&&_.push(this.headers.Prefer),h&&_.push(`count=${h}`),this.headers.Prefer=_.join(","),new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:this.fetch,allowEmpty:!1})}delete({count:u}={}){const h="DELETE",p=[];return u&&p.push(`count=${u}`),this.headers.Prefer&&p.unshift(this.headers.Prefer),this.headers.Prefer=p.join(","),new r.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return cs.default=o,cs}var Pa={},Ta={},Kf;function oy(){return Kf||(Kf=1,Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.version=void 0,Ta.version="0.0.0-automated"),Ta}var Jf;function iy(){if(Jf)return Pa;Jf=1,Object.defineProperty(Pa,"__esModule",{value:!0}),Pa.DEFAULT_HEADERS=void 0;const s=oy();return Pa.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${s.version}`},Pa}var Yf;function sy(){if(Yf)return us;Yf=1;var s=us&&us.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(us,"__esModule",{value:!0});const r=s(qp()),o=s(Bd()),l=iy();class u{constructor(p,{headers:_={},schema:y,fetch:w}={}){this.url=p,this.headers=Object.assign(Object.assign({},l.DEFAULT_HEADERS),_),this.schemaName=y,this.fetch=w}from(p){const _=new URL(`${this.url}/${p}`);return new r.default(_,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(p){return new u(this.url,{headers:this.headers,schema:p,fetch:this.fetch})}rpc(p,_={},{head:y=!1,get:w=!1,count:b}={}){let C;const M=new URL(`${this.url}/rpc/${p}`);let T;y||w?(C=y?"HEAD":"GET",Object.entries(_).filter(([j,z])=>z!==void 0).map(([j,z])=>[j,Array.isArray(z)?`{${z.join(",")}}`:`${z}`]).forEach(([j,z])=>{M.searchParams.append(j,z)})):(C="POST",T=_);const P=Object.assign({},this.headers);return b&&(P.Prefer=`count=${b}`),new o.default({method:C,url:M,headers:P,schema:this.schemaName,body:T,fetch:this.fetch,allowEmpty:!1})}}return us.default=u,us}var Qf;function ay(){if(Qf)return Ft;Qf=1;var s=Ft&&Ft.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.PostgrestError=Ft.PostgrestBuilder=Ft.PostgrestTransformBuilder=Ft.PostgrestFilterBuilder=Ft.PostgrestQueryBuilder=Ft.PostgrestClient=void 0;const r=s(sy());Ft.PostgrestClient=r.default;const o=s(qp());Ft.PostgrestQueryBuilder=o.default;const l=s(Bd());Ft.PostgrestFilterBuilder=l.default;const u=s(Zp());Ft.PostgrestTransformBuilder=u.default;const h=s(Vp());Ft.PostgrestBuilder=h.default;const p=s(Wp());return Ft.PostgrestError=p.default,Ft.default={PostgrestClient:r.default,PostgrestQueryBuilder:o.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:h.default,PostgrestError:p.default},Ft}var ly=ay();const uy=jd(ly),{PostgrestClient:cy,PostgrestQueryBuilder:K1,PostgrestFilterBuilder:J1,PostgrestTransformBuilder:Y1,PostgrestBuilder:Q1,PostgrestError:X1}=uy;function dy(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const hy=dy(),fy="2.11.15",py=`realtime-js/${fy}`,my="1.0.0",Kp=1e4,gy=1e3;var Ra;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Ra||(Ra={}));var Yt;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Yt||(Yt={}));var tr;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(tr||(tr={}));var xd;(function(s){s.websocket="websocket"})(xd||(xd={}));var mi;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(mi||(mi={}));class vy{constructor(){this.HEADER_LENGTH=1}decode(r,o){return r.constructor===ArrayBuffer?o(this._binaryDecode(r)):o(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const o=new DataView(r),l=new TextDecoder;return this._decodeBroadcast(r,o,l)}_decodeBroadcast(r,o,l){const u=o.getUint8(1),h=o.getUint8(2);let p=this.HEADER_LENGTH+2;const _=l.decode(r.slice(p,p+u));p=p+u;const y=l.decode(r.slice(p,p+h));p=p+h;const w=JSON.parse(l.decode(r.slice(p,r.byteLength)));return{ref:null,topic:_,event:y,payload:w}}}class Jp{constructor(r,o){this.callback=r,this.timerCalc=o,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=o}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var lt;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(lt||(lt={}));const Xf=(s,r,o={})=>{var l;const u=(l=o.skipTypes)!==null&&l!==void 0?l:[];return Object.keys(r).reduce((h,p)=>(h[p]=yy(p,s,r,u),h),{})},yy=(s,r,o,l)=>{const u=r.find(_=>_.name===s),h=u==null?void 0:u.type,p=o[s];return h&&!l.includes(h)?Yp(h,p):wd(p)},Yp=(s,r)=>{if(s.charAt(0)==="_"){const o=s.slice(1,s.length);return by(r,o)}switch(s){case lt.bool:return _y(r);case lt.float4:case lt.float8:case lt.int2:case lt.int4:case lt.int8:case lt.numeric:case lt.oid:return xy(r);case lt.json:case lt.jsonb:return wy(r);case lt.timestamp:return Sy(r);case lt.abstime:case lt.date:case lt.daterange:case lt.int4range:case lt.int8range:case lt.money:case lt.reltime:case lt.text:case lt.time:case lt.timestamptz:case lt.timetz:case lt.tsrange:case lt.tstzrange:return wd(r);default:return wd(r)}},wd=s=>s,_y=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},xy=s=>{if(typeof s=="string"){const r=parseFloat(s);if(!Number.isNaN(r))return r}return s},wy=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(r){return console.log(`JSON parse error: ${r}`),s}return s},by=(s,r)=>{if(typeof s!="string")return s;const o=s.length-1,l=s[o];if(s[0]==="{"&&l==="}"){let h;const p=s.slice(1,o);try{h=JSON.parse("["+p+"]")}catch{h=p?p.split(","):[]}return h.map(_=>Yp(r,_))}return s},Sy=s=>typeof s=="string"?s.replace(" ","T"):s,Qp=s=>{let r=s;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")};class id{constructor(r,o,l={},u=Kp){this.channel=r,this.event=o,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,o){var l;return this._hasReceived(r)&&o((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:r,callback:o}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=o=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=o,this._matchReceive(o)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,o){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:o})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:o}){this.recHooks.filter(l=>l.status===r).forEach(l=>l.callback(o))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var ep;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(ep||(ep={}));class ja{constructor(r,o){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(o==null?void 0:o.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:h,onLeave:p,onSync:_}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ja.syncState(this.state,u,h,p),this.pendingDiffs.forEach(y=>{this.state=ja.syncDiff(this.state,y,h,p)}),this.pendingDiffs=[],_()}),this.channel._on(l.diff,{},u=>{const{onJoin:h,onLeave:p,onSync:_}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=ja.syncDiff(this.state,u,h,p),_())}),this.onJoin((u,h,p)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:h,newPresences:p})}),this.onLeave((u,h,p)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:h,leftPresences:p})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,o,l,u){const h=this.cloneDeep(r),p=this.transformState(o),_={},y={};return this.map(h,(w,b)=>{p[w]||(y[w]=b)}),this.map(p,(w,b)=>{const C=h[w];if(C){const M=b.map(z=>z.presence_ref),T=C.map(z=>z.presence_ref),P=b.filter(z=>T.indexOf(z.presence_ref)<0),j=C.filter(z=>M.indexOf(z.presence_ref)<0);P.length>0&&(_[w]=P),j.length>0&&(y[w]=j)}else _[w]=b}),this.syncDiff(h,{joins:_,leaves:y},l,u)}static syncDiff(r,o,l,u){const{joins:h,leaves:p}={joins:this.transformState(o.joins),leaves:this.transformState(o.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(h,(_,y)=>{var w;const b=(w=r[_])!==null&&w!==void 0?w:[];if(r[_]=this.cloneDeep(y),b.length>0){const C=r[_].map(T=>T.presence_ref),M=b.filter(T=>C.indexOf(T.presence_ref)<0);r[_].unshift(...M)}l(_,b,y)}),this.map(p,(_,y)=>{let w=r[_];if(!w)return;const b=y.map(C=>C.presence_ref);w=w.filter(C=>b.indexOf(C.presence_ref)<0),r[_]=w,u(_,w,y),w.length===0&&delete r[_]}),r}static map(r,o){return Object.getOwnPropertyNames(r).map(l=>o(l,r[l]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((o,l)=>{const u=r[l];return"metas"in u?o[l]=u.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):o[l]=u,o},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tp;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(tp||(tp={}));var np;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(np||(np={}));var Gr;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Gr||(Gr={}));class Ud{constructor(r,o={config:{}},l){this.topic=r,this.params=o,this.socket=l,this.bindings={},this.state=Yt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},o.config),this.timeout=this.socket.timeout,this.joinPush=new id(this,tr.join,this.params,this.timeout),this.rejoinTimer=new Jp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Yt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Yt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Yt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tr.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new ja(this),this.broadcastEndpointURL=Qp(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(r,o=this.timeout){var l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Yt.closed){const{config:{broadcast:h,presence:p,private:_}}=this.params;this._onError(b=>r==null?void 0:r(Gr.CHANNEL_ERROR,b)),this._onClose(()=>r==null?void 0:r(Gr.CLOSED));const y={},w={broadcast:h,presence:p,postgres_changes:(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(b=>b.filter))!==null&&u!==void 0?u:[],private:_};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:w},y)),this.joinedOnce=!0,this._rejoin(o),this.joinPush.receive("ok",async({postgres_changes:b})=>{var C;if(this.socket.setAuth(),b===void 0){r==null||r(Gr.SUBSCRIBED);return}else{const M=this.bindings.postgres_changes,T=(C=M==null?void 0:M.length)!==null&&C!==void 0?C:0,P=[];for(let j=0;j<T;j++){const z=M[j],{filter:{event:Z,schema:Y,table:G,filter:X}}=z,oe=b&&b[j];if(oe&&oe.event===Z&&oe.schema===Y&&oe.table===G&&oe.filter===X)P.push(Object.assign(Object.assign({},z),{id:oe.id}));else{this.unsubscribe(),this.state=Yt.errored,r==null||r(Gr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,r&&r(Gr.SUBSCRIBED);return}}).receive("error",b=>{this.state=Yt.errored,r==null||r(Gr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(Gr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,o={}){return await this.send({type:"presence",event:"track",payload:r},o.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,o,l){return this._on(r,o,l)}async send(r,o={}){var l,u;if(!this._canPush()&&r.type==="broadcast"){const{event:h,payload:p}=r,y={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:p,private:this.private}]})};try{const w=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(l=o.timeout)!==null&&l!==void 0?l:this.timeout);return await((u=w.body)===null||u===void 0?void 0:u.cancel()),w.ok?"ok":"error"}catch(w){return w.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var p,_,y;const w=this._push(r.type,r,o.timeout||this.timeout);r.type==="broadcast"&&!(!((y=(_=(p=this.params)===null||p===void 0?void 0:p.config)===null||_===void 0?void 0:_.broadcast)===null||y===void 0)&&y.ack)&&h("ok"),w.receive("ok",()=>h("ok")),w.receive("error",()=>h("error")),w.receive("timeout",()=>h("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Yt.leaving;const o=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tr.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(u=>{l=new id(this,tr.leave,{},r),l.receive("ok",()=>{o(),u("ok")}).receive("timeout",()=>{o(),u("timed out")}).receive("error",()=>{u("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l==null||l.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(r,o,l){const u=new AbortController,h=setTimeout(()=>u.abort(),l),p=await this.socket.fetch(r,Object.assign(Object.assign({},o),{signal:u.signal}));return clearTimeout(h),p}_push(r,o,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new id(this,r,o,l);return this._canPush()?u.send():(u.startTimeout(),this.pushBuffer.push(u)),u}_onMessage(r,o,l){return o}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,o,l){var u,h;const p=r.toLocaleLowerCase(),{close:_,error:y,leave:w,join:b}=tr;if(l&&[_,y,w,b].indexOf(p)>=0&&l!==this._joinRef())return;let M=this._onMessage(p,o,l);if(o&&!M)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(p)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(T=>{var P,j,z;return((P=T.filter)===null||P===void 0?void 0:P.event)==="*"||((z=(j=T.filter)===null||j===void 0?void 0:j.event)===null||z===void 0?void 0:z.toLocaleLowerCase())===p}).map(T=>T.callback(M,l)):(h=this.bindings[p])===null||h===void 0||h.filter(T=>{var P,j,z,Z,Y,G;if(["broadcast","presence","postgres_changes"].includes(p))if("id"in T){const X=T.id,oe=(P=T.filter)===null||P===void 0?void 0:P.event;return X&&((j=o.ids)===null||j===void 0?void 0:j.includes(X))&&(oe==="*"||(oe==null?void 0:oe.toLocaleLowerCase())===((z=o.data)===null||z===void 0?void 0:z.type.toLocaleLowerCase()))}else{const X=(Y=(Z=T==null?void 0:T.filter)===null||Z===void 0?void 0:Z.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase();return X==="*"||X===((G=o==null?void 0:o.event)===null||G===void 0?void 0:G.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===p}).map(T=>{if(typeof M=="object"&&"ids"in M){const P=M.data,{schema:j,table:z,commit_timestamp:Z,type:Y,errors:G}=P;M=Object.assign(Object.assign({},{schema:j,table:z,commit_timestamp:Z,eventType:Y,new:{},old:{},errors:G}),this._getPayloadRecords(P))}T.callback(M,l)})}_isClosed(){return this.state===Yt.closed}_isJoined(){return this.state===Yt.joined}_isJoining(){return this.state===Yt.joining}_isLeaving(){return this.state===Yt.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,o,l){const u=r.toLocaleLowerCase(),h={type:u,filter:o,callback:l};return this.bindings[u]?this.bindings[u].push(h):this.bindings[u]=[h],this}_off(r,o){const l=r.toLocaleLowerCase();return this.bindings[l]=this.bindings[l].filter(u=>{var h;return!(((h=u.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===l&&Ud.isEqual(u.filter,o))}),this}static isEqual(r,o){if(Object.keys(r).length!==Object.keys(o).length)return!1;for(const l in r)if(r[l]!==o[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(tr.close,{},r)}_onError(r){this._on(tr.error,{},o=>r(o))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Yt.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const o={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(o.new=Xf(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(o.old=Xf(r.columns,r.old_record)),o}}const rp=()=>{},ky=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ey{constructor(r,o){var l;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Kp,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=rp,this.ref=0,this.logger=rp,this.conn=null,this.sendBuffer=[],this.serializer=new vy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=h=>{let p;return h?p=h:typeof fetch>"u"?p=(..._)=>Ba(async()=>{const{default:y}=await Promise.resolve().then(()=>Ms);return{default:y}},void 0).then(({default:y})=>y(..._)):p=fetch,(..._)=>p(..._)},this.endPoint=`${r}/${xd.websocket}`,this.httpEndpoint=Qp(r),o!=null&&o.transport?this.transport=o.transport:this.transport=null,o!=null&&o.params&&(this.params=o.params),o!=null&&o.timeout&&(this.timeout=o.timeout),o!=null&&o.logger&&(this.logger=o.logger),(o!=null&&o.logLevel||o!=null&&o.log_level)&&(this.logLevel=o.logLevel||o.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),o!=null&&o.heartbeatIntervalMs&&(this.heartbeatIntervalMs=o.heartbeatIntervalMs);const u=(l=o==null?void 0:o.params)===null||l===void 0?void 0:l.apikey;if(u&&(this.accessTokenValue=u,this.apiKey=u),this.reconnectAfterMs=o!=null&&o.reconnectAfterMs?o.reconnectAfterMs:h=>[1e3,2e3,5e3,1e4][h-1]||1e4,this.encode=o!=null&&o.encode?o.encode:(h,p)=>p(JSON.stringify(h)),this.decode=o!=null&&o.decode?o.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Jp(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(o==null?void 0:o.fetch),o!=null&&o.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(o==null?void 0:o.worker)||!1,this.workerUrl=o==null?void 0:o.workerUrl}this.accessToken=(o==null?void 0:o.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=hy),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:my}))}disconnect(r,o){this.conn&&(this.conn.onclose=function(){},r?this.conn.close(r,o??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(l=>l.teardown()))}getChannels(){return this.channels}async removeChannel(r){const o=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),o}async removeAllChannels(){const r=await Promise.all(this.channels.map(o=>o.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,o,l){this.logger(r,o,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Ra.connecting:return mi.Connecting;case Ra.open:return mi.Open;case Ra.closing:return mi.Closing;default:return mi.Closed}}isConnected(){return this.connectionState()===mi.Open}channel(r,o={config:{}}){const l=`realtime:${r}`,u=this.getChannels().find(h=>h.topic===l);if(u)return u;{const h=new Ud(`realtime:${r}`,o,this);return this.channels.push(h),h}}push(r){const{topic:o,event:l,payload:u,ref:h}=r,p=()=>{this.encode(r,_=>{var y;(y=this.conn)===null||y===void 0||y.send(_)})};this.log("push",`${o} ${l} (${h})`,u),this.isConnected()?p():this.sendBuffer.push(p)}async setAuth(r=null){let o=r||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=o&&(this.accessTokenValue=o,this.channels.forEach(l=>{const u={access_token:o,version:py};o&&l.updateJoinPayload(u),l.joinedOnce&&l._isJoined()&&l._push(tr.access_token,{access_token:o})}))}async sendHeartbeat(){var r;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(r=this.conn)===null||r===void 0||r.close(gy,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let o=this.channels.find(l=>l.topic===r&&(l._isJoined()||l._isJoining()));o&&(this.log("transport",`leaving duplicate topic "${r}"`),o.unsubscribe())}_remove(r){this.channels=this.channels.filter(o=>o.topic!==r.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_onConnMessage(r){this.decode(r.data,o=>{let{topic:l,event:u,payload:h,ref:p}=o;l==="phoenix"&&u==="phx_reply"&&this.heartbeatCallback(o.payload.status=="ok"?"ok":"error"),p&&p===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${h.status||""} ${l} ${u} ${p&&"("+p+")"||""}`,h),Array.from(this.channels).filter(_=>_._isMember(l)).forEach(_=>_._trigger(u,h,p)),this.stateChangeCallbacks.message.forEach(_=>_(o))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(r=>r())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=o=>{this.log("worker","worker error",o.message),this.workerRef.terminate()},this.workerRef.onmessage=o=>{o.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){this.log("transport","close",r),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(o=>o(r))}_onConnError(r){this.log("transport",`${r}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(o=>o(r))}_triggerChanError(){this.channels.forEach(r=>r._trigger(tr.error))}_appendParams(r,o){if(Object.keys(o).length===0)return r;const l=r.match(/\?/)?"&":"?",u=new URLSearchParams(o);return`${r}${l}${u}`}_workerObjectUrl(r){let o;if(r)o=r;else{const l=new Blob([ky],{type:"application/javascript"});o=URL.createObjectURL(l)}return o}}class $d extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Bt(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class Cy extends $d{constructor(r,o){super(r),this.name="StorageApiError",this.status=o}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class bd extends $d{constructor(r,o){super(r),this.name="StorageUnknownError",this.originalError=o}}var Py=function(s,r,o,l){function u(h){return h instanceof o?h:new o(function(p){p(h)})}return new(o||(o=Promise))(function(h,p){function _(b){try{w(l.next(b))}catch(C){p(C)}}function y(b){try{w(l.throw(b))}catch(C){p(C)}}function w(b){b.done?h(b.value):u(b.value).then(_,y)}w((l=l.apply(s,r||[])).next())})};const Xp=s=>{let r;return s?r=s:typeof fetch>"u"?r=(...o)=>Ba(async()=>{const{default:l}=await Promise.resolve().then(()=>Ms);return{default:l}},void 0).then(({default:l})=>l(...o)):r=fetch,(...o)=>r(...o)},Ty=()=>Py(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ba(()=>Promise.resolve().then(()=>Ms),void 0)).Response:Response}),Sd=s=>{if(Array.isArray(s))return s.map(o=>Sd(o));if(typeof s=="function"||s!==Object(s))return s;const r={};return Object.entries(s).forEach(([o,l])=>{const u=o.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));r[u]=Sd(l)}),r};var _i=function(s,r,o,l){function u(h){return h instanceof o?h:new o(function(p){p(h)})}return new(o||(o=Promise))(function(h,p){function _(b){try{w(l.next(b))}catch(C){p(C)}}function y(b){try{w(l.throw(b))}catch(C){p(C)}}function w(b){b.done?h(b.value):u(b.value).then(_,y)}w((l=l.apply(s,r||[])).next())})};const sd=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),My=(s,r,o)=>_i(void 0,void 0,void 0,function*(){const l=yield Ty();s instanceof l&&!(o!=null&&o.noResolveJson)?s.json().then(u=>{r(new Cy(sd(u),s.status||500))}).catch(u=>{r(new bd(sd(u),u))}):r(new bd(sd(s),s))}),Ly=(s,r,o,l)=>{const u={method:s,headers:(r==null?void 0:r.headers)||{}};return s==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),l&&(u.body=JSON.stringify(l)),Object.assign(Object.assign({},u),o))};function Ua(s,r,o,l,u,h){return _i(this,void 0,void 0,function*(){return new Promise((p,_)=>{s(o,Ly(r,l,u,h)).then(y=>{if(!y.ok)throw y;return l!=null&&l.noResolveJson?y:y.json()}).then(y=>p(y)).catch(y=>My(y,_,l))})})}function vu(s,r,o,l){return _i(this,void 0,void 0,function*(){return Ua(s,"GET",r,o,l)})}function jo(s,r,o,l,u){return _i(this,void 0,void 0,function*(){return Ua(s,"POST",r,l,u,o)})}function Ry(s,r,o,l,u){return _i(this,void 0,void 0,function*(){return Ua(s,"PUT",r,l,u,o)})}function jy(s,r,o,l){return _i(this,void 0,void 0,function*(){return Ua(s,"HEAD",r,Object.assign(Object.assign({},o),{noResolveJson:!0}),l)})}function em(s,r,o,l,u){return _i(this,void 0,void 0,function*(){return Ua(s,"DELETE",r,l,u,o)})}var fn=function(s,r,o,l){function u(h){return h instanceof o?h:new o(function(p){p(h)})}return new(o||(o=Promise))(function(h,p){function _(b){try{w(l.next(b))}catch(C){p(C)}}function y(b){try{w(l.throw(b))}catch(C){p(C)}}function w(b){b.done?h(b.value):u(b.value).then(_,y)}w((l=l.apply(s,r||[])).next())})};const Ay={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},op={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Oy{constructor(r,o={},l,u){this.url=r,this.headers=o,this.bucketId=l,this.fetch=Xp(u)}uploadOrUpdate(r,o,l,u){return fn(this,void 0,void 0,function*(){try{let h;const p=Object.assign(Object.assign({},op),u);let _=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(p.upsert)});const y=p.metadata;typeof Blob<"u"&&l instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),y&&h.append("metadata",this.encodeMetadata(y)),h.append("",l)):typeof FormData<"u"&&l instanceof FormData?(h=l,h.append("cacheControl",p.cacheControl),y&&h.append("metadata",this.encodeMetadata(y))):(h=l,_["cache-control"]=`max-age=${p.cacheControl}`,_["content-type"]=p.contentType,y&&(_["x-metadata"]=this.toBase64(this.encodeMetadata(y)))),u!=null&&u.headers&&(_=Object.assign(Object.assign({},_),u.headers));const w=this._removeEmptyFolders(o),b=this._getFinalPath(w),C=yield this.fetch(`${this.url}/object/${b}`,Object.assign({method:r,body:h,headers:_},p!=null&&p.duplex?{duplex:p.duplex}:{})),M=yield C.json();return C.ok?{data:{path:w,id:M.Id,fullPath:M.Key},error:null}:{data:null,error:M}}catch(h){if(Bt(h))return{data:null,error:h};throw h}})}upload(r,o,l){return fn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,o,l)})}uploadToSignedUrl(r,o,l,u){return fn(this,void 0,void 0,function*(){const h=this._removeEmptyFolders(r),p=this._getFinalPath(h),_=new URL(this.url+`/object/upload/sign/${p}`);_.searchParams.set("token",o);try{let y;const w=Object.assign({upsert:op.upsert},u),b=Object.assign(Object.assign({},this.headers),{"x-upsert":String(w.upsert)});typeof Blob<"u"&&l instanceof Blob?(y=new FormData,y.append("cacheControl",w.cacheControl),y.append("",l)):typeof FormData<"u"&&l instanceof FormData?(y=l,y.append("cacheControl",w.cacheControl)):(y=l,b["cache-control"]=`max-age=${w.cacheControl}`,b["content-type"]=w.contentType);const C=yield this.fetch(_.toString(),{method:"PUT",body:y,headers:b}),M=yield C.json();return C.ok?{data:{path:h,fullPath:M.Key},error:null}:{data:null,error:M}}catch(y){if(Bt(y))return{data:null,error:y};throw y}})}createSignedUploadUrl(r,o){return fn(this,void 0,void 0,function*(){try{let l=this._getFinalPath(r);const u=Object.assign({},this.headers);o!=null&&o.upsert&&(u["x-upsert"]="true");const h=yield jo(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:u}),p=new URL(this.url+h.url),_=p.searchParams.get("token");if(!_)throw new $d("No token returned by API");return{data:{signedUrl:p.toString(),path:r,token:_},error:null}}catch(l){if(Bt(l))return{data:null,error:l};throw l}})}update(r,o,l){return fn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,o,l)})}move(r,o,l){return fn(this,void 0,void 0,function*(){try{return{data:yield jo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:o,destinationBucket:l==null?void 0:l.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(Bt(u))return{data:null,error:u};throw u}})}copy(r,o,l){return fn(this,void 0,void 0,function*(){try{return{data:{path:(yield jo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:o,destinationBucket:l==null?void 0:l.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(Bt(u))return{data:null,error:u};throw u}})}createSignedUrl(r,o,l){return fn(this,void 0,void 0,function*(){try{let u=this._getFinalPath(r),h=yield jo(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:o},l!=null&&l.transform?{transform:l.transform}:{}),{headers:this.headers});const p=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return h={signedUrl:encodeURI(`${this.url}${h.signedURL}${p}`)},{data:h,error:null}}catch(u){if(Bt(u))return{data:null,error:u};throw u}})}createSignedUrls(r,o,l){return fn(this,void 0,void 0,function*(){try{const u=yield jo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:o,paths:r},{headers:this.headers}),h=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return{data:u.map(p=>Object.assign(Object.assign({},p),{signedUrl:p.signedURL?encodeURI(`${this.url}${p.signedURL}${h}`):null})),error:null}}catch(u){if(Bt(u))return{data:null,error:u};throw u}})}download(r,o){return fn(this,void 0,void 0,function*(){const u=typeof(o==null?void 0:o.transform)<"u"?"render/image/authenticated":"object",h=this.transformOptsToQueryString((o==null?void 0:o.transform)||{}),p=h?`?${h}`:"";try{const _=this._getFinalPath(r);return{data:yield(yield vu(this.fetch,`${this.url}/${u}/${_}${p}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(_){if(Bt(_))return{data:null,error:_};throw _}})}info(r){return fn(this,void 0,void 0,function*(){const o=this._getFinalPath(r);try{const l=yield vu(this.fetch,`${this.url}/object/info/${o}`,{headers:this.headers});return{data:Sd(l),error:null}}catch(l){if(Bt(l))return{data:null,error:l};throw l}})}exists(r){return fn(this,void 0,void 0,function*(){const o=this._getFinalPath(r);try{return yield jy(this.fetch,`${this.url}/object/${o}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(Bt(l)&&l instanceof bd){const u=l.originalError;if([400,404].includes(u==null?void 0:u.status))return{data:!1,error:l}}throw l}})}getPublicUrl(r,o){const l=this._getFinalPath(r),u=[],h=o!=null&&o.download?`download=${o.download===!0?"":o.download}`:"";h!==""&&u.push(h);const _=typeof(o==null?void 0:o.transform)<"u"?"render/image":"object",y=this.transformOptsToQueryString((o==null?void 0:o.transform)||{});y!==""&&u.push(y);let w=u.join("&");return w!==""&&(w=`?${w}`),{data:{publicUrl:encodeURI(`${this.url}/${_}/public/${l}${w}`)}}}remove(r){return fn(this,void 0,void 0,function*(){try{return{data:yield em(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(o){if(Bt(o))return{data:null,error:o};throw o}})}list(r,o,l){return fn(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},Ay),o),{prefix:r||""});return{data:yield jo(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},l),error:null}}catch(u){if(Bt(u))return{data:null,error:u};throw u}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const o=[];return r.width&&o.push(`width=${r.width}`),r.height&&o.push(`height=${r.height}`),r.resize&&o.push(`resize=${r.resize}`),r.format&&o.push(`format=${r.format}`),r.quality&&o.push(`quality=${r.quality}`),o.join("&")}}const Iy="2.7.1",Ny={"X-Client-Info":`storage-js/${Iy}`};var ps=function(s,r,o,l){function u(h){return h instanceof o?h:new o(function(p){p(h)})}return new(o||(o=Promise))(function(h,p){function _(b){try{w(l.next(b))}catch(C){p(C)}}function y(b){try{w(l.throw(b))}catch(C){p(C)}}function w(b){b.done?h(b.value):u(b.value).then(_,y)}w((l=l.apply(s,r||[])).next())})};class zy{constructor(r,o={},l){this.url=r,this.headers=Object.assign(Object.assign({},Ny),o),this.fetch=Xp(l)}listBuckets(){return ps(this,void 0,void 0,function*(){try{return{data:yield vu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(Bt(r))return{data:null,error:r};throw r}})}getBucket(r){return ps(this,void 0,void 0,function*(){try{return{data:yield vu(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(o){if(Bt(o))return{data:null,error:o};throw o}})}createBucket(r,o={public:!1}){return ps(this,void 0,void 0,function*(){try{return{data:yield jo(this.fetch,`${this.url}/bucket`,{id:r,name:r,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(Bt(l))return{data:null,error:l};throw l}})}updateBucket(r,o){return ps(this,void 0,void 0,function*(){try{return{data:yield Ry(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(Bt(l))return{data:null,error:l};throw l}})}emptyBucket(r){return ps(this,void 0,void 0,function*(){try{return{data:yield jo(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(o){if(Bt(o))return{data:null,error:o};throw o}})}deleteBucket(r){return ps(this,void 0,void 0,function*(){try{return{data:yield em(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(o){if(Bt(o))return{data:null,error:o};throw o}})}}class Dy extends zy{constructor(r,o={},l){super(r,o,l)}from(r){return new Oy(this.url,this.headers,r,this.fetch)}}const Fy="2.52.0";let Ma="";typeof Deno<"u"?Ma="deno":typeof document<"u"?Ma="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ma="react-native":Ma="node";const By={"X-Client-Info":`supabase-js-${Ma}/${Fy}`},Uy={headers:By},$y={schema:"public"},Gy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Hy={};var Wy=function(s,r,o,l){function u(h){return h instanceof o?h:new o(function(p){p(h)})}return new(o||(o=Promise))(function(h,p){function _(b){try{w(l.next(b))}catch(C){p(C)}}function y(b){try{w(l.throw(b))}catch(C){p(C)}}function w(b){b.done?h(b.value):u(b.value).then(_,y)}w((l=l.apply(s,r||[])).next())})};const Vy=s=>{let r;return s?r=s:typeof fetch>"u"?r=Gp:r=fetch,(...o)=>r(...o)},Zy=()=>typeof Headers>"u"?Hp:Headers,qy=(s,r,o)=>{const l=Vy(o),u=Zy();return(h,p)=>Wy(void 0,void 0,void 0,function*(){var _;const y=(_=yield r())!==null&&_!==void 0?_:s;let w=new u(p==null?void 0:p.headers);return w.has("apikey")||w.set("apikey",s),w.has("Authorization")||w.set("Authorization",`Bearer ${y}`),l(h,Object.assign(Object.assign({},p),{headers:w}))})};var Ky=function(s,r,o,l){function u(h){return h instanceof o?h:new o(function(p){p(h)})}return new(o||(o=Promise))(function(h,p){function _(b){try{w(l.next(b))}catch(C){p(C)}}function y(b){try{w(l.throw(b))}catch(C){p(C)}}function w(b){b.done?h(b.value):u(b.value).then(_,y)}w((l=l.apply(s,r||[])).next())})};function Jy(s){return s.endsWith("/")?s:s+"/"}function Yy(s,r){var o,l;const{db:u,auth:h,realtime:p,global:_}=s,{db:y,auth:w,realtime:b,global:C}=r,M={db:Object.assign(Object.assign({},y),u),auth:Object.assign(Object.assign({},w),h),realtime:Object.assign(Object.assign({},b),p),global:Object.assign(Object.assign(Object.assign({},C),_),{headers:Object.assign(Object.assign({},(o=C==null?void 0:C.headers)!==null&&o!==void 0?o:{}),(l=_==null?void 0:_.headers)!==null&&l!==void 0?l:{})}),accessToken:()=>Ky(this,void 0,void 0,function*(){return""})};return s.accessToken?M.accessToken=s.accessToken:delete M.accessToken,M}const tm="2.71.1",xs=30*1e3,kd=3,ad=kd*xs,Qy="http://localhost:9999",Xy="supabase.auth.token",e0={"X-Client-Info":`gotrue-js/${tm}`},Ed="X-Supabase-Api-Version",nm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},t0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,n0=10*60*1e3;class Gd extends Error{constructor(r,o,l){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=o,this.code=l}}function Fe(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class r0 extends Gd{constructor(r,o,l){super(r,o,l),this.name="AuthApiError",this.status=o,this.code=l}}function o0(s){return Fe(s)&&s.name==="AuthApiError"}class rm extends Gd{constructor(r,o){super(r),this.name="AuthUnknownError",this.originalError=o}}class Oo extends Gd{constructor(r,o,l,u){super(r,l,u),this.name=o,this.status=l}}class Ro extends Oo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function i0(s){return Fe(s)&&s.name==="AuthSessionMissingError"}class du extends Oo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class hu extends Oo{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class fu extends Oo{constructor(r,o=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function s0(s){return Fe(s)&&s.name==="AuthImplicitGrantRedirectError"}class ip extends Oo{constructor(r,o=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Cd extends Oo{constructor(r,o){super(r,"AuthRetryableFetchError",o,void 0)}}function ld(s){return Fe(s)&&s.name==="AuthRetryableFetchError"}class sp extends Oo{constructor(r,o,l){super(r,"AuthWeakPasswordError",o,"weak_password"),this.reasons=l}}class Pd extends Oo{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const yu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ap=` 	
\r=`.split(""),a0=(()=>{const s=new Array(128);for(let r=0;r<s.length;r+=1)s[r]=-1;for(let r=0;r<ap.length;r+=1)s[ap[r].charCodeAt(0)]=-2;for(let r=0;r<yu.length;r+=1)s[yu[r].charCodeAt(0)]=r;return s})();function lp(s,r,o){if(s!==null)for(r.queue=r.queue<<8|s,r.queuedBits+=8;r.queuedBits>=6;){const l=r.queue>>r.queuedBits-6&63;o(yu[l]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const l=r.queue>>r.queuedBits-6&63;o(yu[l]),r.queuedBits-=6}}function om(s,r,o){const l=a0[s];if(l>-1)for(r.queue=r.queue<<6|l,r.queuedBits+=6;r.queuedBits>=8;)o(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function up(s){const r=[],o=p=>{r.push(String.fromCodePoint(p))},l={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},h=p=>{c0(p,l,o)};for(let p=0;p<s.length;p+=1)om(s.charCodeAt(p),u,h);return r.join("")}function l0(s,r){if(s<=127){r(s);return}else if(s<=2047){r(192|s>>6),r(128|s&63);return}else if(s<=65535){r(224|s>>12),r(128|s>>6&63),r(128|s&63);return}else if(s<=1114111){r(240|s>>18),r(128|s>>12&63),r(128|s>>6&63),r(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function u0(s,r){for(let o=0;o<s.length;o+=1){let l=s.charCodeAt(o);if(l>55295&&l<=56319){const u=(l-55296)*1024&65535;l=(s.charCodeAt(o+1)-56320&65535|u)+65536,o+=1}l0(l,r)}}function c0(s,r,o){if(r.utf8seq===0){if(s<=127){o(s);return}for(let l=1;l<6;l+=1)if((s>>7-l&1)===0){r.utf8seq=l;break}if(r.utf8seq===2)r.codepoint=s&31;else if(r.utf8seq===3)r.codepoint=s&15;else if(r.utf8seq===4)r.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|s&63,r.utf8seq-=1,r.utf8seq===0&&o(r.codepoint)}}function d0(s){const r=[],o={queue:0,queuedBits:0},l=u=>{r.push(u)};for(let u=0;u<s.length;u+=1)om(s.charCodeAt(u),o,l);return new Uint8Array(r)}function h0(s){const r=[];return u0(s,o=>r.push(o)),new Uint8Array(r)}function f0(s){const r=[],o={queue:0,queuedBits:0},l=u=>{r.push(u)};return s.forEach(u=>lp(u,o,l)),lp(null,o,l),r.join("")}function p0(s){return Math.round(Date.now()/1e3)+s}function m0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const r=Math.random()*16|0;return(s=="x"?r:r&3|8).toString(16)})}const er=()=>typeof window<"u"&&typeof document<"u",ui={tested:!1,writable:!1},im=()=>{if(!er())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ui.tested)return ui.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),ui.tested=!0,ui.writable=!0}catch{ui.tested=!0,ui.writable=!1}return ui.writable};function g0(s){const r={},o=new URL(s);if(o.hash&&o.hash[0]==="#")try{new URLSearchParams(o.hash.substring(1)).forEach((u,h)=>{r[h]=u})}catch{}return o.searchParams.forEach((l,u)=>{r[u]=l}),r}const sm=s=>{let r;return s?r=s:typeof fetch>"u"?r=(...o)=>Ba(async()=>{const{default:l}=await Promise.resolve().then(()=>Ms);return{default:l}},void 0).then(({default:l})=>l(...o)):r=fetch,(...o)=>r(...o)},v0=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",ws=async(s,r,o)=>{await s.setItem(r,JSON.stringify(o))},ci=async(s,r)=>{const o=await s.getItem(r);if(!o)return null;try{return JSON.parse(o)}catch{return o}},Mo=async(s,r)=>{await s.removeItem(r)};class bu{constructor(){this.promise=new bu.promiseConstructor((r,o)=>{this.resolve=r,this.reject=o})}}bu.promiseConstructor=Promise;function ud(s){const r=s.split(".");if(r.length!==3)throw new Pd("Invalid JWT structure");for(let l=0;l<r.length;l++)if(!t0.test(r[l]))throw new Pd("JWT not in base64url format");return{header:JSON.parse(up(r[0])),payload:JSON.parse(up(r[1])),signature:d0(r[2]),raw:{header:r[0],payload:r[1]}}}async function y0(s){return await new Promise(r=>{setTimeout(()=>r(null),s)})}function _0(s,r){return new Promise((l,u)=>{(async()=>{for(let h=0;h<1/0;h++)try{const p=await s(h);if(!r(h,null,p)){l(p);return}}catch(p){if(!r(h,p)){u(p);return}}})()})}function x0(s){return("0"+s.toString(16)).substr(-2)}function w0(){const r=new Uint32Array(56);if(typeof crypto>"u"){const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=o.length;let u="";for(let h=0;h<56;h++)u+=o.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(r),Array.from(r,x0).join("")}async function b0(s){const o=new TextEncoder().encode(s),l=await crypto.subtle.digest("SHA-256",o),u=new Uint8Array(l);return Array.from(u).map(h=>String.fromCharCode(h)).join("")}async function S0(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const o=await b0(s);return btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ms(s,r,o=!1){const l=w0();let u=l;o&&(u+="/PASSWORD_RECOVERY"),await ws(s,`${r}-code-verifier`,u);const h=await S0(l);return[h,l===h?"plain":"s256"]}const k0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function E0(s){const r=s.headers.get(Ed);if(!r||!r.match(k0))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function C0(s){if(!s)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(s<=r)throw new Error("JWT has expired")}function P0(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const T0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gs(s){if(!T0.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function cd(){const s={};return new Proxy(s,{get:(r,o)=>{if(o==="__isUserNotAvailableProxy")return!0;if(typeof o=="symbol"){const l=o.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${o}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function cp(s){return JSON.parse(JSON.stringify(s))}var M0=function(s,r){var o={};for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&r.indexOf(l)<0&&(o[l]=s[l]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(s);u<l.length;u++)r.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(s,l[u])&&(o[l[u]]=s[l[u]]);return o};const pi=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),L0=[502,503,504];async function dp(s){var r;if(!v0(s))throw new Cd(pi(s),0);if(L0.includes(s.status))throw new Cd(pi(s),s.status);let o;try{o=await s.json()}catch(h){throw new rm(pi(h),h)}let l;const u=E0(s);if(u&&u.getTime()>=nm["2024-01-01"].timestamp&&typeof o=="object"&&o&&typeof o.code=="string"?l=o.code:typeof o=="object"&&o&&typeof o.error_code=="string"&&(l=o.error_code),l){if(l==="weak_password")throw new sp(pi(o),s.status,((r=o.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(l==="session_not_found")throw new Ro}else if(typeof o=="object"&&o&&typeof o.weak_password=="object"&&o.weak_password&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.reasons.reduce((h,p)=>h&&typeof p=="string",!0))throw new sp(pi(o),s.status,o.weak_password.reasons);throw new r0(pi(o),s.status||500,l)}const R0=(s,r,o,l)=>{const u={method:s,headers:(r==null?void 0:r.headers)||{}};return s==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),o))};async function He(s,r,o,l){var u;const h=Object.assign({},l==null?void 0:l.headers);h[Ed]||(h[Ed]=nm["2024-01-01"].name),l!=null&&l.jwt&&(h.Authorization=`Bearer ${l.jwt}`);const p=(u=l==null?void 0:l.query)!==null&&u!==void 0?u:{};l!=null&&l.redirectTo&&(p.redirect_to=l.redirectTo);const _=Object.keys(p).length?"?"+new URLSearchParams(p).toString():"",y=await j0(s,r,o+_,{headers:h,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(y):{data:Object.assign({},y),error:null}}async function j0(s,r,o,l,u,h){const p=R0(r,l,u,h);let _;try{_=await s(o,Object.assign({},p))}catch(y){throw console.error(y),new Cd(pi(y),0)}if(_.ok||await dp(_),l!=null&&l.noResolveJson)return _;try{return await _.json()}catch(y){await dp(y)}}function $r(s){var r;let o=null;N0(s)&&(o=Object.assign({},s),s.expires_at||(o.expires_at=p0(s.expires_in)));const l=(r=s.user)!==null&&r!==void 0?r:s;return{data:{session:o,user:l},error:null}}function hp(s){const r=$r(s);return!r.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0)&&(r.data.weak_password=s.weak_password),r}function Ao(s){var r;return{data:{user:(r=s.user)!==null&&r!==void 0?r:s},error:null}}function A0(s){return{data:s,error:null}}function O0(s){const{action_link:r,email_otp:o,hashed_token:l,redirect_to:u,verification_type:h}=s,p=M0(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),_={action_link:r,email_otp:o,hashed_token:l,redirect_to:u,verification_type:h},y=Object.assign({},p);return{data:{properties:_,user:y},error:null}}function I0(s){return s}function N0(s){return s.access_token&&s.refresh_token&&s.expires_in}const dd=["global","local","others"];var z0=function(s,r){var o={};for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&r.indexOf(l)<0&&(o[l]=s[l]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(s);u<l.length;u++)r.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(s,l[u])&&(o[l[u]]=s[l[u]]);return o};class D0{constructor({url:r="",headers:o={},fetch:l}){this.url=r,this.headers=o,this.fetch=sm(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,o=dd[0]){if(dd.indexOf(o)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${dd.join(", ")}`);try{return await He(this.fetch,"POST",`${this.url}/logout?scope=${o}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(l){if(Fe(l))return{data:null,error:l};throw l}}async inviteUserByEmail(r,o={}){try{return await He(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:o.data},headers:this.headers,redirectTo:o.redirectTo,xform:Ao})}catch(l){if(Fe(l))return{data:{user:null},error:l};throw l}}async generateLink(r){try{const{options:o}=r,l=z0(r,["options"]),u=Object.assign(Object.assign({},l),o);return"newEmail"in l&&(u.new_email=l==null?void 0:l.newEmail,delete u.newEmail),await He(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:O0,redirectTo:o==null?void 0:o.redirectTo})}catch(o){if(Fe(o))return{data:{properties:null,user:null},error:o};throw o}}async createUser(r){try{return await He(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Ao})}catch(o){if(Fe(o))return{data:{user:null},error:o};throw o}}async listUsers(r){var o,l,u,h,p,_,y;try{const w={nextPage:null,lastPage:0,total:0},b=await He(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(o=r==null?void 0:r.page)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:"",per_page:(h=(u=r==null?void 0:r.perPage)===null||u===void 0?void 0:u.toString())!==null&&h!==void 0?h:""},xform:I0});if(b.error)throw b.error;const C=await b.json(),M=(p=b.headers.get("x-total-count"))!==null&&p!==void 0?p:0,T=(y=(_=b.headers.get("link"))===null||_===void 0?void 0:_.split(","))!==null&&y!==void 0?y:[];return T.length>0&&(T.forEach(P=>{const j=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),z=JSON.parse(P.split(";")[1].split("=")[1]);w[`${z}Page`]=j}),w.total=parseInt(M)),{data:Object.assign(Object.assign({},C),w),error:null}}catch(w){if(Fe(w))return{data:{users:[]},error:w};throw w}}async getUserById(r){gs(r);try{return await He(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Ao})}catch(o){if(Fe(o))return{data:{user:null},error:o};throw o}}async updateUserById(r,o){gs(r);try{return await He(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:o,headers:this.headers,xform:Ao})}catch(l){if(Fe(l))return{data:{user:null},error:l};throw l}}async deleteUser(r,o=!1){gs(r);try{return await He(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:o},xform:Ao})}catch(l){if(Fe(l))return{data:{user:null},error:l};throw l}}async _listFactors(r){gs(r.userId);try{const{data:o,error:l}=await He(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:o,error:l}}catch(o){if(Fe(o))return{data:null,error:o};throw o}}async _deleteFactor(r){gs(r.userId),gs(r.id);try{return{data:await He(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(o){if(Fe(o))return{data:null,error:o};throw o}}}function fp(s={}){return{getItem:r=>s[r]||null,setItem:(r,o)=>{s[r]=o},removeItem:r=>{delete s[r]}}}function F0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const vs={debug:!!(globalThis&&im()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class am extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class B0 extends am{}async function U0(s,r,o){vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,r);const l=new globalThis.AbortController;return r>0&&setTimeout(()=>{l.abort(),vs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async u=>{if(u){vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,u.name);try{return await o()}finally{vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,u.name)}}else{if(r===0)throw vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new B0(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(vs.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await o()}}))}F0();const $0={url:Qy,storageKey:Xy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:e0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function pp(s,r,o){return await o()}const ys={};class Ia{constructor(r){var o,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ia.nextInstanceID,Ia.nextInstanceID+=1,this.instanceID>0&&er()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const u=Object.assign(Object.assign({},$0),r);if(this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.persistSession=u.persistSession,this.storageKey=u.storageKey,this.autoRefreshToken=u.autoRefreshToken,this.admin=new D0({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=sm(u.fetch),this.lock=u.lock||pp,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,u.lock?this.lock=u.lock:er()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=U0:this.lock=pp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:im()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=fp(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=fp(this.memoryStorage)),er()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}get jwks(){var r,o;return(o=(r=ys[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&o!==void 0?o:{keys:[]}}set jwks(r){ys[this.storageKey]=Object.assign(Object.assign({},ys[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,o;return(o=(r=ys[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&o!==void 0?o:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){ys[this.storageKey]=Object.assign(Object.assign({},ys[this.storageKey]),{cachedAt:r})}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${tm}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const o=g0(window.location.href);let l="none";if(this._isImplicitGrantCallback(o)?l="implicit":await this._isPKCECallback(o)&&(l="pkce"),er()&&this.detectSessionInUrl&&l!=="none"){const{data:u,error:h}=await this._getSessionFromURL(o,l);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),s0(h)){const y=(r=h.details)===null||r===void 0?void 0:r.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:h}}return await this._removeSession(),{error:h}}const{session:p,redirectType:_}=u;return this._debug("#_initialize()","detected session in URL",p,"redirect type",_),await this._saveSession(p),setTimeout(async()=>{_==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",p):await this._notifyAllSubscribers("SIGNED_IN",p)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(o){return Fe(o)?{error:o}:{error:new rm("Unexpected error during initialization",o)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var o,l,u;try{const h=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(o=r==null?void 0:r.options)===null||o===void 0?void 0:o.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(u=r==null?void 0:r.options)===null||u===void 0?void 0:u.captchaToken}},xform:$r}),{data:p,error:_}=h;if(_||!p)return{data:{user:null,session:null},error:_};const y=p.session,w=p.user;return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",y)),{data:{user:w,session:y},error:null}}catch(h){if(Fe(h))return{data:{user:null,session:null},error:h};throw h}}async signUp(r){var o,l,u;try{let h;if("email"in r){const{email:b,password:C,options:M}=r;let T=null,P=null;this.flowType==="pkce"&&([T,P]=await ms(this.storage,this.storageKey)),h=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:M==null?void 0:M.emailRedirectTo,body:{email:b,password:C,data:(o=M==null?void 0:M.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:M==null?void 0:M.captchaToken},code_challenge:T,code_challenge_method:P},xform:$r})}else if("phone"in r){const{phone:b,password:C,options:M}=r;h=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:C,data:(l=M==null?void 0:M.data)!==null&&l!==void 0?l:{},channel:(u=M==null?void 0:M.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:M==null?void 0:M.captchaToken}},xform:$r})}else throw new hu("You must provide either an email or phone number and a password");const{data:p,error:_}=h;if(_||!p)return{data:{user:null,session:null},error:_};const y=p.session,w=p.user;return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",y)),{data:{user:w,session:y},error:null}}catch(h){if(Fe(h))return{data:{user:null,session:null},error:h};throw h}}async signInWithPassword(r){try{let o;if("email"in r){const{email:h,password:p,options:_}=r;o=await He(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:p,gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:hp})}else if("phone"in r){const{phone:h,password:p,options:_}=r;o=await He(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:p,gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:hp})}else throw new hu("You must provide either an email or phone number and a password");const{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new du}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:u})}catch(o){if(Fe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithOAuth(r){var o,l,u,h;return await this._handleProviderSignIn(r.provider,{redirectTo:(o=r.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=r.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=r.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(h=r.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:o}=r;if(o==="solana")return await this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${o}"`)}async signInWithSolana(r){var o,l,u,h,p,_,y,w,b,C,M,T;let P,j;if("message"in r)P=r.message,j=r.signature;else{const{chain:z,wallet:Z,statement:Y,options:G}=r;let X;if(er())if(typeof Z=="object")X=Z;else{const se=window;if("solana"in se&&typeof se.solana=="object"&&("signIn"in se.solana&&typeof se.solana.signIn=="function"||"signMessage"in se.solana&&typeof se.solana.signMessage=="function"))X=se.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof Z!="object"||!(G!=null&&G.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");X=Z}const oe=new URL((o=G==null?void 0:G.url)!==null&&o!==void 0?o:window.location.href);if("signIn"in X&&X.signIn){const se=await X.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},G==null?void 0:G.signInWithSolana),{version:"1",domain:oe.host,uri:oe.href}),Y?{statement:Y}:null));let me;if(Array.isArray(se)&&se[0]&&typeof se[0]=="object")me=se[0];else if(se&&typeof se=="object"&&"signedMessage"in se&&"signature"in se)me=se;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in me&&"signature"in me&&(typeof me.signedMessage=="string"||me.signedMessage instanceof Uint8Array)&&me.signature instanceof Uint8Array)P=typeof me.signedMessage=="string"?me.signedMessage:new TextDecoder().decode(me.signedMessage),j=me.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in X)||typeof X.signMessage!="function"||!("publicKey"in X)||typeof X!="object"||!X.publicKey||!("toBase58"in X.publicKey)||typeof X.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");P=[`${oe.host} wants you to sign in with your Solana account:`,X.publicKey.toBase58(),...Y?["",Y,""]:[""],"Version: 1",`URI: ${oe.href}`,`Issued At: ${(u=(l=G==null?void 0:G.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((h=G==null?void 0:G.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${G.signInWithSolana.notBefore}`]:[],...!((p=G==null?void 0:G.signInWithSolana)===null||p===void 0)&&p.expirationTime?[`Expiration Time: ${G.signInWithSolana.expirationTime}`]:[],...!((_=G==null?void 0:G.signInWithSolana)===null||_===void 0)&&_.chainId?[`Chain ID: ${G.signInWithSolana.chainId}`]:[],...!((y=G==null?void 0:G.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${G.signInWithSolana.nonce}`]:[],...!((w=G==null?void 0:G.signInWithSolana)===null||w===void 0)&&w.requestId?[`Request ID: ${G.signInWithSolana.requestId}`]:[],...!((C=(b=G==null?void 0:G.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||C===void 0)&&C.length?["Resources",...G.signInWithSolana.resources.map(me=>`- ${me}`)]:[]].join(`
`);const se=await X.signMessage(new TextEncoder().encode(P),"utf8");if(!se||!(se instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=se}}try{const{data:z,error:Z}=await He(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:P,signature:f0(j)},!((M=r.options)===null||M===void 0)&&M.captchaToken?{gotrue_meta_security:{captcha_token:(T=r.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:$r});if(Z)throw Z;return!z||!z.session||!z.user?{data:{user:null,session:null},error:new du}:(z.session&&(await this._saveSession(z.session),await this._notifyAllSubscribers("SIGNED_IN",z.session)),{data:Object.assign({},z),error:Z})}catch(z){if(Fe(z))return{data:{user:null,session:null},error:z};throw z}}async _exchangeCodeForSession(r){const o=await ci(this.storage,`${this.storageKey}-code-verifier`),[l,u]=(o??"").split("/");try{const{data:h,error:p}=await He(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:l},xform:$r});if(await Mo(this.storage,`${this.storageKey}-code-verifier`),p)throw p;return!h||!h.session||!h.user?{data:{user:null,session:null,redirectType:null},error:new du}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:Object.assign(Object.assign({},h),{redirectType:u??null}),error:p})}catch(h){if(Fe(h))return{data:{user:null,session:null,redirectType:null},error:h};throw h}}async signInWithIdToken(r){try{const{options:o,provider:l,token:u,access_token:h,nonce:p}=r,_=await He(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:h,nonce:p,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:$r}),{data:y,error:w}=_;return w?{data:{user:null,session:null},error:w}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new du}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:y,error:w})}catch(o){if(Fe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithOtp(r){var o,l,u,h,p;try{if("email"in r){const{email:_,options:y}=r;let w=null,b=null;this.flowType==="pkce"&&([w,b]=await ms(this.storage,this.storageKey));const{error:C}=await He(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:_,data:(o=y==null?void 0:y.data)!==null&&o!==void 0?o:{},create_user:(l=y==null?void 0:y.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:w,code_challenge_method:b},redirectTo:y==null?void 0:y.emailRedirectTo});return{data:{user:null,session:null},error:C}}if("phone"in r){const{phone:_,options:y}=r,{data:w,error:b}=await He(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:_,data:(u=y==null?void 0:y.data)!==null&&u!==void 0?u:{},create_user:(h=y==null?void 0:y.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},channel:(p=y==null?void 0:y.channel)!==null&&p!==void 0?p:"sms"}});return{data:{user:null,session:null,messageId:w==null?void 0:w.message_id},error:b}}throw new hu("You must provide either an email or phone number.")}catch(_){if(Fe(_))return{data:{user:null,session:null},error:_};throw _}}async verifyOtp(r){var o,l;try{let u,h;"options"in r&&(u=(o=r.options)===null||o===void 0?void 0:o.redirectTo,h=(l=r.options)===null||l===void 0?void 0:l.captchaToken);const{data:p,error:_}=await He(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:h}}),redirectTo:u,xform:$r});if(_)throw _;if(!p)throw new Error("An error occurred on token verification.");const y=p.session,w=p.user;return y!=null&&y.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),{data:{user:w,session:y},error:null}}catch(u){if(Fe(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithSSO(r){var o,l,u;try{let h=null,p=null;return this.flowType==="pkce"&&([h,p]=await ms(this.storage,this.storageKey)),await He(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(l=(o=r.options)===null||o===void 0?void 0:o.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=r==null?void 0:r.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:p}),headers:this.headers,xform:A0})}catch(h){if(Fe(h))return{data:null,error:h};throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:o},error:l}=r;if(l)throw l;if(!o)throw new Ro;const{error:u}=await He(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:o.access_token});return{data:{user:null,session:null},error:u}})}catch(r){if(Fe(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const o=`${this.url}/resend`;if("email"in r){const{email:l,type:u,options:h}=r,{error:p}=await He(this.fetch,"POST",o,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:p}}else if("phone"in r){const{phone:l,type:u,options:h}=r,{data:p,error:_}=await He(this.fetch,"POST",o,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:_}}throw new hu("You must provide either an email or phone number and a type")}catch(o){if(Fe(o))return{data:{user:null,session:null},error:o};throw o}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async o=>o))}async _acquireLock(r,o){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await o()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=o();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const o=await this.__loadSession();return await r(o)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const o=await ci(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",o),o!==null&&(this._isValidSession(o)?r=o:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const l=r.expires_at?r.expires_at*1e3-Date.now()<ad:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",r.expires_at),!l){if(this.userStorage){const p=await ci(this.userStorage,this.storageKey+"-user");p!=null&&p.user?r.user=p.user:r.user=cd()}if(this.storage.isServer&&r.user){let p=this.suppressGetSessionWarning;r=new Proxy(r,{get:(y,w,b)=>(!p&&w==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),p=!0,this.suppressGetSessionWarning=!0),Reflect.get(y,w,b))})}return{data:{session:r},error:null}}const{session:u,error:h}=await this._callRefreshToken(r.refresh_token);return h?{data:{session:null},error:h}:{data:{session:u},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await He(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Ao}):await this._useSession(async o=>{var l,u,h;const{data:p,error:_}=o;if(_)throw _;return!(!((l=p.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ro}:await He(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0,xform:Ao})})}catch(o){if(Fe(o))return i0(o)&&(await this._removeSession(),await Mo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:o};throw o}}async updateUser(r,o={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,o))}async _updateUser(r,o={}){try{return await this._useSession(async l=>{const{data:u,error:h}=l;if(h)throw h;if(!u.session)throw new Ro;const p=u.session;let _=null,y=null;this.flowType==="pkce"&&r.email!=null&&([_,y]=await ms(this.storage,this.storageKey));const{data:w,error:b}=await He(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:o==null?void 0:o.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:_,code_challenge_method:y}),jwt:p.access_token,xform:Ao});if(b)throw b;return p.user=w.user,await this._saveSession(p),await this._notifyAllSubscribers("USER_UPDATED",p),{data:{user:p.user},error:null}})}catch(l){if(Fe(l))return{data:{user:null},error:l};throw l}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new Ro;const o=Date.now()/1e3;let l=o,u=!0,h=null;const{payload:p}=ud(r.access_token);if(p.exp&&(l=p.exp,u=l<=o),u){const{session:_,error:y}=await this._callRefreshToken(r.refresh_token);if(y)return{data:{user:null,session:null},error:y};if(!_)return{data:{user:null,session:null},error:null};h=_}else{const{data:_,error:y}=await this._getUser(r.access_token);if(y)throw y;h={access_token:r.access_token,refresh_token:r.refresh_token,user:_.user,token_type:"bearer",expires_in:l-o,expires_at:l},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return{data:{user:h.user,session:h},error:null}}catch(o){if(Fe(o))return{data:{session:null,user:null},error:o};throw o}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async o=>{var l;if(!r){const{data:p,error:_}=o;if(_)throw _;r=(l=p.session)!==null&&l!==void 0?l:void 0}if(!(r!=null&&r.refresh_token))throw new Ro;const{session:u,error:h}=await this._callRefreshToken(r.refresh_token);return h?{data:{user:null,session:null},error:h}:u?{data:{user:u.user,session:u},error:null}:{data:{user:null,session:null},error:null}})}catch(o){if(Fe(o))return{data:{user:null,session:null},error:o};throw o}}async _getSessionFromURL(r,o){try{if(!er())throw new fu("No browser detected.");if(r.error||r.error_description||r.error_code)throw new fu(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(o){case"implicit":if(this.flowType==="pkce")throw new ip("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fu("Not a valid implicit grant flow url.");break;default:}if(o==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new ip("No code detected.");const{data:Y,error:G}=await this._exchangeCodeForSession(r.code);if(G)throw G;const X=new URL(window.location.href);return X.searchParams.delete("code"),window.history.replaceState(window.history.state,"",X.toString()),{data:{session:Y.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:u,access_token:h,refresh_token:p,expires_in:_,expires_at:y,token_type:w}=r;if(!h||!_||!p||!w)throw new fu("No session defined in URL");const b=Math.round(Date.now()/1e3),C=parseInt(_);let M=b+C;y&&(M=parseInt(y));const T=M-b;T*1e3<=xs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${C}s`);const P=M-C;b-P>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",P,M,b):b-P<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",P,M,b);const{data:j,error:z}=await this._getUser(h);if(z)throw z;const Z={provider_token:l,provider_refresh_token:u,access_token:h,expires_in:C,expires_at:M,refresh_token:p,token_type:w,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:Z,redirectType:r.type},error:null}}catch(l){if(Fe(l))return{data:{session:null,redirectType:null},error:l};throw l}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const o=await ci(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&o)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async o=>{var l;const{data:u,error:h}=o;if(h)return{error:h};const p=(l=u.session)===null||l===void 0?void 0:l.access_token;if(p){const{error:_}=await this.admin.signOut(p,r);if(_&&!(o0(_)&&(_.status===404||_.status===401||_.status===403)))return{error:_}}return r!=="others"&&(await this._removeSession(),await Mo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const o=m0(),l={id:o,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",o),this.stateChangeEmitters.delete(o)}};return this._debug("#onAuthStateChange()","registered callback with id",o),this.stateChangeEmitters.set(o,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(o)})))(),{data:{subscription:l}}}async _emitInitialSession(r){return await this._useSession(async o=>{var l,u;try{const{data:{session:h},error:p}=o;if(p)throw p;await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",r,"session",h)}catch(h){await((u=this.stateChangeEmitters.get(r))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",h),console.error(h)}})}async resetPasswordForEmail(r,o={}){let l=null,u=null;this.flowType==="pkce"&&([l,u]=await ms(this.storage,this.storageKey,!0));try{return await He(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:o.captchaToken}},headers:this.headers,redirectTo:o.redirectTo})}catch(h){if(Fe(h))return{data:null,error:h};throw h}}async getUserIdentities(){var r;try{const{data:o,error:l}=await this.getUser();if(l)throw l;return{data:{identities:(r=o.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(o){if(Fe(o))return{data:null,error:o};throw o}}async linkIdentity(r){var o;try{const{data:l,error:u}=await this._useSession(async h=>{var p,_,y,w,b;const{data:C,error:M}=h;if(M)throw M;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(p=r.options)===null||p===void 0?void 0:p.redirectTo,scopes:(_=r.options)===null||_===void 0?void 0:_.scopes,queryParams:(y=r.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await He(this.fetch,"GET",T,{headers:this.headers,jwt:(b=(w=C.session)===null||w===void 0?void 0:w.access_token)!==null&&b!==void 0?b:void 0})});if(u)throw u;return er()&&!(!((o=r.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(l==null?void 0:l.url),{data:{provider:r.provider,url:l==null?void 0:l.url},error:null}}catch(l){if(Fe(l))return{data:{provider:r.provider,url:null},error:l};throw l}}async unlinkIdentity(r){try{return await this._useSession(async o=>{var l,u;const{data:h,error:p}=o;if(p)throw p;return await He(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(u=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})})}catch(o){if(Fe(o))return{data:null,error:o};throw o}}async _refreshAccessToken(r){const o=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(o,"begin");try{const l=Date.now();return await _0(async u=>(u>0&&await y0(200*Math.pow(2,u-1)),this._debug(o,"refreshing attempt",u),await He(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:$r})),(u,h)=>{const p=200*Math.pow(2,u);return h&&ld(h)&&Date.now()+p-l<xs})}catch(l){if(this._debug(o,"error",l),Fe(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(o,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,o){const l=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:o.redirectTo,scopes:o.scopes,queryParams:o.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",o,"url",l),er()&&!o.skipBrowserRedirect&&window.location.assign(l),{data:{provider:r,url:l},error:null}}async _recoverAndRefresh(){var r,o;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const u=await ci(this.storage,this.storageKey);if(u&&this.userStorage){let p=await ci(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!p&&(p={user:u.user},await ws(this.userStorage,this.storageKey+"-user",p)),u.user=(r=p==null?void 0:p.user)!==null&&r!==void 0?r:cd()}else if(u&&!u.user&&!u.user){const p=await ci(this.storage,this.storageKey+"-user");p&&(p!=null&&p.user)?(u.user=p.user,await Mo(this.storage,this.storageKey+"-user"),await ws(this.storage,this.storageKey,u)):u.user=cd()}if(this._debug(l,"session from storage",u),!this._isValidSession(u)){this._debug(l,"session is not valid"),u!==null&&await this._removeSession();return}const h=((o=u.expires_at)!==null&&o!==void 0?o:1/0)*1e3-Date.now()<ad;if(this._debug(l,`session has${h?"":" not"} expired with margin of ${ad}s`),h){if(this.autoRefreshToken&&u.refresh_token){const{error:p}=await this._callRefreshToken(u.refresh_token);p&&(console.error(p),ld(p)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",p),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:p,error:_}=await this._getUser(u.access_token);!_&&(p!=null&&p.user)?(u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(p){console.error("Error getting user data:",p),this._debug(l,"error getting user data, skipping SIGNED_IN notification",p)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(l,"error",u),console.error(u);return}finally{this._debug(l,"end")}}async _callRefreshToken(r){var o,l;if(!r)throw new Ro;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new bu;const{data:h,error:p}=await this._refreshAccessToken(r);if(p)throw p;if(!h.session)throw new Ro;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const _={session:h.session,error:null};return this.refreshingDeferred.resolve(_),_}catch(h){if(this._debug(u,"error",h),Fe(h)){const p={session:null,error:h};return ld(h)||await this._removeSession(),(o=this.refreshingDeferred)===null||o===void 0||o.resolve(p),p}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(h),h}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(r,o,l=!0){const u=`#_notifyAllSubscribers(${r})`;this._debug(u,"begin",o,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:r,session:o});const h=[],p=Array.from(this.stateChangeEmitters.values()).map(async _=>{try{await _.callback(r,o)}catch(y){h.push(y)}});if(await Promise.all(p),h.length>0){for(let _=0;_<h.length;_+=1)console.error(h[_]);throw h[0]}}finally{this._debug(u,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const o=Object.assign({},r),l=o.user&&o.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&o.user&&await ws(this.userStorage,this.storageKey+"-user",{user:o.user});const u=Object.assign({},o);delete u.user;const h=cp(u);await ws(this.storage,this.storageKey,h)}else{const u=cp(o);await ws(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),await Mo(this.storage,this.storageKey),await Mo(this.storage,this.storageKey+"-code-verifier"),await Mo(this.storage,this.storageKey+"-user"),this.userStorage&&await Mo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&er()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(o){console.error("removing visibilitychange callback failed",o)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),xs);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async o=>{const{data:{session:l}}=o;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-r)/xs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${xs}ms, refresh threshold is ${kd} ticks`),u<=kd&&await this._callRefreshToken(l.refresh_token)})}catch(o){console.error("Auto refresh tick failed with error. This is likely a transient error.",o)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof am)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!er()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const o=`#_onVisibilityChanged(${r})`;this._debug(o,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(o,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,o,l){const u=[`provider=${encodeURIComponent(o)}`];if(l!=null&&l.redirectTo&&u.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l!=null&&l.scopes&&u.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[h,p]=await ms(this.storage,this.storageKey),_=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(p)}`});u.push(_.toString())}if(l!=null&&l.queryParams){const h=new URLSearchParams(l.queryParams);u.push(h.toString())}return l!=null&&l.skipBrowserRedirect&&u.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${r}?${u.join("&")}`}async _unenroll(r){try{return await this._useSession(async o=>{var l;const{data:u,error:h}=o;return h?{data:null,error:h}:await He(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token})})}catch(o){if(Fe(o))return{data:null,error:o};throw o}}async _enroll(r){try{return await this._useSession(async o=>{var l,u;const{data:h,error:p}=o;if(p)return{data:null,error:p};const _=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:y,error:w}=await He(this.fetch,"POST",`${this.url}/factors`,{body:_,headers:this.headers,jwt:(l=h==null?void 0:h.session)===null||l===void 0?void 0:l.access_token});return w?{data:null,error:w}:(r.factorType==="totp"&&(!((u=y==null?void 0:y.totp)===null||u===void 0)&&u.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),{data:y,error:null})})}catch(o){if(Fe(o))return{data:null,error:o};throw o}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async o=>{var l;const{data:u,error:h}=o;if(h)return{data:null,error:h};const{data:p,error:_}=await He(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token});return _?{data:null,error:_}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),{data:p,error:_})})}catch(o){if(Fe(o))return{data:null,error:o};throw o}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async o=>{var l;const{data:u,error:h}=o;return h?{data:null,error:h}:await He(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token})})}catch(o){if(Fe(o))return{data:null,error:o};throw o}})}async _challengeAndVerify(r){const{data:o,error:l}=await this._challenge({factorId:r.factorId});return l?{data:null,error:l}:await this._verify({factorId:r.factorId,challengeId:o.id,code:r.code})}async _listFactors(){const{data:{user:r},error:o}=await this.getUser();if(o)return{data:null,error:o};const l=(r==null?void 0:r.factors)||[],u=l.filter(p=>p.factor_type==="totp"&&p.status==="verified"),h=l.filter(p=>p.factor_type==="phone"&&p.status==="verified");return{data:{all:l,totp:u,phone:h},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var o,l;const{data:{session:u},error:h}=r;if(h)return{data:null,error:h};if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:p}=ud(u.access_token);let _=null;p.aal&&(_=p.aal);let y=_;((l=(o=u.user.factors)===null||o===void 0?void 0:o.filter(C=>C.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(y="aal2");const b=p.amr||[];return{data:{currentLevel:_,nextLevel:y,currentAuthenticationMethods:b},error:null}}))}async fetchJwk(r,o={keys:[]}){let l=o.keys.find(_=>_.kid===r);if(l)return l;const u=Date.now();if(l=this.jwks.keys.find(_=>_.kid===r),l&&this.jwks_cached_at+n0>u)return l;const{data:h,error:p}=await He(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(p)throw p;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=u,l=h.keys.find(_=>_.kid===r),!l)?null:l}async getClaims(r,o={}){try{let l=r;if(!l){const{data:T,error:P}=await this.getSession();if(P||!T.session)return{data:null,error:P};l=T.session.access_token}const{header:u,payload:h,signature:p,raw:{header:_,payload:y}}=ud(l);o!=null&&o.allowExpired||C0(h.exp);const w=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,o!=null&&o.keys?{keys:o.keys}:o==null?void 0:o.jwks);if(!w){const{error:T}=await this.getUser(l);if(T)throw T;return{data:{claims:h,header:u,signature:p},error:null}}const b=P0(u.alg),C=await crypto.subtle.importKey("jwk",w,b,!0,["verify"]);if(!await crypto.subtle.verify(b,C,p,h0(`${_}.${y}`)))throw new Pd("Invalid JWT signature");return{data:{claims:h,header:u,signature:p},error:null}}catch(l){if(Fe(l))return{data:null,error:l};throw l}}}Ia.nextInstanceID=0;const G0=Ia;class H0 extends G0{constructor(r){super(r)}}var W0=function(s,r,o,l){function u(h){return h instanceof o?h:new o(function(p){p(h)})}return new(o||(o=Promise))(function(h,p){function _(b){try{w(l.next(b))}catch(C){p(C)}}function y(b){try{w(l.throw(b))}catch(C){p(C)}}function w(b){b.done?h(b.value):u(b.value).then(_,y)}w((l=l.apply(s,r||[])).next())})};class V0{constructor(r,o,l){var u,h,p;if(this.supabaseUrl=r,this.supabaseKey=o,!r)throw new Error("supabaseUrl is required.");if(!o)throw new Error("supabaseKey is required.");const _=Jy(r),y=new URL(_);this.realtimeUrl=new URL("realtime/v1",y),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",y),this.storageUrl=new URL("storage/v1",y),this.functionsUrl=new URL("functions/v1",y);const w=`sb-${y.hostname.split(".")[0]}-auth-token`,b={db:$y,realtime:Hy,auth:Object.assign(Object.assign({},Gy),{storageKey:w}),global:Uy},C=Yy(l??{},b);this.storageKey=(u=C.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(h=C.global.headers)!==null&&h!==void 0?h:{},C.accessToken?(this.accessToken=C.accessToken,this.auth=new Proxy({},{get:(M,T)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(T)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((p=C.auth)!==null&&p!==void 0?p:{},this.headers,C.global.fetch),this.fetch=qy(o,this._getAccessToken.bind(this),C.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},C.realtime)),this.rest=new cy(new URL("rest/v1",y).href,{headers:this.headers,schema:C.db.schema,fetch:this.fetch}),C.accessToken||this._listenForAuthEvents()}get functions(){return new Qv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Dy(this.storageUrl.href,this.headers,this.fetch)}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,o={},l={}){return this.rest.rpc(r,o,l)}channel(r,o={config:{}}){return this.realtime.channel(r,o)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,o;return W0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:l}=yield this.auth.getSession();return(o=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:null})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:o,detectSessionInUrl:l,storage:u,storageKey:h,flowType:p,lock:_,debug:y},w,b){const C={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new H0({url:this.authUrl.href,headers:Object.assign(Object.assign({},C),w),storageKey:h,autoRefreshToken:r,persistSession:o,detectSessionInUrl:l,storage:u,flowType:p,lock:_,debug:y,fetch:b,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(r){return new Ey(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((o,l)=>{this._handleTokenChanged(o,"CLIENT",l==null?void 0:l.access_token)})}_handleTokenChanged(r,o,l){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==l?this.changedAccessToken=l:r==="SIGNED_OUT"&&(this.realtime.setAuth(),o=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Z0=(s,r,o)=>new V0(s,r,o),q0="https://qbdofilxcfnxhaimuilu.supabase.co",K0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFiZG9maWx4Y2ZueGhhaW11aWx1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMwMTEzOTEsImV4cCI6MjA2ODU4NzM5MX0.4s_8p_jMPfL-TWqPqzX26ca-GkuEFBX1KbJmKy8RieI",nr=Z0(q0,K0),J0={async getFamousPlaces(){const{data:s,error:r}=await nr.from("famous_places").select("*");return r?(console.error("Erro ao buscar lugares famosos:",r),[]):s.map(o=>({id:o.id,name:o.name,description:o.description,latitude:o.latitude,longitude:o.longitude,category:o.category,address:o.address,imageUrl:o.image_url&&o.image_url!==""?o.image_url:"https://via.placeholder.com/56"}))||[]}},vi={async getTopPlayers(s=10){const{data:r,error:o}=await nr.from("ranking").select("*").order("score",{ascending:!1}).limit(s);return o?(console.error("Erro ao buscar ranking:",o),[]):r||[]},async addScore(s){const{error:r}=await nr.from("ranking").insert([s]);return r?(console.error("Erro ao adicionar pontuação:",r),!1):!0},async getPlayerPosition(s,r){const{data:o,error:l}=await nr.from("ranking").select("score").order("score",{ascending:!1});if(l)return console.error("Erro ao buscar posição:",l),-1;const u=(o==null?void 0:o.findIndex(h=>h.score<=r))+1;return u>0?u:((o==null?void 0:o.length)||0)+1},async getPlayerStats(s){const{data:r,error:o}=await nr.from("ranking").select("*").eq("player_name",s).order("score",{ascending:!1}).limit(1).single();return o?(console.error("Erro ao buscar estatísticas do jogador:",o),null):r}};function lm(s,r){const o=k.useRef(r);k.useEffect(function(){r!==o.current&&s.attributionControl!=null&&(o.current!=null&&s.attributionControl.removeAttribution(o.current),r!=null&&s.attributionControl.addAttribution(r)),o.current=r},[s,r])}const Y0=1;function Q0(s){return Object.freeze({__version:Y0,map:s})}function Hd(s,r){return Object.freeze({...s,...r})}const um=k.createContext(null),cm=um.Provider;function Su(){const s=k.useContext(um);if(s==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return s}function dm(s){function r(o,l){const{instance:u,context:h}=s(o).current;return k.useImperativeHandle(l,()=>u),o.children==null?null:gi.createElement(cm,{value:h},o.children)}return k.forwardRef(r)}function X0(s){function r(o,l){const[u,h]=k.useState(!1),{instance:p}=s(o,h).current;k.useImperativeHandle(l,()=>p),k.useEffect(function(){u&&p.update()},[p,u,o.children]);const _=p._contentNode;return _?Vv.createPortal(o.children,_):null}return k.forwardRef(r)}function e_(s){function r(o,l){const{instance:u}=s(o).current;return k.useImperativeHandle(l,()=>u),null}return k.forwardRef(r)}function Wd(s,r){const o=k.useRef();k.useEffect(function(){return r!=null&&s.instance.on(r),o.current=r,function(){o.current!=null&&s.instance.off(o.current),o.current=null}},[s,r])}function ku(s,r){const o=s.pane??r.pane;return o?{...s,pane:o}:s}function t_(s,r){return function(l,u){const h=Su(),p=s(ku(l,h),h);return lm(h.map,l.attribution),Wd(p.current,l.eventHandlers),r(p.current,h,l,u),p}}var La={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var n_=La.exports,mp;function r_(){return mp||(mp=1,function(s,r){(function(o,l){l(r)})(n_,function(o){var l="1.9.4";function u(t){var i,c,m,x;for(c=1,m=arguments.length;c<m;c++){x=arguments[c];for(i in x)t[i]=x[i]}return t}var h=Object.create||function(){function t(){}return function(i){return t.prototype=i,new t}}();function p(t,i){var c=Array.prototype.slice;if(t.bind)return t.bind.apply(t,c.call(arguments,1));var m=c.call(arguments,2);return function(){return t.apply(i,m.length?m.concat(c.call(arguments)):arguments)}}var _=0;function y(t){return"_leaflet_id"in t||(t._leaflet_id=++_),t._leaflet_id}function w(t,i,c){var m,x,E,O;return O=function(){m=!1,x&&(E.apply(c,x),x=!1)},E=function(){m?x=arguments:(t.apply(c,arguments),setTimeout(O,i),m=!0)},E}function b(t,i,c){var m=i[1],x=i[0],E=m-x;return t===m&&c?t:((t-x)%E+E)%E+x}function C(){return!1}function M(t,i){if(i===!1)return t;var c=Math.pow(10,i===void 0?6:i);return Math.round(t*c)/c}function T(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function P(t){return T(t).split(/\s+/)}function j(t,i){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?h(t.options):{});for(var c in i)t.options[c]=i[c];return t.options}function z(t,i,c){var m=[];for(var x in t)m.push(encodeURIComponent(c?x.toUpperCase():x)+"="+encodeURIComponent(t[x]));return(!i||i.indexOf("?")===-1?"?":"&")+m.join("&")}var Z=/\{ *([\w_ -]+) *\}/g;function Y(t,i){return t.replace(Z,function(c,m){var x=i[m];if(x===void 0)throw new Error("No value provided for variable "+c);return typeof x=="function"&&(x=x(i)),x})}var G=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function X(t,i){for(var c=0;c<t.length;c++)if(t[c]===i)return c;return-1}var oe="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function se(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var me=0;function K(t){var i=+new Date,c=Math.max(0,16-(i-me));return me=i+c,window.setTimeout(t,c)}var J=window.requestAnimationFrame||se("RequestAnimationFrame")||K,xe=window.cancelAnimationFrame||se("CancelAnimationFrame")||se("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function ve(t,i,c){if(c&&J===K)t.call(i);else return J.call(window,p(t,i))}function ne(t){t&&xe.call(window,t)}var Re={__proto__:null,extend:u,create:h,bind:p,get lastId(){return _},stamp:y,throttle:w,wrapNum:b,falseFn:C,formatNum:M,trim:T,splitWords:P,setOptions:j,getParamString:z,template:Y,isArray:G,indexOf:X,emptyImageUrl:oe,requestFn:J,cancelFn:xe,requestAnimFrame:ve,cancelAnimFrame:ne};function ce(){}ce.extend=function(t){var i=function(){j(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=i.__super__=this.prototype,m=h(c);m.constructor=i,i.prototype=m;for(var x in this)Object.prototype.hasOwnProperty.call(this,x)&&x!=="prototype"&&x!=="__super__"&&(i[x]=this[x]);return t.statics&&u(i,t.statics),t.includes&&(he(t.includes),u.apply(null,[m].concat(t.includes))),u(m,t),delete m.statics,delete m.includes,m.options&&(m.options=c.options?h(c.options):{},u(m.options,t.options)),m._initHooks=[],m.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var E=0,O=m._initHooks.length;E<O;E++)m._initHooks[E].call(this)}},i},ce.include=function(t){var i=this.prototype.options;return u(this.prototype,t),t.options&&(this.prototype.options=i,this.mergeOptions(t.options)),this},ce.mergeOptions=function(t){return u(this.prototype.options,t),this},ce.addInitHook=function(t){var i=Array.prototype.slice.call(arguments,1),c=typeof t=="function"?t:function(){this[t].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function he(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=G(t)?t:[t];for(var i=0;i<t.length;i++)t[i]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var fe={on:function(t,i,c){if(typeof t=="object")for(var m in t)this._on(m,t[m],i);else{t=P(t);for(var x=0,E=t.length;x<E;x++)this._on(t[x],i,c)}return this},off:function(t,i,c){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var m in t)this._off(m,t[m],i);else{t=P(t);for(var x=arguments.length===1,E=0,O=t.length;E<O;E++)x?this._off(t[E]):this._off(t[E],i,c)}return this},_on:function(t,i,c,m){if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}if(this._listens(t,i,c)===!1){c===this&&(c=void 0);var x={fn:i,ctx:c};m&&(x.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(x)}},_off:function(t,i,c){var m,x,E;if(this._events&&(m=this._events[t],!!m)){if(arguments.length===1){if(this._firingCount)for(x=0,E=m.length;x<E;x++)m[x].fn=C;delete this._events[t];return}if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}var O=this._listens(t,i,c);if(O!==!1){var D=m[O];this._firingCount&&(D.fn=C,this._events[t]=m=m.slice()),m.splice(O,1)}}},fire:function(t,i,c){if(!this.listens(t,c))return this;var m=u({},i,{type:t,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var x=this._events[t];if(x){this._firingCount=this._firingCount+1||1;for(var E=0,O=x.length;E<O;E++){var D=x[E],H=D.fn;D.once&&this.off(t,H,D.ctx),H.call(D.ctx||this,m)}this._firingCount--}}return c&&this._propagateEvent(m),this},listens:function(t,i,c,m){typeof t!="string"&&console.warn('"string" type argument expected');var x=i;typeof i!="function"&&(m=!!i,x=void 0,c=void 0);var E=this._events&&this._events[t];if(E&&E.length&&this._listens(t,x,c)!==!1)return!0;if(m){for(var O in this._eventParents)if(this._eventParents[O].listens(t,i,c,m))return!0}return!1},_listens:function(t,i,c){if(!this._events)return!1;var m=this._events[t]||[];if(!i)return!!m.length;c===this&&(c=void 0);for(var x=0,E=m.length;x<E;x++)if(m[x].fn===i&&m[x].ctx===c)return x;return!1},once:function(t,i,c){if(typeof t=="object")for(var m in t)this._on(m,t[m],i,!0);else{t=P(t);for(var x=0,E=t.length;x<E;x++)this._on(t[x],i,c,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[y(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[y(t)],this},_propagateEvent:function(t){for(var i in this._eventParents)this._eventParents[i].fire(t.type,u({layer:t.target,propagatedFrom:t.target},t),!0)}};fe.addEventListener=fe.on,fe.removeEventListener=fe.clearAllEventListeners=fe.off,fe.addOneTimeEventListener=fe.once,fe.fireEvent=fe.fire,fe.hasEventListeners=fe.listens;var Ce=ce.extend(fe);function V(t,i,c){this.x=c?Math.round(t):t,this.y=c?Math.round(i):i}var le=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};V.prototype={clone:function(){return new V(this.x,this.y)},add:function(t){return this.clone()._add(q(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(q(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new V(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new V(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=le(this.x),this.y=le(this.y),this},distanceTo:function(t){t=q(t);var i=t.x-this.x,c=t.y-this.y;return Math.sqrt(i*i+c*c)},equals:function(t){return t=q(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=q(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+M(this.x)+", "+M(this.y)+")"}};function q(t,i,c){return t instanceof V?t:G(t)?new V(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new V(t.x,t.y):new V(t,i,c)}function R(t,i){if(t)for(var c=i?[t,i]:t,m=0,x=c.length;m<x;m++)this.extend(c[m])}R.prototype={extend:function(t){var i,c;if(!t)return this;if(t instanceof V||typeof t[0]=="number"||"x"in t)i=c=q(t);else if(t=B(t),i=t.min,c=t.max,!i||!c)return this;return!this.min&&!this.max?(this.min=i.clone(),this.max=c.clone()):(this.min.x=Math.min(i.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(i.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(t){return q((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return q(this.min.x,this.max.y)},getTopRight:function(){return q(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var i,c;return typeof t[0]=="number"||t instanceof V?t=q(t):t=B(t),t instanceof R?(i=t.min,c=t.max):i=c=t,i.x>=this.min.x&&c.x<=this.max.x&&i.y>=this.min.y&&c.y<=this.max.y},intersects:function(t){t=B(t);var i=this.min,c=this.max,m=t.min,x=t.max,E=x.x>=i.x&&m.x<=c.x,O=x.y>=i.y&&m.y<=c.y;return E&&O},overlaps:function(t){t=B(t);var i=this.min,c=this.max,m=t.min,x=t.max,E=x.x>i.x&&m.x<c.x,O=x.y>i.y&&m.y<c.y;return E&&O},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var i=this.min,c=this.max,m=Math.abs(i.x-c.x)*t,x=Math.abs(i.y-c.y)*t;return B(q(i.x-m,i.y-x),q(c.x+m,c.y+x))},equals:function(t){return t?(t=B(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function B(t,i){return!t||t instanceof R?t:new R(t,i)}function ae(t,i){if(t)for(var c=i?[t,i]:t,m=0,x=c.length;m<x;m++)this.extend(c[m])}ae.prototype={extend:function(t){var i=this._southWest,c=this._northEast,m,x;if(t instanceof ue)m=t,x=t;else if(t instanceof ae){if(m=t._southWest,x=t._northEast,!m||!x)return this}else return t?this.extend(de(t)||U(t)):this;return!i&&!c?(this._southWest=new ue(m.lat,m.lng),this._northEast=new ue(x.lat,x.lng)):(i.lat=Math.min(m.lat,i.lat),i.lng=Math.min(m.lng,i.lng),c.lat=Math.max(x.lat,c.lat),c.lng=Math.max(x.lng,c.lng)),this},pad:function(t){var i=this._southWest,c=this._northEast,m=Math.abs(i.lat-c.lat)*t,x=Math.abs(i.lng-c.lng)*t;return new ae(new ue(i.lat-m,i.lng-x),new ue(c.lat+m,c.lng+x))},getCenter:function(){return new ue((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ue(this.getNorth(),this.getWest())},getSouthEast:function(){return new ue(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof ue||"lat"in t?t=de(t):t=U(t);var i=this._southWest,c=this._northEast,m,x;return t instanceof ae?(m=t.getSouthWest(),x=t.getNorthEast()):m=x=t,m.lat>=i.lat&&x.lat<=c.lat&&m.lng>=i.lng&&x.lng<=c.lng},intersects:function(t){t=U(t);var i=this._southWest,c=this._northEast,m=t.getSouthWest(),x=t.getNorthEast(),E=x.lat>=i.lat&&m.lat<=c.lat,O=x.lng>=i.lng&&m.lng<=c.lng;return E&&O},overlaps:function(t){t=U(t);var i=this._southWest,c=this._northEast,m=t.getSouthWest(),x=t.getNorthEast(),E=x.lat>i.lat&&m.lat<c.lat,O=x.lng>i.lng&&m.lng<c.lng;return E&&O},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,i){return t?(t=U(t),this._southWest.equals(t.getSouthWest(),i)&&this._northEast.equals(t.getNorthEast(),i)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function U(t,i){return t instanceof ae?t:new ae(t,i)}function ue(t,i,c){if(isNaN(t)||isNaN(i))throw new Error("Invalid LatLng object: ("+t+", "+i+")");this.lat=+t,this.lng=+i,c!==void 0&&(this.alt=+c)}ue.prototype={equals:function(t,i){if(!t)return!1;t=de(t);var c=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return c<=(i===void 0?1e-9:i)},toString:function(t){return"LatLng("+M(this.lat,t)+", "+M(this.lng,t)+")"},distanceTo:function(t){return Se.distance(this,de(t))},wrap:function(){return Se.wrapLatLng(this)},toBounds:function(t){var i=180*t/40075017,c=i/Math.cos(Math.PI/180*this.lat);return U([this.lat-i,this.lng-c],[this.lat+i,this.lng+c])},clone:function(){return new ue(this.lat,this.lng,this.alt)}};function de(t,i,c){return t instanceof ue?t:G(t)&&typeof t[0]!="object"?t.length===3?new ue(t[0],t[1],t[2]):t.length===2?new ue(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new ue(t.lat,"lng"in t?t.lng:t.lon,t.alt):i===void 0?null:new ue(t,i,c)}var Le={latLngToPoint:function(t,i){var c=this.projection.project(t),m=this.scale(i);return this.transformation._transform(c,m)},pointToLatLng:function(t,i){var c=this.scale(i),m=this.transformation.untransform(t,c);return this.projection.unproject(m)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var i=this.projection.bounds,c=this.scale(t),m=this.transformation.transform(i.min,c),x=this.transformation.transform(i.max,c);return new R(m,x)},infinite:!1,wrapLatLng:function(t){var i=this.wrapLng?b(t.lng,this.wrapLng,!0):t.lng,c=this.wrapLat?b(t.lat,this.wrapLat,!0):t.lat,m=t.alt;return new ue(c,i,m)},wrapLatLngBounds:function(t){var i=t.getCenter(),c=this.wrapLatLng(i),m=i.lat-c.lat,x=i.lng-c.lng;if(m===0&&x===0)return t;var E=t.getSouthWest(),O=t.getNorthEast(),D=new ue(E.lat-m,E.lng-x),H=new ue(O.lat-m,O.lng-x);return new ae(D,H)}},Se=u({},Le,{wrapLng:[-180,180],R:6371e3,distance:function(t,i){var c=Math.PI/180,m=t.lat*c,x=i.lat*c,E=Math.sin((i.lat-t.lat)*c/2),O=Math.sin((i.lng-t.lng)*c/2),D=E*E+Math.cos(m)*Math.cos(x)*O*O,H=2*Math.atan2(Math.sqrt(D),Math.sqrt(1-D));return this.R*H}}),Ae=6378137,Be={R:Ae,MAX_LATITUDE:85.0511287798,project:function(t){var i=Math.PI/180,c=this.MAX_LATITUDE,m=Math.max(Math.min(c,t.lat),-c),x=Math.sin(m*i);return new V(this.R*t.lng*i,this.R*Math.log((1+x)/(1-x))/2)},unproject:function(t){var i=180/Math.PI;return new ue((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*i,t.x*i/this.R)},bounds:function(){var t=Ae*Math.PI;return new R([-t,-t],[t,t])}()};function St(t,i,c,m){if(G(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=i,this._c=c,this._d=m}St.prototype={transform:function(t,i){return this._transform(t.clone(),i)},_transform:function(t,i){return i=i||1,t.x=i*(this._a*t.x+this._b),t.y=i*(this._c*t.y+this._d),t},untransform:function(t,i){return i=i||1,new V((t.x/i-this._b)/this._a,(t.y/i-this._d)/this._c)}};function rt(t,i,c,m){return new St(t,i,c,m)}var ot=u({},Se,{code:"EPSG:3857",projection:Be,transformation:function(){var t=.5/(Math.PI*Be.R);return rt(t,.5,-t,.5)}()}),Qe=u({},ot,{code:"EPSG:900913"});function It(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function pn(t,i){var c="",m,x,E,O,D,H;for(m=0,E=t.length;m<E;m++){for(D=t[m],x=0,O=D.length;x<O;x++)H=D[x],c+=(x?"L":"M")+H.x+" "+H.y;c+=i?be.svg?"z":"x":""}return c||"M0 0"}var it=document.documentElement.style,kt="ActiveXObject"in window,$n=kt&&!document.addEventListener,mn="msLaunchUri"in navigator&&!("documentMode"in document),Ee=Gt("webkit"),Ue=Gt("android"),Ye=Gt("android 2")||Gt("android 3"),nt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Xe=Ue&&Gt("Google")&&nt<537&&!("AudioNode"in window),pt=!!window.opera,Ve=!mn&&Gt("chrome"),Ct=Gt("gecko")&&!Ee&&!pt&&!kt,gn=!Ve&&Gt("safari"),rn=Gt("phantom"),Pt="OTransition"in it,Tu=navigator.platform.indexOf("Win")===0,Ls=kt&&"transition"in it,xi="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ye,Ga="MozPerspective"in it,Rs=!window.L_DISABLE_3D&&(Ls||xi||Ga)&&!Pt&&!rn,_r=typeof orientation<"u"||Gt("mobile"),js=_r&&Ee,As=_r&&xi,wi=!window.PointerEvent&&window.MSPointerEvent,xr=!!(window.PointerEvent||wi),wr="ontouchstart"in window||!!window.TouchEvent,Ha=!window.L_NO_TOUCH&&(wr||xr),Wa=_r&&pt,Va=_r&&Ct,Za=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,qa=function(){var t=!1;try{var i=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",C,i),window.removeEventListener("testPassiveEventSupport",C,i)}catch{}return t}(),Os=function(){return!!document.createElement("canvas").getContext}(),bi=!!(document.createElementNS&&It("svg").createSVGRect),Io=!!bi&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Is=!bi&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var i=t.firstChild;return i.style.behavior="url(#default#VML)",i&&typeof i.adj=="object"}catch{return!1}}(),No=navigator.platform.indexOf("Mac")===0,Mu=navigator.platform.indexOf("Linux")===0;function Gt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var be={ie:kt,ielt9:$n,edge:mn,webkit:Ee,android:Ue,android23:Ye,androidStock:Xe,opera:pt,chrome:Ve,gecko:Ct,safari:gn,phantom:rn,opera12:Pt,win:Tu,ie3d:Ls,webkit3d:xi,gecko3d:Ga,any3d:Rs,mobile:_r,mobileWebkit:js,mobileWebkit3d:As,msPointer:wi,pointer:xr,touch:Ha,touchNative:wr,mobileOpera:Wa,mobileGecko:Va,retina:Za,passiveEvents:qa,canvas:Os,svg:bi,vml:Is,inlineSvg:Io,mac:No,linux:Mu},zo=be.msPointer?"MSPointerDown":"pointerdown",Si=be.msPointer?"MSPointerMove":"pointermove",Ka=be.msPointer?"MSPointerUp":"pointerup",Ja=be.msPointer?"MSPointerCancel":"pointercancel",Ns={touchstart:zo,touchmove:Si,touchend:Ka,touchcancel:Ja},rr={touchstart:mt,touchmove:ki,touchend:ki,touchcancel:ki},br={},zs=!1;function Lu(t,i,c){return i==="touchstart"&&Ru(),rr[i]?(c=rr[i].bind(this,c),t.addEventListener(Ns[i],c,!1),c):(console.warn("wrong event specified:",i),C)}function Ya(t,i,c){if(!Ns[i]){console.warn("wrong event specified:",i);return}t.removeEventListener(Ns[i],c,!1)}function Qa(t){br[t.pointerId]=t}function Xa(t){br[t.pointerId]&&(br[t.pointerId]=t)}function Ds(t){delete br[t.pointerId]}function Ru(){zs||(document.addEventListener(zo,Qa,!0),document.addEventListener(Si,Xa,!0),document.addEventListener(Ka,Ds,!0),document.addEventListener(Ja,Ds,!0),zs=!0)}function ki(t,i){if(i.pointerType!==(i.MSPOINTER_TYPE_MOUSE||"mouse")){i.touches=[];for(var c in br)i.touches.push(br[c]);i.changedTouches=[i],t(i)}}function mt(t,i){i.MSPOINTER_TYPE_TOUCH&&i.pointerType===i.MSPOINTER_TYPE_TOUCH&&gt(i),ki(t,i)}function ju(t){var i={},c,m;for(m in t)c=t[m],i[m]=c&&c.bind?c.bind(t):c;return t=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var Fs=200;function el(t,i){t.addEventListener("dblclick",i);var c=0,m;function x(E){if(E.detail!==1){m=E.detail;return}if(!(E.pointerType==="mouse"||E.sourceCapabilities&&!E.sourceCapabilities.firesTouchEvents)){var O=Er(E);if(!(O.some(function(H){return H instanceof HTMLLabelElement&&H.attributes.for})&&!O.some(function(H){return H instanceof HTMLInputElement||H instanceof HTMLSelectElement}))){var D=Date.now();D-c<=Fs?(m++,m===2&&i(ju(E))):m=1,c=D}}}return t.addEventListener("click",x),{dblclick:i,simDblclick:x}}function Ei(t,i){t.removeEventListener("dblclick",i.dblclick),t.removeEventListener("click",i.simDblclick)}var Bs=Qr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Kr=Qr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Do=Kr==="webkitTransition"||Kr==="OTransition"?Kr+"End":"transitionend";function vn(t){return typeof t=="string"?document.getElementById(t):t}function Fo(t,i){var c=t.style[i]||t.currentStyle&&t.currentStyle[i];if((!c||c==="auto")&&document.defaultView){var m=document.defaultView.getComputedStyle(t,null);c=m?m[i]:null}return c==="auto"?null:c}function ze(t,i,c){var m=document.createElement(t);return m.className=i||"",c&&c.appendChild(m),m}function ct(t){var i=t.parentNode;i&&i.removeChild(t)}function Ci(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Jr(t){var i=t.parentNode;i&&i.lastChild!==t&&i.appendChild(t)}function Gn(t){var i=t.parentNode;i&&i.firstChild!==t&&i.insertBefore(t,i.firstChild)}function Yr(t,i){if(t.classList!==void 0)return t.classList.contains(i);var c=Pi(t);return c.length>0&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(c)}function Ie(t,i){if(t.classList!==void 0)for(var c=P(i),m=0,x=c.length;m<x;m++)t.classList.add(c[m]);else if(!Yr(t,i)){var E=Pi(t);Us(t,(E?E+" ":"")+i)}}function st(t,i){t.classList!==void 0?t.classList.remove(i):Us(t,T((" "+Pi(t)+" ").replace(" "+i+" "," ")))}function Us(t,i){t.className.baseVal===void 0?t.className=i:t.className.baseVal=i}function Pi(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Ht(t,i){"opacity"in t.style?t.style.opacity=i:"filter"in t.style&&tl(t,i)}function tl(t,i){var c=!1,m="DXImageTransform.Microsoft.Alpha";try{c=t.filters.item(m)}catch{if(i===1)return}i=Math.round(i*100),c?(c.Enabled=i!==100,c.Opacity=i):t.style.filter+=" progid:"+m+"(opacity="+i+")"}function Qr(t){for(var i=document.documentElement.style,c=0;c<t.length;c++)if(t[c]in i)return t[c];return!1}function yn(t,i,c){var m=i||new V(0,0);t.style[Bs]=(be.ie3d?"translate("+m.x+"px,"+m.y+"px)":"translate3d("+m.x+"px,"+m.y+"px,0)")+(c?" scale("+c+")":"")}function xt(t,i){t._leaflet_pos=i,be.any3d?yn(t,i):(t.style.left=i.x+"px",t.style.top=i.y+"px")}function Hn(t){return t._leaflet_pos||new V(0,0)}var Ze,Xr,Ti;if("onselectstart"in document)Ze=function(){je(window,"selectstart",gt)},Xr=function(){et(window,"selectstart",gt)};else{var Sr=Qr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ze=function(){if(Sr){var t=document.documentElement.style;Ti=t[Sr],t[Sr]="none"}},Xr=function(){Sr&&(document.documentElement.style[Sr]=Ti,Ti=void 0)}}function Mi(){je(window,"dragstart",gt)}function Li(){et(window,"dragstart",gt)}var Bo,Uo;function eo(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(_n(),Bo=t,Uo=t.style.outlineStyle,t.style.outlineStyle="none",je(window,"keydown",_n))}function _n(){Bo&&(Bo.style.outlineStyle=Uo,Bo=void 0,Uo=void 0,et(window,"keydown",_n))}function Wn(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Mn(t){var i=t.getBoundingClientRect();return{x:i.width/t.offsetWidth||1,y:i.height/t.offsetHeight||1,boundingClientRect:i}}var $o={__proto__:null,TRANSFORM:Bs,TRANSITION:Kr,TRANSITION_END:Do,get:vn,getStyle:Fo,create:ze,remove:ct,empty:Ci,toFront:Jr,toBack:Gn,hasClass:Yr,addClass:Ie,removeClass:st,setClass:Us,getClass:Pi,setOpacity:Ht,testProp:Qr,setTransform:yn,setPosition:xt,getPosition:Hn,get disableTextSelection(){return Ze},get enableTextSelection(){return Xr},disableImageDrag:Mi,enableImageDrag:Li,preventOutline:eo,restoreOutline:_n,getSizedParentNode:Wn,getScale:Mn};function je(t,i,c,m){if(i&&typeof i=="object")for(var x in i)Gs(t,x,i[x],c);else{i=P(i);for(var E=0,O=i.length;E<O;E++)Gs(t,i[E],c,m)}return this}var Rt="_leaflet_events";function et(t,i,c,m){if(arguments.length===1)$s(t),delete t[Rt];else if(i&&typeof i=="object")for(var x in i)Ri(t,x,i[x],c);else if(i=P(i),arguments.length===2)$s(t,function(D){return X(i,D)!==-1});else for(var E=0,O=i.length;E<O;E++)Ri(t,i[E],c,m);return this}function $s(t,i){for(var c in t[Rt]){var m=c.split(/\d/)[0];(!i||i(m))&&Ri(t,m,null,null,c)}}var kr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Gs(t,i,c,m){var x=i+y(c)+(m?"_"+y(m):"");if(t[Rt]&&t[Rt][x])return this;var E=function(D){return c.call(m||t,D||window.event)},O=E;!be.touchNative&&be.pointer&&i.indexOf("touch")===0?E=Lu(t,i,E):be.touch&&i==="dblclick"?E=el(t,E):"addEventListener"in t?i==="touchstart"||i==="touchmove"||i==="wheel"||i==="mousewheel"?t.addEventListener(kr[i]||i,E,be.passiveEvents?{passive:!1}:!1):i==="mouseenter"||i==="mouseleave"?(E=function(D){D=D||window.event,Wo(t,D)&&O(D)},t.addEventListener(kr[i],E,!1)):t.addEventListener(i,O,!1):t.attachEvent("on"+i,E),t[Rt]=t[Rt]||{},t[Rt][x]=E}function Ri(t,i,c,m,x){x=x||i+y(c)+(m?"_"+y(m):"");var E=t[Rt]&&t[Rt][x];if(!E)return this;!be.touchNative&&be.pointer&&i.indexOf("touch")===0?Ya(t,i,E):be.touch&&i==="dblclick"?Ei(t,E):"removeEventListener"in t?t.removeEventListener(kr[i]||i,E,!1):t.detachEvent("on"+i,E),t[Rt][x]=null}function Ln(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function ji(t){return Gs(t,"wheel",Ln),this}function Go(t){return je(t,"mousedown touchstart dblclick contextmenu",Ln),t._leaflet_disable_click=!0,this}function gt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function xn(t){return gt(t),Ln(t),this}function Er(t){if(t.composedPath)return t.composedPath();for(var i=[],c=t.target;c;)i.push(c),c=c.parentNode;return i}function Ho(t,i){if(!i)return new V(t.clientX,t.clientY);var c=Mn(i),m=c.boundingClientRect;return new V((t.clientX-m.left)/c.x-i.clientLeft,(t.clientY-m.top)/c.y-i.clientTop)}var Au=be.linux&&be.chrome?window.devicePixelRatio:be.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function nl(t){return be.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Au:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function Wo(t,i){var c=i.relatedTarget;if(!c)return!0;try{for(;c&&c!==t;)c=c.parentNode}catch{return!1}return c!==t}var Ai={__proto__:null,on:je,off:et,stopPropagation:Ln,disableScrollPropagation:ji,disableClickPropagation:Go,preventDefault:gt,stop:xn,getPropagationPath:Er,getMousePosition:Ho,getWheelDelta:nl,isExternalTarget:Wo,addListener:je,removeListener:et},Oi=Ce.extend({run:function(t,i,c,m){this.stop(),this._el=t,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(m||.5,.2),this._startPos=Hn(t),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ve(this._animate,this),this._step()},_step:function(t){var i=+new Date-this._startTime,c=this._duration*1e3;i<c?this._runFrame(this._easeOut(i/c),t):(this._runFrame(1),this._complete())},_runFrame:function(t,i){var c=this._startPos.add(this._offset.multiplyBy(t));i&&c._round(),xt(this._el,c),this.fire("step")},_complete:function(){ne(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Ge=Ce.extend({options:{crs:ot,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,i){i=j(this,i),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),i.zoom!==void 0&&(this._zoom=this._limitZoom(i.zoom)),i.center&&i.zoom!==void 0&&this.setView(de(i.center),i.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Kr&&be.any3d&&!be.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),je(this._proxy,Do,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,i,c){if(i=i===void 0?this._zoom:this._limitZoom(i),t=this._limitCenter(de(t),i,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=u({animate:c.animate},c.zoom),c.pan=u({animate:c.animate,duration:c.duration},c.pan));var m=this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,i,c.zoom):this._tryAnimatedPan(t,c.pan);if(m)return clearTimeout(this._sizeTimer),this}return this._resetView(t,i,c.pan&&c.pan.noMoveStart),this},setZoom:function(t,i){return this._loaded?this.setView(this.getCenter(),t,{zoom:i}):(this._zoom=t,this)},zoomIn:function(t,i){return t=t||(be.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,i)},zoomOut:function(t,i){return t=t||(be.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,i)},setZoomAround:function(t,i,c){var m=this.getZoomScale(i),x=this.getSize().divideBy(2),E=t instanceof V?t:this.latLngToContainerPoint(t),O=E.subtract(x).multiplyBy(1-1/m),D=this.containerPointToLatLng(x.add(O));return this.setView(D,i,{zoom:c})},_getBoundsCenterZoom:function(t,i){i=i||{},t=t.getBounds?t.getBounds():U(t);var c=q(i.paddingTopLeft||i.padding||[0,0]),m=q(i.paddingBottomRight||i.padding||[0,0]),x=this.getBoundsZoom(t,!1,c.add(m));if(x=typeof i.maxZoom=="number"?Math.min(i.maxZoom,x):x,x===1/0)return{center:t.getCenter(),zoom:x};var E=m.subtract(c).divideBy(2),O=this.project(t.getSouthWest(),x),D=this.project(t.getNorthEast(),x),H=this.unproject(O.add(D).divideBy(2).add(E),x);return{center:H,zoom:x}},fitBounds:function(t,i){if(t=U(t),!t.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(t,i);return this.setView(c.center,c.zoom,i)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,i){return this.setView(t,this._zoom,{pan:i})},panBy:function(t,i){if(t=q(t).round(),i=i||{},!t.x&&!t.y)return this.fire("moveend");if(i.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Oi,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire("movestart"),i.animate!==!1){Ie(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,c,i.duration||.25,i.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,i,c){if(c=c||{},c.animate===!1||!be.any3d)return this.setView(t,i,c);this._stop();var m=this.project(this.getCenter()),x=this.project(t),E=this.getSize(),O=this._zoom;t=de(t),i=i===void 0?O:i;var D=Math.max(E.x,E.y),H=D*this.getZoomScale(O,i),Q=x.distanceTo(m)||1,pe=1.42,Pe=pe*pe;function De(Je){var go=Je?-1:1,Zu=Je?H:D,qu=H*H-D*D+go*Pe*Pe*Q*Q,jr=2*Zu*Pe*Q,Ar=qu/jr,Or=Math.sqrt(Ar*Ar+1)-Ar,qi=Or<1e-9?-18:Math.log(Or);return qi}function jt(Je){return(Math.exp(Je)-Math.exp(-Je))/2}function Tt(Je){return(Math.exp(Je)+Math.exp(-Je))/2}function en(Je){return jt(Je)/Tt(Je)}var Vt=De(0);function po(Je){return D*(Tt(Vt)/Tt(Vt+pe*Je))}function ca(Je){return D*(Tt(Vt)*en(Vt+pe*Je)-jt(Vt))/Pe}function dr(Je){return 1-Math.pow(1-Je,1.5)}var Sl=Date.now(),Rr=(De(1)-Vt)/pe,On=c.duration?1e3*c.duration:1e3*Rr*.8;function mo(){var Je=(Date.now()-Sl)/On,go=dr(Je)*Rr;Je<=1?(this._flyToFrame=ve(mo,this),this._move(this.unproject(m.add(x.subtract(m).multiplyBy(ca(go)/Q)),O),this.getScaleZoom(D/po(go),O),{flyTo:!0})):this._move(t,i)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),mo.call(this),this},flyToBounds:function(t,i){var c=this._getBoundsCenterZoom(t,i);return this.flyTo(c.center,c.zoom,i)},setMaxBounds:function(t){return t=U(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var i=this.options.minZoom;return this.options.minZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var i=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,i){this._enforcingBounds=!0;var c=this.getCenter(),m=this._limitCenter(c,this._zoom,U(t));return c.equals(m)||this.panTo(m,i),this._enforcingBounds=!1,this},panInside:function(t,i){i=i||{};var c=q(i.paddingTopLeft||i.padding||[0,0]),m=q(i.paddingBottomRight||i.padding||[0,0]),x=this.project(this.getCenter()),E=this.project(t),O=this.getPixelBounds(),D=B([O.min.add(c),O.max.subtract(m)]),H=D.getSize();if(!D.contains(E)){this._enforcingBounds=!0;var Q=E.subtract(D.getCenter()),pe=D.extend(E).getSize().subtract(H);x.x+=Q.x<0?-pe.x:pe.x,x.y+=Q.y<0?-pe.y:pe.y,this.panTo(this.unproject(x),i),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=u({animate:!1,pan:!0},t===!0?{animate:!0}:t);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),m=i.divideBy(2).round(),x=c.divideBy(2).round(),E=m.subtract(x);return!E.x&&!E.y?this:(t.animate&&t.pan?this.panBy(E):(t.pan&&this._rawPanBy(E),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=u({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=p(this._handleGeolocationResponse,this),c=p(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,c,t):navigator.geolocation.getCurrentPosition(i,c,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var i=t.code,c=t.message||(i===1?"permission denied":i===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:i,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var i=t.coords.latitude,c=t.coords.longitude,m=new ue(i,c),x=m.toBounds(t.coords.accuracy*2),E=this._locateOptions;if(E.setView){var O=this.getBoundsZoom(x);this.setView(m,E.maxZoom?Math.min(O,E.maxZoom):O)}var D={latlng:m,bounds:x,timestamp:t.timestamp};for(var H in t.coords)typeof t.coords[H]=="number"&&(D[H]=t.coords[H]);this.fire("locationfound",D)}},addHandler:function(t,i){if(!i)return this;var c=this[t]=new i(this);return this._handlers.push(c),this.options[t]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ct(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ne(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)ct(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,i){var c="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),m=ze("div",c,i||this._mapPane);return t&&(this._panes[t]=m),m},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),i=this.unproject(t.getBottomLeft()),c=this.unproject(t.getTopRight());return new ae(i,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,i,c){t=U(t),c=q(c||[0,0]);var m=this.getZoom()||0,x=this.getMinZoom(),E=this.getMaxZoom(),O=t.getNorthWest(),D=t.getSouthEast(),H=this.getSize().subtract(c),Q=B(this.project(D,m),this.project(O,m)).getSize(),pe=be.any3d?this.options.zoomSnap:1,Pe=H.x/Q.x,De=H.y/Q.y,jt=i?Math.max(Pe,De):Math.min(Pe,De);return m=this.getScaleZoom(jt,m),pe&&(m=Math.round(m/(pe/100))*(pe/100),m=i?Math.ceil(m/pe)*pe:Math.floor(m/pe)*pe),Math.max(x,Math.min(E,m))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new V(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,i){var c=this._getTopLeftPoint(t,i);return new R(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,i){var c=this.options.crs;return i=i===void 0?this._zoom:i,c.scale(t)/c.scale(i)},getScaleZoom:function(t,i){var c=this.options.crs;i=i===void 0?this._zoom:i;var m=c.zoom(t*c.scale(i));return isNaN(m)?1/0:m},project:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.latLngToPoint(de(t),i)},unproject:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.pointToLatLng(q(t),i)},layerPointToLatLng:function(t){var i=q(t).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(t){var i=this.project(de(t))._round();return i._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(de(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(U(t))},distance:function(t,i){return this.options.crs.distance(de(t),de(i))},containerPointToLayerPoint:function(t){return q(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return q(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var i=this.containerPointToLayerPoint(q(t));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(de(t)))},mouseEventToContainerPoint:function(t){return Ho(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var i=this._container=vn(t);if(i){if(i._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");je(i,"scroll",this._onScroll,this),this._containerId=y(i)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&be.any3d,Ie(t,"leaflet-container"+(be.touch?" leaflet-touch":"")+(be.retina?" leaflet-retina":"")+(be.ielt9?" leaflet-oldie":"")+(be.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var i=Fo(t,"position");i!=="absolute"&&i!=="relative"&&i!=="fixed"&&i!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),xt(this._mapPane,new V(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ie(t.markerPane,"leaflet-zoom-hide"),Ie(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,i,c){xt(this._mapPane,new V(0,0));var m=!this._loaded;this._loaded=!0,i=this._limitZoom(i),this.fire("viewprereset");var x=this._zoom!==i;this._moveStart(x,c)._move(t,i)._moveEnd(x),this.fire("viewreset"),m&&this.fire("load")},_moveStart:function(t,i){return t&&this.fire("zoomstart"),i||this.fire("movestart"),this},_move:function(t,i,c,m){i===void 0&&(i=this._zoom);var x=this._zoom!==i;return this._zoom=i,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),m?c&&c.pinch&&this.fire("zoom",c):((x||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ne(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){xt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[y(this._container)]=this;var i=t?et:je;i(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&i(window,"resize",this._onResize,this),be.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ne(this._resizeRequest),this._resizeRequest=ve(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,i){for(var c=[],m,x=i==="mouseout"||i==="mouseover",E=t.target||t.srcElement,O=!1;E;){if(m=this._targets[y(E)],m&&(i==="click"||i==="preclick")&&this._draggableMoved(m)){O=!0;break}if(m&&m.listens(i,!0)&&(x&&!Wo(E,t)||(c.push(m),x))||E===this._container)break;E=E.parentNode}return!c.length&&!O&&!x&&this.listens(i,!0)&&(c=[this]),c},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var i=t.target||t.srcElement;if(!(!this._loaded||i._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(i))){var c=t.type;c==="mousedown"&&eo(i),this._fireDOMEvent(t,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,i,c){if(t.type==="click"){var m=u({},t);m.type="preclick",this._fireDOMEvent(m,m.type,c)}var x=this._findEventTargets(t,i);if(c){for(var E=[],O=0;O<c.length;O++)c[O].listens(i,!0)&&E.push(c[O]);x=E.concat(x)}if(x.length){i==="contextmenu"&&gt(t);var D=x[0],H={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var Q=D.getLatLng&&(!D._radius||D._radius<=10);H.containerPoint=Q?this.latLngToContainerPoint(D.getLatLng()):this.mouseEventToContainerPoint(t),H.layerPoint=this.containerPointToLayerPoint(H.containerPoint),H.latlng=Q?D.getLatLng():this.layerPointToLatLng(H.layerPoint)}for(O=0;O<x.length;O++)if(x[O].fire(i,H,!0),H.originalEvent._stopped||x[O].options.bubblingMouseEvents===!1&&X(this._mouseEvents,i)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,i=this._handlers.length;t<i;t++)this._handlers[t].disable()},whenReady:function(t,i){return this._loaded?t.call(i||this,{target:this}):this.on("load",t,i),this},_getMapPanePos:function(){return Hn(this._mapPane)||new V(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,i){var c=t&&i!==void 0?this._getNewPixelOrigin(t,i):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,i){var c=this.getSize()._divideBy(2);return this.project(t,i)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,i,c){var m=this._getNewPixelOrigin(c,i);return this.project(t,i)._subtract(m)},_latLngBoundsToNewLayerBounds:function(t,i,c){var m=this._getNewPixelOrigin(c,i);return B([this.project(t.getSouthWest(),i)._subtract(m),this.project(t.getNorthWest(),i)._subtract(m),this.project(t.getSouthEast(),i)._subtract(m),this.project(t.getNorthEast(),i)._subtract(m)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,i,c){if(!c)return t;var m=this.project(t,i),x=this.getSize().divideBy(2),E=new R(m.subtract(x),m.add(x)),O=this._getBoundsOffset(E,c,i);return Math.abs(O.x)<=1&&Math.abs(O.y)<=1?t:this.unproject(m.add(O),i)},_limitOffset:function(t,i){if(!i)return t;var c=this.getPixelBounds(),m=new R(c.min.add(t),c.max.add(t));return t.add(this._getBoundsOffset(m,i))},_getBoundsOffset:function(t,i,c){var m=B(this.project(i.getNorthEast(),c),this.project(i.getSouthWest(),c)),x=m.min.subtract(t.min),E=m.max.subtract(t.max),O=this._rebound(x.x,-E.x),D=this._rebound(x.y,-E.y);return new V(O,D)},_rebound:function(t,i){return t+i>0?Math.round(t-i)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(i))},_limitZoom:function(t){var i=this.getMinZoom(),c=this.getMaxZoom(),m=be.any3d?this.options.zoomSnap:1;return m&&(t=Math.round(t/m)*m),Math.max(i,Math.min(c,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){st(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,i){var c=this._getCenterOffset(t)._trunc();return(i&&i.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,i),!0)},_createAnimProxy:function(){var t=this._proxy=ze("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(i){var c=Bs,m=this._proxy.style[c];yn(this._proxy,this.project(i.center,i.zoom),this.getZoomScale(i.zoom,1)),m===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ct(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),i=this.getZoom();yn(this._proxy,this.project(t,i),this.getZoomScale(i,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,i,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var m=this.getZoomScale(i),x=this._getCenterOffset(t)._divideBy(1-1/m);return c.animate!==!0&&!this.getSize().contains(x)?!1:(ve(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(t,i,!0)},this),!0)},_animateZoom:function(t,i,c,m){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=i,Ie(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:i,noUpdate:m}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&st(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function or(t,i){return new Ge(t,i)}var Qt=ce.extend({options:{position:"topright"},initialize:function(t){j(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var i=this._map;return i&&i.removeControl(this),this.options.position=t,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var i=this._container=this.onAdd(t),c=this.getPosition(),m=t._controlCorners[c];return Ie(i,"leaflet-control"),c.indexOf("bottom")!==-1?m.insertBefore(i,m.firstChild):m.appendChild(i),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ct(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),ir=function(t){return new Qt(t)};Ge.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},i="leaflet-",c=this._controlContainer=ze("div",i+"control-container",this._container);function m(x,E){var O=i+x+" "+i+E;t[x+E]=ze("div",O,c)}m("top","left"),m("top","right"),m("bottom","left"),m("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ct(this._controlCorners[t]);ct(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Hs=Qt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,i,c,m){return c<m?-1:m<c?1:0}},initialize:function(t,i,c){j(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var m in t)this._addLayer(t[m],m);for(m in i)this._addLayer(i[m],m,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Qt.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,i){return this._addLayer(t,i),this._map?this._update():this},addOverlay:function(t,i){return this._addLayer(t,i,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var i=this._getLayer(y(t));return i&&this._layers.splice(this._layers.indexOf(i),1),this._map?this._update():this},expand:function(){Ie(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(Ie(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):st(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return st(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",i=this._container=ze("div",t),c=this.options.collapsed;i.setAttribute("aria-haspopup",!0),Go(i),ji(i);var m=this._section=ze("section",t+"-list");c&&(this._map.on("click",this.collapse,this),je(i,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var x=this._layersLink=ze("a",t+"-toggle",i);x.href="#",x.title="Layers",x.setAttribute("role","button"),je(x,{keydown:function(E){E.keyCode===13&&this._expandSafely()},click:function(E){gt(E),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=ze("div",t+"-base",m),this._separator=ze("div",t+"-separator",m),this._overlaysList=ze("div",t+"-overlays",m),i.appendChild(m)},_getLayer:function(t){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&y(this._layers[i].layer)===t)return this._layers[i]},_addLayer:function(t,i,c){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:i,overlay:c}),this.options.sortLayers&&this._layers.sort(p(function(m,x){return this.options.sortFunction(m.layer,x.layer,m.name,x.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ci(this._baseLayersList),Ci(this._overlaysList),this._layerControlInputs=[];var t,i,c,m,x=0;for(c=0;c<this._layers.length;c++)m=this._layers[c],this._addItem(m),i=i||m.overlay,t=t||!m.overlay,x+=m.overlay?0:1;return this.options.hideSingleBase&&(t=t&&x>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=i&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var i=this._getLayer(y(t.target)),c=i.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;c&&this._map.fire(c,i)},_createRadioElement:function(t,i){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(i?' checked="checked"':"")+"/>",m=document.createElement("div");return m.innerHTML=c,m.firstChild},_addItem:function(t){var i=document.createElement("label"),c=this._map.hasLayer(t.layer),m;t.overlay?(m=document.createElement("input"),m.type="checkbox",m.className="leaflet-control-layers-selector",m.defaultChecked=c):m=this._createRadioElement("leaflet-base-layers_"+y(this),c),this._layerControlInputs.push(m),m.layerId=y(t.layer),je(m,"click",this._onInputClick,this);var x=document.createElement("span");x.innerHTML=" "+t.name;var E=document.createElement("span");i.appendChild(E),E.appendChild(m),E.appendChild(x);var O=t.overlay?this._overlaysList:this._baseLayersList;return O.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,i,c,m=[],x=[];this._handlingClick=!0;for(var E=t.length-1;E>=0;E--)i=t[E],c=this._getLayer(i.layerId).layer,i.checked?m.push(c):i.checked||x.push(c);for(E=0;E<x.length;E++)this._map.hasLayer(x[E])&&this._map.removeLayer(x[E]);for(E=0;E<m.length;E++)this._map.hasLayer(m[E])||this._map.addLayer(m[E]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,i,c,m=this._map.getZoom(),x=t.length-1;x>=0;x--)i=t[x],c=this._getLayer(i.layerId).layer,i.disabled=c.options.minZoom!==void 0&&m<c.options.minZoom||c.options.maxZoom!==void 0&&m>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,je(t,"click",gt),this.expand();var i=this;setTimeout(function(){et(t,"click",gt),i._preventClick=!1})}}),Ii=function(t,i,c){return new Hs(t,i,c)},to=Qt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var i="leaflet-control-zoom",c=ze("div",i+" leaflet-bar"),m=this.options;return this._zoomInButton=this._createButton(m.zoomInText,m.zoomInTitle,i+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(m.zoomOutText,m.zoomOutTitle,i+"-out",c,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,i,c,m,x){var E=ze("a",c,m);return E.innerHTML=t,E.href="#",E.title=i,E.setAttribute("role","button"),E.setAttribute("aria-label",i),Go(E),je(E,"click",xn),je(E,"click",x,this),je(E,"click",this._refocusOnMap,this),E},_updateDisabled:function(){var t=this._map,i="leaflet-disabled";st(this._zoomInButton,i),st(this._zoomOutButton,i),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(Ie(this._zoomOutButton,i),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(Ie(this._zoomInButton,i),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ge.mergeOptions({zoomControl:!0}),Ge.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new to,this.addControl(this.zoomControl))});var rl=function(t){return new to(t)},Wt=Qt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var i="leaflet-control-scale",c=ze("div",i),m=this.options;return this._addScales(m,i+"-line",c),t.on(m.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),c},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,i,c){t.metric&&(this._mScale=ze("div",i,c)),t.imperial&&(this._iScale=ze("div",i,c))},_update:function(){var t=this._map,i=t.getSize().y/2,c=t.distance(t.containerPointToLatLng([0,i]),t.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(c)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var i=this._getRoundNum(t),c=i<1e3?i+" m":i/1e3+" km";this._updateScale(this._mScale,c,i/t)},_updateImperial:function(t){var i=t*3.2808399,c,m,x;i>5280?(c=i/5280,m=this._getRoundNum(c),this._updateScale(this._iScale,m+" mi",m/c)):(x=this._getRoundNum(i),this._updateScale(this._iScale,x+" ft",x/i))},_updateScale:function(t,i,c){t.style.width=Math.round(this.options.maxWidth*c)+"px",t.innerHTML=i},_getRoundNum:function(t){var i=Math.pow(10,(Math.floor(t)+"").length-1),c=t/i;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,i*c}}),no=function(t){return new Wt(t)},Ws='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Cr=Qt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(be.inlineSvg?Ws+" ":"")+"Leaflet</a>"},initialize:function(t){j(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=ze("div","leaflet-control-attribution"),Go(this._container);for(var i in t._layers)t._layers[i].getAttribution&&this.addAttribution(t._layers[i].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var i in this._attributions)this._attributions[i]&&t.push(i);var c=[];this.options.prefix&&c.push(this.options.prefix),t.length&&c.push(t.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});Ge.mergeOptions({attributionControl:!0}),Ge.addInitHook(function(){this.options.attributionControl&&new Cr().addTo(this)});var Ou=function(t){return new Cr(t)};Qt.Layers=Hs,Qt.Zoom=to,Qt.Scale=Wt,Qt.Attribution=Cr,ir.layers=Ii,ir.zoom=rl,ir.scale=no,ir.attribution=Ou;var on=ce.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});on.addTo=function(t,i){return t.addHandler(i,this),this};var Vs={Events:fe},ro=be.touch?"touchstart mousedown":"mousedown",wn=Ce.extend({options:{clickTolerance:3},initialize:function(t,i,c,m){j(this,m),this._element=t,this._dragStartTarget=i||t,this._preventOutline=c},enable:function(){this._enabled||(je(this._dragStartTarget,ro,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(wn._dragging===this&&this.finishDrag(!0),et(this._dragStartTarget,ro,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!Yr(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){wn._dragging===this&&this.finishDrag();return}if(!(wn._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(wn._dragging=this,this._preventOutline&&eo(this._element),Mi(),Ze(),!this._moving)){this.fire("down");var i=t.touches?t.touches[0]:t,c=Wn(this._element);this._startPoint=new V(i.clientX,i.clientY),this._startPos=Hn(this._element),this._parentScale=Mn(c);var m=t.type==="mousedown";je(document,m?"mousemove":"touchmove",this._onMove,this),je(document,m?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var i=t.touches&&t.touches.length===1?t.touches[0]:t,c=new V(i.clientX,i.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,gt(t),this._moved||(this.fire("dragstart"),this._moved=!0,Ie(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ie(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),xt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){st(document.body,"leaflet-dragging"),this._lastTarget&&(st(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),et(document,"mousemove touchmove",this._onMove,this),et(document,"mouseup touchend touchcancel",this._onUp,this),Li(),Xr();var i=this._moved&&this._moving;this._moving=!1,wn._dragging=!1,i&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Zs(t,i,c){var m,x=[1,4,2,8],E,O,D,H,Q,pe,Pe,De;for(E=0,pe=t.length;E<pe;E++)t[E]._code=Pr(t[E],i);for(D=0;D<4;D++){for(Pe=x[D],m=[],E=0,pe=t.length,O=pe-1;E<pe;O=E++)H=t[E],Q=t[O],H._code&Pe?Q._code&Pe||(De=zi(Q,H,Pe,i,c),De._code=Pr(De,i),m.push(De)):(Q._code&Pe&&(De=zi(Q,H,Pe,i,c),De._code=Pr(De,i),m.push(De)),m.push(H));t=m}return t}function ol(t,i){var c,m,x,E,O,D,H,Q,pe;if(!t||t.length===0)throw new Error("latlngs not passed");sn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Pe=de([0,0]),De=U(t),jt=De.getNorthWest().distanceTo(De.getSouthWest())*De.getNorthEast().distanceTo(De.getNorthWest());jt<1700&&(Pe=qs(t));var Tt=t.length,en=[];for(c=0;c<Tt;c++){var Vt=de(t[c]);en.push(i.project(de([Vt.lat-Pe.lat,Vt.lng-Pe.lng])))}for(D=H=Q=0,c=0,m=Tt-1;c<Tt;m=c++)x=en[c],E=en[m],O=x.y*E.x-E.y*x.x,H+=(x.x+E.x)*O,Q+=(x.y+E.y)*O,D+=O*3;D===0?pe=en[0]:pe=[H/D,Q/D];var po=i.unproject(q(pe));return de([po.lat+Pe.lat,po.lng+Pe.lng])}function qs(t){for(var i=0,c=0,m=0,x=0;x<t.length;x++){var E=de(t[x]);i+=E.lat,c+=E.lng,m++}return de([i/m,c/m])}var Iu={__proto__:null,clipPolygon:Zs,polygonCenter:ol,centroid:qs};function Ni(t,i){if(!i||!t.length)return t.slice();var c=i*i;return t=Du(t,c),t=zu(t,c),t}function il(t,i,c){return Math.sqrt(Tr(t,i,c,!0))}function Nu(t,i,c){return Tr(t,i,c)}function zu(t,i){var c=t.length,m=typeof Uint8Array<"u"?Uint8Array:Array,x=new m(c);x[0]=x[c-1]=1,Ks(t,x,i,0,c-1);var E,O=[];for(E=0;E<c;E++)x[E]&&O.push(t[E]);return O}function Ks(t,i,c,m,x){var E=0,O,D,H;for(D=m+1;D<=x-1;D++)H=Tr(t[D],t[m],t[x],!0),H>E&&(O=D,E=H);E>c&&(i[O]=1,Ks(t,i,c,m,O),Ks(t,i,c,O,x))}function Du(t,i){for(var c=[t[0]],m=1,x=0,E=t.length;m<E;m++)Fu(t[m],t[x])>i&&(c.push(t[m]),x=m);return x<E-1&&c.push(t[E-1]),c}var Js;function sl(t,i,c,m,x){var E=m?Js:Pr(t,c),O=Pr(i,c),D,H,Q;for(Js=O;;){if(!(E|O))return[t,i];if(E&O)return!1;D=E||O,H=zi(t,i,D,c,x),Q=Pr(H,c),D===E?(t=H,E=Q):(i=H,O=Q)}}function zi(t,i,c,m,x){var E=i.x-t.x,O=i.y-t.y,D=m.min,H=m.max,Q,pe;return c&8?(Q=t.x+E*(H.y-t.y)/O,pe=H.y):c&4?(Q=t.x+E*(D.y-t.y)/O,pe=D.y):c&2?(Q=H.x,pe=t.y+O*(H.x-t.x)/E):c&1&&(Q=D.x,pe=t.y+O*(D.x-t.x)/E),new V(Q,pe,x)}function Pr(t,i){var c=0;return t.x<i.min.x?c|=1:t.x>i.max.x&&(c|=2),t.y<i.min.y?c|=4:t.y>i.max.y&&(c|=8),c}function Fu(t,i){var c=i.x-t.x,m=i.y-t.y;return c*c+m*m}function Tr(t,i,c,m){var x=i.x,E=i.y,O=c.x-x,D=c.y-E,H=O*O+D*D,Q;return H>0&&(Q=((t.x-x)*O+(t.y-E)*D)/H,Q>1?(x=c.x,E=c.y):Q>0&&(x+=O*Q,E+=D*Q)),O=t.x-x,D=t.y-E,m?O*O+D*D:new V(x,E)}function sn(t){return!G(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function al(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),sn(t)}function ll(t,i){var c,m,x,E,O,D,H,Q;if(!t||t.length===0)throw new Error("latlngs not passed");sn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var pe=de([0,0]),Pe=U(t),De=Pe.getNorthWest().distanceTo(Pe.getSouthWest())*Pe.getNorthEast().distanceTo(Pe.getNorthWest());De<1700&&(pe=qs(t));var jt=t.length,Tt=[];for(c=0;c<jt;c++){var en=de(t[c]);Tt.push(i.project(de([en.lat-pe.lat,en.lng-pe.lng])))}for(c=0,m=0;c<jt-1;c++)m+=Tt[c].distanceTo(Tt[c+1])/2;if(m===0)Q=Tt[0];else for(c=0,E=0;c<jt-1;c++)if(O=Tt[c],D=Tt[c+1],x=O.distanceTo(D),E+=x,E>m){H=(E-m)/x,Q=[D.x-H*(D.x-O.x),D.y-H*(D.y-O.y)];break}var Vt=i.unproject(q(Q));return de([Vt.lat+pe.lat,Vt.lng+pe.lng])}var ul={__proto__:null,simplify:Ni,pointToSegmentDistance:il,closestPointOnSegment:Nu,clipSegment:sl,_getEdgeIntersection:zi,_getBitCode:Pr,_sqClosestPointOnSegment:Tr,isFlat:sn,_flat:al,polylineCenter:ll},Ys={project:function(t){return new V(t.lng,t.lat)},unproject:function(t){return new ue(t.y,t.x)},bounds:new R([-180,-90],[180,90])},Qs={R:6378137,R_MINOR:6356752314245179e-9,bounds:new R([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var i=Math.PI/180,c=this.R,m=t.lat*i,x=this.R_MINOR/c,E=Math.sqrt(1-x*x),O=E*Math.sin(m),D=Math.tan(Math.PI/4-m/2)/Math.pow((1-O)/(1+O),E/2);return m=-c*Math.log(Math.max(D,1e-10)),new V(t.lng*i*c,m)},unproject:function(t){for(var i=180/Math.PI,c=this.R,m=this.R_MINOR/c,x=Math.sqrt(1-m*m),E=Math.exp(-t.y/c),O=Math.PI/2-2*Math.atan(E),D=0,H=.1,Q;D<15&&Math.abs(H)>1e-7;D++)Q=x*Math.sin(O),Q=Math.pow((1-Q)/(1+Q),x/2),H=Math.PI/2-2*Math.atan(E*Q)-O,O+=H;return new ue(O*i,t.x*i/c)}},Bu={__proto__:null,LonLat:Ys,Mercator:Qs,SphericalMercator:Be},Uu=u({},Se,{code:"EPSG:3395",projection:Qs,transformation:function(){var t=.5/(Math.PI*Qs.R);return rt(t,.5,-t,.5)}()}),cl=u({},Se,{code:"EPSG:4326",projection:Ys,transformation:rt(1/180,1,-1/180,.5)}),$u=u({},Le,{projection:Ys,transformation:rt(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,i){var c=i.lng-t.lng,m=i.lat-t.lat;return Math.sqrt(c*c+m*m)},infinite:!0});Le.Earth=Se,Le.EPSG3395=Uu,Le.EPSG3857=ot,Le.EPSG900913=Qe,Le.EPSG4326=cl,Le.Simple=$u;var bn=Ce.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[y(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[y(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var i=t.target;if(i.hasLayer(this)){if(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents){var c=this.getEvents();i.on(c,this),this.once("remove",function(){i.off(c,this)},this)}this.onAdd(i),this.fire("add"),i.fire("layeradd",{layer:this})}}});Ge.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var i=y(t);return this._layers[i]?this:(this._layers[i]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var i=y(t);return this._layers[i]?(this._loaded&&t.onRemove(this),delete this._layers[i],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return y(t)in this._layers},eachLayer:function(t,i){for(var c in this._layers)t.call(i,this._layers[c]);return this},_addLayers:function(t){t=t?G(t)?t:[t]:[];for(var i=0,c=t.length;i<c;i++)this.addLayer(t[i])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[y(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var i=y(t);this._zoomBoundLayers[i]&&(delete this._zoomBoundLayers[i],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,i=-1/0,c=this._getZoomSpan();for(var m in this._zoomBoundLayers){var x=this._zoomBoundLayers[m].options;t=x.minZoom===void 0?t:Math.min(t,x.minZoom),i=x.maxZoom===void 0?i:Math.max(i,x.maxZoom)}this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=t===1/0?void 0:t,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var sr=bn.extend({initialize:function(t,i){j(this,i),this._layers={};var c,m;if(t)for(c=0,m=t.length;c<m;c++)this.addLayer(t[c])},addLayer:function(t){var i=this.getLayerId(t);return this._layers[i]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var i=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[i]&&this._map.removeLayer(this._layers[i]),delete this._layers[i],this},hasLayer:function(t){var i=typeof t=="number"?t:this.getLayerId(t);return i in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var i=Array.prototype.slice.call(arguments,1),c,m;for(c in this._layers)m=this._layers[c],m[t]&&m[t].apply(m,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,i){for(var c in this._layers)t.call(i,this._layers[c]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return y(t)}}),Vo=function(t,i){return new sr(t,i)},Vn=sr.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),sr.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),sr.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new ae;for(var i in this._layers){var c=this._layers[i];t.extend(c.getBounds?c.getBounds():c.getLatLng())}return t}}),dl=function(t,i){return new Vn(t,i)},Mr=ce.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){j(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,i){var c=this._getIconUrl(t);if(!c){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var m=this._createImg(c,i&&i.tagName==="IMG"?i:null);return this._setIconStyles(m,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),m},_setIconStyles:function(t,i){var c=this.options,m=c[i+"Size"];typeof m=="number"&&(m=[m,m]);var x=q(m),E=q(i==="shadow"&&c.shadowAnchor||c.iconAnchor||x&&x.divideBy(2,!0));t.className="leaflet-marker-"+i+" "+(c.className||""),E&&(t.style.marginLeft=-E.x+"px",t.style.marginTop=-E.y+"px"),x&&(t.style.width=x.x+"px",t.style.height=x.y+"px")},_createImg:function(t,i){return i=i||document.createElement("img"),i.src=t,i},_getIconUrl:function(t){return be.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function hl(t){return new Mr(t)}var oo=Mr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof oo.imagePath!="string"&&(oo.imagePath=this._detectIconPath()),(this.options.imagePath||oo.imagePath)+Mr.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var i=function(c,m,x){var E=m.exec(c);return E&&E[x]};return t=i(t,/^url\((['"])?(.+)\1\)$/,2),t&&i(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=ze("div","leaflet-default-icon-path",document.body),i=Fo(t,"background-image")||Fo(t,"backgroundImage");if(document.body.removeChild(t),i=this._stripUrl(i),i)return i;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),Xs=on.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new wn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ie(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&st(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var i=this._marker,c=i._map,m=this._marker.options.autoPanSpeed,x=this._marker.options.autoPanPadding,E=Hn(i._icon),O=c.getPixelBounds(),D=c.getPixelOrigin(),H=B(O.min._subtract(D).add(x),O.max._subtract(D).subtract(x));if(!H.contains(E)){var Q=q((Math.max(H.max.x,E.x)-H.max.x)/(O.max.x-H.max.x)-(Math.min(H.min.x,E.x)-H.min.x)/(O.min.x-H.min.x),(Math.max(H.max.y,E.y)-H.max.y)/(O.max.y-H.max.y)-(Math.min(H.min.y,E.y)-H.min.y)/(O.min.y-H.min.y)).multiplyBy(m);c.panBy(Q,{animate:!1}),this._draggable._newPos._add(Q),this._draggable._startPos._add(Q),xt(i._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=ve(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(ne(this._panRequest),this._panRequest=ve(this._adjustPan.bind(this,t)))},_onDrag:function(t){var i=this._marker,c=i._shadow,m=Hn(i._icon),x=i._map.layerPointToLatLng(m);c&&xt(c,m),i._latlng=x,t.latlng=x,t.oldLatLng=this._oldLatLng,i.fire("move",t).fire("drag",t)},_onDragEnd:function(t){ne(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Zn=bn.extend({options:{icon:new oo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,i){j(this,i),this._latlng=de(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var i=this._latlng;return this._latlng=de(t),this.update(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,i="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=t.icon.createIcon(this._icon),m=!1;c!==this._icon&&(this._icon&&this._removeIcon(),m=!0,t.title&&(c.title=t.title),c.tagName==="IMG"&&(c.alt=t.alt||"")),Ie(c,i),t.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&je(c,"focus",this._panOnFocus,this);var x=t.icon.createShadow(this._shadow),E=!1;x!==this._shadow&&(this._removeShadow(),E=!0),x&&(Ie(x,i),x.alt=""),this._shadow=x,t.opacity<1&&this._updateOpacity(),m&&this.getPane().appendChild(this._icon),this._initInteraction(),x&&E&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&et(this._icon,"focus",this._panOnFocus,this),ct(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ct(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&xt(this._icon,t),this._shadow&&xt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(i)},_initInteraction:function(){if(this.options.interactive&&(Ie(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Xs)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Xs(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Ht(this._icon,t),this._shadow&&Ht(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var i=this.options.icon.options,c=i.iconSize?q(i.iconSize):q(0,0),m=i.iconAnchor?q(i.iconAnchor):q(0,0);t.panInside(this._latlng,{paddingTopLeft:m,paddingBottomRight:c.subtract(m)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Gu(t,i){return new Zn(t,i)}var ar=bn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return j(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Di=ar.extend({options:{fill:!0,radius:10},initialize:function(t,i){j(this,i),this._latlng=de(t),this._radius=this.options.radius},setLatLng:function(t){var i=this._latlng;return this._latlng=de(t),this.redraw(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var i=t&&t.radius||this._radius;return ar.prototype.setStyle.call(this,t),this.setRadius(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,i=this._radiusY||t,c=this._clickTolerance(),m=[t+c,i+c];this._pxBounds=new R(this._point.subtract(m),this._point.add(m))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function fl(t,i){return new Di(t,i)}var Fi=Di.extend({initialize:function(t,i,c){if(typeof i=="number"&&(i=u({},c,{radius:i})),j(this,i),this._latlng=de(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new ae(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:ar.prototype.setStyle,_project:function(){var t=this._latlng.lng,i=this._latlng.lat,c=this._map,m=c.options.crs;if(m.distance===Se.distance){var x=Math.PI/180,E=this._mRadius/Se.R/x,O=c.project([i+E,t]),D=c.project([i-E,t]),H=O.add(D).divideBy(2),Q=c.unproject(H).lat,pe=Math.acos((Math.cos(E*x)-Math.sin(i*x)*Math.sin(Q*x))/(Math.cos(i*x)*Math.cos(Q*x)))/x;(isNaN(pe)||pe===0)&&(pe=E/Math.cos(Math.PI/180*i)),this._point=H.subtract(c.getPixelOrigin()),this._radius=isNaN(pe)?0:H.x-c.project([Q,t-pe]).x,this._radiusY=H.y-O.y}else{var Pe=m.unproject(m.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(Pe).x}this._updateBounds()}});function Zo(t,i,c){return new Fi(t,i,c)}var Xt=ar.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,i){j(this,i),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var i=1/0,c=null,m=Tr,x,E,O=0,D=this._parts.length;O<D;O++)for(var H=this._parts[O],Q=1,pe=H.length;Q<pe;Q++){x=H[Q-1],E=H[Q];var Pe=m(t,x,E,!0);Pe<i&&(i=Pe,c=m(t,x,E))}return c&&(c.distance=Math.sqrt(i)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ll(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,i){return i=i||this._defaultShape(),t=de(t),i.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new ae,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return sn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var i=[],c=sn(t),m=0,x=t.length;m<x;m++)c?(i[m]=de(t[m]),this._bounds.extend(i[m])):i[m]=this._convertLatLngs(t[m]);return i},_project:function(){var t=new R;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),i=new V(t,t);this._rawPxBounds&&(this._pxBounds=new R([this._rawPxBounds.min.subtract(i),this._rawPxBounds.max.add(i)]))},_projectLatlngs:function(t,i,c){var m=t[0]instanceof ue,x=t.length,E,O;if(m){for(O=[],E=0;E<x;E++)O[E]=this._map.latLngToLayerPoint(t[E]),c.extend(O[E]);i.push(O)}else for(E=0;E<x;E++)this._projectLatlngs(t[E],i,c)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var i=this._parts,c,m,x,E,O,D,H;for(c=0,x=0,E=this._rings.length;c<E;c++)for(H=this._rings[c],m=0,O=H.length;m<O-1;m++)D=sl(H[m],H[m+1],t,m,!0),D&&(i[x]=i[x]||[],i[x].push(D[0]),(D[1]!==H[m+1]||m===O-2)&&(i[x].push(D[1]),x++))}},_simplifyPoints:function(){for(var t=this._parts,i=this.options.smoothFactor,c=0,m=t.length;c<m;c++)t[c]=Ni(t[c],i)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,i){var c,m,x,E,O,D,H=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(c=0,E=this._parts.length;c<E;c++)for(D=this._parts[c],m=0,O=D.length,x=O-1;m<O;x=m++)if(!(!i&&m===0)&&il(t,D[x],D[m])<=H)return!0;return!1}});function Hu(t,i){return new Xt(t,i)}Xt._flat=al;var qn=Xt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ol(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var i=Xt.prototype._convertLatLngs.call(this,t),c=i.length;return c>=2&&i[0]instanceof ue&&i[0].equals(i[c-1])&&i.pop(),i},_setLatLngs:function(t){Xt.prototype._setLatLngs.call(this,t),sn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return sn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,i=this.options.weight,c=new V(i,i);if(t=new R(t.min.subtract(c),t.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var m=0,x=this._rings.length,E;m<x;m++)E=Zs(this._rings[m],t,!0),E.length&&this._parts.push(E)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var i=!1,c,m,x,E,O,D,H,Q;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(E=0,H=this._parts.length;E<H;E++)for(c=this._parts[E],O=0,Q=c.length,D=Q-1;O<Q;D=O++)m=c[O],x=c[D],m.y>t.y!=x.y>t.y&&t.x<(x.x-m.x)*(t.y-m.y)/(x.y-m.y)+m.x&&(i=!i);return i||Xt.prototype._containsPoint.call(this,t,!0)}});function Wu(t,i){return new qn(t,i)}var Rn=Vn.extend({initialize:function(t,i){j(this,i),this._layers={},t&&this.addData(t)},addData:function(t){var i=G(t)?t:t.features,c,m,x;if(i){for(c=0,m=i.length;c<m;c++)x=i[c],(x.geometries||x.geometry||x.features||x.coordinates)&&this.addData(x);return this}var E=this.options;if(E.filter&&!E.filter(t))return this;var O=io(t,E);return O?(O.feature=Hi(t),O.defaultOptions=O.options,this.resetStyle(O),E.onEachFeature&&E.onEachFeature(t,O),this.addLayer(O)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=u({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(i){this._setLayerStyle(i,t)},this)},_setLayerStyle:function(t,i){t.setStyle&&(typeof i=="function"&&(i=i(t.feature)),t.setStyle(i))}});function io(t,i){var c=t.type==="Feature"?t.geometry:t,m=c?c.coordinates:null,x=[],E=i&&i.pointToLayer,O=i&&i.coordsToLatLng||Ui,D,H,Q,pe;if(!m&&!c)return null;switch(c.type){case"Point":return D=O(m),Bi(E,t,D,i);case"MultiPoint":for(Q=0,pe=m.length;Q<pe;Q++)D=O(m[Q]),x.push(Bi(E,t,D,i));return new Vn(x);case"LineString":case"MultiLineString":return H=qo(m,c.type==="LineString"?0:1,O),new Xt(H,i);case"Polygon":case"MultiPolygon":return H=qo(m,c.type==="Polygon"?1:2,O),new qn(H,i);case"GeometryCollection":for(Q=0,pe=c.geometries.length;Q<pe;Q++){var Pe=io({geometry:c.geometries[Q],type:"Feature",properties:t.properties},i);Pe&&x.push(Pe)}return new Vn(x);case"FeatureCollection":for(Q=0,pe=c.features.length;Q<pe;Q++){var De=io(c.features[Q],i);De&&x.push(De)}return new Vn(x);default:throw new Error("Invalid GeoJSON object.")}}function Bi(t,i,c,m){return t?t(i,c):new Zn(c,m&&m.markersInheritOptions&&m)}function Ui(t){return new ue(t[1],t[0],t[2])}function qo(t,i,c){for(var m=[],x=0,E=t.length,O;x<E;x++)O=i?qo(t[x],i-1,c):(c||Ui)(t[x]),m.push(O);return m}function $i(t,i){return t=de(t),t.alt!==void 0?[M(t.lng,i),M(t.lat,i),M(t.alt,i)]:[M(t.lng,i),M(t.lat,i)]}function Gi(t,i,c,m){for(var x=[],E=0,O=t.length;E<O;E++)x.push(i?Gi(t[E],sn(t[E])?0:i-1,c,m):$i(t[E],m));return!i&&c&&x.length>0&&x.push(x[0].slice()),x}function so(t,i){return t.feature?u({},t.feature,{geometry:i}):Hi(i)}function Hi(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var ea={toGeoJSON:function(t){return so(this,{type:"Point",coordinates:$i(this.getLatLng(),t)})}};Zn.include(ea),Fi.include(ea),Di.include(ea),Xt.include({toGeoJSON:function(t){var i=!sn(this._latlngs),c=Gi(this._latlngs,i?1:0,!1,t);return so(this,{type:(i?"Multi":"")+"LineString",coordinates:c})}}),qn.include({toGeoJSON:function(t){var i=!sn(this._latlngs),c=i&&!sn(this._latlngs[0]),m=Gi(this._latlngs,c?2:i?1:0,!0,t);return i||(m=[m]),so(this,{type:(c?"Multi":"")+"Polygon",coordinates:m})}}),sr.include({toMultiPoint:function(t){var i=[];return this.eachLayer(function(c){i.push(c.toGeoJSON(t).geometry.coordinates)}),so(this,{type:"MultiPoint",coordinates:i})},toGeoJSON:function(t){var i=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(i==="MultiPoint")return this.toMultiPoint(t);var c=i==="GeometryCollection",m=[];return this.eachLayer(function(x){if(x.toGeoJSON){var E=x.toGeoJSON(t);if(c)m.push(E.geometry);else{var O=Hi(E);O.type==="FeatureCollection"?m.push.apply(m,O.features):m.push(O)}}}),c?so(this,{geometries:m,type:"GeometryCollection"}):{type:"FeatureCollection",features:m}}});function pl(t,i){return new Rn(t,i)}var Sn=pl,lr=bn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,i,c){this._url=t,this._bounds=U(i),j(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ie(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ct(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Jr(this._image),this},bringToBack:function(){return this._map&&Gn(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=U(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",i=this._image=t?this._url:ze("img");if(Ie(i,"leaflet-image-layer"),this._zoomAnimated&&Ie(i,"leaflet-zoom-animated"),this.options.className&&Ie(i,this.options.className),i.onselectstart=C,i.onmousemove=C,i.onload=p(this.fire,this,"load"),i.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=i.src;return}i.src=this._url,i.alt=this.options.alt},_animateZoom:function(t){var i=this._map.getZoomScale(t.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;yn(this._image,c,i)},_reset:function(){var t=this._image,i=new R(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=i.getSize();xt(t,i.min),t.style.width=c.x+"px",t.style.height=c.y+"px"},_updateOpacity:function(){Ht(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),ml=function(t,i,c){return new lr(t,i,c)},ta=lr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",i=this._image=t?this._url:ze("video");if(Ie(i,"leaflet-image-layer"),this._zoomAnimated&&Ie(i,"leaflet-zoom-animated"),this.options.className&&Ie(i,this.options.className),i.onselectstart=C,i.onmousemove=C,i.onloadeddata=p(this.fire,this,"load"),t){for(var c=i.getElementsByTagName("source"),m=[],x=0;x<c.length;x++)m.push(c[x].src);this._url=c.length>0?m:[i.src];return}G(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(i.style,"objectFit")&&(i.style.objectFit="fill"),i.autoplay=!!this.options.autoplay,i.loop=!!this.options.loop,i.muted=!!this.options.muted,i.playsInline=!!this.options.playsInline;for(var E=0;E<this._url.length;E++){var O=ze("source");O.src=this._url[E],i.appendChild(O)}}});function gl(t,i,c){return new ta(t,i,c)}var na=lr.extend({_initImage:function(){var t=this._image=this._url;Ie(t,"leaflet-image-layer"),this._zoomAnimated&&Ie(t,"leaflet-zoom-animated"),this.options.className&&Ie(t,this.options.className),t.onselectstart=C,t.onmousemove=C}});function ra(t,i,c){return new na(t,i,c)}var jn=bn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,i){t&&(t instanceof ue||G(t))?(this._latlng=de(t),j(this,i)):(j(this,t),this._source=i),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Ht(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Ht(this._container,1),this.bringToFront(),this.options.interactive&&(Ie(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Ht(this._container,0),this._removeTimeout=setTimeout(p(ct,void 0,this._container),200)):ct(this._container),this.options.interactive&&(st(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=de(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Jr(this._container),this},bringToBack:function(){return this._map&&Gn(this._container),this},_prepareOpen:function(t){var i=this._source;if(!i._map)return!1;if(i instanceof Vn){i=null;var c=this._source._layers;for(var m in c)if(c[m]._map){i=c[m];break}if(!i)return!1;this._source=i}if(!t)if(i.getCenter)t=i.getCenter();else if(i.getLatLng)t=i.getLatLng();else if(i.getBounds)t=i.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,i=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof i=="string")t.innerHTML=i;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(i)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),i=q(this.options.offset),c=this._getAnchor();this._zoomAnimated?xt(this._container,t.add(c)):i=i.add(t).add(c);var m=this._containerBottom=-i.y,x=this._containerLeft=-Math.round(this._containerWidth/2)+i.x;this._container.style.bottom=m+"px",this._container.style.left=x+"px"}},_getAnchor:function(){return[0,0]}});Ge.include({_initOverlay:function(t,i,c,m){var x=i;return x instanceof t||(x=new t(m).setContent(i)),c&&x.setLatLng(c),x}}),bn.include({_initOverlay:function(t,i,c,m){var x=c;return x instanceof t?(j(x,m),x._source=this):(x=i&&!m?i:new t(m,this),x.setContent(c)),x}});var Wi=jn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,jn.prototype.openOn.call(this,t)},onAdd:function(t){jn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ar||this._source.on("preclick",Ln))},onRemove:function(t){jn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ar||this._source.off("preclick",Ln))},getEvents:function(){var t=jn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",i=this._container=ze("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=ze("div",t+"-content-wrapper",i);if(this._contentNode=ze("div",t+"-content",c),Go(i),ji(this._contentNode),je(i,"contextmenu",Ln),this._tipContainer=ze("div",t+"-tip-container",i),this._tip=ze("div",t+"-tip",this._tipContainer),this.options.closeButton){var m=this._closeButton=ze("a",t+"-close-button",i);m.setAttribute("role","button"),m.setAttribute("aria-label","Close popup"),m.href="#close",m.innerHTML='<span aria-hidden="true">&#215;</span>',je(m,"click",function(x){gt(x),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,i=t.style;i.width="",i.whiteSpace="nowrap";var c=t.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),i.width=c+1+"px",i.whiteSpace="",i.height="";var m=t.offsetHeight,x=this.options.maxHeight,E="leaflet-popup-scrolled";x&&m>x?(i.height=x+"px",Ie(t,E)):st(t,E),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),c=this._getAnchor();xt(this._container,i.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,i=parseInt(Fo(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+i,m=this._containerWidth,x=new V(this._containerLeft,-c-this._containerBottom);x._add(Hn(this._container));var E=t.layerPointToContainerPoint(x),O=q(this.options.autoPanPadding),D=q(this.options.autoPanPaddingTopLeft||O),H=q(this.options.autoPanPaddingBottomRight||O),Q=t.getSize(),pe=0,Pe=0;E.x+m+H.x>Q.x&&(pe=E.x+m-Q.x+H.x),E.x-pe-D.x<0&&(pe=E.x-D.x),E.y+c+H.y>Q.y&&(Pe=E.y+c-Q.y+H.y),E.y-Pe-D.y<0&&(Pe=E.y-D.y),(pe||Pe)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([pe,Pe]))}},_getAnchor:function(){return q(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ao=function(t,i){return new Wi(t,i)};Ge.mergeOptions({closePopupOnClick:!0}),Ge.include({openPopup:function(t,i,c){return this._initOverlay(Wi,t,i,c).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),bn.include({bindPopup:function(t,i){return this._popup=this._initOverlay(Wi,this._popup,t,i),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Vn||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){xn(t);var i=t.layer||t.target;if(this._popup._source===i&&!(i instanceof ar)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=i,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var lo=jn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){jn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){jn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=jn.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",i=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ze("div",i),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var i,c,m=this._map,x=this._container,E=m.latLngToContainerPoint(m.getCenter()),O=m.layerPointToContainerPoint(t),D=this.options.direction,H=x.offsetWidth,Q=x.offsetHeight,pe=q(this.options.offset),Pe=this._getAnchor();D==="top"?(i=H/2,c=Q):D==="bottom"?(i=H/2,c=0):D==="center"?(i=H/2,c=Q/2):D==="right"?(i=0,c=Q/2):D==="left"?(i=H,c=Q/2):O.x<E.x?(D="right",i=0,c=Q/2):(D="left",i=H+(pe.x+Pe.x)*2,c=Q/2),t=t.subtract(q(i,c,!0)).add(pe).add(Pe),st(x,"leaflet-tooltip-right"),st(x,"leaflet-tooltip-left"),st(x,"leaflet-tooltip-top"),st(x,"leaflet-tooltip-bottom"),Ie(x,"leaflet-tooltip-"+D),xt(x,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Ht(this._container,t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(i)},_getAnchor:function(){return q(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ko=function(t,i){return new lo(t,i)};Ge.include({openTooltip:function(t,i,c){return this._initOverlay(lo,t,i,c).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),bn.include({bindTooltip:function(t,i){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(lo,this._tooltip,t,i),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var i=t?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[i](c),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Vn||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var i=typeof t.getElement=="function"&&t.getElement();i&&(je(i,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),je(i,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var i=typeof t.getElement=="function"&&t.getElement();i&&i.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var i=this;this._map.once("moveend",function(){i._openOnceFlag=!1,i._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var i=t.latlng,c,m;this._tooltip.options.sticky&&t.originalEvent&&(c=this._map.mouseEventToContainerPoint(t.originalEvent),m=this._map.containerPointToLayerPoint(c),i=this._map.layerPointToLatLng(m)),this._tooltip.setLatLng(i)}});var Vi=Mr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var i=t&&t.tagName==="DIV"?t:document.createElement("div"),c=this.options;if(c.html instanceof Element?(Ci(i),i.appendChild(c.html)):i.innerHTML=c.html!==!1?c.html:"",c.bgPos){var m=q(c.bgPos);i.style.backgroundPosition=-m.x+"px "+-m.y+"px"}return this._setIconStyles(i,"icon"),i},createShadow:function(){return null}});function vl(t){return new Vi(t)}Mr.Default=oo;var ur=bn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:be.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){j(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ct(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Jr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Gn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=w(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof V?t:new V(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var i=this.getPane().children,c=-t(-1/0,1/0),m=0,x=i.length,E;m<x;m++)E=i[m].style.zIndex,i[m]!==this._container&&E&&(c=t(c,+E));isFinite(c)&&(this.options.zIndex=c+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!be.ielt9){Ht(this._container,this.options.opacity);var t=+new Date,i=!1,c=!1;for(var m in this._tiles){var x=this._tiles[m];if(!(!x.current||!x.loaded)){var E=Math.min(1,(t-x.loaded)/200);Ht(x.el,E),E<1?i=!0:(x.active?c=!0:this._onOpaqueTile(x),x.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),i&&(ne(this._fadeFrame),this._fadeFrame=ve(this._updateOpacity,this))}},_onOpaqueTile:C,_initContainer:function(){this._container||(this._container=ze("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,i=this.options.maxZoom;if(t!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===t?(this._levels[c].el.style.zIndex=i-Math.abs(t-c),this._onUpdateLevel(c)):(ct(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var m=this._levels[t],x=this._map;return m||(m=this._levels[t]={},m.el=ze("div","leaflet-tile-container leaflet-zoom-animated",this._container),m.el.style.zIndex=i,m.origin=x.project(x.unproject(x.getPixelOrigin()),t).round(),m.zoom=t,this._setZoomTransform(m,x.getCenter(),x.getZoom()),C(m.el.offsetWidth),this._onCreateLevel(m)),this._level=m,m}},_onUpdateLevel:C,_onRemoveLevel:C,_onCreateLevel:C,_pruneTiles:function(){if(this._map){var t,i,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)i=this._tiles[t],i.retain=i.current;for(t in this._tiles)if(i=this._tiles[t],i.current&&!i.active){var m=i.coords;this._retainParent(m.x,m.y,m.z,m.z-5)||this._retainChildren(m.x,m.y,m.z,m.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var i in this._tiles)this._tiles[i].coords.z===t&&this._removeTile(i)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ct(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,i,c,m){var x=Math.floor(t/2),E=Math.floor(i/2),O=c-1,D=new V(+x,+E);D.z=+O;var H=this._tileCoordsToKey(D),Q=this._tiles[H];return Q&&Q.active?(Q.retain=!0,!0):(Q&&Q.loaded&&(Q.retain=!0),O>m?this._retainParent(x,E,O,m):!1)},_retainChildren:function(t,i,c,m){for(var x=2*t;x<2*t+2;x++)for(var E=2*i;E<2*i+2;E++){var O=new V(x,E);O.z=c+1;var D=this._tileCoordsToKey(O),H=this._tiles[D];if(H&&H.active){H.retain=!0;continue}else H&&H.loaded&&(H.retain=!0);c+1<m&&this._retainChildren(x,E,c+1,m)}},_resetView:function(t){var i=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),i,i)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var i=this.options;return i.minNativeZoom!==void 0&&t<i.minNativeZoom?i.minNativeZoom:i.maxNativeZoom!==void 0&&i.maxNativeZoom<t?i.maxNativeZoom:t},_setView:function(t,i,c,m){var x=Math.round(i);this.options.maxZoom!==void 0&&x>this.options.maxZoom||this.options.minZoom!==void 0&&x<this.options.minZoom?x=void 0:x=this._clampZoom(x);var E=this.options.updateWhenZooming&&x!==this._tileZoom;(!m||E)&&(this._tileZoom=x,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),x!==void 0&&this._update(t),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(t,i)},_setZoomTransforms:function(t,i){for(var c in this._levels)this._setZoomTransform(this._levels[c],t,i)},_setZoomTransform:function(t,i,c){var m=this._map.getZoomScale(c,t.zoom),x=t.origin.multiplyBy(m).subtract(this._map._getNewPixelOrigin(i,c)).round();be.any3d?yn(t.el,x,m):xt(t.el,x)},_resetGrid:function(){var t=this._map,i=t.options.crs,c=this._tileSize=this.getTileSize(),m=this._tileZoom,x=this._map.getPixelWorldBounds(this._tileZoom);x&&(this._globalTileRange=this._pxBoundsToTileRange(x)),this._wrapX=i.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,i.wrapLng[0]],m).x/c.x),Math.ceil(t.project([0,i.wrapLng[1]],m).x/c.y)],this._wrapY=i.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([i.wrapLat[0],0],m).y/c.x),Math.ceil(t.project([i.wrapLat[1],0],m).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var i=this._map,c=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),m=i.getZoomScale(c,this._tileZoom),x=i.project(t,this._tileZoom).floor(),E=i.getSize().divideBy(m*2);return new R(x.subtract(E),x.add(E))},_update:function(t){var i=this._map;if(i){var c=this._clampZoom(i.getZoom());if(t===void 0&&(t=i.getCenter()),this._tileZoom!==void 0){var m=this._getTiledPixelBounds(t),x=this._pxBoundsToTileRange(m),E=x.getCenter(),O=[],D=this.options.keepBuffer,H=new R(x.getBottomLeft().subtract([D,-D]),x.getTopRight().add([D,-D]));if(!(isFinite(x.min.x)&&isFinite(x.min.y)&&isFinite(x.max.x)&&isFinite(x.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Q in this._tiles){var pe=this._tiles[Q].coords;(pe.z!==this._tileZoom||!H.contains(new V(pe.x,pe.y)))&&(this._tiles[Q].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(t,c);return}for(var Pe=x.min.y;Pe<=x.max.y;Pe++)for(var De=x.min.x;De<=x.max.x;De++){var jt=new V(De,Pe);if(jt.z=this._tileZoom,!!this._isValidTile(jt)){var Tt=this._tiles[this._tileCoordsToKey(jt)];Tt?Tt.current=!0:O.push(jt)}}if(O.sort(function(Vt,po){return Vt.distanceTo(E)-po.distanceTo(E)}),O.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var en=document.createDocumentFragment();for(De=0;De<O.length;De++)this._addTile(O[De],en);this._level.el.appendChild(en)}}}},_isValidTile:function(t){var i=this._map.options.crs;if(!i.infinite){var c=this._globalTileRange;if(!i.wrapLng&&(t.x<c.min.x||t.x>c.max.x)||!i.wrapLat&&(t.y<c.min.y||t.y>c.max.y))return!1}if(!this.options.bounds)return!0;var m=this._tileCoordsToBounds(t);return U(this.options.bounds).overlaps(m)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var i=this._map,c=this.getTileSize(),m=t.scaleBy(c),x=m.add(c),E=i.unproject(m,t.z),O=i.unproject(x,t.z);return[E,O]},_tileCoordsToBounds:function(t){var i=this._tileCoordsToNwSe(t),c=new ae(i[0],i[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var i=t.split(":"),c=new V(+i[0],+i[1]);return c.z=+i[2],c},_removeTile:function(t){var i=this._tiles[t];i&&(ct(i.el),delete this._tiles[t],this.fire("tileunload",{tile:i.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){Ie(t,"leaflet-tile");var i=this.getTileSize();t.style.width=i.x+"px",t.style.height=i.y+"px",t.onselectstart=C,t.onmousemove=C,be.ielt9&&this.options.opacity<1&&Ht(t,this.options.opacity)},_addTile:function(t,i){var c=this._getTilePos(t),m=this._tileCoordsToKey(t),x=this.createTile(this._wrapCoords(t),p(this._tileReady,this,t));this._initTile(x),this.createTile.length<2&&ve(p(this._tileReady,this,t,null,x)),xt(x,c),this._tiles[m]={el:x,coords:t,current:!0},i.appendChild(x),this.fire("tileloadstart",{tile:x,coords:t})},_tileReady:function(t,i,c){i&&this.fire("tileerror",{error:i,tile:c,coords:t});var m=this._tileCoordsToKey(t);c=this._tiles[m],c&&(c.loaded=+new Date,this._map._fadeAnimated?(Ht(c.el,0),ne(this._fadeFrame),this._fadeFrame=ve(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),i||(Ie(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),be.ielt9||!this._map._fadeAnimated?ve(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var i=new V(this._wrapX?b(t.x,this._wrapX):t.x,this._wrapY?b(t.y,this._wrapY):t.y);return i.z=t.z,i},_pxBoundsToTileRange:function(t){var i=this.getTileSize();return new R(t.min.unscaleBy(i).floor(),t.max.unscaleBy(i).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function uo(t){return new ur(t)}var cr=ur.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,i){this._url=t,i=j(this,i),i.detectRetina&&be.retina&&i.maxZoom>0?(i.tileSize=Math.floor(i.tileSize/2),i.zoomReverse?(i.zoomOffset--,i.minZoom=Math.min(i.maxZoom,i.minZoom+1)):(i.zoomOffset++,i.maxZoom=Math.max(i.minZoom,i.maxZoom-1)),i.minZoom=Math.max(0,i.minZoom)):i.zoomReverse?i.minZoom=Math.min(i.maxZoom,i.minZoom):i.maxZoom=Math.max(i.minZoom,i.maxZoom),typeof i.subdomains=="string"&&(i.subdomains=i.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,i){return this._url===t&&i===void 0&&(i=!0),this._url=t,i||this.redraw(),this},createTile:function(t,i){var c=document.createElement("img");return je(c,"load",p(this._tileOnLoad,this,i,c)),je(c,"error",p(this._tileOnError,this,i,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(t),c},getTileUrl:function(t){var i={r:be.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-t.y;this.options.tms&&(i.y=c),i["-y"]=c}return Y(this._url,u(i,this.options))},_tileOnLoad:function(t,i){be.ielt9?setTimeout(p(t,this,null,i),0):t(null,i)},_tileOnError:function(t,i,c){var m=this.options.errorTileUrl;m&&i.getAttribute("src")!==m&&(i.src=m),t(c,i)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,i=this.options.maxZoom,c=this.options.zoomReverse,m=this.options.zoomOffset;return c&&(t=i-t),t+m},_getSubdomain:function(t){var i=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[i]},_abortLoading:function(){var t,i;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(i=this._tiles[t].el,i.onload=C,i.onerror=C,!i.complete)){i.src=oe;var c=this._tiles[t].coords;ct(i),delete this._tiles[t],this.fire("tileabort",{tile:i,coords:c})}},_removeTile:function(t){var i=this._tiles[t];if(i)return i.el.setAttribute("src",oe),ur.prototype._removeTile.call(this,t)},_tileReady:function(t,i,c){if(!(!this._map||c&&c.getAttribute("src")===oe))return ur.prototype._tileReady.call(this,t,i,c)}});function oa(t,i){return new cr(t,i)}var Jo=cr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,i){this._url=t;var c=u({},this.defaultWmsParams);for(var m in i)m in this.options||(c[m]=i[m]);i=j(this,i);var x=i.detectRetina&&be.retina?2:1,E=this.getTileSize();c.width=E.x*x,c.height=E.y*x,this.wmsParams=c},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[i]=this._crs.code,cr.prototype.onAdd.call(this,t)},getTileUrl:function(t){var i=this._tileCoordsToNwSe(t),c=this._crs,m=B(c.project(i[0]),c.project(i[1])),x=m.min,E=m.max,O=(this._wmsVersion>=1.3&&this._crs===cl?[x.y,x.x,E.y,E.x]:[x.x,x.y,E.x,E.y]).join(","),D=cr.prototype.getTileUrl.call(this,t);return D+z(this.wmsParams,D,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+O},setParams:function(t,i){return u(this.wmsParams,t),i||this.redraw(),this}});function yl(t,i){return new Jo(t,i)}cr.WMS=Jo,oa.wms=yl;var An=bn.extend({options:{padding:.1},initialize:function(t){j(this,t),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ie(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,i){var c=this._map.getZoomScale(i,this._zoom),m=this._map.getSize().multiplyBy(.5+this.options.padding),x=this._map.project(this._center,i),E=m.multiplyBy(-c).add(x).subtract(this._map._getNewPixelOrigin(t,i));be.any3d?yn(this._container,E,c):xt(this._container,E)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,i=this._map.getSize(),c=this._map.containerPointToLayerPoint(i.multiplyBy(-t)).round();this._bounds=new R(c,c.add(i.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ia=An.extend({options:{tolerance:0},getEvents:function(){var t=An.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){An.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");je(t,"mousemove",this._onMouseMove,this),je(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),je(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){ne(this._redrawRequest),delete this._ctx,ct(this._container),et(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var i in this._layers)t=this._layers[i],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){An.prototype._update.call(this);var t=this._bounds,i=this._container,c=t.getSize(),m=be.retina?2:1;xt(i,t.min),i.width=m*c.x,i.height=m*c.y,i.style.width=c.x+"px",i.style.height=c.y+"px",be.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){An.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[y(t)]=t;var i=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=i),this._drawLast=i,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var i=t._order,c=i.next,m=i.prev;c?c.prev=m:this._drawLast=m,m?m.next=c:this._drawFirst=c,delete t._order,delete this._layers[y(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var i=t.options.dashArray.split(/[, ]+/),c=[],m,x;for(x=0;x<i.length;x++){if(m=Number(i[x]),isNaN(m))return;c.push(m)}t.options._dashArray=c}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||ve(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var i=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new R,this._redrawBounds.extend(t._pxBounds.min.subtract([i,i])),this._redrawBounds.extend(t._pxBounds.max.add([i,i]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var i=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,i.x,i.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,i=this._redrawBounds;if(this._ctx.save(),i){var c=i.getSize();this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var m=this._drawFirst;m;m=m.next)t=m.layer,(!i||t._pxBounds&&t._pxBounds.intersects(i))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,i){if(this._drawing){var c,m,x,E,O=t._parts,D=O.length,H=this._ctx;if(D){for(H.beginPath(),c=0;c<D;c++){for(m=0,x=O[c].length;m<x;m++)E=O[c][m],H[m?"lineTo":"moveTo"](E.x,E.y);i&&H.closePath()}this._fillStroke(H,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var i=t._point,c=this._ctx,m=Math.max(Math.round(t._radius),1),x=(Math.max(Math.round(t._radiusY),1)||m)/m;x!==1&&(c.save(),c.scale(1,x)),c.beginPath(),c.arc(i.x,i.y/x,m,0,Math.PI*2,!1),x!==1&&c.restore(),this._fillStroke(c,t)}},_fillStroke:function(t,i){var c=i.options;c.fill&&(t.globalAlpha=c.fillOpacity,t.fillStyle=c.fillColor||c.color,t.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(t.setLineDash&&t.setLineDash(i.options&&i.options._dashArray||[]),t.globalAlpha=c.opacity,t.lineWidth=c.weight,t.strokeStyle=c.color,t.lineCap=c.lineCap,t.lineJoin=c.lineJoin,t.stroke())},_onClick:function(t){for(var i=this._map.mouseEventToLayerPoint(t),c,m,x=this._drawFirst;x;x=x.next)c=x.layer,c.options.interactive&&c._containsPoint(i)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(c))&&(m=c);this._fireEvent(m?[m]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var i=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,i)}},_handleMouseOut:function(t){var i=this._hoveredLayer;i&&(st(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,i){if(!this._mouseHoverThrottled){for(var c,m,x=this._drawFirst;x;x=x.next)c=x.layer,c.options.interactive&&c._containsPoint(i)&&(m=c);m!==this._hoveredLayer&&(this._handleMouseOut(t),m&&(Ie(this._container,"leaflet-interactive"),this._fireEvent([m],t,"mouseover"),this._hoveredLayer=m)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,i,c){this._map._fireDOMEvent(i,c||i.type,t)},_bringToFront:function(t){var i=t._order;if(i){var c=i.next,m=i.prev;if(c)c.prev=m;else return;m?m.next=c:c&&(this._drawFirst=c),i.prev=this._drawLast,this._drawLast.next=i,i.next=null,this._drawLast=i,this._requestRedraw(t)}},_bringToBack:function(t){var i=t._order;if(i){var c=i.next,m=i.prev;if(m)m.next=c;else return;c?c.prev=m:m&&(this._drawLast=m),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(t)}}});function sa(t){return be.canvas?new ia(t):null}var co=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),_l={_initContainer:function(){this._container=ze("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(An.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var i=t._container=co("shape");Ie(i,"leaflet-vml-shape "+(this.options.className||"")),i.coordsize="1 1",t._path=co("path"),i.appendChild(t._path),this._updateStyle(t),this._layers[y(t)]=t},_addPath:function(t){var i=t._container;this._container.appendChild(i),t.options.interactive&&t.addInteractiveTarget(i)},_removePath:function(t){var i=t._container;ct(i),t.removeInteractiveTarget(i),delete this._layers[y(t)]},_updateStyle:function(t){var i=t._stroke,c=t._fill,m=t.options,x=t._container;x.stroked=!!m.stroke,x.filled=!!m.fill,m.stroke?(i||(i=t._stroke=co("stroke")),x.appendChild(i),i.weight=m.weight+"px",i.color=m.color,i.opacity=m.opacity,m.dashArray?i.dashStyle=G(m.dashArray)?m.dashArray.join(" "):m.dashArray.replace(/( *, *)/g," "):i.dashStyle="",i.endcap=m.lineCap.replace("butt","flat"),i.joinstyle=m.lineJoin):i&&(x.removeChild(i),t._stroke=null),m.fill?(c||(c=t._fill=co("fill")),x.appendChild(c),c.color=m.fillColor||m.color,c.opacity=m.fillOpacity):c&&(x.removeChild(c),t._fill=null)},_updateCircle:function(t){var i=t._point.round(),c=Math.round(t._radius),m=Math.round(t._radiusY||c);this._setPath(t,t._empty()?"M0 0":"AL "+i.x+","+i.y+" "+c+","+m+" 0,"+65535*360)},_setPath:function(t,i){t._path.v=i},_bringToFront:function(t){Jr(t._container)},_bringToBack:function(t){Gn(t._container)}},kn=be.vml?co:It,Lr=An.extend({_initContainer:function(){this._container=kn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=kn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ct(this._container),et(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){An.prototype._update.call(this);var t=this._bounds,i=t.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(i))&&(this._svgSize=i,c.setAttribute("width",i.x),c.setAttribute("height",i.y)),xt(c,t.min),c.setAttribute("viewBox",[t.min.x,t.min.y,i.x,i.y].join(" ")),this.fire("update")}},_initPath:function(t){var i=t._path=kn("path");t.options.className&&Ie(i,t.options.className),t.options.interactive&&Ie(i,"leaflet-interactive"),this._updateStyle(t),this._layers[y(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ct(t._path),t.removeInteractiveTarget(t._path),delete this._layers[y(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var i=t._path,c=t.options;i&&(c.stroke?(i.setAttribute("stroke",c.color),i.setAttribute("stroke-opacity",c.opacity),i.setAttribute("stroke-width",c.weight),i.setAttribute("stroke-linecap",c.lineCap),i.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?i.setAttribute("stroke-dasharray",c.dashArray):i.removeAttribute("stroke-dasharray"),c.dashOffset?i.setAttribute("stroke-dashoffset",c.dashOffset):i.removeAttribute("stroke-dashoffset")):i.setAttribute("stroke","none"),c.fill?(i.setAttribute("fill",c.fillColor||c.color),i.setAttribute("fill-opacity",c.fillOpacity),i.setAttribute("fill-rule",c.fillRule||"evenodd")):i.setAttribute("fill","none"))},_updatePoly:function(t,i){this._setPath(t,pn(t._parts,i))},_updateCircle:function(t){var i=t._point,c=Math.max(Math.round(t._radius),1),m=Math.max(Math.round(t._radiusY),1)||c,x="a"+c+","+m+" 0 1,0 ",E=t._empty()?"M0 0":"M"+(i.x-c)+","+i.y+x+c*2+",0 "+x+-c*2+",0 ";this._setPath(t,E)},_setPath:function(t,i){t._path.setAttribute("d",i)},_bringToFront:function(t){Jr(t._path)},_bringToBack:function(t){Gn(t._path)}});be.vml&&Lr.include(_l);function Zi(t){return be.svg||be.vml?new Lr(t):null}Ge.include({getRenderer:function(t){var i=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return i||(i=this._renderer=this._createRenderer()),this.hasLayer(i)||this.addLayer(i),i},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var i=this._paneRenderers[t];return i===void 0&&(i=this._createRenderer({pane:t}),this._paneRenderers[t]=i),i},_createRenderer:function(t){return this.options.preferCanvas&&sa(t)||Zi(t)}});var xl=qn.extend({initialize:function(t,i){qn.prototype.initialize.call(this,this._boundsToLatLngs(t),i)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=U(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Vu(t,i){return new xl(t,i)}Lr.create=kn,Lr.pointsToPath=pn,Rn.geometryToLayer=io,Rn.coordsToLatLng=Ui,Rn.coordsToLatLngs=qo,Rn.latLngToCoords=$i,Rn.latLngsToCoords=Gi,Rn.getFeature=so,Rn.asFeature=Hi,Ge.mergeOptions({boxZoom:!0});var ho=on.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){je(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){et(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ct(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ze(),Mi(),this._startPoint=this._map.mouseEventToContainerPoint(t),je(document,{contextmenu:xn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=ze("div","leaflet-zoom-box",this._container),Ie(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var i=new R(this._point,this._startPoint),c=i.getSize();xt(this._box,i.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(ct(this._box),st(this._container,"leaflet-crosshair")),Xr(),Li(),et(document,{contextmenu:xn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var i=new ae(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(i).fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ge.addInitHook("addHandler","boxZoom",ho),Ge.mergeOptions({doubleClickZoom:!0});var wl=on.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var i=this._map,c=i.getZoom(),m=i.options.zoomDelta,x=t.originalEvent.shiftKey?c-m:c+m;i.options.doubleClickZoom==="center"?i.setZoom(x):i.setZoomAround(t.containerPoint,x)}});Ge.addInitHook("addHandler","doubleClickZoom",wl),Ge.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var aa=on.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new wn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}Ie(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){st(this._map._container,"leaflet-grab"),st(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var i=U(this._map.options.maxBounds);this._offsetLimit=B(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var i=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(i),this._prunePositions(i)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,i){return t-(t-i)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),i=this._offsetLimit;t.x<i.min.x&&(t.x=this._viscousLimit(t.x,i.min.x)),t.y<i.min.y&&(t.y=this._viscousLimit(t.y,i.min.y)),t.x>i.max.x&&(t.x=this._viscousLimit(t.x,i.max.x)),t.y>i.max.y&&(t.y=this._viscousLimit(t.y,i.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,i=Math.round(t/2),c=this._initialWorldOffset,m=this._draggable._newPos.x,x=(m-i+c)%t+i-c,E=(m+i+c)%t-i-c,O=Math.abs(x+c)<Math.abs(E+c)?x:E;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=O},_onDragEnd:function(t){var i=this._map,c=i.options,m=!c.inertia||t.noInertia||this._times.length<2;if(i.fire("dragend",t),m)i.fire("moveend");else{this._prunePositions(+new Date);var x=this._lastPos.subtract(this._positions[0]),E=(this._lastTime-this._times[0])/1e3,O=c.easeLinearity,D=x.multiplyBy(O/E),H=D.distanceTo([0,0]),Q=Math.min(c.inertiaMaxSpeed,H),pe=D.multiplyBy(Q/H),Pe=Q/(c.inertiaDeceleration*O),De=pe.multiplyBy(-Pe/2).round();!De.x&&!De.y?i.fire("moveend"):(De=i._limitOffset(De,i.options.maxBounds),ve(function(){i.panBy(De,{duration:Pe,easeLinearity:O,noMoveStart:!0,animate:!0})}))}}});Ge.addInitHook("addHandler","dragging",aa),Ge.mergeOptions({keyboard:!0,keyboardPanDelta:80});var la=on.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),je(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),et(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,i=document.documentElement,c=t.scrollTop||i.scrollTop,m=t.scrollLeft||i.scrollLeft;this._map._container.focus(),window.scrollTo(m,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var i=this._panKeys={},c=this.keyCodes,m,x;for(m=0,x=c.left.length;m<x;m++)i[c.left[m]]=[-1*t,0];for(m=0,x=c.right.length;m<x;m++)i[c.right[m]]=[t,0];for(m=0,x=c.down.length;m<x;m++)i[c.down[m]]=[0,t];for(m=0,x=c.up.length;m<x;m++)i[c.up[m]]=[0,-1*t]},_setZoomDelta:function(t){var i=this._zoomKeys={},c=this.keyCodes,m,x;for(m=0,x=c.zoomIn.length;m<x;m++)i[c.zoomIn[m]]=t;for(m=0,x=c.zoomOut.length;m<x;m++)i[c.zoomOut[m]]=-t},_addHooks:function(){je(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){et(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var i=t.keyCode,c=this._map,m;if(i in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(m=this._panKeys[i],t.shiftKey&&(m=q(m).multiplyBy(3)),c.options.maxBounds&&(m=c._limitOffset(q(m),c.options.maxBounds)),c.options.worldCopyJump){var x=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(m)));c.panTo(x)}else c.panBy(m)}else if(i in this._zoomKeys)c.setZoom(c.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else if(i===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;xn(t)}}});Ge.addInitHook("addHandler","keyboard",la),Ge.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var tt=on.extend({addHooks:function(){je(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){et(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var i=nl(t),c=this._map.options.wheelDebounceTime;this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var m=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),m),xn(t)},_performZoom:function(){var t=this._map,i=t.getZoom(),c=this._map.options.zoomSnap||0;t._stop();var m=this._delta/(this._map.options.wheelPxPerZoomLevel*4),x=4*Math.log(2/(1+Math.exp(-Math.abs(m))))/Math.LN2,E=c?Math.ceil(x/c)*c:x,O=t._limitZoom(i+(this._delta>0?E:-E))-i;this._delta=0,this._startTime=null,O&&(t.options.scrollWheelZoom==="center"?t.setZoom(i+O):t.setZoomAround(this._lastMousePos,i+O))}});Ge.addInitHook("addHandler","scrollWheelZoom",tt);var ua=600;Ge.mergeOptions({tapHold:be.touchNative&&be.safari&&be.mobile,tapTolerance:15});var Yo=on.extend({addHooks:function(){je(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){et(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var i=t.touches[0];this._startPos=this._newPos=new V(i.clientX,i.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(je(document,"touchend",gt),je(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",i))},this),ua),je(document,"touchend touchcancel contextmenu",this._cancel,this),je(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){et(document,"touchend",gt),et(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),et(document,"touchend touchcancel contextmenu",this._cancel,this),et(document,"touchmove",this._onMove,this)},_onMove:function(t){var i=t.touches[0];this._newPos=new V(i.clientX,i.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,i){var c=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY});c._simulated=!0,i.target.dispatchEvent(c)}});Ge.addInitHook("addHandler","tapHold",Yo),Ge.mergeOptions({touchZoom:be.touch,bounceAtZoomLimits:!0});var fo=on.extend({addHooks:function(){Ie(this._map._container,"leaflet-touch-zoom"),je(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){st(this._map._container,"leaflet-touch-zoom"),et(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var i=this._map;if(!(!t.touches||t.touches.length!==2||i._animatingZoom||this._zooming)){var c=i.mouseEventToContainerPoint(t.touches[0]),m=i.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),i.options.touchZoom!=="center"&&(this._pinchStartLatLng=i.containerPointToLatLng(c.add(m)._divideBy(2))),this._startDist=c.distanceTo(m),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),je(document,"touchmove",this._onTouchMove,this),je(document,"touchend touchcancel",this._onTouchEnd,this),gt(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var i=this._map,c=i.mouseEventToContainerPoint(t.touches[0]),m=i.mouseEventToContainerPoint(t.touches[1]),x=c.distanceTo(m)/this._startDist;if(this._zoom=i.getScaleZoom(x,this._startZoom),!i.options.bounceAtZoomLimits&&(this._zoom<i.getMinZoom()&&x<1||this._zoom>i.getMaxZoom()&&x>1)&&(this._zoom=i._limitZoom(this._zoom)),i.options.touchZoom==="center"){if(this._center=this._startLatLng,x===1)return}else{var E=c._add(m)._divideBy(2)._subtract(this._centerPoint);if(x===1&&E.x===0&&E.y===0)return;this._center=i.unproject(i.project(this._pinchStartLatLng,this._zoom).subtract(E),this._zoom)}this._moved||(i._moveStart(!0,!1),this._moved=!0),ne(this._animRequest);var O=p(i._move,i,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ve(O,this,!0),gt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ne(this._animRequest),et(document,"touchmove",this._onTouchMove,this),et(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ge.addInitHook("addHandler","touchZoom",fo),Ge.BoxZoom=ho,Ge.DoubleClickZoom=wl,Ge.Drag=aa,Ge.Keyboard=la,Ge.ScrollWheelZoom=tt,Ge.TapHold=Yo,Ge.TouchZoom=fo,o.Bounds=R,o.Browser=be,o.CRS=Le,o.Canvas=ia,o.Circle=Fi,o.CircleMarker=Di,o.Class=ce,o.Control=Qt,o.DivIcon=Vi,o.DivOverlay=jn,o.DomEvent=Ai,o.DomUtil=$o,o.Draggable=wn,o.Evented=Ce,o.FeatureGroup=Vn,o.GeoJSON=Rn,o.GridLayer=ur,o.Handler=on,o.Icon=Mr,o.ImageOverlay=lr,o.LatLng=ue,o.LatLngBounds=ae,o.Layer=bn,o.LayerGroup=sr,o.LineUtil=ul,o.Map=Ge,o.Marker=Zn,o.Mixin=Vs,o.Path=ar,o.Point=V,o.PolyUtil=Iu,o.Polygon=qn,o.Polyline=Xt,o.Popup=Wi,o.PosAnimation=Oi,o.Projection=Bu,o.Rectangle=xl,o.Renderer=An,o.SVG=Lr,o.SVGOverlay=na,o.TileLayer=cr,o.Tooltip=lo,o.Transformation=St,o.Util=Re,o.VideoOverlay=ta,o.bind=p,o.bounds=B,o.canvas=sa,o.circle=Zo,o.circleMarker=fl,o.control=ir,o.divIcon=vl,o.extend=u,o.featureGroup=dl,o.geoJSON=pl,o.geoJson=Sn,o.gridLayer=uo,o.icon=hl,o.imageOverlay=ml,o.latLng=de,o.latLngBounds=U,o.layerGroup=Vo,o.map=or,o.marker=Gu,o.point=q,o.polygon=Wu,o.polyline=Hu,o.popup=ao,o.rectangle=Vu,o.setOptions=j,o.stamp=y,o.svg=Zi,o.svgOverlay=ra,o.tileLayer=oa,o.tooltip=Ko,o.transformation=rt,o.version=l,o.videoOverlay=gl;var bl=window.L;o.noConflict=function(){return window.L=bl,this},window.L=o})}(La,La.exports)),La.exports}var Lt=r_();const Eu=jd(Lt);function $a(s,r,o){return Object.freeze({instance:s,context:r,container:o})}function Cu(s,r){return r==null?function(l,u){const h=k.useRef();return h.current||(h.current=s(l,u)),h}:function(l,u){const h=k.useRef();h.current||(h.current=s(l,u));const p=k.useRef(l),{instance:_}=h.current;return k.useEffect(function(){p.current!==l&&(r(_,l,p.current),p.current=l)},[_,l,u]),h}}function hm(s,r){k.useEffect(function(){return(r.layerContainer??r.map).addLayer(s.instance),function(){var h;(h=r.layerContainer)==null||h.removeLayer(s.instance),r.map.removeLayer(s.instance)}},[r,s])}function fm(s){return function(o){const l=Su(),u=s(ku(o,l),l);return lm(l.map,o.attribution),Wd(u.current,o.eventHandlers),hm(u.current,l),u}}function o_(s,r){const o=k.useRef();k.useEffect(function(){if(r.pathOptions!==o.current){const u=r.pathOptions??{};s.instance.setStyle(u),o.current=u}},[s,r])}function i_(s){return function(o){const l=Su(),u=s(ku(o,l),l);return Wd(u.current,o.eventHandlers),hm(u.current,l),o_(u.current,o),u}}function s_(s,r){const o=Cu(s,r),l=fm(o);return dm(l)}function a_(s,r){const o=Cu(s),l=t_(o,r);return X0(l)}function pm(s,r){const o=Cu(s,r),l=i_(o);return dm(l)}function l_(s,r){const o=Cu(s,r),l=fm(o);return e_(l)}function u_(s,r,o){const{opacity:l,zIndex:u}=r;l!=null&&l!==o.opacity&&s.setOpacity(l),u!=null&&u!==o.zIndex&&s.setZIndex(u)}function c_(){return Su().map}function mm(s){const r=c_();return k.useEffect(function(){return r.on(s),function(){r.off(s)}},[r,s]),r}const d_=pm(function({data:r,...o},l){const u=new Lt.GeoJSON(r,o);return $a(u,Hd(l,{overlayContainer:u}))},function(r,o,l){o.style!==l.style&&(o.style==null?r.resetStyle():r.setStyle(o.style))});function Td(){return Td=Object.assign||function(s){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s},Td.apply(this,arguments)}function h_({bounds:s,boundsOptions:r,center:o,children:l,className:u,id:h,placeholder:p,style:_,whenReady:y,zoom:w,...b},C){const[M]=k.useState({className:u,id:h,style:_}),[T,P]=k.useState(null);k.useImperativeHandle(C,()=>(T==null?void 0:T.map)??null,[T]);const j=k.useCallback(Z=>{if(Z!==null&&T===null){const Y=new Lt.Map(Z,b);o!=null&&w!=null?Y.setView(o,w):s!=null&&Y.fitBounds(s,r),y!=null&&Y.whenReady(y),P(Q0(Y))}},[]);k.useEffect(()=>()=>{T==null||T.map.remove()},[T]);const z=T?gi.createElement(cm,{value:T},l):p??null;return gi.createElement("div",Td({},M,{ref:j}),z)}const ks=k.forwardRef(h_),Es=s_(function({position:r,...o},l){const u=new Lt.Marker(r,o);return $a(u,Hd(l,{overlayContainer:u}))},function(r,o,l){o.position!==l.position&&r.setLatLng(o.position),o.icon!=null&&o.icon!==l.icon&&r.setIcon(o.icon),o.zIndexOffset!=null&&o.zIndexOffset!==l.zIndexOffset&&r.setZIndexOffset(o.zIndexOffset),o.opacity!=null&&o.opacity!==l.opacity&&r.setOpacity(o.opacity),r.dragging!=null&&o.draggable!==l.draggable&&(o.draggable===!0?r.dragging.enable():r.dragging.disable())}),f_=pm(function({positions:r,...o},l){const u=new Lt.Polyline(r,o);return $a(u,Hd(l,{overlayContainer:u}))},function(r,o,l){o.positions!==l.positions&&r.setLatLngs(o.positions)}),gp=a_(function(r,o){const l=new Lt.Popup(r,o.overlayContainer);return $a(l,o)},function(r,o,{position:l},u){k.useEffect(function(){const{instance:p}=r;function _(w){w.popup===p&&(p.update(),u(!0))}function y(w){w.popup===p&&u(!1)}return o.map.on({popupopen:_,popupclose:y}),o.overlayContainer==null?(l!=null&&p.setLatLng(l),p.openOn(o.map)):o.overlayContainer.bindPopup(p),function(){var b;o.map.off({popupopen:_,popupclose:y}),(b=o.overlayContainer)==null||b.unbindPopup(),o.map.removeLayer(p)}},[r,o,u,l])}),Cs=l_(function({url:r,...o},l){const u=new Lt.TileLayer(r,ku(o,l));return $a(u,l)},function(r,o,l){u_(r,o,l);const{url:u}=o;u!=null&&u!==l.url&&r.setUrl(u)}),Vd=({onClick:s})=>(mm({click(r){s(r.latlng)}}),null),hd={id:void 0,name:"",description:"",latitude:"",longitude:"",category:"",address:"",imageUrl:""};new Eu.Icon({iconUrl:"https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/images/marker-icon.png",iconSize:[32,48],iconAnchor:[16,48],popupAnchor:[0,-48]});const p_=()=>{const[s,r]=k.useState(hd),[o,l]=k.useState(!1),[u,h]=k.useState(null),[p,_]=k.useState(null),[y,w]=k.useState(!1),[b,C]=k.useState(null),[M,T]=k.useState([]),[P,j]=k.useState(void 0),[z,Z]=k.useState(null);k.useEffect(()=>{Y()},[]);const Y=async()=>{l(!0),_(null);try{const{data:J,error:xe}=await nr.from("famous_places").select("*").order("name",{ascending:!0});xe?_("Erro ao buscar lugares: "+xe.message):T(J||[])}catch(J){_("Erro inesperado ao buscar lugares: "+J.message)}finally{l(!1)}},G=J=>{r({...s,[J.target.name]:J.target.value})},X=J=>{Z(J),r(xe=>({...xe,latitude:J.lat.toString(),longitude:J.lng.toString()}))},oe=async J=>{var ve;const xe=(ve=J.target.files)==null?void 0:ve[0];if(xe){w(!0),_(null),h(null);try{const ne=xe.name.split(".").pop(),Re=`${Date.now()}-${Math.random().toString(36).substring(2,8)}.${ne}`,{data:ce,error:he}=await nr.storage.from("famous-places-images").upload(Re,xe,{upsert:!1});if(he){_("Erro ao fazer upload da imagem: "+he.message),w(!1);return}const{data:fe}=nr.storage.from("famous-places-images").getPublicUrl(Re),Ce=fe==null?void 0:fe.publicUrl;Ce?(r(V=>({...V,imageUrl:Ce})),C(Ce),h("Imagem enviada com sucesso!")):_("Não foi possível obter a URL da imagem.")}catch(ne){_("Erro inesperado no upload: "+ne.message)}finally{w(!1)}}},se=async J=>{J.preventDefault(),l(!0),h(null),_(null);try{if(!s.name||!s.latitude||!s.longitude){_("Preencha pelo menos nome, latitude e longitude!"),l(!1);return}if(P){const{error:xe}=await nr.from("famous_places").update({name:s.name,description:s.description,latitude:parseFloat(s.latitude),longitude:parseFloat(s.longitude),category:s.category,address:s.address,image_url:s.imageUrl}).eq("id",P);xe?_("Erro ao atualizar: "+xe.message):h("Lugar atualizado com sucesso!")}else{const{error:xe}=await nr.from("famous_places").insert([{name:s.name,description:s.description,latitude:parseFloat(s.latitude),longitude:parseFloat(s.longitude),category:s.category,address:s.address,image_url:s.imageUrl}]);xe?_("Erro ao cadastrar: "+xe.message):h("Lugar cadastrado com sucesso!")}r(hd),C(null),j(void 0),Y()}catch(xe){_("Erro inesperado: "+xe.message)}finally{l(!1)}},me=J=>{var xe,ve;r({id:J.id,name:J.name||"",description:J.description||"",latitude:((xe=J.latitude)==null?void 0:xe.toString())||"",longitude:((ve=J.longitude)==null?void 0:ve.toString())||"",category:J.category||"",address:J.address||"",imageUrl:J.image_url||""}),C(J.image_url||null),j(J.id),h(null),_(null)},K=()=>{r(hd),C(null),j(void 0),h(null),_(null)};return s.latitude&&parseFloat(s.latitude),s.longitude&&parseFloat(s.longitude),f.jsxs("div",{style:{maxWidth:1400,minWidth:320,width:"100%",margin:"40px auto",background:"var(--bg-secondary)",border:"4px solid var(--accent-green)",borderRadius:0,boxShadow:"8px 8px 0 #222, 0 0 0 4px #fff",padding:24,fontFamily:"'Press Start 2P', monospace",color:"var(--text-primary)",minHeight:400,display:"flex",flexDirection:"row",gap:32,flexWrap:"wrap"},children:[f.jsxs("div",{style:{flex:"1 1 340px",minWidth:320,maxWidth:520,display:"flex",flexDirection:"column",gap:0},children:[f.jsx("h1",{style:{fontFamily:"'Press Start 2P', monospace",color:"var(--accent-green)",fontSize:"1.1rem",textAlign:"center",textTransform:"uppercase",fontWeight:700,letterSpacing:"1px",textShadow:"2px 2px 0 #222",marginBottom:24},children:P?"Editar Lugar Famoso":"Cadastrar Lugar Famoso"}),f.jsx("div",{style:{width:"100%",height:300,marginBottom:16,border:"2px solid #222",boxShadow:"2px 2px 0 #222"},children:f.jsxs(ks,{center:z?[z.lat,z.lng]:[-23.9676,-46.3287],zoom:13,style:{width:"100%",height:"100%"},scrollWheelZoom:!0,children:[f.jsx(Cs,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© OpenStreetMap contributors"}),f.jsx(Vd,{onClick:X}),z&&f.jsx(Es,{position:z})]})}),f.jsxs("form",{onSubmit:se,style:{display:"flex",flexDirection:"column",gap:16},children:[f.jsx("input",{name:"name",value:s.name,onChange:G,placeholder:"Nome",style:gr}),f.jsx("textarea",{name:"description",value:s.description,onChange:G,placeholder:"Descrição",style:{...gr,minHeight:60}}),f.jsx("input",{name:"latitude",value:s.latitude,onChange:G,placeholder:"Latitude",style:gr,type:"number",step:"any"}),f.jsx("input",{name:"longitude",value:s.longitude,onChange:G,placeholder:"Longitude",style:gr,type:"number",step:"any"}),f.jsx("input",{name:"category",value:s.category,onChange:G,placeholder:"Categoria",style:gr}),f.jsx("input",{name:"address",value:s.address,onChange:G,placeholder:"Endereço",style:gr}),f.jsx("input",{name:"imageUrl",value:s.imageUrl,onChange:G,placeholder:"URL da Imagem (ou use upload)",style:gr}),f.jsxs("label",{style:{fontSize:12,color:"#222",fontFamily:"'Press Start 2P', monospace"},children:["Upload de Imagem:",f.jsx("input",{type:"file",accept:"image/*",onChange:oe,style:{marginTop:6,fontFamily:"'Press Start 2P', monospace"}})]}),y&&f.jsx("div",{style:{color:"#888",fontSize:12},children:"Enviando imagem..."}),b&&f.jsx("img",{src:b,alt:"Preview",style:{width:"100%",maxWidth:180,margin:"8px auto",border:"2px solid #222",boxShadow:"2px 2px 0 #222",background:"#fff"}}),f.jsxs("div",{style:{display:"flex",gap:8},children:[f.jsx("button",{type:"submit",disabled:o,style:{...gr,background:"var(--accent-green)",color:"var(--bg-primary)",border:"3px solid #222",cursor:"pointer",fontWeight:700,fontSize:14,marginTop:8},children:o?P?"Salvando...":"Cadastrando...":P?"Salvar":"Cadastrar"}),P&&f.jsx("button",{type:"button",onClick:K,style:{...gr,background:"var(--accent-red)",color:"var(--bg-primary)",border:"3px solid #222",cursor:"pointer",fontWeight:700,fontSize:14,marginTop:8},children:"Cancelar"})]})]})]}),f.jsxs("div",{style:{flex:"2 1 400px",minWidth:320,maxWidth:900,display:"flex",flexDirection:"column",gap:0,height:"calc(90vh - 80px)",overflowY:"auto",background:"#fff",border:"1px solid #222",borderRadius:0,boxShadow:"2px 2px 0 #222",padding:16},children:[f.jsx("h2",{style:{fontSize:15,color:"#222",marginBottom:12,fontFamily:"'Press Start 2P', monospace",textTransform:"uppercase"},children:"Lugares já cadastrados"}),M.length===0&&f.jsx("div",{style:{color:"#888",fontSize:13},children:"Nenhum lugar cadastrado ainda."}),M.map(J=>f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,borderBottom:"1px dashed #ccc",padding:"8px 0"},children:[f.jsx("img",{src:J.image_url,alt:J.name,style:{width:48,height:48,objectFit:"cover",border:"2px solid #222",background:"#fff",borderRadius:0}}),f.jsxs("div",{style:{flex:1},children:[f.jsx("div",{style:{fontWeight:700,fontSize:13,color:"#222",fontFamily:"'Press Start 2P', monospace"},children:J.name}),f.jsx("div",{style:{fontSize:12,color:"#444",fontFamily:"'VT323', monospace"},children:J.category}),f.jsxs("div",{style:{fontSize:11,color:"#888",fontFamily:"'VT323', monospace"},children:[J.latitude,", ",J.longitude]})]}),f.jsx("button",{onClick:()=>me(J),style:{...gr,background:"var(--accent-yellow)",color:"#222",border:"2px solid #222",fontWeight:700,fontSize:12,cursor:"pointer",padding:"6px 12px",minWidth:60},children:"Editar"})]},J.id))]})]})},gr={fontFamily:"'Press Start 2P', monospace",fontSize:13,border:"2px solid #222",borderRadius:0,padding:"10px 8px",background:"#fff",color:"#222",boxShadow:"2px 2px 0 #222",outline:"none"},m_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",g_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",v_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",y_=6371e3,__=(s,r,o)=>{const l=r.lng,u=r.lat,h=o.lng,p=o.lat,_=s.lng,y=s.lat,w=Math.pow(h-l,2)+Math.pow(p-u,2);if(w===0)return r;const b=Math.max(0,Math.min(1,((_-l)*(h-l)+(y-u)*(p-u))/w));return new Lt.LatLng(u+b*(p-u),l+b*(h-l))},Md=(s,r)=>{const o=s.lat*Math.PI/180,l=r.lat*Math.PI/180,u=(r.lat-s.lat)*Math.PI/180,h=(r.lng-s.lng)*Math.PI/180,p=Math.sin(u/2)*Math.sin(u/2)+Math.cos(o)*Math.cos(l)*Math.sin(h/2)*Math.sin(h/2),_=2*Math.atan2(Math.sqrt(p),Math.sqrt(1-p));return y_*_},gm=(s,r,o="neighborhoods")=>{if(o==="famous_places"){const p=s/1e3,_=Math.max(0,2e3*(1-p/3)),y=r<=5?Math.round(r/5*1e3):0;return{total:Math.round(_+y),distancePoints:Math.round(_),timePoints:y}}const l=s/1e3,u=Math.max(0,1e3*(1-l/10)),h=r<=2?Math.round(r/2*500):0;return{total:Math.round(u+h),distancePoints:Math.round(u),timePoints:h}},fd=(s,r,o)=>{var h,p;const l=r.has((h=s.properties)==null?void 0:h.NOME);return((p=s.properties)==null?void 0:p.NOME)===o&&l?{fillColor:"#00FF00",weight:2,opacity:1,color:"#000000",fillOpacity:.7,dashArray:"3"}:{fillColor:"#32CD32",weight:2,opacity:l?1:0,color:"#000000",fillOpacity:l?.3:0,dashArray:"3"}},_s=15,di={PERFECT:3e3,EXCELLENT:2e3,GREAT:1750,GOOD:1500,DECENT:1250,FAIR:1e3,CLOSE:750},hi={PERFECT:4,EXCELLENT:3.5,GREAT:3,GOOD:2.5,DECENT:2,FAIR:1.5,CLOSE:1},pd=(s,r="neighborhoods")=>{const l=r==="famous_places"?6:4;if(s<500)return 0;const u=(s-500)/2500;return Math.min(l,u*l)},vp=(s,r)=>{const o=s/r*100;return o>60?"#00FF66":o>30?"#FFD700":"#FF4444"},vm=(s,r=0,o=0)=>{const l=s/1e3;if(s===0){const h=["ACERTO PERFEITO!","BULLSEYE!","INCRÍVEL!","PERFEIÇÃO!","FANTÁSTICO!"];return o>=3?`${h[Math.floor(Math.random()*h.length)]} ${o} acertos seguidos!`:h[Math.floor(Math.random()*h.length)]}if(l<.5){const h=["QUASE PERFEITO!","INCRÍVEL!","EXCELENTE!","FANTÁSTICO!","IMPRESSIONANTE!"];return h[Math.floor(Math.random()*h.length)]}if(l<1){const h=["MUITO BOM!","EXCELENTE!","ÓTIMO!","FANTÁSTICO!","IMPRESSIONANTE!"];return h[Math.floor(Math.random()*h.length)]}if(l<2){const h=["BOM!","LEGAL!","OK!","ACEITÁVEL!","RAZOÁVEL!"];return h[Math.floor(Math.random()*h.length)]}if(l<5){const h=["QUASE LÁ!","HMMM!","OPS!","QUASE!","TENTE NOVAMENTE!"];return h[Math.floor(Math.random()*h.length)]}const u=["OPS!","EITA!","UAU!","VENDADO?","CONFUSÃO!"];return u[Math.floor(Math.random()*u.length)]},x_=100,w_=5,b_=(s=!1)=>{const[r,o]=k.useState({currentNeighborhood:"",score:0,globalTimeLeft:_s,roundTimeLeft:_s,roundInitialTime:_s,roundNumber:1,gameOver:!1,gameStarted:!1,isCountingDown:!1,isPaused:!1,clickedPosition:null,showFeedback:!1,feedbackOpacity:0,feedbackProgress:0,feedbackMessage:"",revealedNeighborhoods:new Set,clickTime:0,timeBonus:0,isMuted:!1,volume:.5,arrowPath:null,lastClickTime:0,totalDistance:0,gameMode:"neighborhoods"}),l=k.useRef(null),u=k.useRef(0);return k.useEffect(()=>{if(console.log("[useGameState] useEffect do timer - condições:",{gameStarted:r.gameStarted,gameOver:r.gameOver,roundTimeLeft:r.roundTimeLeft,globalTimeLeft:r.globalTimeLeft,isCountingDown:r.isCountingDown,isPaused:r.isPaused,externalPause:s,showFeedback:r.showFeedback,feedbackProgress:r.feedbackProgress}),r.gameStarted&&!r.gameOver&&r.roundTimeLeft>0&&r.globalTimeLeft>0&&r.isCountingDown&&!r.isPaused&&!s&&!r.showFeedback&&r.feedbackProgress===0){console.log("[useGameState] Timer iniciado - condições atendidas");const w=setInterval(()=>{o(b=>b.roundTimeLeft<=0||b.globalTimeLeft<=0?(console.log("[useGameState] Timer parado - tempo esgotado"),{...b,gameOver:!0,roundTimeLeft:0,globalTimeLeft:0,showFeedback:!0}):b.showFeedback||b.feedbackProgress>0?(console.log("[useGameState] Timer pausado - mostrando feedback ou progresso ativo"),b):(console.log("[useGameState] Timer rodando - decrementando tempo"),{...b,roundTimeLeft:b.roundTimeLeft-.1,globalTimeLeft:b.globalTimeLeft-.1}))},100);return()=>{console.log("[useGameState] Timer limpo"),clearInterval(w)}}else console.log("[useGameState] Timer não iniciado - condições não atendidas:",{reason:r.gameStarted?r.gameOver?"jogo terminado":r.roundTimeLeft<=0?"tempo da rodada esgotado":r.globalTimeLeft<=0?"tempo global esgotado":r.isCountingDown?r.isPaused?"pausado":s?"pausa externa":r.showFeedback?"mostrando feedback":r.feedbackProgress>0?"progresso ativo":"condição desconhecida":"não contando":"jogo não iniciado"})},[r.gameStarted,r.gameOver,r.roundTimeLeft,r.globalTimeLeft,r.isCountingDown,r.isPaused,s,r.showFeedback,r.feedbackProgress]),{gameState:r,updateGameState:w=>{o(b=>({...b,...w}))},startGame:()=>{o(w=>{const b=w.gameMode==="famous_places";return{...w,gameStarted:!0,score:0,gameOver:!1,globalTimeLeft:_s,roundTimeLeft:_s,roundInitialTime:_s,roundNumber:1,isCountingDown:!0,isPaused:!1,revealedNeighborhoods:new Set,totalDistance:0,gameMode:w.gameMode||"neighborhoods",currentNeighborhood:b?"":w.currentNeighborhood}})},startNextRound:w=>{if(u.current>5){console.error("[startNextRound] ERRO: Muitas chamadas recursivas detectadas, abortando para evitar loop infinito"),u.current=0;return}u.current++,console.log("[startNextRound] Iniciando próxima rodada, estado atual:",{isCountingDown:r.isCountingDown,roundNumber:r.roundNumber,globalTimeLeft:r.globalTimeLeft,timeBonus:r.timeBonus,showFeedback:r.showFeedback,feedbackProgress:r.feedbackProgress,recursionCount:u.current}),(r.showFeedback||r.feedbackProgress>0)&&(console.log("[startNextRound] CORREÇÃO CRÍTICA - Estado visual ainda não limpo, forçando limpeza..."),o(b=>(console.log("[startNextRound] Forçando limpeza do estado visual"),{...b,showFeedback:!1,feedbackProgress:0,feedbackOpacity:0,clickedPosition:null,arrowPath:null})),console.log("[startNextRound] Estado visual limpo forçadamente, continuando...")),u.current=0,o(b=>{var z,Z,Y;const C={...b},M=C.roundNumber+1,T=C.timeBonus||0,P=Math.max(C.globalTimeLeft+T,0);console.log("[startNextRound] Configurando nova rodada:",{nextRoundNumber:M,timeBonus:T,newGlobalTime:P,prevIsCountingDown:C.isCountingDown});const j={clickedPosition:null,arrowPath:null,showFeedback:!1,feedbackOpacity:0,feedbackProgress:0,globalTimeLeft:P,roundTimeLeft:P,roundInitialTime:P,roundNumber:M,isCountingDown:!0,isPaused:!1,timeBonus:0};if(b.gameMode==="famous_places")return{...b,...j,currentNeighborhood:"",revealedNeighborhoods:new Set};if(console.log("[startNextRound] Modo bairros - selecionando novo bairro"),console.log("[startNextRound] Bairro atual:",b.currentNeighborhood),console.log("[startNextRound] GeoJSON features disponíveis:",((z=w==null?void 0:w.features)==null?void 0:z.length)||0),w&&w.features&&w.features.length>0){const G=w.features.filter(X=>{var oe;return((oe=X.properties)==null?void 0:oe.NOME)!==b.currentNeighborhood});if(console.log("[startNextRound] Features disponíveis (excluindo atual):",G.length),console.log("[startNextRound] Features filtradas:",G.map(X=>{var oe;return(oe=X.properties)==null?void 0:oe.NOME})),G.length>0){const X=Math.floor(Math.random()*G.length),oe=(Z=G[X].properties)==null?void 0:Z.NOME;return console.log("[startNextRound] Novo bairro selecionado para modo bairros:",oe),console.log("[startNextRound] Índice aleatório usado:",X),{...b,...j,currentNeighborhood:oe||"",revealedNeighborhoods:new Set}}else{console.log("[startNextRound] Nenhum bairro disponível diferente do atual - resetando lista");const X=Math.floor(Math.random()*w.features.length),oe=(Y=w.features[X].properties)==null?void 0:Y.NOME;return console.log("[startNextRound] Bairro selecionado após reset:",oe),{...b,...j,currentNeighborhood:oe||"",revealedNeighborhoods:new Set}}}return console.log("[startNextRound] Fallback: mantendo bairro atual para modo bairros"),{...b,...j,revealedNeighborhoods:new Set}}),console.log("[startNextRound] Nova rodada configurada - timer deve estar rodando")},clearFeedbackTimer:()=>{l.current&&(clearTimeout(l.current),l.current=null)},feedbackTimerRef:l}},S_=(s,r)=>{const o=s.lng,l=s.lat;let u=!1;for(let h=0,p=r.length-1;h<r.length;p=h++){const _=r[h].lng,y=r[h].lat,w=r[p].lng,b=r[p].lat;y>l!=b>l&&o<(w-_)*(l-y)/(b-y)+_&&(u=!u)}return u},k_=(s,r="neighborhoods",o=null,l=!1)=>{console.log("[useMapGame] DEBUG - Hook inicializado com:",{geoJsonData:!!s,gameMode:r,currentFamousPlace:!!o,externalPause:l});const u=k.useRef(null),h=k.useRef(!1),p=k.useRef(!1),_=k.useRef(null),y=k.useRef(null),w=k.useRef(null),b=k.useRef(null),C=k.useRef(null),M=k.useRef(null),T=k.useRef(null),[P,j]=k.useState(!0),[z,Z]=k.useState(!1),[Y,G]=k.useState(0),[X,oe]=k.useState(!1),[se,me]=k.useState(null),{gameState:K,updateGameState:J,startGame:xe,startNextRound:ve,feedbackTimerRef:ne}=b_(l),Re=R=>{if(console.log("[useMapGame]  CLIQUE NO MAPA DETECTADO - Iniciando processamento..."),console.log("[useMapGame] 📍 Coordenadas do clique:",R.lat,R.lng),console.log("[useMapGame] 🎮 Estado atual do jogo:",{gameStarted:K.gameStarted,isCountingDown:K.isCountingDown,showFeedback:K.showFeedback,gameMode:r,currentFamousPlace:!!o}),h.current){console.log("[useMapGame] ⚠️ Clique ignorado - já processando clique anterior");return}if(!K.gameStarted||!K.isCountingDown){console.log("[useMapGame] ❌ Clique ignorado - jogo não iniciado ou não contando"),console.log("[useMapGame] DEBUG - Condições não atendidas:",{gameStarted:K.gameStarted,isCountingDown:K.isCountingDown,showFeedback:K.showFeedback});return}console.log("[useMapGame] ✅ Clique processado - condições atendidas, iniciando processamento"),h.current=!0,u.current=setTimeout(()=>{h.current=!1},100),p.current=!1,console.log("[useMapGame] DEBUG - Flag isAutoAdvancing resetada para false no início do clique");const B=Math.max(0,K.roundInitialTime-K.roundTimeLeft);if((()=>{M.current&&(clearInterval(M.current),M.current=null),ne.current&&(clearTimeout(ne.current),ne.current=null)})(),J({isCountingDown:!1,isPaused:!0}),console.log("[useMapGame] 🔍 VERIFICANDO MODO DE JOGO:",{gameMode:r,currentFamousPlace:!!o,condition:r==="famous_places"&&o}),r==="famous_places"&&o){console.log("[useMapGame] 🏛️ MODO LUGARES FAMOSOS - Executando handleFeedbackSequence");const U=Lt.latLng(o.latitude,o.longitude),ue=Md(R,U),de=ue/1e3;let Le=0,Se="",Ae=null,Be=!1;if(de<=.1){Be=!0;const it=2e3,kt=K.roundTimeLeft<=5?Math.round(K.roundTimeLeft/5*1e3):0;Le=it+kt,Se=`Acertou! ${o.name}`}else{const it=Math.max(0,1500*(1-de/3)),kt=K.roundTimeLeft<=5?Math.round(K.roundTimeLeft/5*500):0;Le=it+kt,de<.5?Se="Quase lá! Continue tentando!":de<1?Se="Está no caminho certo!":de<2?Se="Ainda longe, mas continue!":Se="Muito longe! Tente novamente!",Ae=[R,U]}const St=K.score+Math.round(Le),rt=B,ot=pd(Le,r),Qe=Math.max(K.globalTimeLeft-rt,0),It=Qe<=0;(()=>{b.current&&(Be||ue<=500)&&(b.current.currentTime=0,b.current.volume=.7,b.current.play().catch(kt=>{console.log("Erro ao tocar som de sucesso:",kt)})),C.current&&!Be&&ue>=700&&(C.current.currentTime=0,C.current.volume=.7,C.current.play().catch(kt=>{console.log("Erro ao tocar som de erro:",kt)})),J({clickedPosition:R,clickTime:B,score:St,globalTimeLeft:Qe,timeBonus:ot,gameOver:It,showFeedback:!0,feedbackOpacity:1,feedbackProgress:0,feedbackMessage:Se,revealedNeighborhoods:Be?new Set([...K.revealedNeighborhoods,o.name]):K.revealedNeighborhoods,arrowPath:Ae,totalDistance:K.totalDistance+ue}),Be||setTimeout(()=>{me({center:R,radius:ue})},400);let it=100;console.log("[useMapGame]  INICIANDO BARRA DE PROGRESSO - Progresso inicial:",it,"%"),J({feedbackProgress:100}),console.log("[useMapGame] ✅ Estado inicial definido - feedbackProgress: 100%"),T.current=setInterval(()=>{if(console.log("[useMapGame] 🔄 INTERVALO EXECUTANDO - Estado atual:",{progress:it,isPaused:K.isPaused,showFeedback:K.showFeedback,feedbackProgress:K.feedbackProgress}),K.isPaused){console.log("[useMapGame] ⏸️ BARRA PAUSADA - Jogo está pausado, retornando...");return}if(it-=3.33,console.log("[useMapGame] 📉 PROGRESSO DECREMENTADO - Novo valor:",it.toFixed(2),"%"),it<=0){if(it=0,console.log("[useMapGame]  PROGRESSO CHEGOU A 0% - Iniciando sequência de avanço automático"),J({feedbackProgress:0}),console.log("[useMapGame] ✅ Estado atualizado para 0%"),T.current&&(clearInterval(T.current),T.current=null,console.log("[useMapGame] 🧹 INTERVALO LIMPO - setInterval removido")),console.log("[useMapGame] DEBUG - setInterval limpo, progresso chegou a 0%"),console.log("[useMapGame] 🚀 BARRA COMPLETA - Executando startNextRound automaticamente"),console.log("[useMapGame] DEBUG - geoJsonData:",!!s,"isAutoAdvancing:",p.current),p.current){console.log("[useMapGame] ⚠️ JÁ ESTÁ AVANÇANDO - Flag isAutoAdvancing ativa, ignorando chamada");return}console.log("[useMapGame] ✅ Estado visual ativo - permitindo avanço automático"),p.current=!0,console.log("[useMapGame] 🚩 FLAG ATIVADA - isAutoAdvancing definido como true"),console.log("[useMapGame] 🚀 EXECUTANDO AVANÇO IMEDIATO - Chamando startNextRound..."),s?(console.log("[useMapGame] ✅ geoJsonData DISPONÍVEL - Iniciando próxima rodada automaticamente"),ve(s)):(console.log("[useMapGame] ❌ geoJsonData NÃO DISPONÍVEL - Resetando flag isAutoAdvancing"),p.current=!1)}else console.log("[useMapGame]  ATUALIZANDO ESTADO - Progresso:",it.toFixed(2),"%"),J({feedbackProgress:it}),console.log("[useMapGame] ✅ Estado atualizado com sucesso")},100),console.log("[useMapGame]  INTERVALO CRIADO - setInterval configurado para executar a cada 100ms")})();return}if(y.current){let U=null,ue=null;const de=y.current.getLayers();de.forEach(Se=>{var Be;const Ae=Se.feature;try{((Be=Ae.properties)==null?void 0:Be.NOME)===K.currentNeighborhood&&(U=Se)}catch{}}),de.forEach(Se=>{var St,rt,ot,Qe;const Ae=Se.feature,Be=Se;try{Be.getBounds().contains(R)&&(((St=Ae.properties)==null?void 0:St.NOME)===K.currentNeighborhood?(ue=(rt=Ae.properties)==null?void 0:rt.NOME,Se instanceof Lt.Polygon&&S_(R,Se.getLatLngs()[0])&&(ue=(ot=Ae.properties)==null?void 0:ot.NOME)):ue||(ue=(Qe=Ae.properties)==null?void 0:Qe.NOME))}catch{}});const Le=ue===K.currentNeighborhood;if(Le){const Se=3e3*Math.pow(K.roundTimeLeft/10,2),Ae=K.score+Math.round(Se),Be=B,St=pd(Se,r),rt=Math.max(K.globalTimeLeft-Be,0),ot=rt<=0;setTimeout(()=>{b.current&&(b.current.currentTime=0,b.current.volume=.7,b.current.play().catch(It=>{console.log("Erro ao tocar som de sucesso:",It)})),J({clickedPosition:R,clickTime:B,score:Ae,globalTimeLeft:rt,timeBonus:St,gameOver:ot,showFeedback:!0,feedbackOpacity:1,feedbackProgress:0,feedbackMessage:"",revealedNeighborhoods:new Set([...K.revealedNeighborhoods,K.currentNeighborhood]),arrowPath:null,totalDistance:K.totalDistance});let Qe=100;console.log("[useMapGame] 🏘️ INICIANDO BARRA DE PROGRESSO (BAIRROS) - Progresso inicial:",Qe,"%"),J({feedbackProgress:100}),console.log("[useMapGame] ✅ Estado inicial definido (BAIRROS) - feedbackProgress: 100%"),T.current=setInterval(()=>{if(console.log("[useMapGame] 🔄 INTERVALO EXECUTANDO (BAIRROS) - Estado atual:",{progress:Qe,isPaused:K.isPaused,showFeedback:K.showFeedback,feedbackProgress:K.feedbackProgress}),K.isPaused){console.log("[useMapGame] ⏸️ BARRA PAUSADA (BAIRROS) - Jogo está pausado, retornando...");return}if(Qe-=3.33,console.log("[useMapGame] 📉 PROGRESSO DECREMENTADO (BAIRROS) - Novo valor:",Qe.toFixed(2),"%"),Qe<=0){if(Qe=0,console.log("[useMapGame]  PROGRESSO CHEGOU A 0% (BAIRROS) - Iniciando sequência de avanço automático"),J({feedbackProgress:0}),console.log("[useMapGame] ✅ Estado atualizado para 0% (BAIRROS)"),T.current&&(clearInterval(T.current),T.current=null,console.log("[useMapGame] 🧹 INTERVALO LIMPO (BAIRROS) - setInterval removido")),console.log("[useMapGame] DEBUG - setInterval limpo, progresso chegou a 0% (acertou bairro)"),console.log("[useMapGame]  BARRA COMPLETA (BAIRROS) - Executando startNextRound automaticamente"),p.current){console.log("[useMapGame] ⚠️ JÁ ESTÁ AVANÇANDO (BAIRROS) - Flag isAutoAdvancing ativa, ignorando chamada");return}console.log("[useMapGame] ✅ Estado visual ativo - permitindo avanço automático"),p.current=!0,console.log("[useMapGame]  FLAG ATIVADA (BAIRROS) - isAutoAdvancing definido como true"),s?(console.log("[useMapGame] ✅ geoJsonData DISPONÍVEL (BAIRROS) - Iniciando próxima rodada automaticamente"),ve(s)):(console.log("[useMapGame] ❌ geoJsonData NÃO DISPONÍVEL (BAIRROS) - Resetando flag isAutoAdvancing"),p.current=!1)}else console.log("[useMapGame]  ATUALIZANDO ESTADO (BAIRROS) - Progresso:",Qe.toFixed(2),"%"),J({feedbackProgress:Qe}),console.log("[useMapGame] ✅ Estado atualizado com sucesso (BAIRROS)")},100),console.log("[useMapGame]  INTERVALO CRIADO (BAIRROS) - setInterval configurado para executar a cada 100ms")},0);return}if(U){const Ae=U.getLatLngs()[0];let Be=1/0,St=R;for(let Ve=0;Ve<Ae.length;Ve++){const Ct=Ae[Ve],gn=Ae[(Ve+1)%Ae.length],rn=__(R,Ct,gn),Pt=Md(R,rn);Pt<Be&&(Be=Pt,St=rn)}const rt=Be,ot=rt<10,Qe=ot?2500*Math.pow(K.roundTimeLeft/15,2):gm(rt,K.roundTimeLeft).total,It=K.score+Math.round(Qe),pn=Qe<0?Y+Math.abs(Qe):Y;G(pn);const it=!Le&&!ot?{center:R,radius:rt}:null;let kt="";ot||(kt=vm(rt)),C.current&&!Le&&rt>=700&&(C.current.currentTime=0,C.current.volume=.7,C.current.play().catch(Ve=>{console.log("Erro ao tocar som de erro:",Ve)})),b.current&&rt<=500&&(b.current.currentTime=0,b.current.volume=.7,b.current.play().catch(Ve=>{console.log("Erro ao tocar som de sucesso:",Ve)}));const $n=B,mn=pd(Qe,r),Ee=Math.max(K.globalTimeLeft-$n,0),Ue=K.totalDistance+rt,Ye=Ee<=0,nt=pn>60||Ue>6e3,Xe=Ye||nt;(()=>{if(console.log("[useMapGame] 🏘️ INICIANDO FEEDBACK UNIFICADO (BAIRROS) - Acerto:",Le),Xe&&C.current&&(C.current.currentTime=0,C.current.volume=.7,C.current.play().catch(Ct=>{console.log("Erro ao tocar game over:",Ct)})),J({clickedPosition:R,clickTime:B,score:It,globalTimeLeft:Ee,timeBonus:mn,showFeedback:!0,feedbackOpacity:1,feedbackProgress:100,feedbackMessage:kt,gameOver:Xe,revealedNeighborhoods:new Set([...K.revealedNeighborhoods,K.currentNeighborhood]),arrowPath:!Le&&!ot?[R,St]:null,totalDistance:Ue}),pn>50)return;it&&setTimeout(()=>{me(it)},400);let Ve=100;console.log("[useMapGame] 🏘️ INICIANDO BARRA DE PROGRESSO UNIFICADA (BAIRROS) - Progresso inicial:",Ve,"%"),T.current=setInterval(()=>{if(console.log("[useMapGame] 🔄 INTERVALO EXECUTANDO (BAIRROS) - Estado atual:",{progress:Ve,isPaused:K.isPaused,showFeedback:K.showFeedback,feedbackProgress:K.feedbackProgress}),K.isPaused){console.log("[useMapGame] ⏸️ BARRA PAUSADA (BAIRROS) - Jogo está pausado, retornando...");return}if(Ve-=3.33,console.log("[useMapGame] 📉 PROGRESSO DECREMENTADO (BAIRROS) - Novo valor:",Ve.toFixed(2),"%"),Ve<=0){if(Ve=0,console.log("[useMapGame] PROGRESSO CHEGOU A 0% (BAIRROS) - Iniciando sequência de avanço automático"),J({feedbackProgress:0}),console.log("[useMapGame] ✅ Estado atualizado para 0% (BAIRROS)"),T.current&&(clearInterval(T.current),T.current=null,console.log("[useMapGame] 🧹 INTERVALO LIMPO (BAIRROS) - setInterval removido")),console.log("[useMapGame] DEBUG - setInterval limpo, progresso chegou a 0% (modo bairros)"),console.log("[useMapGame] BARRA COMPLETA (BAIRROS) - Executando startNextRound automaticamente"),p.current){console.log("[useMapGame] ⚠️ JÁ ESTÁ AVANÇANDO (BAIRROS) - Flag isAutoAdvancing ativa, ignorando chamada");return}console.log("[useMapGame] ✅ Estado visual ativo - permitindo avanço automático"),p.current=!0,console.log("[useMapGame] FLAG ATIVADA (BAIRROS) - isAutoAdvancing definido como true"),s?(console.log("[useMapGame] ✅ geoJsonData DISPONÍVEL (BAIRROS) - Iniciando próxima rodada automaticamente"),ve(s)):(console.log("[useMapGame] ❌ geoJsonData NÃO DISPONÍVEL (BAIRROS) - Resetando flag isAutoAdvancing"),p.current=!1)}else console.log("[useMapGame] ATUALIZANDO ESTADO (BAIRROS) - Progresso:",Ve.toFixed(2),"%"),J({feedbackProgress:Ve}),console.log("[useMapGame] ✅ Estado atualizado com sucesso (BAIRROS)")},100),console.log("[useMapGame] INTERVALO CRIADO (BAIRROS) - setInterval configurado para executar a cada 100ms")})()}}},ce=R=>{const B=parseFloat(R.target.value);J({volume:B}),B>0&&J({isMuted:!1})},he=()=>{J({isMuted:!K.isMuted})},fe=()=>{console.log("[handlePauseGame] Pausando jogo..."),Z(!0),M.current&&(clearInterval(M.current),M.current=null),ne.current&&(clearTimeout(ne.current),ne.current=null),T.current&&(console.log("[handlePauseGame] Pausando barra de progresso do feedback"),clearInterval(T.current),T.current=null),w.current&&w.current.pause(),J({isCountingDown:!1,isPaused:!0}),console.log("[handlePauseGame] Jogo pausado com sucesso")},Ce=()=>{console.log("[handleResumeGame] Retomando jogo..."),Z(!1),w.current&&K.gameStarted&&!K.gameOver&&!K.isMuted&&w.current.play(),J({isCountingDown:!0,isPaused:!1}),K.showFeedback&&K.feedbackProgress<100&&(console.log("[handleResumeGame] Retomando barra de progresso do feedback"),V()),console.log("[handleResumeGame] Jogo retomado com sucesso")},V=()=>{if(!K.showFeedback||K.feedbackProgress<=0)return;if(T.current){console.log("[resumeFeedbackProgress] Já existe um intervalo ativo, ignorando chamada");return}const R=K.feedbackProgress,B=R,ae=x_,U=w_;console.log("[resumeFeedbackProgress] Retomando barra de progresso regressiva:",{currentProgress:R,remainingProgress:B,increment:U}),T.current=setInterval(()=>{if(K.isPaused){T.current&&(clearInterval(T.current),T.current=null);return}const ue=Math.max(K.feedbackProgress-U,0);ue<=0?(T.current&&(clearInterval(T.current),T.current=null),console.log("[resumeFeedbackProgress] Progresso completo (0%) - avançando para próxima rodada"),s&&ve(s)):J({feedbackProgress:ue})},ae)};return{mapRef:_,geoJsonRef:y,audioRef:w,successSoundRef:b,errorSoundRef:C,isLoading:P,isPaused:z,showPhaseOneMessage:X,distanceCircle:se,gameState:K,handleMapClick:Re,handleVolumeChange:ce,handleToggleMute:he,handlePauseGame:fe,handleResumeGame:Ce,handleNextRound:R=>{if(p.current){console.log("[handleNextRound] Já está processando próxima rodada, ignorando chamada");return}p.current=!0,console.log("[handleNextRound] Iniciando próxima rodada, estado atual:",{isCountingDown:K.isCountingDown,gameStarted:K.gameStarted,gameOver:K.gameOver,roundNumber:K.roundNumber}),p.current=!1,console.log("[handleNextRound] DEBUG - Flag isAutoAdvancing resetada para false"),Z(!1),w.current&&K.gameStarted&&!K.gameOver&&!K.isMuted&&w.current.play(),ne.current&&(clearTimeout(ne.current),ne.current=null),M.current&&(clearInterval(M.current),M.current=null),T.current&&(clearInterval(T.current),T.current=null),console.log("[handleNextRound] CORREÇÃO CRÍTICA - Sincronizando estado visual completo");const B={isPaused:!1,isCountingDown:!0,showFeedback:!1,feedbackOpacity:0,feedbackProgress:0,clickedPosition:null,arrowPath:null,revealedNeighborhoods:new Set};console.log("[handleNextRound] Estado a ser aplicado:",B),J(B),console.log("[handleNextRound] Estado visual sincronizado - aguardando startNextRound"),requestAnimationFrame(()=>{console.log("[handleNextRound] Executando startNextRound após sincronização visual"),ve(R),console.log("[handleNextRound] Nova rodada iniciada - timer deve estar rodando")})},handleStartGame:()=>{console.log("[handleStartGame] Função chamada"),s?(console.log("[handleStartGame] GeoJSON data disponível, iniciando jogo"),oe(!0),setTimeout(()=>{oe(!1),xe()},1e3)):console.log("[handleStartGame] GeoJSON data não disponível")},setDistanceCircle:me,updateGameState:J,gameMode:r}},Pu=s=>{const r="/geosantos/",o=s.startsWith("/")?s.slice(1):s,l=`${r}${o}`;return console.log("🌐 getAssetUrl:",{path:s,baseUrl:r,cleanPath:o,finalUrl:l}),l},Na=s=>{const r=Pu(`assets/images/${s}`);return console.log("🔗 getImageUrl (utils):",{filename:s,url:r}),r},E_=s=>Pu(`assets/audio/${s}`),Hr=s=>{const r=Pu(`assets/markerclick/${s}`);return console.log("🎭 getSpriteUrl:",{filename:s,url:r,fullPath:`assets/markerclick/${s}`}),r},ym=s=>{const r=Pu(`assets/marker_bandeira_lugar_correto/${s}`);return console.log("🏁 getBandeiraCorretaSpriteUrl:",{filename:s,url:r,fullPath:`assets/marker_bandeira_lugar_correto/${s}`}),r},ht={size:122,anchorX:25,anchorY:104,fps:25,frameDelay:1e3/25},yp={markerclick:4e3,bandeira_correta:4e3};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),P_=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,o,l)=>l?l.toUpperCase():o.toLowerCase()),_p=s=>{const r=P_(s);return r.charAt(0).toUpperCase()+r.slice(1)},_m=(...s)=>s.filter((r,o,l)=>!!r&&r.trim()!==""&&l.indexOf(r)===o).join(" ").trim(),T_=s=>{for(const r in s)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var M_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=k.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:u="",children:h,iconNode:p,..._},y)=>k.createElement("svg",{ref:y,...M_,width:r,height:r,stroke:s,strokeWidth:l?Number(o)*24/Number(r):o,className:_m("lucide",u),...!h&&!T_(_)&&{"aria-hidden":"true"},..._},[...p.map(([w,b])=>k.createElement(w,b)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=(s,r)=>{const o=k.forwardRef(({className:l,...u},h)=>k.createElement(L_,{ref:h,iconNode:r,className:_m(`lucide-${C_(_p(s))}`,`lucide-${s}`,l),...u}));return o.displayName=_p(s),o};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],j_=We("arrow-left",R_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],O_=We("arrow-right",A_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],N_=We("award",I_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],D_=We("book-open",z_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],B_=We("circle-alert",F_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$_=We("circle-check-big",U_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],H_=We("circle-question-mark",G_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],V_=We("circle-x",W_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],q_=We("compass",Z_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],J_=We("crown",K_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],Q_=We("flag",Y_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],ex=We("flame",X_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],nx=We("frown",tx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],ox=We("gift",rx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],sx=We("heart",ix);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],xm=We("house",ax);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],wm=We("landmark",lx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],cx=We("lightbulb",ux);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],bm=We("map-pin",dx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],fx=We("map",hx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],mx=We("medal",px);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],vx=We("navigation",gx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],_x=We("pause",yx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],wx=We("play",xx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Sx=We("plus",bx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ex=We("rotate-ccw",kx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Px=We("settings",Cx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Mx=We("share-2",Tx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Rx=We("sparkles",Lx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ax=We("star",jx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ix=We("target",Ox);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],zx=We("thumbs-up",Nx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Fx=We("trophy",Dx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}]],Ux=We("volume-1",Bx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Gx=We("volume-2",$x);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],Wx=We("volume-x",Hx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Zx=We("zap",Vx),bt=({name:s,size:r=24,color:o="var(--text-primary)",className:l=""})=>{const u={size:r,color:o,className:`game-icon ${l}`,style:{}};switch(s.toLowerCase()){case"target":return f.jsx("img",{src:"/geosantos//assets/images/16.svg",alt:"Target",width:r,height:r,className:u.className,style:u.style});case"clock":case"time":return f.jsx("img",{src:"/geosantos//assets/images/time.png",alt:"Clock",width:r,height:r,className:u.className,style:u.style});case"zap":case"lightning":case"bonus":return f.jsx(Zx,{...u});case"mappin":case"location":case"distance":return f.jsx(bm,{...u});case"volume2":case"volume-high":return f.jsx(Gx,{...u});case"volume1":case"volume-medium":return f.jsx(Ux,{...u});case"volumex":case"volume-mute":return f.jsx(Wx,{...u});case"trophy":case"winner":return f.jsx(Fx,{...u});case"share2":case"share":return f.jsx(Mx,{...u});case"play":case"start":return f.jsx(wx,{...u});case"pause":return f.jsx(_x,{...u});case"rotateccw":case"retry":case"restart":return f.jsx(Ex,{...u});case"arrowright":case"next":return f.jsx(O_,{...u});case"home":return f.jsx(xm,{...u});case"settings":return f.jsx(Px,{...u});case"star":return f.jsx(Ax,{...u});case"award":return f.jsx(N_,{...u});case"flag":return f.jsx(Q_,{...u});case"navigation":return f.jsx(vx,{...u});case"compass":return f.jsx(q_,{...u});case"map":return f.jsx(fx,{...u});case"landmark":return f.jsx(wm,{...u});case"sparkles":case"incredible":return f.jsx(Rx,{...u});case"thumbsup":case"good":return f.jsx(zx,{...u});case"helpcircle":case"almost":return f.jsx(H_,{...u});case"frown":case"ops":return f.jsx(nx,{...u});case"checkcircle":case"perfect":return f.jsx($_,{...u});case"xcircle":case"wrong":return f.jsx(V_,{...u});case"alertcircle":case"warning":return f.jsx(B_,{...u});case"heart":return f.jsx(sx,{...u});case"flame":case"fire":case"streak":return f.jsx(ex,{...u});case"crown":return f.jsx(J_,{...u});case"medal":return f.jsx(mx,{...u});case"gift":return f.jsx(ox,{...u});case"lightbulb":case"tip":return f.jsx(cx,{...u});default:return f.jsx(Ix,{...u})}},Ld=({size:s,color:r})=>f.jsx(bt,{name:"target",size:s,color:r}),Sm=({size:s,color:r})=>f.jsx(bt,{name:"clock",size:s,color:r}),km=({size:s,color:r})=>f.jsx(bt,{name:"zap",size:s,color:r}),qx=({size:s,color:r})=>f.jsx(bt,{name:"mappin",size:s,color:r}),Zd=({size:s,color:r})=>f.jsx(bt,{name:"trophy",size:s,color:r}),Kx=({size:s,color:r})=>f.jsx(bt,{name:"share",size:s,color:r}),Jx=({size:s,color:r})=>f.jsx(bt,{name:"play",size:s,color:r}),Yx=({size:s,color:r})=>f.jsx(bt,{name:"pause",size:s,color:r}),Qx=({size:s,color:r})=>f.jsx(bt,{name:"retry",size:s,color:r}),Xx=({size:s,color:r})=>f.jsx(bt,{name:"next",size:s,color:r}),ew=({size:s,color:r})=>f.jsx(bt,{name:"volume2",size:s,color:r}),xp=({size:s,color:r})=>f.jsx(bt,{name:"volume1",size:s,color:r}),tw=({size:s,color:r})=>f.jsx(bt,{name:"volumex",size:s,color:r}),Em=({size:s,color:r})=>f.jsx(bt,{name:"x",size:s,color:r}),nw=({size:s,color:r})=>f.jsx(bt,{name:"check",size:s,color:r}),wp=({size:s,color:r})=>f.jsx(bt,{name:"refresh-cw",size:s,color:r}),md=({size:s,color:r})=>f.jsx(bt,{name:"medal",size:s,color:r}),rw=({size:s,color:r})=>f.jsx(bt,{name:"landmark",size:s,color:r}),ow=({size:s,color:r})=>f.jsx(bt,{name:"helpcircle",size:s,color:r}),iw=({isMuted:s,volume:r,onVolumeChange:o,onToggleMute:l})=>f.jsxs("div",{style:{position:"absolute",top:"clamp(10px, 2vw, 20px)",left:"clamp(10px, 2vw, 20px)",background:"var(--bg-secondary)",border:"none",color:"var(--text-primary)",padding:"clamp(8px, 1.5vw, 12px)",borderRadius:"2px",display:"flex",alignItems:"center",gap:"clamp(5px, 1vw, 10px)",zIndex:1e3,touchAction:"manipulation",boxShadow:"var(--shadow-md)"},children:[f.jsx("button",{onClick:l,style:{background:"none",border:"none",color:"white",cursor:"pointer",padding:"clamp(3px, 1vw, 5px)",display:"flex",alignItems:"center",touchAction:"manipulation"},children:s?f.jsx(tw,{size:24,color:"var(--text-primary)"}):r>.3?f.jsx(ew,{size:24,color:"var(--text-primary)"}):r>0?f.jsx(xp,{size:24,color:"var(--text-primary)"}):f.jsx(xp,{size:24,color:"var(--text-primary)"})}),f.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:s?0:r,onChange:o,style:{width:"clamp(60px, 15vw, 100px)",accentColor:"var(--accent-green)",touchAction:"manipulation"}})]}),sw=({variant:s="game",onClose:r})=>{const[o,l]=k.useState([]),[u,h]=k.useState(!1),[p,_]=k.useState(!1),y=async()=>{h(!0);try{const{data:T,error:P}=await nr.from("ranking").select("*").order("score",{ascending:!1}).limit(5);if(P){console.error("Erro ao buscar ranking:",P);return}l(T||[])}catch(T){console.error("Erro ao buscar ranking:",T)}finally{h(!1)}};k.useEffect(()=>{y()},[]);const w=T=>{switch(T){case 1:return"🥇";case 2:return"🥈";case 3:return"🥉";default:return"🏆"}},[b,C]=k.useState(!1);k.useEffect(()=>{const T=()=>{C(window.innerWidth<=768)};return T(),window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[]);const M=()=>{const T={fontFamily:"'LaCartoonerie', sans-serif",transition:"none",pointerEvents:"auto"};return s==="startScreen"?b?{...T,position:"relative",width:"100%",marginBottom:"20px",border:"4px solid var(--accent-yellow)",borderRadius:"12px",background:"rgba(30, 30, 30, 0.98)",maxHeight:"400px",overflow:"hidden"}:{...T,position:"fixed",bottom:"40px",left:"40px",zIndex:2002,minWidth:"340px",maxWidth:"400px",boxShadow:"var(--shadow-md)",border:"none",borderRadius:"4px",background:"var(--bg-secondary)"}:{...T,position:"fixed",top:"20px",left:"20px",zIndex:1001}};return f.jsx("div",{style:M(),children:f.jsxs("div",{className:"ranking-container",style:{background:s==="startScreen"?"transparent":"var(--bg-secondary)",border:"none",borderRadius:s==="startScreen"?"0":"4px",boxShadow:s==="startScreen"?"none":"var(--shadow-md)",overflow:"hidden",minWidth:p?s==="startScreen"?b?"100%":"340px":"280px":s==="startScreen"?b?"100%":"340px":"200px",maxWidth:p?s==="startScreen"?b?"100%":"400px":"320px":s==="startScreen"?b?"100%":"400px":"220px"},children:[f.jsxs("div",{className:"ranking-header",onClick:()=>_(!p),style:{background:s==="startScreen"?"var(--bg-secondary)":"var(--accent-blue)",color:"var(--text-primary)",padding:s==="startScreen"?b?"12px 16px":"16px 24px":"8px 12px",cursor:"pointer",display:"flex",flexDirection:s==="startScreen"?"column":"row",justifyContent:"center",alignItems:"center",fontWeight:"bold",fontSize:s==="startScreen"?b?"1.3rem":"1.7rem":"1.1rem",textShadow:"none",borderTopLeftRadius:s==="startScreen"?"4px":"0",borderTopRightRadius:s==="startScreen"?"4px":"0",letterSpacing:"1px",boxShadow:s==="startScreen"?"var(--shadow-md)":"none",border:"none"},children:[f.jsx("span",{style:{fontSize:s==="startScreen"?b?"1.5rem":"2.1rem":"1.2rem",marginBottom:s==="startScreen"?"2px":0,textAlign:"center",width:"100%",fontFamily:"'LaCartoonerie', sans-serif"},children:"🏆 RANKING GERAL"}),f.jsx("button",{onClick:T=>{T.stopPropagation(),s==="startScreen"&&r?r():_(!p)},style:{background:"none",border:"none",color:"var(--text-primary)",cursor:"pointer",fontSize:s==="startScreen"?"1.5rem":"1.2rem",padding:"0",width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:s==="startScreen"?"12px":"8px",right:s==="startScreen"?"16px":"8px",zIndex:10},"aria-label":s==="startScreen"?"Fechar ranking":"Expandir/Recolher ranking",children:"✕"})]}),f.jsx("div",{style:{padding:s==="startScreen"?"18px 18px 12px 18px":"8px",background:s==="startScreen"?"rgba(255,255,255,0.08)":"var(--bg-primary)",maxHeight:p?s==="startScreen"?b?"300px":"520px":"400px":s==="startScreen"?b?"200px":"320px":"200px",overflowY:"auto",fontSize:s==="startScreen"?b?"1rem":"1.25rem":"0.9rem",color:"var(--text-primary)"},children:u?f.jsx("div",{style:{textAlign:"center",padding:"20px",color:"var(--text-secondary)",fontSize:"1rem"},children:"Carregando..."}):o.length===0?f.jsx("div",{style:{textAlign:"center",padding:"20px",color:"var(--text-secondary)",fontSize:"1rem"},children:"Nenhum jogador ainda"}):f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:o.map((T,P)=>f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",background:P===0?"rgba(16, 185, 129, 0.1)":P===1?"rgba(192, 192, 192, 0.1)":P===2?"rgba(205, 127, 50, 0.1)":"transparent",border:P<3?"1px solid var(--accent-green)":"1px solid transparent",borderRadius:"4px",fontFamily:"'LaCartoonerie', sans-serif"},children:[f.jsx("span",{style:{fontSize:"1.1rem",minWidth:"20px",textAlign:"center"},children:w(P+1)}),f.jsx("div",{style:{flex:1,minWidth:0,overflow:"hidden",fontFamily:"'LaCartoonerie', sans-serif"},children:f.jsx("div",{style:{color:"var(--text-primary)",fontWeight:"bold",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"1rem",fontFamily:"'LaCartoonerie', sans-serif"},children:T.player_name})}),f.jsx("div",{style:{color:"var(--accent-green)",fontWeight:"bold",fontSize:"1rem",textAlign:"right",minWidth:"50px",fontFamily:"'LaCartoonerie', sans-serif"},children:T.score.toLocaleString()})]},T.id))})}),p&&f.jsxs("div",{style:{padding:"6px 8px",background:"var(--bg-secondary)",borderTop:"none",fontSize:"0.8rem",color:"var(--text-secondary)",textAlign:"center"},children:["Clique para ",p?"recolher":"expandir"]})]})})},gd={name:"",description:"",latitude:"",longitude:"",category:"",address:"",imageUrl:"",suggestedBy:"",email:"",reason:""},aw=new Eu.Icon({iconUrl:"https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/images/marker-icon.png",iconSize:[32,48],iconAnchor:[16,48],popupAnchor:[0,-48]}),Cm=({onClose:s})=>{const[r,o]=k.useState(gd),[l,u]=k.useState(!1),[h,p]=k.useState(null),[_,y]=k.useState(null),[w,b]=k.useState(null),C=j=>{o({...r,[j.target.name]:j.target.value})},M=j=>{b(j),o(z=>({...z,latitude:j.lat.toString(),longitude:j.lng.toString()}))},T=async j=>{j.preventDefault(),u(!0),p(null),y(null);try{if(!r.name||!r.latitude||!r.longitude){y("Preencha pelo menos nome, latitude e longitude!"),u(!1);return}const z=`
Nova sugestão de lugar famoso para o GeoSantos!

Dados do lugar:
- Nome: ${r.name}
- Descrição: ${r.description}
- Categoria: ${r.category}
- Endereço: ${r.address}
- Coordenadas: ${r.latitude}, ${r.longitude}
- URL da imagem: ${r.imageUrl}

Dados de quem sugeriu:
- Nome: ${r.suggestedBy}
- Email: ${r.email}
- Motivo da sugestão: ${r.reason}

---
Enviado automaticamente pelo formulário de sugestões do GeoSantos
      `,Z=`mailto:heric.moura@unifesp.br?subject=Sugestão de lugar famoso: ${r.name}&body=${encodeURIComponent(z)}`;window.open(Z,"_blank"),p("Sugestão enviada com sucesso! Obrigado por contribuir com o GeoSantos!"),o(gd),b(null),setTimeout(()=>{s()},3e3)}catch(z){y("Erro inesperado: "+z.message)}finally{u(!1)}},P=()=>{o(gd),b(null),p(null),y(null),s()};return r.latitude&&parseFloat(r.latitude),r.longitude&&parseFloat(r.longitude),f.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px",boxSizing:"border-box"},children:f.jsxs("div",{style:{maxWidth:1200,width:"100%",maxHeight:"90vh",background:"var(--bg-secondary)",border:"4px solid var(--accent-blue)",borderRadius:"var(--radius-lg)",boxShadow:"var(--shadow-xl)",padding:32,fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-primary)",display:"flex",flexDirection:"row",gap:32,flexWrap:"wrap",overflowY:"auto",position:"relative"},children:[f.jsxs("div",{style:{flex:"1 1 400px",minWidth:320,maxWidth:600,display:"flex",flexDirection:"column",gap:0},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:24,gap:16},children:[f.jsxs("button",{onClick:s,style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",background:"var(--bg-accent)",border:"none",borderRadius:"4px",color:"var(--text-primary)",cursor:"pointer",fontFamily:"'LaCartoonerie', sans-serif",fontSize:"0.9rem",fontWeight:"bold",textTransform:"uppercase",transition:"all 0.2s ease",boxShadow:"2px 2px 0 #222"},onMouseEnter:j=>{j.currentTarget.style.background="var(--accent-blue)",j.currentTarget.style.color="var(--bg-primary)",j.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:j=>{j.currentTarget.style.background="var(--bg-accent)",j.currentTarget.style.color="var(--text-primary)",j.currentTarget.style.transform="translateY(0)"},children:[f.jsx(j_,{size:16}),"Voltar"]}),f.jsx("h1",{style:{fontFamily:"'LaCartoonerie', sans-serif",color:"var(--accent-green)",fontSize:"1.3rem",textAlign:"center",textTransform:"uppercase",fontWeight:"bold",letterSpacing:"1px",textShadow:"2px 2px 0 #222",margin:0,flex:1},children:"Sugerir Novo Lugar"}),f.jsx("p",{style:{fontSize:"1rem",color:"var(--text-secondary)",textAlign:"center",fontFamily:"'LaCartoonerie', sans-serif",lineHeight:1.5,margin:"16px 0 0 0",maxWidth:"600px"},children:"Conhece um lugar interessante em Santos que deveria estar no jogo? Sugira novos pontos turísticos, locais históricos ou lugares especiais para que outros jogadores possam descobrir!"}),f.jsx("div",{style:{width:"80px"}})]}),f.jsx("div",{style:{width:"100%",height:300,marginBottom:16,border:"2px solid var(--text-primary)",borderRadius:"var(--radius-md)",boxShadow:"var(--shadow-md)",overflow:"hidden"},children:f.jsxs(ks,{center:w?[w.lat,w.lng]:[-23.9676,-46.3287],zoom:13,style:{width:"100%",height:"100%"},scrollWheelZoom:!0,children:[f.jsx(Cs,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© OpenStreetMap contributors"}),f.jsx(Vd,{onClick:M}),w&&f.jsx(Es,{position:w,icon:aw})]})}),f.jsxs("form",{onSubmit:T,style:{display:"flex",flexDirection:"column",gap:16},children:[f.jsx("input",{name:"name",value:r.name,onChange:C,placeholder:"Nome do lugar",style:Un,required:!0}),f.jsx("textarea",{name:"description",value:r.description,onChange:C,placeholder:"Descrição do lugar",style:{...Un,minHeight:60}}),f.jsx("input",{name:"latitude",value:r.latitude,onChange:C,placeholder:"Latitude (clique no mapa)",style:Un,type:"number",step:"any",required:!0}),f.jsx("input",{name:"longitude",value:r.longitude,onChange:C,placeholder:"Longitude (clique no mapa)",style:Un,type:"number",step:"any",required:!0}),f.jsx("input",{name:"category",value:r.category,onChange:C,placeholder:"Categoria (ex: Turístico, Histórico, Cultural)",style:Un}),f.jsx("input",{name:"address",value:r.address,onChange:C,placeholder:"Endereço completo",style:Un}),f.jsx("input",{name:"imageUrl",value:r.imageUrl,onChange:C,placeholder:"URL da imagem (opcional)",style:Un}),f.jsxs("div",{style:{borderTop:"2px solid var(--accent-blue)",paddingTop:20,marginTop:16,borderRadius:"var(--radius-sm)"},children:[f.jsx("input",{name:"suggestedBy",value:r.suggestedBy,onChange:C,placeholder:"Seu nome",style:Un,required:!0}),f.jsx("input",{name:"email",value:r.email,onChange:C,placeholder:"Seu email",style:Un,type:"email",required:!0}),f.jsx("textarea",{name:"reason",value:r.reason,onChange:C,placeholder:"Por que você sugere este lugar? (opcional)",style:{...Un,minHeight:60}})]}),_&&f.jsx("div",{style:{color:"var(--accent-red)",fontSize:"0.9rem",fontFamily:"'LaCartoonerie', sans-serif",padding:"12px",background:"rgba(239, 68, 68, 0.1)",border:"2px solid var(--accent-red)",borderRadius:"var(--radius-md)",marginTop:8},children:_}),h&&f.jsx("div",{style:{color:"var(--accent-green)",fontSize:"0.9rem",fontFamily:"'LaCartoonerie', sans-serif",padding:"12px",background:"rgba(16, 185, 129, 0.1)",border:"2px solid var(--accent-green)",borderRadius:"var(--radius-md)",marginTop:8},children:h}),f.jsxs("div",{style:{display:"flex",gap:8},children:[f.jsx("button",{type:"submit",disabled:l,style:{...Un,background:"var(--accent-green)",color:"var(--bg-primary)",border:"3px solid #222",cursor:"pointer",fontWeight:"bold",fontSize:14,marginTop:8,flex:1,fontFamily:"'LaCartoonerie', sans-serif",textTransform:"uppercase",transition:"all 0.2s ease"},onMouseEnter:j=>{l||(j.currentTarget.style.transform="translateY(-2px)",j.currentTarget.style.boxShadow="4px 4px 0 #222")},onMouseLeave:j=>{l||(j.currentTarget.style.transform="translateY(0)",j.currentTarget.style.boxShadow="2px 2px 0 #222")},children:l?"Enviando...":"Enviar Sugestão"}),f.jsx("button",{type:"button",onClick:P,style:{...Un,background:"var(--bg-accent)",color:"var(--text-primary)",border:"2px solid var(--text-primary)",cursor:"pointer",fontWeight:"bold",fontSize:14,marginTop:8,fontFamily:"'LaCartoonerie', sans-serif",textTransform:"uppercase",transition:"all 0.2s ease"},onMouseEnter:j=>{j.currentTarget.style.background="var(--accent-red)",j.currentTarget.style.color="var(--bg-primary)",j.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:j=>{j.currentTarget.style.background="var(--bg-accent)",j.currentTarget.style.color="var(--text-primary)",j.currentTarget.style.transform="translateY(0)"},children:"Cancelar"})]})]})]}),f.jsxs("div",{style:{flex:"1 1 300px",minWidth:280,maxWidth:500,display:"flex",flexDirection:"column",gap:16,background:"var(--bg-accent)",border:"2px solid var(--accent-orange)",borderRadius:"var(--radius-md)",boxShadow:"var(--shadow-lg)",padding:24},children:[f.jsx("h2",{style:{fontSize:"1.2rem",color:"var(--accent-orange)",fontFamily:"'LaCartoonerie', sans-serif",textTransform:"uppercase",textAlign:"center",fontWeight:"bold",letterSpacing:"1px",marginBottom:8},children:"Como Sugerir"}),f.jsxs("div",{style:{fontSize:"1rem",color:"var(--text-primary)",fontFamily:"'LaCartoonerie', sans-serif",lineHeight:1.6},children:[f.jsxs("p",{style:{marginBottom:"16px"},children:[f.jsx("strong",{children:"1. Clique no mapa"})," para selecionar a localização exata do lugar"]}),f.jsxs("p",{style:{marginBottom:"16px"},children:[f.jsx("strong",{children:"2. Preencha os dados"})," do lugar (nome, descrição, categoria, etc.)"]}),f.jsxs("p",{style:{marginBottom:"16px"},children:[f.jsx("strong",{children:"3. Adicione seus dados"})," para que possamos entrar em contato"]}),f.jsxs("p",{style:{marginBottom:"16px"},children:[f.jsx("strong",{children:'4. Clique em "Enviar Sugestão"'})," para abrir seu cliente de email"]})]}),f.jsxs("div",{style:{background:"var(--bg-secondary)",border:"2px solid var(--accent-green)",borderRadius:"var(--radius-md)",padding:"16px",fontSize:"0.9rem",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-primary)"},children:[f.jsx("strong",{style:{color:"var(--accent-green)"},children:"💡 Dicas:"}),f.jsxs("ul",{style:{margin:"12px 0 0 20px",padding:0,lineHeight:1.5},children:[f.jsx("li",{children:"Lugares históricos e culturais são prioridade"}),f.jsx("li",{children:"Inclua uma imagem se possível"}),f.jsx("li",{children:"Descreva por que o lugar é importante"}),f.jsx("li",{children:"Verifique se as coordenadas estão corretas"})]})]}),f.jsxs("div",{style:{background:"var(--bg-secondary)",border:"2px solid var(--accent-orange)",borderRadius:"var(--radius-md)",padding:"16px",fontSize:"0.9rem",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-primary)"},children:[f.jsx("strong",{style:{color:"var(--accent-orange)"},children:"⚠️ Importante:"}),f.jsx("br",{}),"Sua sugestão será analisada pela equipe do GeoSantos. Lugares aprovados serão adicionados ao jogo em futuras atualizações."]})]})]})})},Un={fontFamily:"'LaCartoonerie', sans-serif",fontSize:"1rem",border:"2px solid var(--text-primary)",borderRadius:"var(--radius-md)",padding:"12px 16px",background:"var(--bg-primary)",color:"var(--text-primary)",boxShadow:"var(--shadow-md)",outline:"none",transition:"all 0.2s ease",width:"100%",boxSizing:"border-box"},lw="/geosantos/assets/background-BDwexB69.webm",uw=({onStartGame:s,onShowLeaderboard:r,highScore:o=0,totalGames:l=0,averageScore:u=0,onSelectMode:h})=>{const[p,_]=k.useState(0),[y,w]=k.useState(!1),[b,C]=k.useState(!1),[M,T]=k.useState(null),[P,j]=k.useState(!0),[z,Z]=k.useState(!1),[Y,G]=k.useState(!1),X=k.useRef(null),oe=k.useRef(null),se=k.useMemo(()=>[{id:"play_neighborhoods",label:"BAIRROS",icon:bm,action:()=>{console.log("[StartScreen] Modo Bairros selecionado"),console.log("[StartScreen] Chamando onSelectMode com neighborhoods"),h==null||h("neighborhoods"),console.log("[StartScreen] Chamando onStartGame"),s()},description:"Clique no mapa onde você acha que está o bairro. Quanto mais próximo da localização correta, mais pontos você ganha!"},{id:"play_famous_places",label:"LUGARES FAMOSOS",icon:rw,action:()=>{console.log("[StartScreen] Modo Lugares Famosos selecionado"),console.log("[StartScreen] Chamando onSelectMode com famous_places"),h==null||h("famous_places"),console.log("[StartScreen] Chamando onStartGame"),s()},description:"Localize pontos turísticos e lugares históricos de Santos. Teste seus conhecimentos sobre a cidade!"},{id:"leaderboard",label:"VER RANKING",icon:Zd,action:r,description:"Veja as maiores pontuações e descubra sua posição no ranking dos melhores jogadores."}],[s,r,h]),me=k.useMemo(()=>[{id:"wiki",label:"WIKI-GEOSANTOS",icon:D_,action:()=>{window.location.href="/geosantos/lugares-famosos"},description:"Explore informações e curiosidades sobre os lugares do jogo.",as:bs,to:"/lugares-famosos"},{id:"suggest_place",label:"SUGERIR NOVO LOCAL",icon:Sx,action:()=>{Z(!0)},description:"Sugira novos lugares para serem adicionados ao jogo.",as:"button"},{id:"controls",label:"CONTROLES",icon:()=>f.jsx("span",{style:{fontSize:"16px"},children:"🎮"}),action:()=>{},description:"Veja os controles do mapa.",as:"button",onMouseEnter:()=>G(!0),onMouseLeave:()=>G(!1)}],[]),K=k.useCallback(ne=>{var ce,he,fe,Ce;const Re=se.length+me.length;if(ne.key==="ArrowUp")ne.preventDefault(),_(V=>V>0?V-1:Re-1);else if(ne.key==="ArrowDown")ne.preventDefault(),_(V=>V<Re-1?V+1:0);else if(ne.key==="Enter"||ne.key===" ")if(ne.preventDefault(),p<se.length)(he=(ce=se[p]).action)==null||he.call(ce);else{const V=p-se.length;(Ce=(fe=me[V]).action)==null||Ce.call(fe)}},[se,me,p]),J=k.useCallback(()=>{const ne=X.current,Re=oe.current;if(ne&&Re&&ne.videoWidth>0&&ne.videoHeight>0){Re.width=ne.videoWidth,Re.height=ne.videoHeight;const ce=Re.getContext("2d");if(ce){ce.drawImage(ne,0,0,Re.width,Re.height);const he=Re.toDataURL("image/jpeg",.8);T(he)}}},[]),xe=k.useCallback(()=>{J(),w(!0)},[J]),ve=k.useCallback(()=>{C(!0),console.warn("Erro ao carregar vídeo de background")},[]);return k.useEffect(()=>(document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)),[K]),k.useEffect(()=>{const ne=X.current;if(ne)return ne.addEventListener("loadeddata",xe),ne.addEventListener("error",ve),ne.addEventListener("canplay",J),()=>{ne.removeEventListener("loadeddata",xe),ne.removeEventListener("error",ve),ne.removeEventListener("canplay",J)}},[xe,ve,J]),f.jsxs(f.Fragment,{children:[f.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",overflow:"hidden",zIndex:0},children:[f.jsx("canvas",{ref:oe,style:{position:"absolute",top:"-9999px",left:"-9999px",width:"1px",height:"1px"}}),M&&f.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100vw",height:"100vh",backgroundImage:`url(${M})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",opacity:y&&!b?0:1,transition:"opacity 0.5s ease-in-out",zIndex:1}}),f.jsxs("video",{ref:X,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,style:{width:"100vw",height:"100vh",objectFit:"cover",position:"absolute",top:0,left:0,opacity:y&&!b?1:0,transition:"opacity 0.5s ease-in-out",zIndex:2},children:[f.jsx("source",{src:lw,type:"video/webm"}),"Seu navegador não suporta vídeo em background."]})]}),f.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:4,padding:"20px",boxSizing:"border-box"},children:[f.jsx("div",{style:{textAlign:"center",marginBottom:"10px"},children:f.jsxs("h1",{style:{fontSize:"clamp(6.5rem, 26vw, 12rem)",fontFamily:"'LaCartoonerie', sans-serif",margin:"0",animation:"titleFloat 5s ease-in-out infinite",filter:"drop-shadow(3px 3px 0px #fff) drop-shadow(-3px -3px 0px #fff) drop-shadow(3px -3px 0px #fff) drop-shadow(-3px 3px 0px #fff)",fontWeight:"bold",lineHeight:1.2},children:[f.jsx("span",{style:{color:"#22c55e"},children:"Geo"}),f.jsx("span",{style:{color:"#3b82f6"},children:"Santos"})]})}),(o>0||l>0)&&f.jsxs("div",{style:{display:"flex",gap:"20px",flexWrap:"wrap",justifyContent:"center",marginBottom:"-50px"},children:[o>0&&f.jsxs("div",{style:{background:"var(--bg-secondary)",border:"2px solid var(--accent-green)",borderRadius:"4px",padding:"12px 16px",textAlign:"center",boxShadow:"var(--shadow-md)"},children:[f.jsx("div",{style:{fontSize:"clamp(0.8rem, 2vw, 1rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-secondary)",marginBottom:"4px"},children:"MELHOR PONTUAÇÃO"}),f.jsx("div",{style:{fontSize:"clamp(1.2rem, 3vw, 1.8rem)",fontFamily:"'VT323', monospace",color:"var(--accent-green)",fontWeight:"bold"},children:o.toLocaleString()})]}),l>0&&f.jsxs("div",{style:{background:"var(--bg-secondary)",border:"2px solid var(--accent-blue)",borderRadius:"4px",padding:"12px 16px",textAlign:"center",boxShadow:"var(--shadow-md)"},children:[f.jsx("div",{style:{fontSize:"clamp(0.8rem, 2vw, 1rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-secondary)",marginBottom:"4px"},children:"JOGOS JOGADOS"}),f.jsx("div",{style:{fontSize:"clamp(1.2rem, 3vw, 1.8rem)",fontFamily:"'VT323', monospace",color:"var(--accent-blue)",fontWeight:"bold"},children:l})]}),u>0&&f.jsxs("div",{style:{background:"var(--bg-secondary)",border:"2px solid var(--accent-orange)",borderRadius:"4px",padding:"12px 16px",textAlign:"center",boxShadow:"var(--shadow-md)"},children:[f.jsx("div",{style:{fontSize:"clamp(0.8rem, 2vw, 1rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-secondary)",marginBottom:"4px"},children:"MÉDIA"}),f.jsx("div",{style:{fontSize:"clamp(1.2rem, 3vw, 1.8rem)",fontFamily:"'VT323', monospace",color:"var(--accent-orange)",fontWeight:"bold"},children:Math.round(u)})]})]}),f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px",minWidth:"300px",alignItems:"center",marginTop:"-20px"},children:se.map((ne,Re)=>{const ce=ne.icon,he=Re===p,fe={display:"flex",alignItems:"center",justifyContent:"center",gap:"16px",padding:"16px 24px",background:he?"var(--accent-blue)":"var(--bg-secondary)",border:"none",borderRadius:"4px",color:he?"var(--bg-primary)":"var(--text-primary)",cursor:"pointer",transition:"all 0.2s ease",fontFamily:"'LaCartoonerie', sans-serif",fontWeight:400,textTransform:"uppercase",letterSpacing:"1px",boxShadow:he?"var(--shadow-lg)":"var(--shadow-md)",transform:he?"translate(-2px, -2px)":"translate(0, 0)",position:"relative",overflow:"hidden",opacity:1,textDecoration:"none",width:"100%"};return f.jsxs("button",{style:fe,onClick:ne.action,onMouseEnter:()=>_(Re),onMouseLeave:()=>_(0),children:[f.jsx(ce,{size:24,color:he?"var(--bg-primary)":"var(--text-primary)"}),f.jsx("div",{style:{fontSize:"clamp(0.9rem, 2.2vw, 1.1rem)",fontWeight:"bold",lineHeight:1.2},children:ne.label})]},ne.id)})}),f.jsx("div",{style:{display:"flex",gap:"12px",marginTop:"20px",justifyContent:"center"},children:me.map((ne,Re)=>{const ce=ne.icon,he=ne.as||"button",fe=p===se.length+Re,Ce={display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"8px 16px",background:fe?"var(--accent-blue)":"var(--bg-accent)",border:"none",borderRadius:"4px",color:fe?"var(--bg-primary)":"var(--text-primary)",cursor:"pointer",transition:"all 0.2s ease",fontFamily:"'LaCartoonerie', sans-serif",fontSize:"clamp(0.7rem, 1.5vw, 0.8rem)",fontWeight:400,textTransform:"uppercase",letterSpacing:"1px",boxShadow:fe?"var(--shadow-lg)":"var(--shadow-md)",textDecoration:"none",transform:fe?"translateY(-2px)":"translateY(0)"},V=f.jsxs(f.Fragment,{children:[f.jsx(ce,{size:16,color:"var(--text-primary)"}),ne.label]});return he===bs?f.jsx(bs,{style:Ce,to:ne.to,onMouseEnter:le=>{le.currentTarget.style.background="var(--accent-blue)",le.currentTarget.style.color="var(--bg-primary)",le.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:le=>{le.currentTarget.style.background="var(--bg-accent)",le.currentTarget.style.color="var(--text-primary)",le.currentTarget.style.transform="translateY(0)"},children:V},ne.id):f.jsx("button",{style:Ce,onClick:ne.action,onMouseEnter:le=>{var q;le.currentTarget.style.background="var(--accent-blue)",le.currentTarget.style.color="var(--bg-primary)",le.currentTarget.style.transform="translateY(-2px)",_(se.length+Re),(q=ne.onMouseEnter)==null||q.call(ne)},onMouseLeave:le=>{var q;p!==se.length+Re&&(le.currentTarget.style.background="var(--bg-accent)",le.currentTarget.style.color="var(--text-primary)",le.currentTarget.style.transform="translateY(0)"),(q=ne.onMouseLeave)==null||q.call(ne)},children:V},ne.id)})}),f.jsxs("div",{style:{textAlign:"center",maxWidth:"600px",padding:"20px",background:"var(--bg-secondary)",border:"none",borderRadius:"4px",boxShadow:"var(--shadow-md)",marginTop:"40px"},children:[f.jsx("h3",{style:{fontSize:"clamp(1rem, 2.5vw, 1.3rem)",margin:"0 0 12px 0",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--accent-yellow)",textTransform:"uppercase"},children:"COMO JOGAR"}),f.jsxs("div",{style:{fontSize:"clamp(1rem, 2vw, 1.1rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-primary)",lineHeight:1.4},children:[f.jsx("p",{style:{margin:"15px 0"},children:"• Clique no mapa onde você acha que está o bairro"}),f.jsx("p",{style:{margin:"15px 0"},children:"• Quanto mais próximo, mais pontos você ganha"}),f.jsx("p",{style:{margin:"15px 0"},children:"• Quanto mais rápido, mais bônus de tempo"}),f.jsx("p",{style:{margin:"15px 0"},children:"• Use as setas do teclado para navegar no menu"}),Y&&f.jsxs("div",{style:{position:"fixed",bottom:"80px",right:"20px",padding:"15px",background:"var(--bg-secondary)",borderRadius:"4px",border:"2px solid var(--accent-green)",boxShadow:"var(--shadow-xl)",animation:"fadeIn 0.3s ease-in",zIndex:1e3,minWidth:"280px"},children:[f.jsx("h4",{style:{fontSize:"clamp(0.9rem, 2vw, 1rem)",margin:"0 0 10px 0",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--accent-green)",textTransform:"uppercase",fontWeight:"bold",textAlign:"center"},children:"🎮 CONTROLES DO MAPA"}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"6px",fontSize:"clamp(0.75rem, 1.6vw, 0.85rem)"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[f.jsx("span",{style:{color:"var(--accent-green)",fontWeight:"bold",fontSize:"1.1em"},children:"Z"}),f.jsx("span",{children:"Zoom In"})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[f.jsx("span",{style:{color:"var(--accent-green)",fontWeight:"bold",fontSize:"1.1em"},children:"X"}),f.jsx("span",{children:"Zoom Out"})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[f.jsx("span",{style:{color:"var(--accent-blue)",fontWeight:"bold",fontSize:"1.1em"},children:"↑"}),f.jsx("span",{children:"Mover ↑"})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[f.jsx("span",{style:{color:"var(--accent-blue)",fontWeight:"bold",fontSize:"1.1em"},children:"↓"}),f.jsx("span",{children:"Mover ↓"})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[f.jsx("span",{style:{color:"var(--accent-blue)",fontWeight:"bold",fontSize:"1.1em"},children:"←"}),f.jsx("span",{children:"Mover ←"})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[f.jsx("span",{style:{color:"var(--accent-blue)",fontWeight:"bold",fontSize:"1.1em"},children:"→"}),f.jsx("span",{children:"Mover →"})]})]})]})]})]}),f.jsx("div",{style:{textAlign:"center",fontSize:"clamp(1rem, 2.5vw, 1.3rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"#000000",marginTop:"20px"},children:f.jsxs("p",{style:{margin:"4px 0",textShadow:"2px 2px 0px #fff, -2px -2px 0px #fff, 2px -2px 0px #fff, -2px 2px 0px #fff"},children:["Desenvolvido por"," ",f.jsx("a",{href:"https://hericmr.github.io/me/",target:"_blank",rel:"noopener noreferrer",style:{color:"#000000",textDecoration:"none",textShadow:"2px 2px 0px #fff, -2px -2px 0px #fff, 2px -2px 0px #fff, -2px 2px 0px #fff",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:ne=>{ne.currentTarget.style.color="#0066CC"},onMouseLeave:ne=>{ne.currentTarget.style.color="#000000"},children:"hericmr"})]})}),f.jsxs("div",{style:{position:"absolute",bottom:"20px",left:"20px",right:"20px",width:"calc(100% - 40px)",display:"flex",justifyContent:"space-between",alignItems:"flex-end",pointerEvents:"none"},children:[f.jsx("div",{style:{pointerEvents:"auto"},children:P&&f.jsx(sw,{variant:"startScreen",onClose:()=>j(!1)})}),f.jsxs("div",{style:{pointerEvents:"auto",width:"320px",padding:"20px",background:"var(--bg-secondary)",border:"none",borderRadius:"4px",boxShadow:"var(--shadow-md)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-primary)",transition:"opacity 0.3s ease, transform 0.3s ease",opacity:p>=0?1:0,transform:p>=0?"translateY(0)":"translateY(20px)",visibility:p>=0?"visible":"hidden"},children:[f.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"clamp(1.1rem, 2.5vw, 1.4rem)",color:"var(--accent-yellow)",textTransform:"uppercase"},children:p<se.length?se[p].label:me[p-se.length].label}),f.jsx("p",{style:{margin:0,fontSize:"clamp(1rem, 2vw, 1.1rem)",lineHeight:1.4},children:p<se.length?se[p].description:me[p-se.length].description})]})]})]}),z&&f.jsx(Cm,{onClose:()=>Z(!1)}),f.jsx("style",{children:`
          @keyframes titleFloat {
            0%, 100% {
              transform: translateY(0) rotate(-1deg);
            }
            50% {
              transform: translateY(-8px) rotate(1deg);
            }
          }
          
          @keyframes titleGlow {
            0%, 100% {
              filter: drop-shadow(0 0 5px var(--accent-yellow));
            }
            50% {
              filter: drop-shadow(0 0 15px var(--accent-yellow)) drop-shadow(0 0 25px var(--accent-yellow));
            }
          }
        `})]})},bp="geosantos_stats",cw=()=>{const[s,r]=k.useState({highScore:0,totalGames:0,totalScore:0,averageScore:0,bestTime:0,totalPlayTime:0,gamesWon:0,gamesLost:0,winRate:0});k.useEffect(()=>{const y=localStorage.getItem(bp);if(y)try{const w=JSON.parse(y);r(w)}catch(w){console.error("Erro ao carregar estatísticas:",w)}},[]);const o=y=>{try{localStorage.setItem(bp,JSON.stringify(y)),r(y)}catch(w){console.error("Erro ao salvar estatísticas:",w)}},l=async(y,w,b,C,M,T)=>{const P={...s};y>P.highScore&&(P.highScore=y),w>P.bestTime&&(P.bestTime=w),P.totalGames+=1,P.totalScore+=y,P.totalPlayTime+=w,b?P.gamesWon+=1:P.gamesLost+=1,P.averageScore=Math.round(P.totalScore/P.totalGames),P.winRate=Math.round(P.gamesWon/P.totalGames*100),o(P);try{return await vi.addScore({player_name:C,score:y,play_time:w,rounds_played:M,accuracy:T}),!0}catch(j){return console.error("Erro ao salvar no ranking:",j),!1}},u=async(y,w,b,C,M)=>{try{return await vi.addScore({player_name:y,score:w,play_time:b,rounds_played:C,accuracy:M}),!0}catch(T){return console.error("Erro ao salvar no ranking:",T),!1}},h=()=>{o({highScore:0,totalGames:0,totalScore:0,averageScore:0,bestTime:0,totalPlayTime:0,gamesWon:0,gamesLost:0,winRate:0})},p=()=>({highScore:s.highScore.toLocaleString(),totalGames:s.totalGames.toLocaleString(),averageScore:s.averageScore.toLocaleString(),bestTime:_(s.bestTime),totalPlayTime:_(s.totalPlayTime),gamesWon:s.gamesWon.toLocaleString(),gamesLost:s.gamesLost.toLocaleString(),winRate:`${s.winRate}%`}),_=y=>{const w=Math.floor(y/60),b=y%60;return`${w.toString().padStart(2,"0")}:${b.toString().padStart(2,"0")}`};return{stats:s,addGameResult:l,saveToRanking:u,resetStats:h,getFormattedStats:p}},Sp="geosantos_player_name",Pm=()=>{const[s,r]=k.useState("");return k.useEffect(()=>{const u=localStorage.getItem(Sp);u&&r(u)},[]),{playerName:s,savePlayerName:u=>{const h=u.trim();h&&(localStorage.setItem(Sp,h),r(h))},initializePlayerName:()=>s||"Seu nome"}},dw=({isOpen:s,onClose:r,currentPlayerScore:o,currentPlayerName:l})=>{const[u,h]=k.useState([]),[p,_]=k.useState(!0),[y,w]=k.useState(null),[b,C]=k.useState(null),M=async()=>{_(!0),w(null);try{const P=await vi.getTopPlayers(20);if(h(P),l&&o){const j=await vi.getPlayerPosition(l,o);C(j)}}catch(P){w("Erro ao carregar ranking"),console.error("Erro ao carregar ranking:",P)}finally{_(!1)}};k.useEffect(()=>{s&&M()},[s]);const T=P=>{switch(P){case 1:return f.jsx(md,{size:20,color:"#FFD700"});case 2:return f.jsx(md,{size:20,color:"#C0C0C0"});case 3:return f.jsx(md,{size:20,color:"#CD7F32"});default:return f.jsxs("span",{style:{fontSize:"1.2rem",fontWeight:"bold"},children:["#",P]})}};return s?f.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10001,padding:"20px",boxSizing:"border-box"},children:f.jsxs("div",{style:{background:"var(--bg-secondary)",border:"none",borderRadius:"4px",padding:"24px",maxWidth:"800px",width:"100%",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:"var(--shadow-xl)",position:"relative",animation:"modalSlideIn 0.3s ease-out"},children:[f.jsx("style",{children:`
            @keyframes modalSlideIn {
              0% {
                transform: scale(0.8) translateY(-20px);
                opacity: 0;
              }
              100% {
                transform: scale(1) translateY(0);
                opacity: 1;
              }
            }
            
            @keyframes pulse {
              0%, 100% { opacity: 1; }
              50% { opacity: 0.7; }
            }
            
            .loading { animation: pulse 1.5s ease-in-out infinite; }
          `}),f.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px",borderBottom:"none",paddingBottom:"12px"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[f.jsx(Zd,{size:24,color:"var(--accent-yellow)"}),f.jsx("h2",{style:{fontSize:"clamp(1.2rem, 3vw, 1.5rem)",margin:0,fontFamily:"'LaCartoonerie', sans-serif",color:"var(--accent-green)",textTransform:"uppercase"},children:"RANKING GLOBAL"})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx("button",{onClick:M,disabled:p,style:{background:"none",border:"none",cursor:p?"not-allowed":"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",opacity:p?.5:1},children:f.jsx(wp,{size:20,color:"var(--text-primary)"})}),f.jsx("button",{onClick:r,style:{background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsx(Em,{size:20,color:"var(--text-primary)"})})]})]}),o&&l&&b&&f.jsxs("div",{style:{background:"var(--accent-green)",border:"none",borderRadius:"4px",padding:"12px",marginBottom:"16px",textAlign:"center"},children:[f.jsx("h3",{style:{fontSize:"clamp(1rem, 2.5vw, 1.2rem)",margin:"0 0 8px 0",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-primary)",textTransform:"uppercase"},children:"SUA PONTUAÇÃO"}),f.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"16px",flexWrap:"wrap"},children:[f.jsxs("div",{style:{fontSize:"clamp(1.2rem, 3vw, 1.8rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-primary)",fontWeight:"bold"},children:[o.toLocaleString()," pts"]}),f.jsxs("div",{style:{fontSize:"clamp(1rem, 2.5vw, 1.3rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-primary)"},children:["Posição #",b]})]})]}),f.jsx("div",{style:{flex:1,overflow:"hidden",display:"flex",flexDirection:"column"},children:p?f.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"40px",fontSize:"clamp(1rem, 2.5vw, 1.2rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-secondary)"},children:[f.jsx(wp,{size:24,color:"var(--text-secondary)"}),"Carregando ranking..."]}):y?f.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"40px",fontSize:"clamp(1rem, 2.5vw, 1.2rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--accent-red)",textAlign:"center"},children:y}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"60px 1fr 120px 100px",gap:"8px",padding:"12px",background:"var(--bg-primary)",border:"none",borderRadius:"4px",marginBottom:"8px",fontFamily:"'LaCartoonerie', sans-serif",fontSize:"clamp(0.7rem, 2vw, 0.9rem)",color:"var(--text-primary)",textTransform:"uppercase"},children:[f.jsx("div",{children:"POS"}),f.jsx("div",{children:"JOGADOR"}),f.jsx("div",{children:"PONTOS"}),f.jsx("div",{children:"RODADAS"})]}),f.jsx("div",{style:{flex:1,overflow:"auto",display:"flex",flexDirection:"column",gap:"4px"},children:u.length===0?f.jsx("div",{style:{textAlign:"center",padding:"40px",fontSize:"clamp(1rem, 2.5vw, 1.2rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-secondary)"},children:"Nenhum jogador ainda!"}):u.map((P,j)=>f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"60px 1fr 120px 100px",gap:"8px",padding:"8px 12px",background:j%2===0?"var(--bg-primary)":"var(--bg-secondary)",border:"none",borderRadius:"2px",alignItems:"center",fontFamily:"'LaCartoonerie', sans-serif",fontSize:"clamp(0.9rem, 2vw, 1.1rem)",color:"var(--text-primary)"},children:[f.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:T(j+1)}),f.jsx("div",{style:{fontWeight:"bold",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:P.player_name}),f.jsx("div",{style:{fontWeight:"bold",color:"var(--accent-green)"},children:P.score.toLocaleString()}),f.jsx("div",{children:P.rounds_played})]},P.id||j))})]})}),f.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"16px",paddingTop:"12px",borderTop:"none"},children:f.jsx("p",{style:{fontSize:"clamp(0.8rem, 2vw, 1rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-muted)",margin:0,textAlign:"center"},children:"Top 20 jogadores • Atualizado em tempo real"})})]})}):null},hw=({gameStarted:s,currentNeighborhood:r,globalTimeLeft:o,roundTimeLeft:l,roundNumber:u,roundInitialTime:h,score:p,onStartGame:_,getProgressBarColor:y,currentMode:w,onModeChange:b,currentFamousPlace:C})=>{const[M,T]=k.useState(window.innerWidth<=768),{stats:P}=cw(),[j,z]=k.useState(!1),{playerName:Z,initializePlayerName:Y}=Pm();return k.useEffect(()=>{const G=()=>{T(window.innerWidth<=768)};return window.addEventListener("resize",G),()=>window.removeEventListener("resize",G)},[]),f.jsxs("div",{style:{position:"fixed",bottom:0,left:0,width:"100%",background:"var(--bg-secondary)",border:"none",borderBottom:"none",color:"var(--text-primary)",padding:s?"0":"clamp(10px, 2vw, 15px)",textAlign:"center",zIndex:1002,boxSizing:"border-box",boxShadow:"var(--shadow-md)"},children:[f.jsx("style",{children:`
          @keyframes pulseText {
            0% { transform: scale(1); }
            50% { transform: scale(1.03); }
            100% { transform: scale(1); }
          }

          @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
          }

          .game-title { animation: pulseText 1.5s infinite; }
          .game-description { animation: fadeIn 0.3s ease-out; }
          .start-button { animation: fadeIn 0.3s ease-out 0.2s both; }
        `}),s?f.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"column"},children:[f.jsxs("div",{style:{width:"100vw",height:M?"clamp(110px, 22vw, 130px)":"clamp(90px, 18vw, 110px)",background:"#2A2A2A",overflow:"hidden",position:"relative",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",marginLeft:"calc(-50vw + 50%)",marginRight:"calc(-50vw + 50%)",bottom:0},children:[f.jsx("div",{style:{width:`${o/h*100}%`,height:"100%",background:`linear-gradient(90deg, ${y(o,h)}, ${y(o,h)}CC)`,transition:"width 0.1s linear",position:"absolute",left:0,top:0,bottom:0,boxShadow:o<=3?"0 0 20px rgba(255, 0, 0, 0.3)":"0 0 15px rgba(255, 255, 255, 0.1)",animation:o<=3?"pulse 1s infinite":"none"}}),f.jsx("style",{children:`
                @keyframes pulse {
                  0% { opacity: 1; }
                  50% { opacity: 0.8; }
                  100% { opacity: 1; }
                }
              `}),f.jsx("div",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",padding:"0",zIndex:2,background:"linear-gradient(90deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 50%, rgba(255,255,255,0.1) 100%)"},children:f.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:[f.jsxs("div",{style:{position:"absolute",left:"clamp(15px, 3vw, 25px)",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[f.jsxs("span",{style:{fontSize:M?"clamp(0.7rem, 1.8vw, 0.8rem)":"clamp(1rem, 2.5vw, 1.2rem)",color:"#000000",fontWeight:600,textShadow:"1px 1px 2px rgba(255, 255, 255, 0.8)"},children:["Rodada ",u]}),f.jsxs("span",{style:{fontSize:M?"clamp(0.9rem, 2vw, 1rem)":"clamp(1.4rem, 3.5vw, 1.8rem)",color:"#000000",fontWeight:700,textShadow:"1px 1px 2px rgba(255, 255, 255, 0.8)",whiteSpace:"nowrap"},children:[Math.round(o*10)/10,"s"]})]}),f.jsx("span",{style:{color:"white",fontWeight:800,fontSize:"clamp(1.8rem, 4.5vw, 2.8rem)",textShadow:"2px 2px 4px rgba(0, 0, 0, 0.7)",letterSpacing:"1px",fontFamily:"'LaCartoonerie', sans-serif",lineHeight:1.2,textAlign:"center",maxWidth:"80%",textTransform:"uppercase"},children:w==="neighborhoods"?r.charAt(0).toUpperCase()+r.slice(1).toLowerCase():(C==null?void 0:C.name)||"NOME INDISPONÍVEL"})]})})]}),f.jsxs("div",{style:{width:"100%",padding:"6px 0",textAlign:"center",background:"rgba(20, 83, 45, 0.85)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"},children:[f.jsx("p",{style:{fontSize:"clamp(0.7rem, 1.8vw, 0.9rem)",fontFamily:"'LaCartoonerie', sans-serif",fontWeight:400,color:"#FFFFFF",lineHeight:1.4,margin:0,textTransform:"uppercase",letterSpacing:"0.5px",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.5)",animation:"glowText 2s ease-in-out infinite alternate"},children:w==="neighborhoods"?"Encontre o bairro no mapa!":w==="famous_places"?"Encontre o lugar famoso!":"Quão bem você conhece a sua cidade?"}),f.jsx("style",{children:`
                @keyframes glowText {
                  0% { text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5), 0 0 5px rgba(255, 255, 255, 0.3); }
                  100% { text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5), 0 0 10px rgba(255, 255, 255, 0.6); }
                }
              `})]})]}):f.jsx(uw,{onStartGame:_,onShowLeaderboard:()=>z(!0),highScore:P.highScore,totalGames:P.totalGames,averageScore:P.averageScore,onSelectMode:b}),f.jsx(dw,{isOpen:j,onClose:()=>z(!1),currentPlayerScore:p,currentPlayerName:Z||Y()})]})},fi={buttonContainer:{display:"flex",gap:"clamp(8px, 2vw, 12px)",justifyContent:"center",marginTop:"clamp(12px, 3vw, 20px)",flexWrap:"nowrap",width:"100%"},button:s=>({padding:"clamp(8px, 2vw, 12px) clamp(16px, 3vw, 24px)",fontSize:"clamp(0.9rem, 2.2vw, 1.1rem)",background:s==="pause"?"var(--accent-orange)":s==="resume"||s==="next"?"var(--accent-green)":"var(--accent-red)",color:s==="pause"?"#000000":"#ffffff",border:"none",borderRadius:"2px",cursor:"pointer",transition:"all 0.1s steps(1)",fontWeight:400,fontFamily:"'Press Start 2P', monospace",boxShadow:"var(--shadow-md)",flex:s==="pause"||s==="resume"?"0.4":"0.6",maxWidth:s==="retry"?"100%":"none",position:"relative",overflow:"hidden",textTransform:"uppercase",letterSpacing:"1px",minWidth:s==="pause"||s==="resume"?"100px":"120px",zIndex:1,"&:hover":{transform:"translate(-1px, -1px)",boxShadow:"var(--shadow-lg)"},"&:active":{transform:"translate(1px, 1px)",boxShadow:"var(--shadow-sm)"}}),progressBar:(s,r)=>({position:"absolute",top:0,left:0,width:`${s}%`,height:"100%",background:r,transition:"width 0.1s linear",zIndex:1,transform:"translateX(0)",transformOrigin:"left"})},Tm=({gameOver:s,onPauseGame:r,onResumeGame:o,onNextRound:l,feedbackProgress:u,currentMode:h="neighborhoods",isPaused:p=!1})=>f.jsxs("div",{style:fi.buttonContainer,children:[!s&&f.jsx(f.Fragment,{children:p?f.jsxs("button",{onClick:()=>o==null?void 0:o(),className:"pixel-btn pixel-btn--success",style:fi.button("resume"),children:[f.jsx(Jx,{size:16,color:"var(--text-primary)"}),"Retomar"]}):f.jsxs("button",{onClick:r,className:"pixel-btn pixel-btn--warning",style:fi.button("pause"),children:[f.jsx(Yx,{size:16,color:"var(--text-primary)"}),"Pausar"]})}),!s&&f.jsxs("button",{onClick:l,className:"pixel-btn pixel-btn--success",style:fi.button("next"),children:[f.jsx("div",{style:fi.progressBar(u,"rgba(50, 205, 50, 0.3)")}),f.jsx("div",{style:fi.progressBar(100-u,"rgba(255, 0, 0, 0.5)")}),f.jsxs("span",{style:{position:"relative",zIndex:2,display:"flex",alignItems:"center",gap:"4px"},children:[f.jsx(Xx,{size:16,color:"var(--text-primary)"}),"Próximo"]})]}),s&&f.jsx("button",{onClick:l,className:"pixel-btn pixel-btn--danger",style:fi.button("retry"),children:f.jsxs("span",{style:{position:"relative",zIndex:2,display:"flex",alignItems:"center",gap:"4px"},children:[f.jsx(Qx,{size:16,color:"var(--text-primary)"}),"Tente Outra Vez"]})})]}),Aa={container:(s,r,o)=>({position:"fixed",top:s||r?"auto":o.top,bottom:r||s?0:"auto",left:s||r?0:o.left,right:r?0:"auto",transform:"none",width:r?"100%":"clamp(320px, 25vw, 450px)",maxWidth:s?"100%":"450px",background:"var(--bg-secondary)",color:"var(--text-primary)",zIndex:9999,padding:"clamp(16px, 3vw, 24px)",borderRadius:r?"4px 4px 0 0":"8px",boxShadow:"var(--shadow-xl)",border:"none",margin:"0",animation:s||r?"slideUp 0.3s ease-out":"slideInLeft 0.3s ease-out",maxHeight:r?"90vh":"85vh",overflowY:"auto",display:"flex",flexDirection:"column",gap:"clamp(12px, 2vw, 16px)",fontFamily:"'VT323', monospace",pointerEvents:"auto","@media (max-width: 1200px)":{width:"clamp(300px, 30vw, 400px)",maxWidth:"400px"},"@media (max-width: 768px)":{width:"100%",maxWidth:"100%"}}),contentContainer:{display:"flex",flexDirection:"column",alignItems:"center",gap:"clamp(12px, 2vw, 20px)",justifyContent:"center",flexWrap:"wrap"},scoreDisplay:{display:"flex",gap:"2px",alignItems:"center",justifyContent:"center",flexWrap:"wrap"},scoreValue:{fontSize:"clamp(1.4rem, 3.5vw, 1.8rem)",fontFamily:"'VT323', monospace",fontWeight:400,color:"var(--text-primary)",textShadow:"2px 2px 0px rgba(0, 0, 0, 0.8)"},scoreUnit:{fontSize:"clamp(0.9rem, 2.2vw, 1.1rem)",fontFamily:"'LaCartoonerie', sans-serif",fontWeight:400,marginLeft:"clamp(1px, 0.3vw, 2px)",opacity:.9,textTransform:"uppercase",letterSpacing:"1px"},timeBonus:{fontSize:"clamp(0.9rem, 2.2vw, 1.1rem)",fontFamily:"'LaCartoonerie', sans-serif",fontWeight:400,marginLeft:"clamp(4px, 1vw, 8px)",color:"#FFD700",display:"flex",alignItems:"center",gap:"2px",background:"rgba(255, 215, 0, 0.1)",padding:"2px 6px",borderRadius:"4px",border:"1px solid rgba(255, 215, 0, 0.2)",animation:"pulseText 1s infinite",textTransform:"uppercase",letterSpacing:"1px"},feedbackMessage:s=>({marginTop:"clamp(4px, 1vw, 8px)",color:"#FFD700",fontWeight:400,fontSize:"clamp(1rem, 2.5vw, 1.2rem)",textAlign:"center",fontFamily:"'LaCartoonerie', sans-serif",animation:s?"pulseText 1s infinite":"none",opacity:.95,background:"rgba(255, 215, 0, 0.1)",padding:"clamp(4px, 1vw, 8px)",borderRadius:"6px",border:"1px solid rgba(255, 215, 0, 0.2)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",textTransform:"uppercase",letterSpacing:"1px"}),buttonContainer:{display:"flex",gap:"clamp(8px, 2vw, 12px)",justifyContent:"center",marginTop:"clamp(12px, 3vw, 20px)",flexWrap:"nowrap",width:"100%"},button:s=>({padding:"clamp(8px, 2vw, 12px) clamp(16px, 3vw, 24px)",fontSize:"clamp(0.9rem, 2.2vw, 1.1rem)",background:s==="pause"?"var(--accent-orange)":s==="resume"||s==="next"?"var(--accent-green)":"var(--accent-red)",color:s==="pause"?"#000000":"#ffffff",border:"none",borderRadius:"2px",cursor:"pointer",transition:"all 0.1s steps(1)",fontWeight:400,fontFamily:"'Press Start 2P', monospace",boxShadow:"var(--shadow-md)",flex:s==="pause"||s==="resume"?"0.4":"0.6",maxWidth:s==="retry"?"100%":"none",position:"relative",overflow:"hidden",textTransform:"uppercase",letterSpacing:"1px",minWidth:s==="pause"||s==="resume"?"100px":"120px",zIndex:1,"&:hover":{transform:"translate(-1px, -1px)",boxShadow:"var(--shadow-lg)"},"&:active":{transform:"translate(1px, 1px)",boxShadow:"var(--shadow-sm)"}}),progressBar:(s,r)=>({position:"absolute",top:0,left:0,width:`${s}%`,height:"100%",background:r,transition:"width 0.1s linear",zIndex:1,transform:"translateX(0)",transformOrigin:"left"})},fw=({currentMode:s,currentNeighborhood:r,currentFamousPlace:o,isVisible:l})=>{var h;if(!l)return null;let u;if(s==="famous_places"&&o)u={description:o.description,icon:"landmark",category:((h=o.name)==null?void 0:h.toUpperCase())||"LUGAR FAMOSO"};else return null;return f.jsxs("div",{style:{background:"rgba(0, 0, 0, 0.85)",borderRadius:"12px",padding:"16px",margin:"12px 0 0 0",border:"2px solid rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",animation:"fadeInUp 0.5s ease-out"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",paddingBottom:"8px",borderBottom:"1px solid rgba(255, 255, 255, 0.2)"},children:[f.jsx(bt,{name:u.icon,size:20,color:"#FFD700"}),f.jsx("div",{style:{fontSize:"clamp(0.8rem, 2vw, 1rem)",color:"#FFD700",fontFamily:"'LaCartoonerie', sans-serif",fontWeight:400,textTransform:"uppercase",letterSpacing:"1px"},children:u.category})]}),f.jsx("div",{style:{fontSize:"clamp(0.9rem, 2.2vw, 1.1rem)",color:"#fff",fontFamily:"'LaCartoonerie', sans-serif",lineHeight:1.4,marginBottom:"12px",textAlign:"left"},children:u.description}),f.jsx("style",{children:`
          @keyframes fadeInUp {
            0% {
              opacity: 0;
              transform: translateY(20px);
            }
            100% {
              opacity: 1;
              transform: translateY(0);
            }
          }
        `})]})},kp=s=>s.split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()).join(" "),pw=({currentMode:s,currentNeighborhood:r,currentFamousPlace:o,displayedDistance:l,clickTime:u,isCorrectNeighborhood:h})=>f.jsx("div",{style:{fontSize:"clamp(0.9rem, 2.2vw, 1.1rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"#fff",opacity:.9,textAlign:"center",marginTop:"4px",lineHeight:1.4},children:h?f.jsxs(f.Fragment,{children:[s==="famous_places"?`Em ${u.toFixed(2)} seg você acertou ${(o==null?void 0:o.name)||"o lugar famoso"}!`:`Em ${u.toFixed(2)} seg você acertou na mosca o bairro `,s==="neighborhoods"&&f.jsx("span",{style:{color:"#32CD32",fontWeight:600},children:kp(r)}),s==="neighborhoods"&&"!"]}):f.jsxs(f.Fragment,{children:[s==="famous_places"?`Em ${u.toFixed(2)} seg você clicou a ${Math.round(l)}m de ${(o==null?void 0:o.name)||"o lugar famoso"}`:`Em ${u.toFixed(2)} seg você clicou a ${Math.round(l)}m do bairro `,s==="neighborhoods"&&f.jsx("span",{style:{color:"#32CD32",fontWeight:600},children:kp(r)}),s==="neighborhoods"&&"!"]})}),mw=({icon:s,value:r,unit:o,timeBonus:l})=>{const u=p=>p>=3?"var(--accent-yellow)":p>=2?"var(--accent-green)":p>=1?"var(--accent-blue)":"var(--accent-yellow)",h=()=>{switch(s){case"target":return f.jsx(Ld,{size:24,color:"var(--accent-green)"});case"clock":return f.jsx(Sm,{size:24,color:"var(--accent-orange)"});default:return f.jsx(Ld,{size:24,color:"var(--accent-green)"})}};return f.jsxs("div",{style:Aa.scoreDisplay,children:[f.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginRight:"clamp(2px, 0.5vw, 4px)",opacity:.9},children:h()}),f.jsx("div",{style:Aa.scoreValue,children:Math.round(r)}),f.jsx("div",{style:Aa.scoreUnit,children:o}),l&&l>0&&f.jsxs("div",{style:{fontSize:"clamp(0.9rem, 2.2vw, 1.1rem)",fontFamily:"'VT323', monospace",fontWeight:400,marginLeft:"clamp(4px, 1vw, 8px)",color:u(l),display:"flex",alignItems:"center",gap:"2px",background:`rgba(${l>=2?"255, 215, 0":"0, 255, 125"}, 0.15)`,padding:"3px 8px",borderRadius:"2px",border:`2px solid rgba(${l>=2?"255, 215, 0":"0, 255, 125"}, 0.3)`,animation:"pulseText 1s infinite",boxShadow:"2px 2px 0px rgba(0, 0, 0, 0.8)"},children:[f.jsx(km,{size:16,color:"var(--accent-yellow)"})," +",l.toFixed(1),"s"]})]})},gw=(s,r,o=0)=>{const l=s/1e3;return s===0?{title:"ACERTO PERFEITO!",subtitle:"",icon:"checkcircle",color:"#FFD700",achievement:"BULLSEYE",streakBonus:o>=3?`${o} acertos seguidos!`:null}:l<.5?{title:"INCRÍVEL!",subtitle:"Você arrebentou no teste de mapas! Habilidade pura!",icon:"sparkles",color:"#FFA500",achievement:"NEAR_PERFECT",streakBonus:o>=2?`${o} acertos seguidos!`:null}:l<1?{title:"EXCELENTE!",subtitle:"Seu talento para mapas é fora de série! Que jogada!",icon:"sparkles",color:"#32CD32",achievement:"EXCELLENT",streakBonus:null}:l<2?{title:"MUITO BOM!",subtitle:"Você é um mestre dos mapas! Isso é que é saber jogar!",icon:"thumbsup",color:"#00CED1",achievement:"GOOD",streakBonus:null}:l<5?{title:"QUASE LÁ!",subtitle:"Continue assim, você está no caminho certo!",icon:"helpcircle",color:"#FFD700",achievement:"CLOSE",streakBonus:null}:{title:"OPS!",subtitle:"",icon:"frown",color:"#FF6B6B",achievement:"FAR",streakBonus:null}},vw=s=>s>=di.PERFECT?hi.PERFECT:s>=di.EXCELLENT?hi.EXCELLENT:s>=di.GREAT?hi.GREAT:s>=di.GOOD?hi.GOOD:s>=di.DECENT?hi.DECENT:s>=di.FAIR?hi.FAIR:s>=di.CLOSE?hi.CLOSE:0,yw=(s,r,o)=>{if(!s||o)return{top:"20px",left:"20px"};const l="20px",u=s.lat,h=window.innerHeight,_=(u- -24.1)/.8;return{top:`${Math.max(20,Math.min(h-200,_*h*.6))}px`,left:l}},_w=(s,r,o,l,u)=>{const h=performance.now();let p,_=!1;const y=w=>{if(_)return;const b=w-h,C=Math.min(b/o,1),M=C<.5?4*C*C*C:1-Math.pow(-2*C+2,3)/2,T=s+(r-s)*M;l(T),C<1&&!_?p=requestAnimationFrame(y):_||u()};return typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(()=>{_||(p=requestAnimationFrame(y))}):p=requestAnimationFrame(y),()=>{_=!0,p&&cancelAnimationFrame(p)}},xw=(s,r)=>s===0&&r>=2,ww=(s,r,o)=>vm(s,r,o),bw=({showFeedback:s,clickedPosition:r,arrowPath:o,clickTime:l,feedbackProgress:u,onNextRound:h,calculateDistance:p,calculateScore:_,getProgressBarColor:y,geoJsonData:w,gameOver:b,onPauseGame:C,onResumeGame:M,score:T,currentNeighborhood:P,currentMode:j="neighborhoods",currentFamousPlace:z,totalScore:Z=0,roundNumber:Y=1,consecutiveCorrect:G=0,bestStreak:X=0,isPaused:oe})=>{const[se,me]=k.useState(0),[K,J]=k.useState(0),[xe,ve]=k.useState(!1),[ne,Re]=k.useState(""),[ce,he]=k.useState({top:"50%",left:"50%"}),[fe,Ce]=k.useState(0),[V,le]=k.useState(!1),q=window.innerWidth<=768;k.useEffect(()=>{if(s&&r){const ae=o?p(r,o[1]):0,U=_(ae,l);ve(!0),me(ae),J(0),Re(ww(ae,l,G)),xw(ae,G)&&(le(!0),setTimeout(()=>le(!1),3e3));const ue=vw(U.total);Ce(ue);const de=_w(0,l,2e3,Le=>J(Le),()=>ve(!1));return()=>de()}},[s,r,o,l,_,p,G]),k.useEffect(()=>{if(r){const ae=yw(r,o,q);he(ae)}},[r,o,q]);const R=se===0,B=gw(se,l,G);return b?null:f.jsxs("div",{className:"feedback-panel-container",style:{...Aa.container(!1,q,ce),zIndex:10020,maxWidth:q?"95%":"360px",padding:"12px",borderRadius:"8px"},children:[r&&f.jsxs("div",{style:Aa.contentContainer,children:[f.jsx("div",{style:{textAlign:"center",marginBottom:"10px",padding:"8px",background:"transparent",borderRadius:"6px"},children:f.jsx("div",{style:{fontSize:"clamp(1rem, 2.5vw, 1.2rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"#32CD32",fontWeight:600,textTransform:"uppercase",letterSpacing:"1px"},children:(B==null?void 0:B.subtitle)||"Mandou bem demais! E foi super rápido também!"})}),f.jsx("div",{style:{textAlign:"center",marginBottom:"12px"},children:f.jsx(pw,{currentMode:j,currentNeighborhood:P,currentFamousPlace:z,displayedDistance:se,clickTime:l,isCorrectNeighborhood:R})}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginBottom:"10px",width:"100%"},children:[f.jsxs("div",{style:{textAlign:"center",padding:"10px",background:"var(--bg-primary)",borderRadius:"6px",lineHeight:"1.1"},children:[f.jsx(bt,{name:"target",size:22,color:"var(--accent-green)"}),f.jsxs("div",{style:{marginTop:"2px",fontSize:"clamp(1rem, 2.5vw, 1.3rem)",fontFamily:"'VT323', monospace",color:"var(--text-primary)",fontWeight:"bold"},children:[Math.round(T*.9)," pts"]})]}),f.jsxs("div",{style:{textAlign:"center",padding:"10px",background:"var(--bg-primary)",borderRadius:"6px",lineHeight:"1.1"},children:[f.jsx(bt,{name:"clock",size:22,color:"var(--accent-orange)"}),f.jsxs("div",{style:{marginTop:"2px",fontSize:"clamp(1rem, 2.5vw, 1.3rem)",fontFamily:"'VT323', monospace",color:"var(--text-primary)",fontWeight:"bold"},children:[Math.round(T*.1)," pts"]})]})]}),f.jsx("div",{style:{textAlign:"center",marginBottom:"14px",padding:"14px",background:"linear-gradient(135deg, #064d2e, #0a7b4b)",borderRadius:"8px",boxShadow:"0 3px 10px rgba(0,0,0,0.25)",width:"100%",lineHeight:"1.1"},children:f.jsxs("div",{style:{fontSize:"clamp(2rem, 5vw, 2.8rem)",fontFamily:"'VT323', monospace",color:"#fff",fontWeight:"bold",letterSpacing:"1px",textShadow:"1px 1px 4px rgba(0,0,0,0.5)"},children:[T," PTS"]})}),f.jsx(Tm,{gameOver:b,onPauseGame:C,onNextRound:()=>{w&&h(w)},feedbackProgress:u,currentMode:j,onResumeGame:M,isPaused:oe})]}),f.jsx(fw,{currentMode:j,currentNeighborhood:P,currentFamousPlace:z,isVisible:!0})]})},Sw=({geoJsonData:s,revealedNeighborhoods:r,currentNeighborhood:o,onMapClick:l,geoJsonRef:u})=>{const h=k.useRef(new Map);return f.jsx(d_,{data:s,style:p=>fd(p,r,o),eventHandlers:{click:p=>{Lt.DomEvent.stopPropagation(p),l(p.latlng)},mouseover:p=>{var w;const _=p.target,y=_.feature;if(h.current.has(_)&&(clearTimeout(h.current.get(_)),h.current.delete(_)),y&&r.has((w=y.properties)==null?void 0:w.NOME)){const b=setTimeout(()=>{_.setStyle({...fd(y,r,o),fillOpacity:.7}),h.current.delete(_)},1e3);h.current.set(_,b)}},mouseout:p=>{const _=p.target,y=_.feature;h.current.has(_)&&(clearTimeout(h.current.get(_)),h.current.delete(_)),y&&_.setStyle(fd(y,r,o))}},ref:u})},kw=({map:s,distanceCircle:r,onAnimationComplete:o})=>{const l=k.useRef(null),u=k.useRef(!1);return k.useEffect(()=>{if(!s||!r||u.current)return;u.current=!0;const h=s.getPanes().overlayPane.querySelector("svg");if(h&&!h.querySelector("#whiteGradient")){const T=document.createElementNS("http://www.w3.org/2000/svg","defs");T.innerHTML=`
        <radialGradient id="whiteGradient" cx="50%" cy="50%" r="50%">
          <stop offset="0%" stop-color="white" stop-opacity="0" />
          <stop offset="80%" stop-color="white" stop-opacity="0" />
          <stop offset="99%" stop-color="white" stop-opacity="1" />
        </radialGradient>
      `,h.prepend(T)}const p=r.center instanceof Lt.LatLng?r.center:new Lt.LatLng(r.center.lat,r.center.lng),_=Lt.circle(p,{radius:0,color:"white",fillColor:"url(#whiteGradient)",fillOpacity:1,weight:2,className:"distance-circle"}).addTo(s);l.current=_;const y=800,w=performance.now(),b=r.radius,C=T=>1-Math.pow(1-T,3),M=T=>{const P=T-w,j=Math.min(P/y,1),z=C(j);_.setRadius(b*z),j<1?requestAnimationFrame(M):setTimeout(()=>{s.removeLayer(_),l.current=null,u.current=!1,o==null||o()},1e3)};requestAnimationFrame(M)},[s,r,o]),null},Ew=s=>!s||!s.properties?null:s.properties.NOME&&typeof s.properties.NOME=="string"?s.properties.NOME.trim():s.properties.name&&typeof s.properties.name=="string"?s.properties.name.trim():s.properties.NOME_BAIRRO&&typeof s.properties.NOME_BAIRRO=="string"?s.properties.NOME_BAIRRO.trim():null,Cw=({geoJsonData:s,geoJsonRef:r,updateGameState:o,onStateChange:l,onFeedback:u,onRoundComplete:h,config:p={},onNeighborhoodChanged:_,externalCurrentNeighborhood:y})=>{const[w,b]=k.useState(""),[C,M]=k.useState([]),[T,P]=k.useState(new Set),[j,z]=k.useState(1),[Z,Y]=k.useState(4),[G,X]=k.useState(0),[oe,se]=k.useState(30),[me,K]=k.useState(!1),J=k.useRef(!1),xe=k.useRef(0),ve=k.useRef(null),ne=k.useCallback(()=>{console.log("[NeighborhoodManager] Callback onShouldSelectNewNeighborhood disparado"),J.current?console.log("[NeighborhoodManager] Ignorando callback - já selecionando"):Ce()},[]),Re=k.useCallback(()=>{console.log("[NeighborhoodManager] TEMPO ESGOTADO - Ativando game over"),ve.current&&(clearTimeout(ve.current),ve.current=null),K(!1),o({gameOver:!0,roundNumber:j,score:G,currentNeighborhood:w,roundTimeLeft:0}),h&&h()},[j,G,w,o,h]),ce=k.useCallback(()=>{console.log("[NeighborhoodManager] Iniciando timer da rodada - tempo restante:",oe),ve.current&&clearTimeout(ve.current),ve.current=setInterval(()=>{se(R=>{const B=R-1;return console.log("[NeighborhoodManager] Timer rodada:",B,"segundos restantes"),o({roundTimeLeft:B}),B<=0?(console.log("[NeighborhoodManager] TEMPO ESGOTADO - Parando timer"),ve.current&&(clearInterval(ve.current),ve.current=null),Re(),0):B})},1e3)},[oe,o,Re]),he=k.useCallback(()=>{ve.current&&(console.log("[NeighborhoodManager] Parando timer da rodada"),clearInterval(ve.current),ve.current=null)},[]);k.useEffect(()=>{if(s&&s.features){const R=s.features.map(B=>Ew(B)).filter(B=>B!==null&&typeof B=="string");M(R),Y(Math.min(R.length,4)),console.log("[NeighborhoodManager] Bairros disponíveis:",R)}},[s]);const fe=k.useCallback(()=>j>=Z?(console.log("[NeighborhoodManager] JOGO TERMINOU - Todas as rodadas completas"),he(),K(!1),o({gameOver:!0,roundNumber:j,score:G,currentNeighborhood:w}),h&&h(),!0):!1,[j,Z,G,w,o,h,he]),Ce=()=>{console.log("[NeighborhoodManager] selectRandomNeighborhood chamado - Stack trace:",new Error().stack);const R=Date.now();if(J.current){console.log("[NeighborhoodManager] selectRandomNeighborhood ignorado - já selecionando");return}if(R-xe.current<100){console.log("[NeighborhoodManager] selectRandomNeighborhood ignorado - muito rápido (debounce)");return}J.current=!0,xe.current=R;try{if(C.length===0){console.log("[NeighborhoodManager] Nenhum bairro disponível");return}const B=C.filter(U=>!T.has(U));if(B.length===0){console.log("[NeighborhoodManager] Todos os bairros revelados - resetando"),P(new Set),z(1),se(30);const U=C[Math.floor(Math.random()*C.length)];b(U),o({currentNeighborhood:U,roundNumber:1,gameOver:!1,roundTimeLeft:30}),console.log("[NeighborhoodManager] Novo bairro selecionado (reset):",U);return}const ae=B[Math.floor(Math.random()*B.length)];console.log("[NeighborhoodManager] Selecionando bairro:",ae),b(ae),se(30),o({currentNeighborhood:ae,roundNumber:j,gameOver:!1,roundTimeLeft:30}),console.log("[NeighborhoodManager] Novo bairro selecionado:",ae)}finally{setTimeout(()=>{J.current=!1},50)}},V=k.useCallback(()=>{if(console.log("[NeighborhoodManager] startNewRound chamado - rodada atual:",j),fe())return;he();const R=j+1;z(R),se(30),console.log("[NeighborhoodManager] Avançando para rodada:",R),Ce(),o({roundNumber:R,gameOver:!1,roundTimeLeft:30})},[j,fe,o,he]),le=k.useCallback((R,B)=>{console.log("[NeighborhoodManager] Marcando bairro como encontrado:",R,"pontos:",B),he(),P(U=>new Set([...U,R]));const ae=G+B;X(ae),o({revealedNeighborhoods:new Set([...T,R]),score:ae}),fe()},[G,T,o,fe,he]);k.useEffect(()=>{console.log("[NeighborhoodManager] useEffect disparado:",{availableNeighborhoodsLength:C.length,currentNeighborhood:w,isSelecting:J.current}),C.length>0&&!w&&!J.current?(console.log("[NeighborhoodManager] Inicializando primeiro bairro"),Ce()):console.log("[NeighborhoodManager] useEffect ignorado:",{reason:C.length===0?"sem bairros disponíveis":w?"bairro já selecionado":"já selecionando"})},[C,w]),k.useEffect(()=>{y&&y!==w&&(console.log("[NeighborhoodManager] Bairro externo alterado:",{anterior:w,novo:y}),b(y),_&&_(y),o({currentNeighborhood:y}),console.log("[NeighborhoodManager] Bairro sincronizado com estado externo"))},[y,w,_,o]),k.useEffect(()=>{w&&me&&oe>0&&(console.log("[NeighborhoodManager] Iniciando timer para bairro:",w),ce())},[w,me,oe,ce]),k.useEffect(()=>()=>{ve.current&&clearInterval(ve.current)},[]),k.useEffect(()=>{},[]);const q=gi.useRef(null);return gi.useImperativeHandle(q,()=>({startGame:()=>{console.log("[NeighborhoodManager] Jogo iniciado"),K(!0),z(1),X(0),P(new Set),se(30),Ce()},pauseGame:()=>{console.log("[NeighborhoodManager] Jogo pausado"),K(!1),he()},resumeGame:()=>{console.log("[NeighborhoodManager] Jogo retomado"),K(!0),w&&oe>0&&ce()},endGame:()=>{console.log("[NeighborhoodManager] Jogo terminado"),K(!1),he(),o({gameOver:!0})},startNewRound:()=>{console.log("[NeighborhoodManager] Nova rodada iniciada"),V()},selectRandomNeighborhood:()=>{Ce()},markNeighborhoodAsFound:(R,B)=>{le(R,B)},onShouldSelectNewNeighborhood:ne,getCurrentState:()=>({currentNeighborhood:w,revealedNeighborhoods:T,availableNeighborhoods:C,roundNumber:j,totalRounds:Z,roundTimeLeft:oe,isActive:me,score:G,feedback:null}),getVisualFeedback:()=>({})})),null},Pw=({onPlaceChange:s,currentPlace:r,isGameActive:o,roundNumber:l=1,onRoundComplete:u,onStateChange:h,onFeedback:p,config:_={}})=>{const y=k.useRef(null);k.useEffect(()=>{if(o&&!y.current){console.log("[FamousPlacesManagerRefactored] Inicializando modo de lugares famosos");const b={startGame:()=>console.log("Mock startGame"),pauseGame:()=>console.log("Mock pauseGame"),resumeGame:()=>console.log("Mock resumeGame"),endGame:()=>console.log("Mock endGame"),advanceToNextPlace:()=>console.log("Mock advanceToNextPlace"),forceNextRound:()=>console.log("Mock forceNextRound"),selectPlaceFromRound:C=>console.log("Mock selectPlaceFromRound",C),getCurrentState:()=>({currentPlace:null,roundPlaces:[],usedPlaces:new Set,currentRoundIndex:0,roundNumber:1,totalRounds:10,roundTimeLeft:15,isActive:!1,score:0,feedback:null}),getVisualFeedback:()=>({}),getCurrentRound:()=>null,cleanup:()=>console.log("Mock cleanup")};y.current=b}},[o]),k.useEffect(()=>()=>{y.current&&(y.current.cleanup(),y.current=null)},[]);const w=gi.useRef(null);return gi.useImperativeHandle(w,()=>({startGame:()=>{y.current&&y.current.startGame()},pauseGame:()=>{y.current&&y.current.pauseGame()},resumeGame:()=>{y.current&&y.current.resumeGame()},endGame:()=>{y.current&&y.current.endGame()},advanceToNextPlace:()=>{y.current&&y.current.advanceToNextPlace()},forceNextRound:()=>{y.current&&y.current.forceNextRound()},selectPlaceFromRound:b=>{y.current&&y.current.selectPlaceFromRound(b)},getCurrentState:()=>y.current?y.current.getCurrentState():null,getVisualFeedback:()=>y.current?y.current.getVisualFeedback():null,getCurrentRound:()=>y.current?y.current.getCurrentRound():null})),null},Tw=({audioRef:s,successSoundRef:r,errorSoundRef:o,gameStartAudioRef:l,gameState:u,playSuccess:h,playError:p,showPhaseOneMessage:_})=>(k.useEffect(()=>{s.current&&(s.current.volume=u.isMuted?0:u.volume,s.current.loop=!0)},[u.volume,u.isMuted]),k.useEffect(()=>{s.current&&(u.gameStarted&&!u.gameOver?s.current.play():u.gameOver&&(s.current.pause(),s.current.currentTime=0))},[u.gameStarted,u.gameOver]),k.useEffect(()=>{h&&r.current&&(r.current.currentTime=0,r.current.volume=u.isMuted?0:Math.min(u.volume,.7),r.current.play().catch(y=>{console.log("Erro ao tocar som de sucesso:",y)}))},[h,u.volume,u.isMuted]),k.useEffect(()=>{p&&o.current&&(o.current.currentTime=0,o.current.volume=u.isMuted?0:Math.min(u.volume,.7),o.current.play().catch(y=>{console.log("Erro ao tocar som de erro:",y)}))},[p,u.volume,u.isMuted]),k.useEffect(()=>{_&&(l!=null&&l.current)&&!u.isMuted&&(l.current.currentTime=0,l.current.volume=Math.min(u.volume,.8),l.current.play().catch(y=>{console.log("Erro ao tocar música de início:",y)}))},[_,u.volume,u.isMuted,l]),null),Mw=({totalDistance:s,maxDistance:r})=>{const o=(s/1e3).toFixed(1),l=s/r*100,u=h=>h>=90?"var(--accent-red)":h>=70?"var(--accent-orange)":"var(--accent-green)";return f.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"2px",background:"var(--bg-secondary)",border:"none",padding:"4px 8px",borderRadius:"2px",color:"var(--text-primary)",fontFamily:"'VT323', monospace",fontSize:"14px",boxShadow:"var(--shadow-sm)"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[f.jsx(qx,{size:16,color:"var(--accent-green)"}),f.jsxs("span",{children:[o,"km"]})]}),f.jsx("div",{style:{width:"100%",height:"2px",background:"rgba(255, 255, 255, 0.2)",borderRadius:"1px",overflow:"hidden"},children:f.jsx("div",{style:{width:`${Math.min(l,100)}%`,height:"100%",background:u(l),transition:"width 0.3s ease-in-out"}})})]})},Lw="_overlay_19bzg_3",Rw="_modal_19bzg_18",jw="_header_19bzg_31",Aw="_title_19bzg_36",Ow="_subtitle_19bzg_46",Iw="_scoreContainer_19bzg_53",Nw="_score_19bzg_53",zw="_scoreMessage_19bzg_71",Dw="_statsGrid_19bzg_80",Fw="_statItem_19bzg_87",Bw="_blue_19bzg_95",Uw="_green_19bzg_98",$w="_orange_19bzg_101",Gw="_statValue_19bzg_104",Hw="_formSection_19bzg_111",Ww="_formTitle_19bzg_115",Vw="_formRow_19bzg_126",Zw="_nameInput_19bzg_132",qw="_saveButton_19bzg_149",Kw="_errorMessage_19bzg_174",Jw="_successMessage_19bzg_184",Yw="_successText_19bzg_194",Qw="_rankingPosition_19bzg_203",Xw="_rankingTitle_19bzg_214",e1="_rankingNumber_19bzg_226",t1="_rankingStatus_19bzg_236",n1="_topRanking_19bzg_245",r1="_topRankingTitle_19bzg_256",o1="_rankingEntry_19bzg_266",i1="_emptyRanking_19bzg_274",s1="_actionButtons_19bzg_283",a1="_actionButton_19bzg_283",l1="_primary_19bzg_313",u1="_secondary_19bzg_317",c1="_tertiary_19bzg_321",d1="_confetti_19bzg_326",h1="_confettiPiece_19bzg_336",Ne={overlay:Lw,modal:Rw,header:jw,title:Aw,subtitle:Ow,scoreContainer:Iw,score:Nw,scoreMessage:zw,statsGrid:Dw,statItem:Fw,blue:Bw,green:Uw,orange:$w,statValue:Gw,formSection:Hw,formTitle:Ww,formRow:Vw,nameInput:Zw,saveButton:qw,errorMessage:Kw,successMessage:Jw,successText:Yw,rankingPosition:Qw,rankingTitle:Xw,rankingNumber:e1,rankingStatus:t1,topRanking:n1,topRankingTitle:r1,rankingEntry:o1,emptyRanking:i1,actionButtons:s1,actionButton:a1,primary:l1,secondary:u1,tertiary:c1,confetti:d1,confettiPiece:h1},f1=[{min:1e5,message:"REI DA GEOGRAFIA! Você conhece Santos!",color:"#FFD700"},{min:8e4,message:"MITO SANTISTA! Até as ondas do mar te aplaudem!",color:"#FFA500"},{min:6e4,message:"LENDÁRIO! Você é um Pelé da geografia santista!",color:"#FF8C00"},{min:5e4,message:"MESTRE DOS BAIRROS! Você é um GPS ambulante!",color:"#FF6347"},{min:4e4,message:"IMPRESSIONANTE! Quase um GPS humano!!",color:"#32CD32"},{min:3e4,message:"VC É MAIS SANTISTA QUE PASTEL DE VENTO NA FEIRA!",color:"#00CED1"},{min:25e3,message:"SANTISTA DE CORAÇÃO! Você manja dos bairros!",color:"#9370DB"},{min:2e4,message:"MUITO BOM! Você deve ter ido em algumas aulas de geografia!",color:"#FF69B4"},{min:15e3,message:"BOM JOGO! Mas ainda precisa andar mais pela zona noroeste!",color:"#FFD700"},{min:12e3,message:"QUASE LÁ! Dá um role no bondinho pra pegar umas dicas!",color:"#98FB98"},{min:1e4,message:"MAIS PERDIDO QUE DOIDO NA PONTA DA PRAIA!",color:"#F0E68C"},{min:8e3,message:"Eita! Parece que você não sabe nada de Santos!",color:"#87CEEB"},{min:6e3,message:"Confundiu Santos com o interior do Mato Grosso!",color:"#DDA0DD"},{min:4e3,message:"Te colocaram pra jogar vendado?",color:"#FFB6C1"},{min:2e3,message:"Você achava que o Boqueirão era em Salvador?",color:"#F0E68C"},{min:1e3,message:"Eita! Parece que você não sabe nada de Santos!",color:"#FF6B6B"},{min:500,message:"Confundiu Santos com o interior do Mato Grosso!",color:"#FF4500"},{min:100,message:"Te colocaram pra jogar vendado?",color:"#8B0000"}],p1=s=>f1.find(r=>s>=r.min)||{message:"Eita! Parece que você não sabe nada de Santos!",color:"#FF6B6B"},m1=({score:s})=>{const{message:r,color:o}=p1(s);return f.jsxs("div",{className:Ne.scoreContainer,children:[f.jsxs("div",{className:Ne.score,style:{color:o},"data-testid":"score-display",children:[s.toLocaleString()," PONTOS"]}),f.jsx("p",{className:Ne.scoreMessage,"data-testid":"score-message",children:r})]})},g1=s=>{const r=Math.floor(s/60),o=s%60;return`${r}:${o.toString().padStart(2,"0")}`},v1=s=>`${Math.round(s*100)}%`,y1=({playTime:s,roundsPlayed:r,accuracy:o})=>f.jsxs("div",{className:Ne.statsGrid,children:[f.jsxs("div",{className:`${Ne.statItem} ${Ne.blue}`,"data-testid":"play-time-stat",children:[f.jsx(Sm,{size:20,color:"var(--accent-blue)"}),f.jsx("div",{className:Ne.statValue,children:g1(s)})]}),f.jsxs("div",{className:`${Ne.statItem} ${Ne.green}`,"data-testid":"rounds-stat",children:[f.jsx(Ld,{size:20,color:"var(--accent-green)"}),f.jsxs("div",{className:Ne.statValue,children:[r," rodadas"]})]}),f.jsxs("div",{className:`${Ne.statItem} ${Ne.orange}`,"data-testid":"accuracy-stat",children:[f.jsx(km,{size:20,color:"var(--accent-orange)"}),f.jsx("div",{className:Ne.statValue,children:v1(o)})]})]}),_1=s=>s.trim()?s.trim().length<2?"O nome deve ter pelo menos 2 caracteres!":s.trim().length>50?"O nome deve ter no máximo 50 caracteres!":s.replace(/[\u{1F600}-\u{1F64F}]|[\u{1F300}-\u{1F5FF}]|[\u{1F680}-\u{1F6FF}]|[\u{1F1E0}-\u{1F1FF}]|[\u{2600}-\u{26FF}]|[\u{2700}-\u{27BF}]/gu,"")!==s?"Não use emojis no nome!":/^[a-zA-ZÀ-ÿ0-9\s\-_\.]+$/.test(s.trim())?null:"Use apenas letras, números, espaços, hífens, pontos e underscores!":"Digite um nome para salvar sua pontuação!",x1=({currentPlayerName:s,score:r,playTime:o,roundsPlayed:l,accuracy:u,onScoreSaved:h})=>{const[p,_]=k.useState(s),[y,w]=k.useState(!1),[b,C]=k.useState(!1),[M,T]=k.useState(null),P=k.useRef(null);k.useEffect(()=>{P.current&&!b&&P.current.focus()},[b]);const j=async()=>{const Z=_1(p);if(Z){T(Z);return}w(!0),T(null);try{await vi.addScore({player_name:p.trim(),score:r,play_time:o,rounds_played:l,accuracy:u})?(C(!0),h()):T("Erro ao salvar pontuação. Tente novamente!")}catch(Y){T("Erro de conexão. Tente novamente!"),console.error("Erro ao salvar pontuação:",Y)}finally{w(!1)}},z=Z=>{Z.key==="Enter"&&j()};return b?f.jsxs("div",{className:Ne.successMessage,role:"alert","aria-live":"polite",children:[f.jsx(nw,{size:24,color:"var(--text-primary)"}),f.jsx("p",{className:Ne.successText,children:"PONTUAÇÃO SALVA COM SUCESSO!"})]}):f.jsxs("div",{className:Ne.formSection,children:[f.jsx("h3",{className:Ne.formTitle,children:"SALVAR NO RANKING"}),f.jsxs("div",{className:Ne.formRow,children:[f.jsx("input",{ref:P,type:"text",value:p,onChange:Z=>_(Z.target.value),placeholder:"Seu nome",maxLength:50,className:Ne.nameInput,onKeyPress:z,"aria-label":"Digite seu nome para salvar no ranking","data-testid":"player-name-input"}),f.jsx("button",{onClick:j,disabled:y,className:Ne.saveButton,"aria-label":"Salvar pontuação no ranking","data-testid":"save-score-button",children:y?"SALVANDO...":"SALVAR"})]}),M&&f.jsx("p",{className:Ne.errorMessage,role:"alert","aria-live":"polite","data-testid":"error-message",children:M})]})},w1=s=>s===1?"🏆 CAMPEÃO ABSOLUTO! 🏆":s<=3?"🥇 TOP 3 - LENDÁRIO! 🥇":s<=10?"🥈 TOP 10 - IMPRESSIONANTE! 🥈":s<=50?"🥉 TOP 50 - MUITO BOM! 🥉":"🎯 NO RANKING! 🎯",b1=({position:s,isVisible:r})=>!r||s===null?null:f.jsxs("div",{className:Ne.rankingPosition,"data-testid":"ranking-position",children:[f.jsx("div",{className:Ne.rankingTitle,children:"POSIÇÃO NO RANKING"}),f.jsxs("div",{className:Ne.rankingNumber,"data-testid":"ranking-number",children:["#",s]}),f.jsx("div",{className:Ne.rankingStatus,children:w1(s)})]}),S1=({rankingData:s})=>s.length===0?f.jsxs("div",{className:Ne.topRanking,"data-testid":"top-ranking",children:[f.jsx("h3",{className:Ne.topRankingTitle,children:"TOP 3 DO RANKING"}),f.jsx("p",{className:Ne.emptyRanking,children:"Seja o primeiro a entrar para o ranking!"})]}):f.jsxs("div",{className:Ne.topRanking,"data-testid":"top-ranking",children:[f.jsx("h3",{className:Ne.topRankingTitle,children:"TOP 3 DO RANKING"}),s.map((r,o)=>f.jsxs("p",{className:Ne.rankingEntry,"data-testid":`ranking-entry-${o}`,children:[o+1,". ",r.player_name," - ",r.score.toLocaleString()," pontos"]},o))]}),Ep=["var(--accent-yellow)","var(--accent-green)","var(--accent-blue)","var(--accent-orange)","var(--accent-red)"],k1=({isVisible:s})=>s?f.jsx("div",{className:Ne.confetti,children:[...Array(50)].map((r,o)=>f.jsx("div",{className:Ne.confettiPiece,style:{left:`${Math.random()*100}%`,background:Ep[Math.floor(Math.random()*Ep.length)],animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*3}s`}},o))}):null,E1=s=>{var l;return`${((l=[{min:1e5,message:"REI DA GEOGRAFIA! Eu conheço Santos!"},{min:8e4,message:"MITO SANTISTA! Até as ondas do mar me aplaudem!"},{min:6e4,message:"LENDÁRIO! Eu sou um Pelé da geografia santista!"},{min:5e4,message:"MESTRE DOS BAIRROS! Eu sou um GPS ambulante!"},{min:4e4,message:"IMPRESSIONANTE! Quase um GPS humano!!"},{min:3e4,message:"SOU MAIS SANTISTA QUE PASTEL DE VENTO NA FEIRA!"},{min:25e3,message:"SANTISTA DE CORAÇÃO! Eu manjo dos bairros!"},{min:2e4,message:"MUITO BOM! Eu devo ter ido em algumas aulas de geografia!"},{min:15e3,message:"BOM JOGO! Mas ainda preciso andar mais pela zona noroeste!"},{min:12e3,message:"QUASE LÁ! Vou dar um rolê no bondinho pra pegar umas dicas!"},{min:1e4,message:"MAIS PERDIDO QUE DOIDO NA PONTA DA PRAIA!"},{min:8e3,message:"Eita! Parece que eu não sei nada de Santos!"},{min:6e3,message:"Confundi Santos com o interior do Mato Grosso!"},{min:4e3,message:"Me colocaram pra jogar vendado?"},{min:2e3,message:"Eu achava que o Boqueirão era em Salvador?"},{min:1e3,message:"Eita! Parece que eu não sei nada de Santos!"},{min:500,message:"Confundi Santos com o interior do Mato Grosso!"},{min:100,message:"Me colocaram pra jogar vendado?"}].find(u=>s>=u.min))==null?void 0:l.message)||"Eita! Parece que eu não sei nada de Santos!"} Joguei o Geosantos e fiz ${s} pontos! Jogue agora em https://hericmr.github.io/geosantos e veja quanto você consegue fazer!`},C1=async s=>{const r=E1(s);try{navigator.share?await navigator.share({text:r}):(await navigator.clipboard.writeText(r),alert("Texto copiado para a área de transferência! Desafie uma pessoa, compartilhe o jogo!"))}catch(o){console.error("Erro ao compartilhar:",o);try{await navigator.clipboard.writeText(r),alert("Texto copiado para a área de transferência! Desafie uma pessoa, compartilhe o jogo!")}catch(l){console.error("Erro no fallback:",l),alert("Erro ao compartilhar. Tente copiar manualmente o link do jogo.")}}},P1=({score:s,onPlayAgain:r,onClose:o})=>f.jsxs("div",{className:Ne.actionButtons,children:[f.jsxs("button",{onClick:r,className:`${Ne.actionButton} ${Ne.primary}`,"aria-label":"Jogar novamente","data-testid":"play-again-button",children:[f.jsx(Zd,{size:16,color:"var(--text-primary)"}),"JOGAR NOVAMENTE"]}),f.jsxs("button",{onClick:()=>C1(s),className:`${Ne.actionButton} ${Ne.secondary}`,"aria-label":"Compartilhar pontuação","data-testid":"share-button",children:[f.jsx(Kx,{size:16,color:"var(--text-primary)"}),"COMPARTILHAR"]}),f.jsxs("button",{onClick:o,className:`${Ne.actionButton} ${Ne.tertiary}`,"aria-label":"Voltar ao menu principal","data-testid":"close-button",children:[f.jsx(Em,{size:16,color:"var(--text-primary)"}),"MENU PRINCIPAL"]})]}),T1={"BOM JOGO! Mas ainda precisa andar mais pela zona noroeste!":"uau_bom_jogo.opus","Confundiu Santos com o interior do Mato Grosso!":"confundiu_santos_com_ointerior_do_mato_grosso.opus","Eita! Parece que você não sabe nada de Santos!":"eita_parece_que_voce_nao_sabe_nada_de_santos_mesmo.opus","Olha, confundiu Santos com":"olha_confundiu_santos_com.opus"},M1=({isOpen:s,onClose:r,onPlayAgain:o,score:l,playTime:u,roundsPlayed:h,accuracy:p,currentPlayerName:_})=>{const[y,w]=k.useState(!1),[b,C]=k.useState([]),[M,T]=k.useState(null),[P,j]=k.useState(!1),[z,Z]=k.useState(""),Y=k.useRef(null),G=K=>{const xe=[{min:1e5,message:"REI DA GEOGRAFIA! Você conhece Santos!"},{min:8e4,message:"MITO SANTISTA! Até as ondas do mar te aplaudem!"},{min:6e4,message:"LENDÁRIO! Você é um Pelé da geografia santista!"},{min:5e4,message:"MESTRE DOS BAIRROS! Você é um GPS ambulante!"},{min:4e4,message:"IMPRESSIONANTE! Quase um GPS humano!!"},{min:3e4,message:"VC É MAIS SANTISTA QUE PASTEL DE VENTO NA FEIRA!"},{min:25e3,message:"SANTISTA DE CORAÇÃO! Você manja dos bairros!"},{min:2e4,message:"MUITO BOM! Você deve ter ido em algumas aulas de geografia!"},{min:15e3,message:"BOM JOGO! Mas ainda precisa andar mais pela zona noroeste!"},{min:12e3,message:"QUASE LÁ! Dá um role no bondinho pra pegar umas dicas!"},{min:1e4,message:"MAIS PERDIDO QUE DOIDO NA PONTA DA PRAIA!"},{min:8e3,message:"Eita! Parece que você não sabe nada de Santos!"},{min:6e3,message:"Confundiu Santos com o interior do Mato Grosso!"},{min:4e3,message:"Te colocaram pra jogar vendado?"},{min:2e3,message:"Você achava que o Boqueirão era em Salvador?"},{min:1e3,message:"Eita! Parece que você não sabe nada de Santos!"},{min:500,message:"Confundiu Santos com o interior do Mato Grosso!"},{min:100,message:"Te colocaram pra jogar vendado?"}].find(ve=>K>=ve.min);return xe?xe.message:"Eita! Parece que você não sabe nada de Santos!"},X=K=>{const J=T1[K];J&&Y.current&&(Y.current.src=E_(J),Y.current.volume=.7,Y.current.play().catch(xe=>{console.log("Erro ao tocar áudio de game over:",xe)}))},oe=async()=>{try{const K=await vi.getTopPlayers(3);K&&C(K.slice(0,3))}catch(K){console.error("Erro ao buscar ranking:",K)}},se=async()=>{try{const K=await vi.getPlayerPosition(_,l);T(K),j(!0)}catch(K){console.error("Erro ao buscar posição do jogador:",K)}},me=async()=>{w(!0),await oe(),await se(),setTimeout(()=>w(!1),3e3)};return k.useEffect(()=>{if(s){w(!1),j(!1),T(null);const K=G(l);Z(K),setTimeout(()=>{X(K)},500)}},[s,l]),s?f.jsxs("div",{className:Ne.overlay,role:"dialog","aria-modal":"true","aria-labelledby":"game-over-title","data-testid":"game-over-modal",children:[f.jsx(k1,{isVisible:y}),f.jsx("audio",{ref:Y,preload:"auto"}),f.jsxs("div",{className:Ne.modal,children:[f.jsxs("div",{className:Ne.header,children:[f.jsx("h1",{id:"game-over-title",className:Ne.title,"data-testid":"game-over-title",children:"GAME OVER"}),f.jsx("p",{className:Ne.subtitle,children:"DESAFIO GEOGRÁFICO DE SANTOS"})]}),f.jsx(m1,{score:l}),f.jsx(y1,{playTime:u,roundsPlayed:h,accuracy:p}),f.jsx(x1,{currentPlayerName:_,score:l,playTime:u,roundsPlayed:h,accuracy:p,onScoreSaved:me}),f.jsx(b1,{position:M,isVisible:P}),P&&f.jsx(S1,{rankingData:b}),f.jsx(P1,{score:l,onPlayAgain:o,onClose:r})]})]}):null},L1=({open:s,onClose:r,famousPlace:o,isCentered:l=!0,onTransitionComplete:u,timeProgress:h=0,onPauseGame:p,onResumeGame:_,onNextRound:y,isPaused:w=!1,gameOver:b=!1,feedbackProgress:C=0,geoJsonData:M})=>{const[T,P]=k.useState(!1),[j,z]=k.useState(!1),[Z,Y]=k.useState(!1);if(k.useEffect(()=>{if(s)Y(!0),P(!1),z(!1);else{const me=setTimeout(()=>Y(!1),300);return()=>clearTimeout(me)}},[s]),!Z||!o)return null;const G=()=>P(!0),X=()=>z(!0),oe=me=>{me.target===me.currentTarget&&r()},se=l?{position:"fixed",top:"50%",left:"50%",transform:s?"translate(-50%, -50%) scale(1)":"translate(-50%, -50%) scale(0.95)",width:"min(400px, 90vw)",maxHeight:"85vh",zIndex:10010}:{position:"fixed",top:"20px",right:"20px",transform:"none",width:"min(320px, 85vw)",maxHeight:"75vh",zIndex:10010};return f.jsxs(f.Fragment,{children:[l&&f.jsx("div",{onClick:oe,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",zIndex:10009,animation:s?"fadeIn 0.3s ease-out":"fadeOut 0.3s ease-out"}}),f.jsxs("div",{style:{...se,background:"var(--bg-secondary)",color:"var(--text-primary)",border:"none",borderRadius:"4px",boxShadow:"var(--shadow-xl)",overflow:"hidden",animation:s?"modalSlideIn 0.3s ease-out":"modalSlideOut 0.3s ease-out",transition:"all 0.3s ease-out",margin:l?"0":"10px"},children:[f.jsxs("div",{style:{position:"relative",padding:l?"12px 16px":"8px 12px",background:"var(--accent-green)",borderBottom:"2px solid var(--text-primary)",overflow:"hidden"},children:[l&&f.jsx("div",{style:{position:"absolute",top:0,left:0,width:`${h}%`,height:"100%",background:"rgba(255, 255, 255, 0.3)",transition:"width 0.1s linear",zIndex:1}}),f.jsx("h2",{style:{margin:0,fontFamily:"'LaCartoonerie', sans-serif",color:"#000000",fontSize:l?"clamp(2.1rem, 2.8vw, 1.4rem)":"clamp(0.9rem, 2.4vw, 1.1rem)",textAlign:"center",textTransform:"none",fontWeight:800,letterSpacing:"1px",textShadow:"none",lineHeight:1.2,position:"relative",zIndex:2},children:o.name})]}),f.jsxs("div",{style:{padding:l?"16px":"8px",maxHeight:l?"calc(85vh - 80px)":"calc(75vh - 60px)",overflowY:"auto",display:"flex",flexDirection:"column",gap:l?"12px":"8px"},children:[f.jsxs("div",{style:{position:"relative",border:"none",borderRadius:"2px",overflow:"hidden",background:"#f0f0f0",minHeight:"120px",display:"flex",alignItems:"center",justifyContent:"center"},children:[!T&&!j&&f.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",background:"#f0f0f0",color:"#666",fontSize:"14px",fontFamily:"'VT323', monospace"},children:"Carregando..."}),j?f.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"8px",color:"#666",fontSize:"14px",fontFamily:"'VT323', monospace"},children:[f.jsx(ow,{size:24,color:"#666"}),"Sem imagem"]}):f.jsx("img",{src:o.imageUrl,alt:o.name,onLoad:G,onError:X,style:{width:"100%",height:"100%",display:T?"block":"none",transition:"opacity 0.3s ease"}})]}),l&&f.jsx("div",{style:{padding:"8px 12px",background:"var(--bg-primary)",border:"none",borderRadius:"2px",textAlign:"center"},children:f.jsx("span",{style:{color:"var(--accent-green)",fontWeight:600,fontSize:"clamp(0.7rem, 1.8vw, 0.9rem)",fontFamily:"'LaCartoonerie', sans-serif",textTransform:"uppercase",letterSpacing:"0.5px",textShadow:"1px 1px 0px #000"},children:o.category})}),l&&o.description&&f.jsxs("div",{style:{background:"rgba(0, 0, 0, 0.85)",borderRadius:"12px",padding:"16px",margin:"12px 0 0 0",border:"2px solid rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",animation:"0.5s ease-out fadeInUp"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",paddingBottom:"8px",borderBottom:"1px solid rgba(255, 255, 255, 0.2)"},children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#FFD700",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M10 18v-7"}),f.jsx("path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z"}),f.jsx("path",{d:"M14 18v-7"}),f.jsx("path",{d:"M18 18v-7"}),f.jsx("path",{d:"M3 22h18"}),f.jsx("path",{d:"M6 18v-7"})]}),f.jsx("div",{style:{fontSize:"clamp(0.8rem, 2vw, 1rem)",color:"#FFD700",fontFamily:"'LaCartoonerie', sans-serif",fontWeight:400,textTransform:"uppercase",letterSpacing:"1px"},children:o.name.toUpperCase()})]}),f.jsx("div",{style:{fontSize:"clamp(0.9rem, 2.2vw, 1.1rem)",color:"#ffffff",fontFamily:"'LaCartoonerie', sans-serif",lineHeight:1.4,marginBottom:"12px",textAlign:"left"},children:o.description})]})]}),l&&p&&y&&f.jsx("div",{style:{padding:"16px",borderTop:"2px solid var(--text-primary)",background:"var(--bg-primary)"},children:f.jsx(Tm,{gameOver:b,onPauseGame:p,onResumeGame:_,onNextRound:()=>{y&&y()},feedbackProgress:C,currentMode:"famous_places",isPaused:w})}),f.jsx("style",{children:`
          @keyframes fadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
          }
          
          @keyframes fadeOut {
            0% { opacity: 1; }
            100% { opacity: 0; }
          }
          
          @keyframes modalSlideIn {
            0% { 
              opacity: 0;
              transform: ${l?"translate(-50%, -50%) scale(0.9)":"translateX(100%)"};
            }
            100% { 
              opacity: 1;
              transform: ${l?"translate(-50%, -50%) scale(1)":"translateX(0)"};
            }
          }
          
          @keyframes modalSlideOut {
            0% { 
              opacity: 1;
              transform: ${l?"translate(-50%, -50%) scale(1)":"translateX(0)"};
            }
            100% { 
              opacity: 0;
              transform: ${l?"translate(-50%, -50%) scale(0.9)":"translateX(100%)"};
            }
          }

          @keyframes fadeInUp {
            0% {
              opacity: 0;
              transform: translateY(20px);
            }
            100% {
              opacity: 1;
              transform: translateY(0);
            }
          }
          
          /* Scrollbar simplificada */
          ::-webkit-scrollbar {
            width: 8px;
          }
          
          ::-webkit-scrollbar-track {
            background: var(--bg-primary);
          }
          
          ::-webkit-scrollbar-thumb {
            background: var(--accent-green);
            border: 'none';
          }
          
          ::-webkit-scrollbar-thumb:hover {
            background: #2d5a2d;
          }
        `})]})]})};function Mm(){const[s,r]=k.useState([]),[o,l]=k.useState(!0),[u,h]=k.useState(null);k.useEffect(()=>{(async()=>{try{l(!0);const y=await J0.getFamousPlaces();r(y),console.log("useFamousPlaces: Places after fetch:",y)}catch(y){console.error("Failed to fetch famous places:",y),h("Failed to load famous places.")}finally{l(!1)}})()},[]);function p(){if(s.length===0)return{id:"mock-id",name:"Placeholder",description:"No famous places loaded.",latitude:0,longitude:0,category:"unknown",address:"unknown",imageUrl:"https://via.placeholder.com/56"};const _=Math.floor(Math.random()*s.length);return s[_]}return{places:s,getRandomPlace:p,isLoading:o,error:u}}const R1=()=>{k.useEffect(()=>{const s=Na("80.png"),r=document.createElement("canvas"),o=r.getContext("2d"),l=new Image;return l.onload=()=>{if(o){r.width=l.width*1.5,r.height=l.height*1.5,o.imageSmoothingEnabled=!1,o.drawImage(l,0,0,r.width,r.height);const h=r.toDataURL(),p=document.createElement("style");p.setAttribute("data-cursor-style","true"),p.textContent=`
          .leaflet-container,
          .leaflet-container *,
          .leaflet-interactive,
          .leaflet-interactive * {
            cursor: url("${h}") ${l.width*1.5/2} ${l.height*1.5/2}, crosshair !important;
            touch-action: none !important;
          }
        `,document.head.appendChild(p),r.remove()}},l.src=s,()=>{const u=document.querySelector("style[data-cursor-style]");u&&u.remove()}},[])};delete Lt.Icon.Default.prototype._getIconUrl;Lt.Icon.Default.mergeOptions({iconRetinaUrl:m_,iconUrl:g_,shadowUrl:v_});new Lt.Icon({iconUrl:Na("bandeira2.png"),iconSize:[70,70],iconAnchor:[30,60],popupAnchor:[0,-50],className:"bandeira-marker"});new Lt.Icon({iconUrl:Na("bandeira1.png"),iconSize:[70,70],iconAnchor:[30,60],popupAnchor:[0,-50],className:"bandeira-marker"});const j1=({position:s,gameState:r})=>{const[o,l]=k.useState(1),[u,h]=k.useState(!1),[p,_]=k.useState(!0),[y,w]=k.useState(!1),b=k.useRef("");if(k.useEffect(()=>{r.showFeedback||(console.log("🏁 showFeedback é false, removendo animação da bandeira correta"),_(!1))},[r.showFeedback]),k.useEffect(()=>{const M=T=>{console.log("📡 Evento markerClickAnimationComplete recebido, iniciando segunda animação em 0.5s"),setTimeout(()=>{console.log("🎬 Iniciando segunda animação (bandeira correta)"),w(!0),h(!0)},200)};return window.addEventListener("markerClickAnimationComplete",M),()=>{window.removeEventListener("markerClickAnimationComplete",M)}},[]),k.useEffect(()=>{if(!u||!p||!y)return;b.current=`bandeira-correta-${Date.now()}-${Math.random()}`;let M=1;const T=16,P=1e3/ht.fps,j=()=>{M<=T&&p&&(l(M),M++,M<=T?setTimeout(j,P):(console.log("🏁 Animação da bandeira correta terminou, último frame permanecerá até o fim do round"),h(!1)))};setTimeout(j,P)},[u,p,y]),!p)return null;const C=new Lt.DivIcon({html:`
      <div class="bandeira-correta-marker" style="width: ${ht.size}px; height: ${ht.size}px; position: relative;">
        <img id="${b.current}" src="${ym(`${o}.png`)}"
             style="width: 100%; height: 100%; object-fit: contain; filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3)) drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2)) contrast(1.3) saturate(1.4);" />
      </div>
    `,className:"bandeira-correta-marker-icon",iconSize:[ht.size,ht.size],iconAnchor:[85,ht.anchorY]});return f.jsx(Es,{position:s,icon:C})},A1=({center:s,zoom:r})=>{R1(),k.useEffect(()=>{(()=>{const Ue=new Image,Ye=new Image;Ue.src=Na("bandeira1.png"),Ye.src=Na("bandeira2.png");const nt=[];for(let Xe=1;Xe<=16;Xe++){const pt=new Image;pt.src=Hr(`${Xe}.png`),nt.push(pt)}console.log("🖼️ Pré-carregamento iniciado: 2 bandeiras + 16 sprites"),Promise.all([new Promise(Xe=>{Ue.onload=()=>Xe("bandeira1"),Ue.onerror=()=>console.warn("❌ Erro ao carregar bandeira1")}),new Promise(Xe=>{Ye.onload=()=>Xe("bandeira2"),Ye.onerror=()=>console.warn("❌ Erro ao carregar bandeira2")}),...nt.map((Xe,pt)=>new Promise(Ve=>{Xe.onload=()=>Ve(`sprite${pt+1}`),Xe.onerror=()=>console.warn(`❌ Erro ao carregar sprite${pt+1}`)}))]).then(()=>{console.log("✅ Todas as imagens foram pré-carregadas com sucesso!")}).catch(Xe=>{console.error("❌ Erro durante o pré-carregamento:",Xe)})})()},[]);const[o,l]=k.useState(null),[u,h]=k.useState(!1),[p,_]=k.useState({playTime:0,roundsPlayed:0,accuracy:0}),{playerName:y,initializePlayerName:w}=Pm(),b=k.useRef(null),C=k.useRef(null),[M,T]=k.useState("neighborhoods"),[P,j]=k.useState(null),[z,Z]=k.useState(!1),[Y,G]=k.useState(!0),[X,oe]=k.useState(!1),[se,me]=k.useState(0),K=k.useRef(""),{places:J}=Mm(),xe=k.useRef(null),[ve,ne]=k.useState(r),[Re,ce]=k.useState(s),he=k.useRef(null),{mapRef:fe,geoJsonRef:Ce,audioRef:V,successSoundRef:le,errorSoundRef:q,isPaused:R,showPhaseOneMessage:B,distanceCircle:ae,gameState:U,handleMapClick:ue,handleVolumeChange:de,handleToggleMute:Le,handlePauseGame:Se,handleResumeGame:Ae,handleNextRound:Be,handleStartGame:St,setDistanceCircle:rt,updateGameState:ot}=k_(o,M,P,X),Qe=k.useCallback(Ee=>{console.log("🔍 [Map.tsx] handleMapClick chamado com:",Ee),console.log("🔍 [Map.tsx] Estado do jogo:",{gameStarted:U.gameStarted,isCountingDown:U.isCountingDown,showFeedback:U.showFeedback}),ue(Ee)},[ue,U.gameStarted,U.isCountingDown,U.showFeedback]),It=k.useCallback(()=>{if(!J||J.length===0)return;let Ee=Math.floor(Math.random()*J.length);if(J.length>1&&P){let Ue=0;for(;J[Ee].id===P.id&&Ue<10;)Ee=Math.floor(Math.random()*J.length),Ue++}console.log("[selectNextFamousPlace] currentFamousPlace antes:",P),console.log("[selectNextFamousPlace] novo lugar selecionado:",J[Ee]),j(J[Ee])},[J,P]);k.useEffect(()=>{xe.current=(P==null?void 0:P.id)??null},[P]),k.useEffect(()=>{!U.clickedPosition&&he.current&&he.current.parentNode&&(console.log("🏁 clickedPosition é null, removendo sprite do clique"),he.current.parentNode.removeChild(he.current),he.current=null)},[U.clickedPosition]),k.useEffect(()=>{M==="famous_places"&&U.gameStarted&&J.length>0&&!P&&It(),M!=="famous_places"&&j(null)},[M,U.gameStarted,J,It]),k.useEffect(()=>{var Ee;if(U.clickedPosition){console.log("🎯 Clique detectado! Posição:",U.clickedPosition),console.log("⚙️ Configuração do sprite:",ht),K.current=`sprite-frame-${Date.now()}-${Math.random()}`,console.log("🆔 ID do sprite gerado:",K.current);let Ue=1;const Ye=16,nt=document.createElement("div");nt.id=K.current,nt.className="sprite-animation-container",he.current=nt;const Xe=U.clickedPosition.lng,pt=U.clickedPosition.lat,Ve=fe.current;if(Ve){const Pt=Ve.latLngToContainerPoint([pt,Xe]);nt.style.cssText=`
          position: absolute;
          left: ${Pt.x-ht.anchorX}px;
          top: ${Pt.y-ht.anchorY}px;
          width: ${ht.size}px;
          height: ${ht.size}px;
          z-index: 10000;
          pointer-events: none;
          background: transparent;
        `,console.log(`📍 Posição do clique: ${Xe}, ${pt}`),console.log(`🖥️ Posição na tela: ${Pt.x}, ${Pt.y}`),console.log(`🎯 Posição final com ancoragem: ${Pt.x-ht.anchorX}, ${Pt.y-ht.anchorY}`)}else nt.style.cssText=`
          position: fixed;
          left: 50%;
          top: 50%;
          transform: translate(-50%, -50%);
          width: ${ht.size}px;
          height: ${ht.size}px;
          z-index: 10000;
          pointer-events: none;
          background: transparent;
        `;const Ct=document.createElement("img");Ct.style.cssText=`
        width: 100%;
        height: 100%;
        object-fit: contain;
        display: block;
        filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3)) drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2)) contrast(1.3) saturate(1.4);
      `,Ct.src=Hr("1.png"),nt.appendChild(Ct);const gn=(Ee=fe.current)==null?void 0:Ee.getContainer();gn?(gn.appendChild(nt),console.log("🖼️ Sprite adicionado ao container do mapa")):(document.body.appendChild(nt),console.log("🖼️ Sprite adicionado ao body (fallback)")),console.log("🖼️ Elemento HTML do sprite criado e adicionado ao DOM"),console.log(`📏 Tamanho: ${ht.size}px`),console.log(`⏱️ Frame delay: ${ht.frameDelay}ms`),console.log(`🎬 FPS: ${ht.fps}`);const rn=()=>{if(console.log(`🖼️ Frame ${Ue}:`,Hr(`${Ue}.png`)),Ue<=Ye)if(Ct.src=Hr(`${Ue}.png`),Ue++,Ue<=Ye)console.log(`⏰ Próximo frame em ${ht.frameDelay}ms`),setTimeout(rn,ht.frameDelay);else{console.log("🏁 Animação do clique terminou, último frame permanecerá até o fim do round");const Pt=new CustomEvent("markerClickAnimationComplete",{detail:{timestamp:Date.now(),position:U.clickedPosition}});window.dispatchEvent(Pt),console.log("📡 Evento markerClickAnimationComplete disparado")}else console.log("❌ Animação finalizada")};console.log(`⏰ Iniciando animação em ${ht.frameDelay}ms...`),setTimeout(rn,ht.frameDelay)}},[U.clickedPosition]),k.useEffect(()=>{const Ee=Ue=>{if(!U.gameStarted||!fe.current)return;Ue.preventDefault();const Ye=fe.current,nt=Ye.getZoom(),Xe=Ye.getCenter();switch(Ue.key.toLowerCase()){case"z":nt<18&&(Ye.setZoom(nt+1),ne(nt+1));break;case"x":nt>10&&(Ye.setZoom(nt-1),ne(nt-1));break;case"arrowup":case"arrowdown":case"arrowleft":case"arrowright":const pt=.01;let Ve=Xe.lat,Ct=Xe.lng;switch(Ue.key.toLowerCase()){case"arrowup":Ve+=pt;break;case"arrowdown":Ve-=pt;break;case"arrowleft":Ct-=pt;break;case"arrowright":Ct+=pt;break}const gn=Lt.latLng(Math.max(-24.1,Math.min(-23.8,Ve)),Math.max(-46.5,Math.min(-46.2,Ct)));Ye.panTo(gn,{animate:!0}),ce([gn.lat,gn.lng]);break}};return window.addEventListener("keydown",Ee),()=>{window.removeEventListener("keydown",Ee)}},[U.gameStarted]),k.useEffect(()=>{if(M==="famous_places"&&P&&U.gameStarted){console.log("[useEffect] Iniciando sequência do modal do lugar famoso:",P),G(!0),Z(!0),oe(!0),me(0);const Ee=Date.now(),Ue=2e3,Ye=setInterval(()=>{const pt=Date.now()-Ee,Ve=Math.min(pt/Ue*100,100);me(Ve)},50),nt=setTimeout(()=>{console.log("[Modal] Movendo para o canto após 2 segundos"),G(!1),me(0),clearInterval(Ye)},2e3),Xe=setTimeout(()=>{console.log("[Modal] Iniciando timer após transição"),oe(!1)},2300);return()=>{clearTimeout(nt),clearTimeout(Xe),clearInterval(Ye)}}else M!=="famous_places"&&(Z(!1),G(!0),oe(!1),me(0))},[M,P,U.gameStarted]),k.useEffect(()=>{(async()=>{try{const Ue=await fetch("/geosantos//data/bairros.geojson");if(!Ue.ok)throw new Error(`HTTP error! status: ${Ue.status}`);const Ye=await Ue.json();l(Ye)}catch(Ue){console.error("Error fetching geojson data:",Ue),l(null)}})()},[]),k.useEffect(()=>{fe.current&&(window.mapInstance=fe.current)},[fe.current]),k.useEffect(()=>{C.current&&(U.gameStarted&&!U.gameOver&&!U.isMuted?(C.current.volume=U.volume*.3,C.current.play().catch(Ee=>{console.log("Erro ao tocar música de fundo:",Ee)})):(U.gameOver||U.isMuted)&&C.current.pause())},[U.gameStarted,U.gameOver,U.isMuted,U.volume]),k.useEffect(()=>{C.current&&(C.current.volume=U.volume*.3)},[U.volume]),k.useEffect(()=>{if(U.gameOver&&!u){const Ee=Date.now(),Ue=Math.floor((Ee-(U.lastClickTime||Ee))/1e3),Ye=Math.max(0,Math.min(1,1-U.totalDistance/6e3));_({playTime:Math.max(1,Ue),roundsPlayed:U.roundNumber,accuracy:Ye}),h(!0)}},[U.gameOver,u,U.lastClickTime,U.totalDistance,U.roundNumber]);const pn=k.useCallback(Ee=>{console.log("[handleNextRoundWithFamousPlaceReset] chamada. currentFamousPlace:",P),M==="famous_places"?(console.log("[handleNextRoundWithFamousPlaceReset] marcando próxima rodada como pendente"),kt(!0),mn(Ee),It()):Be(Ee)},[M,Be,It,P]),[it,kt]=k.useState(!1),[$n,mn]=k.useState(null);return k.useEffect(()=>{it&&$n&&P&&(console.log("[useEffect] Lugar famoso mudou, executando próxima rodada"),kt(!1),mn(null),requestAnimationFrame(()=>{console.log("[useEffect] Executando handleNextRound após frame"),Be($n)}))},[P,it,$n,Be]),f.jsxs("div",{style:{margin:0,padding:0,width:"100vw",height:"100vh",overflow:"hidden"},children:[f.jsx("audio",{ref:V,preload:"auto"}),f.jsx("audio",{ref:le,src:"/geosantos//assets/audio/sucess.mp3",preload:"auto"}),f.jsx("audio",{ref:q,src:"/geosantos//assets/audio/error.mp3",preload:"auto"}),f.jsx("audio",{ref:b,src:"/geosantos//assets/audio/game-start.mp3",preload:"auto"}),f.jsx("audio",{ref:C,src:"/geosantos//assets/audio/game_music.mp3",preload:"auto",loop:!0,onError:Ee=>{console.error("Erro ao carregar game_music.mp3:",Ee)},onLoadStart:()=>{console.log("Iniciando carregamento de game_music.mp3")},onCanPlay:()=>{console.log("game_music.mp3 carregado com sucesso")}}),f.jsx("style",{children:`
          .bandeira-marker {
            animation: plantBandeira 0.3s ease-out;
            transform-origin: bottom center;
            z-index: 2000;
          }

          @keyframes plantBandeira {
            0% {
              transform: scale(0.1) translateY(50px);
              opacity: 0;
            }
            50% {
              transform: scale(1.2) translateY(-5px);
              opacity: 1;
            }
            100% {
              transform: scale(1) translateY(0);
              opacity: 1;
            }
          }

          @keyframes plantSprite {
            0% {
              transform: scale(0.1) translateY(50px);
              opacity: 0;
            }
            50% {
              transform: scale(1.2) translateY(-5px);
              opacity: 1;
            }
            100% {
              transform: scale(1) translateY(0);
              opacity: 1;
            }
          }




          /* Ajustes para dispositivos móveis */
          @media (max-width: 768px) {
            .leaflet-container {
              touch-action: none !important;
            }

            .leaflet-control-container {
              display: none;
            }
          }

          /* Melhorias de acessibilidade */
          @media (prefers-reduced-motion: reduce) {
            * {
              animation-duration: 0.01ms !important;
              animation-iteration-count: 1 !important;
              transition-duration: 0.01ms !important;
              scroll-behavior: auto !important;
            }
          }

          /* Melhor contraste para textos */
          .game-text {
            text-shadow: 2px 2px 0px rgba(0, 0, 0, 0.8);
            font-family: 'VT323', monospace;
          }

          /* Indicador de foco melhorado */
          *:focus {
            outline: 3px solid var(--accent-green);
            outline-offset: 2px;
          }

          /* Loading spinner */
          .loading-spinner {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 2000;
            background: var(--bg-secondary);
            border: 2px solid var(--text-primary);
            padding: 20px;
            border-radius: 2px;
            color: var(--text-primary);
            text-align: center;
            box-shadow: var(--shadow-md);
            font-family: 'VT323', monospace;
          }

          @keyframes fadeInOut {
            0% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
            10% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
            80% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
            100% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
          }

          @keyframes fadeInOut {
            0% { opacity: 0; }
            10% { opacity: 1; }
            80% { opacity: 1; }
            100% { opacity: 0; }
          }

          @keyframes slideInUp {
            0% {
              opacity: 0;
              transform: translateY(30px);
            }
            100% {
              opacity: 1;
              transform: translateY(0);
            }
          }

          @keyframes bounceIn {
            0% {
              opacity: 0;
              transform: scale(0.3);
            }
            50% {
              opacity: 1;
              transform: scale(1.05);
            }
            70% {
              transform: scale(0.9);
            }
            100% {
              opacity: 1;
              transform: scale(1);
            }
          }

          @keyframes pulseText {
            0% {
              transform: scale(1);
            }
            50% {
              transform: scale(1.03);
            }
            100% {
              transform: scale(1);
            }
          }
        `}),f.jsx(Tw,{audioRef:V,successSoundRef:le,errorSoundRef:q,gameStartAudioRef:b,gameState:U,playSuccess:!1,playError:!1,showPhaseOneMessage:B}),U.gameStarted&&f.jsxs(f.Fragment,{children:[f.jsx("div",{style:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",display:"flex",gap:"20px",alignItems:"center",zIndex:1e3},children:f.jsx(mw,{icon:"target",value:U.score,unit:"pts"})}),f.jsx("div",{style:{position:"fixed",top:"20px",right:"20px",zIndex:1e3},children:f.jsx(Mw,{totalDistance:U.totalDistance,maxDistance:4e3})})]}),U.gameStarted&&f.jsxs(ks,{center:Re,zoom:ve,style:{width:"100%",height:"100%",zIndex:1},zoomControl:!1,attributionControl:!1,ref:fe,children:[f.jsx(Vd,{onClick:Qe}),f.jsx(Cs,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"}),M==="famous_places"&&U.showFeedback&&P&&f.jsx(j1,{position:[P.latitude,P.longitude],gameState:U}),U.arrowPath&&f.jsx(f_,{positions:U.arrowPath,color:"#FF0000",weight:3,opacity:.8,dashArray:"10, 10",className:"arrow-path"}),o&&f.jsx(Sw,{geoJsonData:o,revealedNeighborhoods:U.revealedNeighborhoods,currentNeighborhood:U.currentNeighborhood,onMapClick:Qe,geoJsonRef:Ce}),M==="neighborhoods"?f.jsx(Cw,{geoJsonData:o,geoJsonRef:Ce,updateGameState:ot,externalCurrentNeighborhood:U.currentNeighborhood,onNeighborhoodChanged:Ee=>{console.log("[Map] Bairro alterado no NeighborhoodManager:",Ee)},onStateChange:Ee=>{Ee.currentNeighborhood&&ot({currentNeighborhood:Ee.currentNeighborhood}),Ee.roundNumber&&ot({roundNumber:Ee.roundNumber}),Ee.score!==void 0&&ot({score:Ee.score}),Ee.revealedNeighborhoods&&ot({revealedNeighborhoods:Ee.revealedNeighborhoods})},onFeedback:Ee=>{console.log("[Map] Feedback recebido do NeighborhoodManager:",Ee)},onRoundComplete:()=>{if(console.log("[Map] Rodada completada no modo bairros"),U.gameOver){console.log("[Map] Game over detectado - mostrando modal");const Ee=Date.now(),Ue=Math.floor((Ee-(U.lastClickTime||Ee))/1e3),Ye=Math.max(0,Math.min(1,1-U.totalDistance/6e3));_({playTime:Math.max(1,Ue),roundsPlayed:U.roundNumber,accuracy:Ye}),h(!0)}}}):f.jsx(Pw,{onPlaceChange:j,currentPlace:P,isGameActive:U.gameStarted}),fe.current&&ae&&f.jsx(kw,{map:fe.current,distanceCircle:ae,onAnimationComplete:()=>rt(null)})]}),U.gameStarted&&f.jsx(iw,{isMuted:U.isMuted,volume:U.volume,onVolumeChange:de,onToggleMute:Le}),f.jsx(hw,{gameStarted:U.gameStarted,currentNeighborhood:U.currentNeighborhood,globalTimeLeft:U.globalTimeLeft,roundTimeLeft:U.roundTimeLeft,roundNumber:U.roundNumber,roundInitialTime:U.roundInitialTime,score:U.score,onStartGame:()=>St(),getProgressBarColor:vp,currentMode:M,onModeChange:T,currentFamousPlace:P||void 0}),U.gameStarted&&f.jsxs("div",{style:{position:"fixed",bottom:"20px",right:"20px",background:"rgba(0, 0, 0, 0.8)",color:"var(--text-primary)",padding:"8px 12px",borderRadius:"4px",fontSize:"0.8rem",fontFamily:"'LaCartoonerie', sans-serif",zIndex:1e3,display:"flex",flexDirection:"column",gap:"4px",backdropFilter:"blur(4px)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx("span",{style:{color:"var(--accent-green)"},children:"Z"}),f.jsx("span",{children:"Zoom In"}),f.jsx("span",{style:{marginLeft:"8px",color:"var(--accent-green)"},children:"X"}),f.jsx("span",{children:"Zoom Out"})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx("span",{style:{color:"var(--accent-blue)"},children:"↑↓←→"}),f.jsx("span",{children:"Mover Mapa"})]})]}),U.showFeedback&&!u&&f.jsx(bw,{showFeedback:U.showFeedback,clickedPosition:U.clickedPosition,arrowPath:U.arrowPath,clickTime:U.clickTime,feedbackProgress:U.feedbackProgress,onNextRound:pn,calculateDistance:Md,calculateScore:gm,getProgressBarColor:vp,geoJsonData:o,gameOver:U.gameOver,onPauseGame:Se,onResumeGame:Ae,score:U.score,currentNeighborhood:U.currentNeighborhood,currentMode:M,currentFamousPlace:P||void 0,isPaused:R}),B&&f.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.95)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",animation:"fadeInOut 3s forwards",zIndex:2e3},children:f.jsxs("div",{style:{textAlign:"center",maxWidth:"90%",animation:"slideInUp 0.8s ease-out 0.3s both"},children:[f.jsx("div",{style:{fontSize:window.innerWidth<768?"3rem":"4rem",marginBottom:"20px",animation:"bounceIn 1s ease-out 0.5s both"},children:M==="neighborhoods"?f.jsx(xm,{size:window.innerWidth<768?48:64,color:"var(--accent-green)"}):f.jsx(wm,{size:window.innerWidth<768?48:64,color:"var(--accent-green)"})}),f.jsx("h1",{style:{fontSize:window.innerWidth<768?"2rem":"3rem",color:"var(--accent-green)",marginBottom:"15px",fontWeight:800,textTransform:"uppercase",letterSpacing:"2px",animation:"slideInUp 0.8s ease-out 0.7s both",fontFamily:"'LaCartoonerie', cursive"},children:M==="neighborhoods"?"Nível 1: Bairros Conhecidos":"Lugares Famosos"}),f.jsx("p",{style:{fontSize:window.innerWidth<768?"1rem":"1.3rem",color:"var(--text-primary)",marginBottom:"25px",fontWeight:600,animation:"slideInUp 0.8s ease-out 0.9s both",fontFamily:"'LaCartoonerie', cursive"},children:M==="neighborhoods"?"Clique no mapa onde você acha que está o bairro!":"Encontre o lugar famoso no mapa!"})]})}),f.jsx(M1,{isOpen:u,onClose:()=>{h(!1),window.location.reload()},onPlayAgain:()=>{h(!1),window.location.reload()},score:U.score,playTime:p.playTime,roundsPlayed:p.roundsPlayed,accuracy:p.accuracy,currentPlayerName:y||w()}),f.jsx(L1,{open:z,onClose:()=>Z(!1),famousPlace:P,isCentered:Y,timeProgress:se,onPauseGame:Se,onResumeGame:Ae,onNextRound:()=>{M==="famous_places"&&o&&pn(o)},isPaused:R,gameOver:U.gameOver,feedbackProgress:U.feedbackProgress,geoJsonData:o})]})},O1=()=>{const{places:s,isLoading:r,error:o}=Mm(),[l,u]=k.useState(null),[h,p]=k.useState(!1),_=new Eu.Icon({iconUrl:"https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/images/marker-icon.png",iconSize:[32,48],iconAnchor:[16,48],popupAnchor:[0,-48]}),y=C=>{u(C)},w=()=>{p(!0)},b=()=>{p(!1)};return f.jsxs("div",{style:{maxWidth:1400,minWidth:320,width:"100%",margin:"40px auto",background:"var(--bg-secondary)",border:"4px solid var(--accent-green)",borderRadius:0,boxShadow:"8px 8px 0 #222, 0 0 0 4px #fff",padding:24,fontFamily:"'Press Start 2P', monospace",color:"var(--text-primary)",minHeight:"calc(100vh - 80px)",display:"flex",flexDirection:"row",gap:32,flexWrap:"wrap"},children:[f.jsx(bs,{to:"/",style:{position:"absolute",top:"20px",left:"20px",zIndex:10,background:"#1a4d2e",color:"#fff",border:"none",borderRadius:"6px",padding:"12px 20px",fontSize:"1rem",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",transition:"all 0.2s ease",textDecoration:"none"},children:"← Voltar ao Jogo"}),f.jsxs("div",{style:{flex:"1 1 300px",minWidth:280,maxWidth:400,display:"flex",flexDirection:"column",gap:0,height:"calc(100vh - 120px)",overflowY:"auto",background:"#fff",border:"2px solid #222",borderRadius:0,boxShadow:"4px 4px 0 #222",padding:16},children:[f.jsx("h2",{style:{fontSize:"1.2rem",color:"#222",marginBottom:16,fontFamily:"'Press Start 2P', monospace",textTransform:"uppercase",textAlign:"center",fontWeight:700,textShadow:"2px 2px 0 #ccc"},children:"Lugares Famosos"}),r&&f.jsx("div",{style:{color:"#888",fontSize:"0.9rem",textAlign:"center",fontFamily:"'VT323', monospace"},children:"Carregando lugares..."}),o&&f.jsxs("div",{style:{color:"red",fontSize:"0.9rem",textAlign:"center",fontFamily:"'VT323', monospace"},children:["Erro ao carregar lugares: ",o]}),s.length===0&&!r&&f.jsx("div",{style:{color:"#888",fontSize:"0.9rem",textAlign:"center",fontFamily:"'VT323', monospace"},children:"Nenhum lugar encontrado."}),s.map(C=>f.jsxs("div",{onClick:()=>y(C),style:{display:"flex",alignItems:"center",gap:12,borderBottom:"1px dashed #ccc",padding:"12px 8px",cursor:"pointer",background:(l==null?void 0:l.id)===C.id?"#f0f8f0":"transparent",border:(l==null?void 0:l.id)===C.id?"2px solid var(--accent-green)":"none",borderRadius:(l==null?void 0:l.id)===C.id?"4px":"0",transition:"all 0.2s ease"},onMouseEnter:M=>{(l==null?void 0:l.id)!==C.id&&(M.currentTarget.style.background="#f5f5f5")},onMouseLeave:M=>{(l==null?void 0:l.id)!==C.id&&(M.currentTarget.style.background="transparent")},children:[f.jsx("img",{src:C.imageUrl||"https://via.placeholder.com/48x48?text=?",alt:C.name,style:{width:48,height:48,objectFit:"cover",border:"2px solid #222",background:"#fff",borderRadius:0}}),f.jsxs("div",{style:{flex:1},children:[f.jsx("div",{style:{fontWeight:700,fontSize:"0.8rem",color:"#222",fontFamily:"'Press Start 2P', monospace",lineHeight:1.2,marginBottom:"4px"},children:C.name}),f.jsx("div",{style:{fontSize:"0.7rem",color:"#444",fontFamily:"'VT323', monospace",fontStyle:"italic"},children:C.category})]})]},C.id))]}),f.jsx("div",{style:{flex:"2 1 500px",minWidth:320,maxWidth:900,display:"flex",flexDirection:"column",gap:0,background:"#fff",border:"2px solid #222",borderRadius:0,boxShadow:"4px 4px 0 #222",padding:24,height:"calc(100vh - 120px)",overflowY:"auto",overflowX:"hidden"},children:l?f.jsxs(f.Fragment,{children:[f.jsx("h1",{style:{fontFamily:"'Press Start 2P', monospace",color:"var(--accent-green)",fontSize:"1.4rem",textAlign:"center",textTransform:"uppercase",fontWeight:700,letterSpacing:"1px",textShadow:"2px 2px 0 #222",marginBottom:16},children:l.name}),f.jsx("div",{style:{fontSize:"1rem",color:"#444",textAlign:"center",fontFamily:"'VT323', monospace",fontStyle:"italic",marginBottom:20,padding:"8px 16px",background:"#f0f0f0",border:"1px solid #ccc",borderRadius:"4px"},children:l.category}),f.jsx("img",{src:l.imageUrl||"https://via.placeholder.com/400x250?text=Sem+Imagem",alt:l.name,style:{width:"100%",maxWidth:400,height:250,objectFit:"cover",borderRadius:"8px",margin:"0 auto 20px auto",border:"3px solid #222",boxShadow:"4px 4px 0 #222",background:"#eee"}}),f.jsx("div",{style:{fontSize:"1rem",color:"#222",lineHeight:1.6,textAlign:"justify",fontFamily:"'Georgia', serif",marginBottom:20,padding:"16px",background:"#f9f9f9",border:"1px solid #ddd",borderRadius:"4px"},children:l.description}),f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",padding:"16px",background:"#f0f8f0",border:"1px solid var(--accent-green)",borderRadius:"4px"},children:[f.jsxs("div",{style:{fontSize:"0.9rem",color:"#222",fontFamily:"'VT323', monospace"},children:[f.jsx("strong",{children:"📍 Endereço:"})," ",l.address]}),f.jsxs("div",{style:{fontSize:"0.9rem",color:"#222",fontFamily:"'VT323', monospace"},children:[f.jsx("strong",{children:"🌍 Coordenadas:"})," ",l.latitude,", ",l.longitude]})]}),f.jsx("div",{style:{width:"100%",minHeight:350,height:"auto",marginTop:"20px",border:"3px solid #222",borderRadius:"8px",overflow:"hidden",boxShadow:"4px 4px 0 #222",flexShrink:0},children:f.jsxs(ks,{center:[l.latitude,l.longitude],zoom:15,style:{width:"100%",height:"100%"},scrollWheelZoom:!0,children:[f.jsx(Cs,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© OpenStreetMap contributors"}),f.jsx(Es,{position:[l.latitude,l.longitude],icon:_,children:f.jsx(gp,{children:f.jsxs("div",{style:{fontFamily:"'Press Start 2P', monospace",fontSize:"0.8rem",textAlign:"center"},children:[f.jsx("strong",{children:l.name}),f.jsx("br",{}),f.jsx("span",{style:{fontFamily:"'VT323', monospace",fontSize:"0.9rem",fontStyle:"italic"},children:l.category})]})})})]})})]}):f.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"#888",fontFamily:"'VT323', monospace",fontSize:"1.2rem",textAlign:"center"},children:[f.jsx("div",{style:{fontSize:"3rem",marginBottom:"16px"},children:"📍"}),f.jsx("div",{style:{marginBottom:"8px",fontFamily:"'Press Start 2P', monospace",fontSize:"1rem",color:"#222"},children:"Selecione um lugar"}),f.jsx("div",{style:{marginBottom:"20px"},children:"Clique em um lugar na lista ao lado para ver seus detalhes"}),f.jsx("div",{style:{width:"100%",minHeight:450,height:"auto",border:"3px solid #222",borderRadius:"8px",overflow:"hidden",boxShadow:"4px 4px 0 #222",flexShrink:0},children:f.jsxs(ks,{center:[-23.9618,-46.3322],zoom:12,style:{width:"100%",height:"100%"},scrollWheelZoom:!0,children:[f.jsx(Cs,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© OpenStreetMap contributors"}),s.map(C=>f.jsx(Es,{position:[C.latitude,C.longitude],icon:_,children:f.jsx(gp,{children:f.jsxs("div",{style:{fontFamily:"'Press Start 2P', monospace",fontSize:"0.7rem",textAlign:"center",maxWidth:"200px"},children:[f.jsx("strong",{children:C.name}),f.jsx("br",{}),f.jsx("span",{style:{fontFamily:"'VT323', monospace",fontSize:"0.8rem",fontStyle:"italic"},children:C.category}),f.jsx("br",{}),f.jsx("span",{style:{fontFamily:"'VT323', monospace",fontSize:"0.7rem",color:"#666"},children:C.address})]})})},C.id))]})}),f.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:f.jsx("button",{onClick:w,style:{background:"var(--accent-green)",color:"var(--bg-primary)",border:"3px solid #222",borderRadius:"4px",padding:"12px 20px",fontSize:"0.9rem",fontFamily:"'Press Start 2P', monospace",fontWeight:700,cursor:"pointer",textTransform:"uppercase",letterSpacing:"1px",boxShadow:"4px 4px 0 #222",transition:"all 0.1s ease"},onMouseEnter:C=>{C.currentTarget.style.transform="translate(-2px, -2px)",C.currentTarget.style.boxShadow="6px 6px 0 #222"},onMouseLeave:C=>{C.currentTarget.style.transform="translate(0, 0)",C.currentTarget.style.boxShadow="4px 4px 0 #222"},children:"💡 Sentiu falta de algum lugar? Envie uma sugestão!"})})]})}),h&&f.jsx(Cm,{onClose:b})]})},I1=()=>{const[s,r]=k.useState(null),[o,l]=k.useState("markerclick"),u=P=>({...{size:ht.size,anchorY:ht.anchorY,fps:ht.fps},anchorX:P==="bandeira_correta"?85:25}),[h,p]=k.useState(()=>u(o)),[_,y]=k.useState(!1),w=k.useRef(""),b=()=>(mm({click:P=>{_||r([P.latlng.lat,P.latlng.lng])}}),null),C=(P,j)=>{let z;return j==="bandeira_correta"?(z=ym(`${P}.png`),console.log("🏁 Bandeira Correta - Frame:",P,"URL:",z)):(z=Hr(`${P}.png`),console.log("🎯 Marker Click - Frame:",P,"URL:",z)),z},M=P=>{if(_)return;console.log("🎬 Iniciando animação:",{position:P,type:o}),y(!0),w.current=`sprite-frame-${Date.now()}-${Math.random()}`;let j=1;const z=16,Z=1e3/h.fps,Y=()=>{const G=document.getElementById(w.current);if(G&&j<=z){const X=C(j,o);if(console.log(`🖼️ Frame ${j}:`,X),G.setAttribute("src",X),j++,j<=z)setTimeout(Y,Z);else{const oe=o==="bandeira_correta"?yp.bandeira_correta:yp.markerclick;console.log(`🎯 Animação terminou! Sprite final permanecerá por ${oe}ms`),setTimeout(()=>{console.log("🗑️ Removendo sprite final"),y(!1),r(null)},oe)}}else console.log("❌ Sprite não encontrado ou frame inválido"),y(!1),r(null)};setTimeout(Y,Z)};k.useEffect(()=>{console.log("🔄 useEffect chamado:",{clickedPosition:s,selectedAnimation:o}),s&&(console.log("🎯 Posição clicada, iniciando animação..."),M(s))},[s,o]),k.useEffect(()=>{console.log("🔄 Mudando tipo de animação para:",o);const P=u(o);p(P),console.log("⚙️ Novas configurações aplicadas:",P)},[o]);const T=(P,j)=>{p(z=>({...z,[P]:j}))};return f.jsxs("div",{style:{width:"100vw",height:"100vh",position:"relative"},children:[f.jsxs("div",{style:{position:"absolute",top:"20px",left:"20px",zIndex:1e3,backgroundColor:"rgba(255, 255, 255, 0.95)",padding:"20px",borderRadius:"10px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",minWidth:"300px"},children:[f.jsx("h2",{style:{margin:"0 0 20px 0",color:"#333"},children:"🎮 Configurações da Animação"}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("label",{style:{display:"block",marginBottom:"10px",fontWeight:"bold",color:"#333"},children:"🎬 Tipo de Animação:"}),f.jsxs("div",{style:{display:"flex",gap:"10px"},children:[f.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"5px",cursor:"pointer"},children:[f.jsx("input",{type:"radio",name:"animationType",value:"markerclick",checked:o==="markerclick",onChange:P=>{console.log("🎯 Mudando para Marker Click"),l(P.target.value)}}),f.jsx("span",{style:{fontSize:"14px"},children:"🎯 Marker Click"})]}),f.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"5px",cursor:"pointer"},children:[f.jsx("input",{type:"radio",name:"animationType",value:"bandeira_correta",checked:o==="bandeira_correta",onChange:P=>{console.log("🏁 Mudando para Bandeira Correta"),l(P.target.value)}}),f.jsx("span",{style:{fontSize:"14px"},children:"🏁 Bandeira Correta"})]})]})]}),f.jsxs("div",{style:{marginBottom:"15px"},children:[f.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:["Tamanho: ",h.size,"px"]}),f.jsx("input",{type:"range",min:"30",max:"150",value:h.size,onChange:P=>T("size",parseInt(P.target.value)),style:{width:"100%"}})]}),f.jsxs("div",{style:{marginBottom:"15px"},children:[f.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:["Âncora X: ",h.anchorX,"px"]}),f.jsx("input",{type:"range",min:"0",max:h.size,value:h.anchorX,onChange:P=>T("anchorX",parseInt(P.target.value)),style:{width:"100%"}})]}),f.jsxs("div",{style:{marginBottom:"15px"},children:[f.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:["Âncora Y: ",h.anchorY,"px"]}),f.jsx("input",{type:"range",min:"0",max:h.size,value:h.anchorY,onChange:P=>T("anchorY",parseInt(P.target.value)),style:{width:"100%"}})]}),f.jsxs("div",{style:{marginBottom:"15px"},children:[f.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:["FPS: ",h.fps]}),f.jsx("input",{type:"range",min:"5",max:"30",value:h.fps,onChange:P=>T("fps",parseInt(P.target.value)),style:{width:"100%"}})]}),f.jsx("div",{style:{padding:"10px",backgroundColor:_?"#ffeb3b":"#e8f5e8",borderRadius:"5px",textAlign:"center",fontWeight:"bold"},children:_?"🎬 Animando...":"✅ Pronto para clicar"}),f.jsxs("div",{style:{marginTop:"15px",fontSize:"12px",color:"#666"},children:[f.jsx("p",{children:f.jsx("strong",{children:"Instruções:"})}),f.jsx("p",{children:"• Escolha o tipo de animação acima"}),f.jsx("p",{children:"• Clique em qualquer lugar do mapa para ativar"}),f.jsx("p",{children:"• Ajuste as configurações para personalizar"}),f.jsx("p",{children:"• A animação só funciona quando não está rodando"})]})]}),f.jsxs("div",{style:{position:"absolute",top:"20px",right:"20px",zIndex:1e3,backgroundColor:"rgba(0, 0, 0, 0.9)",color:"white",padding:"20px",borderRadius:"10px",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",minWidth:"280px",fontFamily:"monospace"},children:[f.jsx("h3",{style:{margin:"0 0 15px 0",color:"#00ff88",textAlign:"center"},children:"📊 Dados em Tempo Real"}),f.jsxs("div",{style:{marginBottom:"10px"},children:[f.jsx("span",{style:{color:"#ffaa00"},children:"🎬 Tipo:"}),f.jsx("span",{style:{float:"right",color:"#00ff88"},children:o==="markerclick"?"🎯 Marker Click":"🏁 Bandeira Correta"})]}),f.jsxs("div",{style:{marginBottom:"10px"},children:[f.jsx("span",{style:{color:"#ffaa00"},children:"🎯 Tamanho:"}),f.jsxs("span",{style:{float:"right",color:"#00ff88"},children:[h.size,"px"]})]}),f.jsxs("div",{style:{marginBottom:"10px"},children:[f.jsx("span",{style:{color:"#ffaa00"},children:"📍 Âncora X:"}),f.jsxs("span",{style:{float:"right",color:"#00ff88"},children:[h.anchorX,"px"]})]}),f.jsxs("div",{style:{marginBottom:"10px"},children:[f.jsx("span",{style:{color:"#ffaa00"},children:"📍 Âncora Y:"}),f.jsxs("span",{style:{float:"right",color:"#00ff88"},children:[h.anchorY,"px"]})]}),f.jsxs("div",{style:{marginBottom:"10px"},children:[f.jsx("span",{style:{color:"#ffaa00"},children:"🎬 FPS:"}),f.jsx("span",{style:{float:"right",color:"#00ff88"},children:h.fps})]}),f.jsxs("div",{style:{marginBottom:"10px"},children:[f.jsx("span",{style:{color:"#ffaa00"},children:"⏱️ Delay:"}),f.jsxs("span",{style:{float:"right",color:"#00ff88"},children:[Math.round(1e3/h.fps),"ms"]})]}),f.jsxs("div",{style:{marginBottom:"10px"},children:[f.jsx("span",{style:{color:"#ffaa00"},children:"🔄 Duração Total:"}),f.jsxs("span",{style:{float:"right",color:"#00ff88"},children:[Math.round(16*1e3/h.fps),"ms"]})]}),f.jsx("div",{style:{marginTop:"15px",padding:"8px",backgroundColor:_?"#ff4444":"#00aa44",borderRadius:"5px",textAlign:"center",fontSize:"12px",fontWeight:"bold"},children:_?"🎬 ANIMANDO":"✅ PRONTO"}),s&&f.jsxs("div",{style:{marginTop:"10px",padding:"8px",backgroundColor:"#4444ff",borderRadius:"5px",fontSize:"11px",textAlign:"center"},children:["📍 Lat: ",s[0].toFixed(6),f.jsx("br",{}),"📍 Lng: ",s[1].toFixed(6)]})]}),f.jsxs(ks,{center:[-23.9618,-46.3322],zoom:13,style:{width:"100%",height:"100%"},zoomControl:!0,children:[f.jsx(Cs,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),f.jsx(b,{}),s&&f.jsx(Es,{position:s,icon:new Eu.DivIcon({html:`
                <div class="sprite-marker" style="width: ${h.size}px; height: ${h.size}px; position: relative;">
                  <img id="${w.current}" src="${C(1,o)}" 
                       style="width: 100%; height: 100%; object-fit: contain; animation: plantSprite 0.3s ease-out; filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3)) drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2)) contrast(1.3) saturate(1.4);" />
                </div>
              `,className:"sprite-marker-icon",iconSize:[h.size,h.size],iconAnchor:[h.anchorX,h.anchorY]})})]}),f.jsx("style",{children:`
        .sprite-marker-icon {
          background: transparent !important;
          border: none !important;
        }
        
        @keyframes plantSprite {
          0% {
            transform: scale(0) rotate(0deg);
            opacity: 0;
          }
          50% {
            transform: scale(1.2) rotate(180deg);
            opacity: 0.8;
          }
          100% {
            transform: scale(1) rotate(360deg);
            opacity: 1;
          }
        }
        
        .leaflet-control-zoom {
          margin-right: 20px !important;
        }
      `})]})},N1=()=>{const s=Hr("1.png");return console.log("🧪 SpriteDebug - URL gerada:",s),f.jsxs("div",{style:{padding:"20px",border:"2px solid red",margin:"20px",backgroundColor:"#fff"},children:[f.jsx("h2",{children:"🧪 Debug dos Sprites"}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h3",{children:"URLs de teste:"}),f.jsxs("p",{children:[f.jsx("strong",{children:"getSpriteUrl('1.png'):"})," ",s]}),f.jsxs("p",{children:[f.jsx("strong",{children:"getSpriteUrl('2.png'):"})," ",Hr("2.png")]}),f.jsxs("p",{children:[f.jsx("strong",{children:"getSpriteUrl('16.png'):"})," ",Hr("16.png")]})]}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h3",{children:"Teste de carregamento:"}),f.jsx("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16].map(r=>f.jsxs("div",{style:{border:"1px solid #ccc",padding:"5px",textAlign:"center",width:"80px"},children:[f.jsxs("p",{style:{margin:"0 0 5px 0",fontSize:"12px"},children:["Frame ",r]}),f.jsx("img",{src:Hr(`${r}.png`),alt:`Frame ${r}`,style:{width:"60px",height:"60px",objectFit:"contain",border:"1px solid #ddd"},onLoad:()=>console.log(`✅ Frame ${r} carregado com sucesso`),onError:o=>console.error(`❌ Erro ao carregar frame ${r}:`,o)})]},r))})]}),f.jsxs("div",{style:{marginTop:"20px",padding:"10px",backgroundColor:"#f0f0f0"},children:[f.jsx("h3",{children:"Console Logs:"}),f.jsx("p",{children:"Abra o console do navegador (F12) para ver os logs detalhados"}),f.jsx("p",{children:"Verifique se as URLs estão sendo geradas corretamente"}),f.jsx("p",{children:"Verifique se as imagens estão sendo carregadas"})]})]})},ut={useRefactoredModules:!0,neighborhood:{useRefactored:!0},famousPlaces:{useRefactored:!0},common:{useRefactored:!0},gameMode:{useRefactored:!0}},_u=s=>{const r=ut;return r.useRefactoredModules?s.includes("neighborhood")?r.neighborhood.useRefactored:s.includes("famousPlaces")||s.includes("famous_places")?r.famousPlaces.useRefactored:s.includes("common")||s.includes("BaseGameMode")?r.common.useRefactored:s.includes("useGameMode")?r.gameMode.useRefactored:!1:!1},z1=s=>{var r;if(_u(s)){const o=s.replace(/\.(ts|tsx)$/,""),l=((r=s.match(/\.(ts|tsx)$/))==null?void 0:r[1])||"ts";return`${o}-refactored.${l}`}return s},D1=s=>{s.includes("neighborhood")?ut.neighborhood.useRefactored=!ut.neighborhood.useRefactored:s.includes("famousPlaces")||s.includes("famous_places")?ut.famousPlaces.useRefactored=!ut.famousPlaces.useRefactored:s.includes("common")||s.includes("BaseGameMode")?ut.common.useRefactored=!ut.common.useRefactored:s.includes("useGameMode")&&(ut.gameMode.useRefactored=!ut.gameMode.useRefactored),console.log(`[GameModeConfig] Alternado versão para ${s}:`,_u(s))},F1=()=>{ut.useRefactoredModules=!ut.useRefactoredModules,ut.useRefactoredModules?(ut.neighborhood.useRefactored=!0,ut.famousPlaces.useRefactored=!0,ut.common.useRefactored=!0,ut.gameMode.useRefactored=!0):(ut.neighborhood.useRefactored=!1,ut.famousPlaces.useRefactored=!1,ut.common.useRefactored=!1,ut.gameMode.useRefactored=!1),console.log("[GameModeConfig] Todas as versões alternadas para:",ut.useRefactoredModules)},Rd=()=>({global:ut.useRefactoredModules,neighborhood:ut.neighborhood.useRefactored,famousPlaces:ut.famousPlaces.useRefactored,common:ut.common.useRefactored,gameMode:ut.gameMode.useRefactored});console.log("[GameModeConfig] Configuração carregada:",Rd());class Tn{static async loadModule(r){const o=r;if(this.moduleCache.has(o))return this.moduleCache.get(o);try{let l=r;_u(r)?(l=z1(r),console.log(`[GameModeFactory] Carregando versão refatorada: ${l}`)):console.log(`[GameModeFactory] Carregando versão original: ${l}`);const u=await import(l);return this.moduleCache.set(o,u),u}catch(l){if(console.error(`[GameModeFactory] Erro ao carregar módulo ${r}:`,l),_u(r)){console.log(`[GameModeFactory] Fallback para versão original: ${r}`);try{const u=await import(r);return this.moduleCache.set(o,u),u}catch(u){throw console.error("[GameModeFactory] Fallback também falhou:",u),u}}throw l}}static async createMode(r,o={}){try{let l,u;r==="neighborhoods"?(l="../components/game/modes/NeighborhoodMode/NeighborhoodMode",u="NeighborhoodMode"):(l="../components/game/modes/FamousPlacesMode/FamousPlacesMode",u="FamousPlacesMode");const p=(await this.loadModule(l))[u];if(!p)throw new Error(`Componente ${u} não encontrado no módulo`);return console.log(`[GameModeFactory] Modo ${r} criado com sucesso`),new p(o)}catch(l){throw console.error(`[GameModeFactory] Erro ao criar modo ${r}:`,l),l}}static async createHook(r,o={}){try{let l,u;r==="neighborhoods"?(l="../hooks/modes/useNeighborhoodGame",u="useNeighborhoodGame"):(l="../hooks/modes/useFamousPlacesGame",u="useFamousPlacesGame");const p=(await this.loadModule(l))[u];if(!p)throw new Error(`Hook ${u} não encontrado no módulo`);return console.log(`[GameModeFactory] Hook ${r} criado com sucesso`),p(o)}catch(l){throw console.error(`[GameModeFactory] Erro ao criar hook ${r}:`,l),l}}static async createGameModeHook(r={}){try{const o="../hooks/modes/useGameMode",l="useGameMode",h=(await this.loadModule(o))[l];if(!h)throw new Error(`Hook ${l} não encontrado no módulo`);return console.log("[GameModeFactory] Hook principal criado com sucesso"),h(r)}catch(o){throw console.error("[GameModeFactory] Erro ao criar hook principal:",o),o}}static async loadValidationUtils(r){try{let o;r==="neighborhoods"?o="../utils/modes/neighborhood/validation":o="../utils/modes/famousPlaces/validation";const l=await this.loadModule(o);return console.log(`[GameModeFactory] Utilitários de validação ${r} carregados`),l}catch(o){throw console.error(`[GameModeFactory] Erro ao carregar utilitários de validação ${r}:`,o),o}}static async loadScoringUtils(r){try{let o;r==="neighborhoods"?o="../utils/modes/neighborhood/scoring":o="../utils/modes/famousPlaces/scoring";const l=await this.loadModule(o);return console.log(`[GameModeFactory] Utilitários de pontuação ${r} carregados`),l}catch(o){throw console.error(`[GameModeFactory] Erro ao carregar utilitários de pontuação ${r}:`,o),o}}static clearCache(){this.moduleCache.clear(),console.log("[GameModeFactory] Cache limpo")}static getCacheStatus(){return{size:this.moduleCache.size,keys:Array.from(this.moduleCache.keys())}}}mr(Tn,"moduleCache",new Map);console.log("[GameModeFactory] Factory inicializado");const B1=()=>{const[s,r]=k.useState(!1),[o,l]=k.useState(null),[u,h]=k.useState(Rd()),p=k.useCallback(()=>{h(Rd())},[]),_=k.useCallback(async()=>{try{r(!0),l(null),Tn.clearCache(),F1(),p(),console.log("[useGameModeLoader] Todas as versões alternadas")}catch(T){l(T instanceof Error?T.message:"Erro desconhecido"),console.error("[useGameModeLoader] Erro ao alternar versões:",T)}finally{r(!1)}},[p]),y=k.useCallback(async T=>{try{r(!0),l(null),Tn.clearCache(),D1(T),p(),console.log(`[useGameModeLoader] Versão alternada para ${T}`)}catch(P){l(P instanceof Error?P.message:"Erro desconhecido"),console.error("[useGameModeLoader] Erro ao alternar módulo:",P)}finally{r(!1)}},[p]),w=k.useCallback(async T=>{try{r(!0),l(null),console.log(`[useGameModeLoader] Testando carregamento do modo ${T}`);const P=await Tn.createMode(T);console.log(`[useGameModeLoader] Modo ${T} criado:`,P.mode);const j=await Tn.createHook(T);console.log(`[useGameModeLoader] Hook ${T} criado`);const z=await Tn.loadValidationUtils(T);console.log(`[useGameModeLoader] Utilitários de validação ${T} carregados`);const Z=await Tn.loadScoringUtils(T);return console.log(`[useGameModeLoader] Utilitários de pontuação ${T} carregados`),console.log(`[useGameModeLoader] Teste do modo ${T} concluído com sucesso`),{mode:P,hook:j,validation:z,scoring:Z}}catch(P){const j=P instanceof Error?P.message:"Erro desconhecido";throw l(j),console.error(`[useGameModeLoader] Erro ao testar modo ${T}:`,P),P}finally{r(!1)}},[]),b=k.useCallback(async()=>{try{r(!0),l(null),console.log("[useGameModeLoader] Testando carregamento do hook principal");const T=await Tn.createGameModeHook();return console.log("[useGameModeLoader] Hook principal criado com sucesso"),T}catch(T){const P=T instanceof Error?T.message:"Erro desconhecido";throw l(P),console.error("[useGameModeLoader] Erro ao testar hook principal:",T),T}finally{r(!1)}},[]),C=k.useCallback(()=>{try{Tn.clearCache(),console.log("[useGameModeLoader] Cache limpo");const T=Tn.getCacheStatus();console.log("[useGameModeLoader] Status do cache:",T)}catch(T){console.error("[useGameModeLoader] Erro ao limpar cache:",T)}},[]),M=k.useCallback(()=>Tn.getCacheStatus(),[]);return k.useEffect(()=>{const T=setInterval(p,1e3);return()=>clearInterval(T)},[p]),{isLoading:s,error:o,moduleStatus:u,toggleAllVersions:_,toggleModule:y,testModeLoading:w,testGameModeHook:b,clearCache:C,getCacheStatus:M,updateModuleStatus:p}},U1=()=>{const{isLoading:s,error:r,moduleStatus:o,toggleAllVersions:l,toggleModule:u,testModeLoading:h,testGameModeHook:p,clearCache:_,getCacheStatus:y}=B1(),w=async P=>{try{console.log(`[GameModeLoaderTest] Testando modo ${P}`);const j=await h(P);console.log(`[GameModeLoaderTest] Resultado do teste ${P}:`,j),alert(`Modo ${P} testado com sucesso!`)}catch(j){console.error(`[GameModeLoaderTest] Erro no teste ${P}:`,j),alert(`Erro ao testar modo ${P}: ${j instanceof Error?j.message:"Erro desconhecido"}`)}},b=async()=>{try{console.log("[GameModeLoaderTest] Testando hook principal");const P=await p();console.log("[GameModeLoaderTest] Resultado do teste hook principal:",P),alert("Hook principal testado com sucesso!")}catch(P){console.error("[GameModeLoaderTest] Erro no teste hook principal:",P),alert(`Erro ao testar hook principal: ${P instanceof Error?P.message:"Erro desconhecido"}`)}},C=async()=>{try{console.log("[GameModeLoaderTest] Alternando todas as versões"),await l(),alert("Todas as versões alternadas!")}catch(P){console.error("[GameModeLoaderTest] Erro ao alternar versões:",P),alert(`Erro ao alternar versões: ${P instanceof Error?P.message:"Erro desconhecido"}`)}},M=async P=>{try{console.log(`[GameModeLoaderTest] Alternando módulo ${P}`),await u(P),alert(`Módulo ${P} alternado!`)}catch(j){console.error(`[GameModeLoaderTest] Erro ao alternar módulo ${P}:`,j),alert(`Erro ao alternar módulo ${P}: ${j instanceof Error?j.message:"Erro desconhecido"}`)}},T=()=>{try{_();const P=y();console.log("[GameModeLoaderTest] Cache limpo:",P),alert("Cache limpo com sucesso!")}catch(P){console.error("[GameModeLoaderTest] Erro ao limpar cache:",P),alert(`Erro ao limpar cache: ${P instanceof Error?P.message:"Erro desconhecido"}`)}};return f.jsxs("div",{className:"game-mode-loader-test",style:{padding:"20px",border:"2px solid #007bff",borderRadius:"8px",margin:"20px",backgroundColor:"#f8f9fa"},children:[f.jsx("h3",{style:{color:"#007bff",marginBottom:"20px"},children:"🧪 Teste do Sistema de Carregamento de Módulos"}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"📊 Status dos Módulos:"}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px"},children:[f.jsxs("div",{style:{padding:"10px",backgroundColor:o.global?"#d4edda":"#f8d7da",borderRadius:"4px"},children:[f.jsx("strong",{children:"Global:"})," ",o.global?"✅ Refatorado":"❌ Original"]}),f.jsxs("div",{style:{padding:"10px",backgroundColor:o.neighborhood?"#d4edda":"#f8d7da",borderRadius:"4px"},children:[f.jsx("strong",{children:"Bairros:"})," ",o.neighborhood?"✅ Refatorado":"❌ Original"]}),f.jsxs("div",{style:{padding:"10px",backgroundColor:o.famousPlaces?"#d4edda":"#f8d7da",borderRadius:"4px"},children:[f.jsx("strong",{children:"Lugares Famosos:"})," ",o.famousPlaces?"✅ Refatorado":"❌ Original"]}),f.jsxs("div",{style:{padding:"10px",backgroundColor:o.common?"#d4edda":"#f8d7da",borderRadius:"4px"},children:[f.jsx("strong",{children:"Comum:"})," ",o.common?"✅ Refatorado":"❌ Original"]}),f.jsxs("div",{style:{padding:"10px",backgroundColor:o.gameMode?"#d4edda":"#f8d7da",borderRadius:"4px"},children:[f.jsx("strong",{children:"Game Mode:"})," ",o.gameMode?"✅ Refatorado":"❌ Original"]})]})]}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"🎮 Controles Principais:"}),f.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[f.jsx("button",{onClick:C,disabled:s,style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer"},children:s?"⏳ Processando...":"🔄 Alternar Todas as Versões"}),f.jsx("button",{onClick:T,style:{padding:"10px 20px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"🗑️ Limpar Cache"})]})]}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"🧪 Testes de Módulos:"}),f.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[f.jsx("button",{onClick:()=>w("neighborhoods"),disabled:s,style:{padding:"10px 20px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer"},children:s?"⏳ Testando...":"🏘️ Testar Modo Bairros"}),f.jsx("button",{onClick:()=>w("famous_places"),disabled:s,style:{padding:"10px 20px",backgroundColor:"#ffc107",color:"black",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer"},children:s?"⏳ Testando...":"🏛️ Testar Modo Lugares Famosos"}),f.jsx("button",{onClick:b,disabled:s,style:{padding:"10px 20px",backgroundColor:"#17a2b8",color:"white",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer"},children:s?"⏳ Testando...":"🎯 Testar Hook Principal"})]})]}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"⚙️ Controles Individuais:"}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"10px"},children:[f.jsx("button",{onClick:()=>M("neighborhood"),style:{padding:"8px 16px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"🔄 Alternar Bairros"}),f.jsx("button",{onClick:()=>M("famousPlaces"),style:{padding:"8px 16px",backgroundColor:"#ffc107",color:"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:"🔄 Alternar Lugares Famosos"}),f.jsx("button",{onClick:()=>M("common"),style:{padding:"8px 16px",backgroundColor:"#6f42c1",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"🔄 Alternar Comum"}),f.jsx("button",{onClick:()=>M("useGameMode"),style:{padding:"8px 16px",backgroundColor:"#17a2b8",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"🔄 Alternar Game Mode"})]})]}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"💾 Status do Cache:"}),f.jsx("button",{onClick:()=>{const P=y();console.log("[GameModeLoaderTest] Status do cache:",P),alert(`Cache: ${P.size} módulos em cache
Chaves: ${P.keys.join(", ")}`)},style:{padding:"8px 16px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"📊 Ver Status do Cache"})]}),r&&f.jsxs("div",{style:{padding:"15px",backgroundColor:"#f8d7da",color:"#721c24",border:"1px solid #f5c6cb",borderRadius:"4px",marginTop:"20px"},children:[f.jsx("strong",{children:"❌ Erro:"})," ",r]}),f.jsxs("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#d1ecf1",color:"#0c5460",border:"1px solid #bee5eb",borderRadius:"4px"},children:[f.jsx("h5",{children:"📋 Instruções de Uso:"}),f.jsxs("ol",{style:{margin:"10px 0",paddingLeft:"20px"},children:[f.jsx("li",{children:'Use "Alternar Todas as Versões" para testar o sistema completo'}),f.jsx("li",{children:"Use os testes individuais para validar cada modo"}),f.jsx("li",{children:"Monitore o console para logs detalhados"}),f.jsx("li",{children:'Use "Limpar Cache" se houver problemas de carregamento'}),f.jsx("li",{children:"Verifique o status dos módulos para confirmar mudanças"})]})]})]})};var Wr=(s=>(s.NEIGHBORHOODS="neighborhoods",s.FAMOUS_PLACES="famous_places",s))(Wr||{});class $1{constructor(){mr(this,"listeners",new Map);mr(this,"eventHistory",[]);mr(this,"maxHistorySize",100);console.log("[GameEventSystem] Sistema de eventos inicializado")}emit(r){try{r.timestamp||(r.timestamp=Date.now()),this.addToHistory(r);const o=this.listeners.get(r.type);o&&o.forEach(l=>{try{l(r)}catch(u){console.error(`[GameEventSystem] Erro no callback do evento ${r.type}:`,u)}}),console.log("[GameEventSystem] Evento emitido:",{type:r.type,mode:r.mode,timestamp:new Date(r.timestamp).toISOString(),data:r.data})}catch(o){console.error("[GameEventSystem] Erro ao emitir evento:",o)}}on(r,o){try{this.listeners.has(r)||this.listeners.set(r,new Set),this.listeners.get(r).add(o),console.log(`[GameEventSystem] Listener adicionado para evento ${r}`)}catch(l){console.error(`[GameEventSystem] Erro ao adicionar listener para ${r}:`,l)}}off(r,o){try{const l=this.listeners.get(r);l&&(l.delete(o),l.size===0&&this.listeners.delete(r),console.log(`[GameEventSystem] Listener removido para evento ${r}`))}catch(l){console.error(`[GameEventSystem] Erro ao remover listener para ${r}:`,l)}}clear(){try{this.listeners.clear(),this.eventHistory=[],console.log("[GameEventSystem] Todos os listeners e histórico limpos")}catch(r){console.error("[GameEventSystem] Erro ao limpar sistema:",r)}}addToHistory(r){this.eventHistory.push(r),this.eventHistory.length>this.maxHistorySize&&(this.eventHistory=this.eventHistory.slice(-this.maxHistorySize))}getEventHistory(){return[...this.eventHistory]}getEventsByType(r){return this.eventHistory.filter(o=>o.type===r)}getEventsByMode(r){return this.eventHistory.filter(o=>o.mode===r)}getStats(){return{totalListeners:Array.from(this.listeners.values()).reduce((o,l)=>o+l.size,0),eventTypes:Array.from(this.listeners.keys()),totalEvents:this.eventHistory.length,recentEvents:this.eventHistory.slice(-10).length}}emitGameStart(r,o={}){this.emit({type:"gameStart",mode:r,data:o,timestamp:Date.now()})}emitGamePause(r,o={}){this.emit({type:"gamePause",mode:r,data:o,timestamp:Date.now()})}emitGameResume(r,o={}){this.emit({type:"gameResume",mode:r,data:o,timestamp:Date.now()})}emitGameEnd(r,o={}){this.emit({type:"gameEnd",mode:r,data:o,timestamp:Date.now()})}emitRoundComplete(r,o={}){this.emit({type:"roundComplete",mode:r,data:o,timestamp:Date.now()})}emitScoreUpdate(r,o={}){this.emit({type:"scoreUpdate",mode:r,data:o,timestamp:Date.now()})}emitFeedback(r,o={}){this.emit({type:"feedback",mode:r,data:o,timestamp:Date.now()})}hasListeners(r){const o=this.listeners.get(r);return o?o.size>0:!1}getListenerCount(r){const o=this.listeners.get(r);return o?o.size:0}destroy(){try{this.clear(),console.log("[GameEventSystem] Sistema destruído")}catch(r){console.error("[GameEventSystem] Erro ao destruir sistema:",r)}}}const Lm=new $1;console.log("[GameEventSystem] Instância singleton criada");class G1{constructor(r){mr(this,"config");mr(this,"activeMode");mr(this,"neighborhoodHook",null);mr(this,"famousPlacesHook",null);mr(this,"eventSystem",Lm);this.config=r,this.activeMode=r.mode,console.log("[GameModeManager] Gerenciador inicializado com configuração:",{mode:this.activeMode,hasNeighborhoodConfig:!!r.neighborhood,hasFamousPlacesConfig:!!r.famousPlaces})}async initialize(){try{console.log("[GameModeManager] Inicializando gerenciador..."),await this.loadAllHooks(),this.setupEventListeners(),console.log("[GameModeManager] Gerenciador inicializado com sucesso")}catch(r){throw console.error("[GameModeManager] Erro na inicialização:",r),r}}async loadAllHooks(){try{this.config.neighborhood&&(this.neighborhoodHook=await Tn.createHook("neighborhoods",this.config.neighborhood),console.log("[GameModeManager] Hook de bairros carregado")),this.config.famousPlaces&&(this.famousPlacesHook=await Tn.createHook("famous_places",this.config.famousPlaces),console.log("[GameModeManager] Hook de lugares famosos carregado"))}catch(r){throw console.error("[GameModeManager] Erro ao carregar hooks:",r),r}}setupEventListeners(){this.eventSystem.on("gameStart",r=>{console.log(`[GameModeManager] Jogo iniciado no modo ${r.mode}`)}),this.eventSystem.on("gameEnd",r=>{console.log(`[GameModeManager] Jogo finalizado no modo ${r.mode}`)}),this.eventSystem.on("roundComplete",r=>{console.log(`[GameModeManager] Rodada completada no modo ${r.mode}`)}),this.eventSystem.on("scoreUpdate",r=>{console.log(`[GameModeManager] Pontuação atualizada no modo ${r.mode}:`,r.data)}),this.eventSystem.on("feedback",r=>{console.log(`[GameModeManager] Feedback recebido no modo ${r.mode}:`,r.data)})}async switchMode(r){try{console.log(`[GameModeManager] Trocando para modo ${r}`),this.activeMode!==r&&await this.pauseCurrentMode(),this.activeMode=r,this.eventSystem.emit({type:"gameStart",mode:r,data:{previousMode:this.activeMode},timestamp:Date.now()}),console.log(`[GameModeManager] Modo alterado para ${r}`)}catch(o){throw console.error(`[GameModeManager] Erro ao trocar para modo ${r}:`,o),o}}getActiveHook(){switch(this.activeMode){case Wr.NEIGHBORHOODS:return this.neighborhoodHook;case Wr.FAMOUS_PLACES:return this.famousPlacesHook;default:return console.warn(`[GameModeManager] Modo desconhecido: ${this.activeMode}`),null}}getModeStats(){try{const r=this.getActiveHook();if(!r)return console.warn("[GameModeManager] Nenhum hook ativo para obter estatísticas"),null;const o=r.getCurrentState(),l={mode:this.activeMode,score:o.score||0,roundNumber:o.roundNumber||1,totalRounds:o.totalRounds||10,isActive:o.isActive||!1};if(this.activeMode===Wr.NEIGHBORHOODS&&this.neighborhoodHook){const u=this.neighborhoodHook.getCurrentState();l.neighborhoodStats={currentNeighborhood:u.currentNeighborhood||"",revealedNeighborhoods:u.revealedNeighborhoods||new Set}}else if(this.activeMode===Wr.FAMOUS_PLACES&&this.famousPlacesHook){const u=this.famousPlacesHook.getCurrentState();l.famousPlacesStats={currentPlace:u.currentPlace||null,roundPlaces:u.roundPlaces||[],usedPlaces:u.usedPlaces||new Set}}return l}catch(r){return console.error("[GameModeManager] Erro ao obter estatísticas:",r),null}}async pauseCurrentMode(){try{const r=this.getActiveHook();r&&(r.pauseGame(),this.eventSystem.emitGamePause(this.activeMode),console.log(`[GameModeManager] Modo ${this.activeMode} pausado`))}catch(r){console.error("[GameModeManager] Erro ao pausar modo atual:",r)}}async resumeCurrentMode(){try{const r=this.getActiveHook();r&&(r.resumeGame(),this.eventSystem.emitGameResume(this.activeMode),console.log(`[GameModeManager] Modo ${this.activeMode} retomado`))}catch(r){console.error("[GameModeManager] Erro ao retomar modo atual:",r)}}async endCurrentMode(){try{const r=this.getActiveHook();r&&(r.endGame(),this.eventSystem.emitGameEnd(this.activeMode),console.log(`[GameModeManager] Modo ${this.activeMode} finalizado`))}catch(r){console.error("[GameModeManager] Erro ao finalizar modo atual:",r)}}async executeAction(r,o={}){try{const l=this.getActiveHook();if(!l)throw new Error(`Nenhum hook ativo para executar ação ${r}`);switch(console.log(`[GameModeManager] Executando ação ${r} no modo ${this.activeMode}`),r){case"startGame":l.startGame(),this.eventSystem.emitGameStart(this.activeMode,o);break;case"pauseGame":l.pauseGame(),this.eventSystem.emitGamePause(this.activeMode,o);break;case"resumeGame":l.resumeGame(),this.eventSystem.emitGameResume(this.activeMode,o);break;case"endGame":l.endGame(),this.eventSystem.emitGameEnd(this.activeMode,o);break;case"handleMapClick":l.handleMapClick(o.latlng);break;case"updateTimer":l.updateTimer(o.timeLeft);break;case"startNewRound":l.startNewRound();break;case"selectRandomTarget":l.selectRandomTarget();break;default:throw new Error(`Ação desconhecida: ${r}`)}return{success:!0,action:r,mode:this.activeMode}}catch(l){throw console.error(`[GameModeManager] Erro ao executar ação ${r}:`,l),l}}getDebugInfo(){var r;return{activeMode:this.activeMode,config:this.config,hooks:{neighborhood:!!this.neighborhoodHook,famousPlaces:!!this.famousPlacesHook},eventSystem:this.eventSystem.getStats(),activeHookState:((r=this.getActiveHook())==null?void 0:r.getCurrentState())||null}}cleanup(){try{console.log("[GameModeManager] Limpando recursos..."),this.endCurrentMode(),this.eventSystem.clear(),this.neighborhoodHook=null,this.famousPlacesHook=null,console.log("[GameModeManager] Recursos limpos")}catch(r){console.error("[GameModeManager] Erro na limpeza:",r)}}destroy(){try{this.cleanup(),console.log("[GameModeManager] Gerenciador destruído")}catch(r){console.error("[GameModeManager] Erro ao destruir gerenciador:",r)}}}const H1=new G1({mode:Wr.NEIGHBORHOODS,neighborhood:{roundTime:10,maxRounds:10,autoAdvance:!0,showDistanceCircle:!0,showArrow:!0,soundEffects:!0,perfectScoreThreshold:3e3,timeBonusThreshold:2,distancePenaltyFactor:10},famousPlaces:{roundTime:15,maxRounds:10,autoAdvance:!1,showDistanceCircle:!0,showArrow:!0,soundEffects:!0,distanceThreshold:100,precisionBonusThreshold:100,timeBonusThreshold:5,maxPlacesPerRound:5}});console.log("[GameModeManager] Instância singleton criada");const W1=()=>{const[s,r]=k.useState(!0),[o,l]=k.useState(null),[u,h]=k.useState(Wr.NEIGHBORHOODS),[p,_]=k.useState(null),[y,w]=k.useState(!1),b=k.useRef(H1),C=k.useRef(Lm);k.useEffect(()=>((async()=>{try{r(!0),l(null),console.log("[useUnifiedGameMode] Inicializando gerenciador..."),await b.current.initialize(),M(),T(),r(!1),console.log("[useUnifiedGameMode] Gerenciador inicializado com sucesso")}catch(he){const fe=he instanceof Error?he.message:"Erro desconhecido";l(fe),r(!1),console.error("[useUnifiedGameMode] Erro na inicialização:",fe)}})(),()=>{console.log("[useUnifiedGameMode] Cleanup do hook")}),[]);const M=k.useCallback(()=>{const ce=C.current;ce.on("gameStart",he=>{console.log("[useUnifiedGameMode] Jogo iniciado:",he),w(!0),T()}),ce.on("gameEnd",he=>{console.log("[useUnifiedGameMode] Jogo finalizado:",he),w(!1),T()}),ce.on("gamePause",he=>{console.log("[useUnifiedGameMode] Jogo pausado:",he),w(!1)}),ce.on("gameResume",he=>{console.log("[useUnifiedGameMode] Jogo retomado:",he),w(!0)}),ce.on("roundComplete",he=>{console.log("[useUnifiedGameMode] Rodada completada:",he),T()}),ce.on("scoreUpdate",he=>{console.log("[useUnifiedGameMode] Pontuação atualizada:",he),T()}),ce.on("feedback",he=>{console.log("[useUnifiedGameMode] Feedback recebido:",he)})},[]),T=k.useCallback(async()=>{try{const ce=b.current.getModeStats();_(ce),ce&&(h(ce.mode),w(ce.isActive))}catch(ce){console.error("[useUnifiedGameMode] Erro ao atualizar estatísticas:",ce)}},[]),P=k.useCallback(async ce=>{try{r(!0),l(null),console.log(`[useUnifiedGameMode] Trocando para modo ${ce}`),await b.current.switchMode(ce),T(),console.log(`[useUnifiedGameMode] Modo alterado para ${ce}`)}catch(he){const fe=he instanceof Error?he.message:"Erro desconhecido";l(fe),console.error(`[useUnifiedGameMode] Erro ao trocar para modo ${ce}:`,fe)}finally{r(!1)}},[T]),j=k.useCallback(async(ce,he={})=>{try{console.log(`[useUnifiedGameMode] Executando ação ${ce}`);const fe=await b.current.executeAction(ce,he);return T(),fe}catch(fe){const Ce=fe instanceof Error?fe.message:"Erro desconhecido";throw l(Ce),console.error(`[useUnifiedGameMode] Erro ao executar ação ${ce}:`,Ce),fe}},[T]),z=k.useCallback(async()=>j("startGame"),[j]),Z=k.useCallback(async()=>j("pauseGame"),[j]),Y=k.useCallback(async()=>j("resumeGame"),[j]),G=k.useCallback(async()=>j("endGame"),[j]),X=k.useCallback(async ce=>j("handleMapClick",{latlng:ce}),[j]),oe=k.useCallback(async ce=>j("updateTimer",{timeLeft:ce}),[j]),se=k.useCallback(async()=>j("startNewRound"),[j]),me=k.useCallback(async()=>j("selectRandomTarget"),[j]),K=k.useCallback(()=>b.current.getDebugInfo(),[]),J=k.useCallback(()=>{try{console.log("[useUnifiedGameMode] Limpando recursos..."),b.current.cleanup()}catch(ce){console.error("[useUnifiedGameMode] Erro na limpeza:",ce)}},[]),xe=k.useCallback(()=>C.current.getStats(),[]),ve=k.useCallback(()=>C.current.getEventHistory(),[]),ne=k.useCallback(ce=>C.current.getEventsByType(ce),[]),Re=k.useCallback(ce=>C.current.getEventsByMode(ce),[]);return{isLoading:s,error:o,activeMode:u,gameStats:p,isGameActive:y,switchMode:P,startGame:z,pauseGame:Z,resumeGame:Y,endGame:G,handleMapClick:X,updateTimer:oe,startNewRound:se,selectRandomTarget:me,getDebugInfo:K,getEventSystemStats:xe,getEventHistory:ve,getEventsByType:ne,getEventsByMode:Re,cleanup:J,updateGameStats:T}},V1=()=>{const{isLoading:s,error:r,activeMode:o,gameStats:l,isGameActive:u,switchMode:h,startGame:p,pauseGame:_,resumeGame:y,endGame:w,handleMapClick:b,updateTimer:C,startNewRound:M,selectRandomTarget:T,getDebugInfo:P,getEventSystemStats:j,getEventHistory:z,getEventsByType:Z,getEventsByMode:Y,cleanup:G}=W1(),[X,oe]=k.useState(null),[se,me]=k.useState(null),[K,J]=k.useState([]),[xe,ve]=k.useState("all"),[ne,Re]=k.useState("all"),ce=async R=>{try{await h(R)}catch(B){console.error("Erro ao trocar modo:",B)}},he=async(R,B={})=>{try{let ae;switch(R){case"startGame":ae=await p();break;case"pauseGame":ae=await _();break;case"resumeGame":ae=await y();break;case"endGame":ae=await w();break;case"handleMapClick":ae=await b({lat:-23.9618,lng:-46.3322});break;case"updateTimer":ae=await C(10);break;case"startNewRound":ae=await M();break;case"selectRandomTarget":ae=await T();break;default:console.warn("Ação desconhecida:",R);return}console.log(`Ação ${R} executada:`,ae)}catch(ae){console.error(`Erro ao executar ação ${R}:`,ae)}},fe=()=>{const R=P();oe(R),console.log("Debug info:",R)},Ce=()=>{const R=j();me(R),console.log("Event stats:",R)},V=()=>{const R=z();J(R),console.log("Event history:",R)},le=()=>{if(xe==="all")V();else{const R=Z(xe);J(R),console.log(`Events by type ${xe}:`,R)}},q=()=>{if(ne==="all")V();else{const R=Y(ne);J(R),console.log(`Events by mode ${ne}:`,R)}};return f.jsxs("div",{className:"unified-game-mode-test",style:{padding:"20px",border:"2px solid #28a745",borderRadius:"8px",margin:"20px",backgroundColor:"#f8f9fa"},children:[f.jsx("h3",{style:{color:"#28a745",marginBottom:"20px"},children:"🎮 Teste do Sistema Unificado de Modos"}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"📊 Status do Sistema:"}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px"},children:[f.jsxs("div",{style:{padding:"10px",backgroundColor:s?"#fff3cd":"#d4edda",borderRadius:"4px"},children:[f.jsx("strong",{children:"Carregando:"})," ",s?"⏳ Sim":"✅ Não"]}),f.jsxs("div",{style:{padding:"10px",backgroundColor:r?"#f8d7da":"#d4edda",borderRadius:"4px"},children:[f.jsx("strong",{children:"Erro:"})," ",r?`❌ ${r}`:"✅ Nenhum"]}),f.jsxs("div",{style:{padding:"10px",backgroundColor:u?"#d4edda":"#f8d7da",borderRadius:"4px"},children:[f.jsx("strong",{children:"Jogo Ativo:"})," ",u?"✅ Sim":"❌ Não"]}),f.jsxs("div",{style:{padding:"10px",backgroundColor:"#e2e3e5",borderRadius:"4px"},children:[f.jsx("strong",{children:"Modo Ativo:"})," ",o]})]})]}),l&&f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"🎯 Estatísticas do Jogo:"}),f.jsx("div",{style:{padding:"15px",backgroundColor:"#e2e3e5",borderRadius:"4px"},children:f.jsx("pre",{style:{margin:0,fontSize:"12px"},children:JSON.stringify(l,null,2)})})]}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"🔄 Controles de Modo:"}),f.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[f.jsx("button",{onClick:()=>ce(Wr.NEIGHBORHOODS),disabled:s,style:{padding:"10px 20px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer"},children:"🏘️ Modo Bairros"}),f.jsx("button",{onClick:()=>ce(Wr.FAMOUS_PLACES),disabled:s,style:{padding:"10px 20px",backgroundColor:"#ffc107",color:"black",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer"},children:"🏛️ Modo Lugares Famosos"})]})]}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"🎮 Controles de Jogo:"}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"10px"},children:[f.jsx("button",{onClick:()=>he("startGame"),disabled:s||u,style:{padding:"8px 16px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:s||u?"not-allowed":"pointer"},children:"▶️ Iniciar"}),f.jsx("button",{onClick:()=>he("pauseGame"),disabled:s||!u,style:{padding:"8px 16px",backgroundColor:"#ffc107",color:"black",border:"none",borderRadius:"4px",cursor:s||!u?"not-allowed":"pointer"},children:"⏸️ Pausar"}),f.jsx("button",{onClick:()=>he("resumeGame"),disabled:s||u,style:{padding:"8px 16px",backgroundColor:"#17a2b8",color:"white",border:"none",borderRadius:"4px",cursor:s||u?"not-allowed":"pointer"},children:"▶️ Retomar"}),f.jsx("button",{onClick:()=>he("endGame"),disabled:s||!u,style:{padding:"8px 16px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:s||!u?"not-allowed":"pointer"},children:"⏹️ Finalizar"})]})]}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"🎯 Ações de Jogo:"}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"10px"},children:[f.jsx("button",{onClick:()=>he("handleMapClick"),disabled:s,style:{padding:"8px 16px",backgroundColor:"#6f42c1",color:"white",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer"},children:"🖱️ Clique no Mapa"}),f.jsx("button",{onClick:()=>he("updateTimer"),disabled:s,style:{padding:"8px 16px",backgroundColor:"#fd7e14",color:"white",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer"},children:"⏰ Atualizar Timer"}),f.jsx("button",{onClick:()=>he("startNewRound"),disabled:s,style:{padding:"8px 16px",backgroundColor:"#20c997",color:"white",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer"},children:"🔄 Nova Rodada"}),f.jsx("button",{onClick:()=>he("selectRandomTarget"),disabled:s,style:{padding:"8px 16px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer"},children:"🎯 Alvo Aleatório"})]})]}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"🐛 Informações de Debug:"}),f.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[f.jsx("button",{onClick:fe,style:{padding:"8px 16px",backgroundColor:"#6f42c1",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"📊 Debug Info"}),f.jsx("button",{onClick:Ce,style:{padding:"8px 16px",backgroundColor:"#17a2b8",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"📈 Event Stats"}),f.jsx("button",{onClick:V,style:{padding:"8px 16px",backgroundColor:"#20c997",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"📜 Event History"}),f.jsx("button",{onClick:G,style:{padding:"8px 16px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"🗑️ Cleanup"})]})]}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"🔍 Filtros de Eventos:"}),f.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",flexWrap:"wrap"},children:[f.jsxs("label",{children:["Tipo de Evento:",f.jsxs("select",{value:xe,onChange:R=>ve(R.target.value),style:{marginLeft:"5px",padding:"5px"},children:[f.jsx("option",{value:"all",children:"Todos"}),f.jsx("option",{value:"gameStart",children:"Início de Jogo"}),f.jsx("option",{value:"gameEnd",children:"Fim de Jogo"}),f.jsx("option",{value:"gamePause",children:"Pausa"}),f.jsx("option",{value:"gameResume",children:"Retomada"}),f.jsx("option",{value:"roundComplete",children:"Rodada Completa"}),f.jsx("option",{value:"scoreUpdate",children:"Atualização de Pontuação"}),f.jsx("option",{value:"feedback",children:"Feedback"})]})]}),f.jsx("button",{onClick:le,style:{padding:"8px 16px",backgroundColor:"#6f42c1",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"🔍 Filtrar por Tipo"}),f.jsxs("label",{children:["Modo:",f.jsxs("select",{value:ne,onChange:R=>Re(R.target.value),style:{marginLeft:"5px",padding:"5px"},children:[f.jsx("option",{value:"all",children:"Todos"}),f.jsx("option",{value:"neighborhoods",children:"Bairros"}),f.jsx("option",{value:"famous_places",children:"Lugares Famosos"})]})]}),f.jsx("button",{onClick:q,style:{padding:"8px 16px",backgroundColor:"#17a2b8",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"🔍 Filtrar por Modo"})]})]}),X&&f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"🐛 Debug Info:"}),f.jsx("div",{style:{padding:"15px",backgroundColor:"#e2e3e5",borderRadius:"4px"},children:f.jsx("pre",{style:{margin:0,fontSize:"12px"},children:JSON.stringify(X,null,2)})})]}),se&&f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"📈 Event Stats:"}),f.jsx("div",{style:{padding:"15px",backgroundColor:"#e2e3e5",borderRadius:"4px"},children:f.jsx("pre",{style:{margin:0,fontSize:"12px"},children:JSON.stringify(se,null,2)})})]}),K.length>0&&f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"📜 Event History:"}),f.jsx("div",{style:{padding:"15px",backgroundColor:"#e2e3e5",borderRadius:"4px",maxHeight:"300px",overflow:"auto"},children:K.map((R,B)=>f.jsxs("div",{style:{marginBottom:"10px",padding:"10px",backgroundColor:"white",borderRadius:"4px"},children:[f.jsx("strong",{children:R.type})," - ",R.mode," - ",new Date(R.timestamp).toLocaleTimeString(),f.jsx("pre",{style:{margin:"5px 0 0 0",fontSize:"10px"},children:JSON.stringify(R.data,null,2)})]},B))})]}),r&&f.jsxs("div",{style:{padding:"15px",backgroundColor:"#f8d7da",color:"#721c24",border:"1px solid #f5c6cb",borderRadius:"4px",marginTop:"20px"},children:[f.jsx("strong",{children:"❌ Erro:"})," ",r]}),f.jsxs("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#d1ecf1",color:"#0c5460",border:"1px solid #bee5eb",borderRadius:"4px"},children:[f.jsx("h5",{children:"📋 Instruções de Uso:"}),f.jsxs("ol",{style:{margin:"10px 0",paddingLeft:"20px"},children:[f.jsx("li",{children:"Use os controles de modo para alternar entre Bairros e Lugares Famosos"}),f.jsx("li",{children:"Use os controles de jogo para gerenciar o estado do jogo"}),f.jsx("li",{children:"Use as ações de jogo para simular interações do usuário"}),f.jsx("li",{children:"Monitore o console para logs detalhados"}),f.jsx("li",{children:"Use as informações de debug para análise do sistema"})]})]})]})};function Z1(){return f.jsx(Nv,{basename:"/geosantos",children:f.jsxs(fv,{children:[f.jsx(Lo,{path:"/admin/famous-places",element:f.jsx(p_,{})}),f.jsx(Lo,{path:"/lugares-famosos",element:f.jsx(O1,{})}),f.jsx(Lo,{path:"/teste-sprites",element:f.jsx(I1,{})}),f.jsx(Lo,{path:"/debug-sprites",element:f.jsx(N1,{})}),f.jsx(Lo,{path:"/teste-carregamento",element:f.jsx(U1,{})}),f.jsx(Lo,{path:"/teste-unificado",element:f.jsx(V1,{})}),f.jsx(Lo,{path:"/",element:f.jsx("div",{style:{margin:0,padding:0,width:"100vw",height:"100vh",overflow:"hidden"},children:f.jsx(A1,{center:[-23.9618,-46.3322],zoom:13})})})]})})}bg.createRoot(document.getElementById("root")).render(f.jsx(k.StrictMode,{children:f.jsx(Z1,{})}));
//# sourceMappingURL=index-DYZ7Eetp.js.map
