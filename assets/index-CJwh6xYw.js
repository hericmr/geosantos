var hg=Object.defineProperty;var fg=(s,r,o)=>r in s?hg(s,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[r]=o;var hr=(s,r,o)=>fg(s,typeof r!="symbol"?r+"":r,o);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&l(g)}).observe(document,{childList:!0,subtree:!0});function o(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(u){if(u.ep)return;u.ep=!0;const h=o(u);fetch(u.href,h)}})();function Rd(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function pg(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var r=s.default;if(typeof r=="function"){var o=function l(){return this instanceof l?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};o.prototype=r.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(s).forEach(function(l){var u=Object.getOwnPropertyDescriptor(s,l);Object.defineProperty(o,l,u.get?u:{enumerable:!0,get:function(){return s[l]}})}),o}var Yc={exports:{}},ba={},Qc={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pf;function mg(){if(Pf)return Ue;Pf=1;var s=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),g=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),E=Symbol.iterator;function T(A){return A===null||typeof A!="object"?null:(A=E&&A[E]||A["@@iterator"],typeof A=="function"?A:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,j={};function z(A,W,$){this.props=A,this.context=W,this.refs=j,this.updater=$||M}z.prototype.isReactComponent={},z.prototype.setState=function(A,W){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,W,"setState")},z.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function V(){}V.prototype=z.prototype;function J(A,W,$){this.props=A,this.context=W,this.refs=j,this.updater=$||M}var Z=J.prototype=new V;Z.constructor=J,P(Z,z.prototype),Z.isPureReactComponent=!0;var te=Array.isArray,he=Object.prototype.hasOwnProperty,le={current:null},K={key:!0,ref:!0,__self:!0,__source:!0};function ge(A,W,$){var de,ae={},se=null,be=null;if(W!=null)for(de in W.ref!==void 0&&(be=W.ref),W.key!==void 0&&(se=""+W.key),W)he.call(W,de)&&!K.hasOwnProperty(de)&&(ae[de]=W[de]);var Ce=arguments.length-2;if(Ce===1)ae.children=$;else if(1<Ce){for(var Oe=Array(Ce),qe=0;qe<Ce;qe++)Oe[qe]=arguments[qe+2];ae.children=Oe}if(A&&A.defaultProps)for(de in Ce=A.defaultProps,Ce)ae[de]===void 0&&(ae[de]=Ce[de]);return{$$typeof:s,type:A,key:se,ref:be,props:ae,_owner:le.current}}function ne(A,W){return{$$typeof:s,type:A.type,key:W,ref:A.ref,props:A.props,_owner:A._owner}}function _e(A){return typeof A=="object"&&A!==null&&A.$$typeof===s}function ke(A){var W={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function($){return W[$]})}var ie=/\/+/g;function Ae(A,W){return typeof A=="object"&&A!==null&&A.key!=null?ke(""+A.key):W.toString(36)}function ue(A,W,$,de,ae){var se=typeof A;(se==="undefined"||se==="boolean")&&(A=null);var be=!1;if(A===null)be=!0;else switch(se){case"string":case"number":be=!0;break;case"object":switch(A.$$typeof){case s:case r:be=!0}}if(be)return be=A,ae=ae(be),A=de===""?"."+Ae(be,0):de,te(ae)?($="",A!=null&&($=A.replace(ie,"$&/")+"/"),ue(ae,W,$,"",function(qe){return qe})):ae!=null&&(_e(ae)&&(ae=ne(ae,$+(!ae.key||be&&be.key===ae.key?"":(""+ae.key).replace(ie,"$&/")+"/")+A)),W.push(ae)),1;if(be=0,de=de===""?".":de+":",te(A))for(var Ce=0;Ce<A.length;Ce++){se=A[Ce];var Oe=de+Ae(se,Ce);be+=ue(se,W,$,Oe,ae)}else if(Oe=T(A),typeof Oe=="function")for(A=Oe.call(A),Ce=0;!(se=A.next()).done;)se=se.value,Oe=de+Ae(se,Ce++),be+=ue(se,W,$,Oe,ae);else if(se==="object")throw W=String(A),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return be}function me(A,W,$){if(A==null)return A;var de=[],ae=0;return ue(A,de,"","",function(se){return W.call($,se,ae++)}),de}function fe(A){if(A._status===-1){var W=A._result;W=W(),W.then(function($){(A._status===0||A._status===-1)&&(A._status=1,A._result=$)},function($){(A._status===0||A._status===-1)&&(A._status=2,A._result=$)}),A._status===-1&&(A._status=0,A._result=W)}if(A._status===1)return A._result.default;throw A._result}var Le={current:null},B={transition:null},oe={ReactCurrentDispatcher:Le,ReactCurrentBatchConfig:B,ReactCurrentOwner:le};function q(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:me,forEach:function(A,W,$){me(A,function(){W.apply(this,arguments)},$)},count:function(A){var W=0;return me(A,function(){W++}),W},toArray:function(A){return me(A,function(W){return W})||[]},only:function(A){if(!_e(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Ue.Component=z,Ue.Fragment=o,Ue.Profiler=u,Ue.PureComponent=J,Ue.StrictMode=l,Ue.Suspense=y,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,Ue.act=q,Ue.cloneElement=function(A,W,$){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var de=P({},A.props),ae=A.key,se=A.ref,be=A._owner;if(W!=null){if(W.ref!==void 0&&(se=W.ref,be=le.current),W.key!==void 0&&(ae=""+W.key),A.type&&A.type.defaultProps)var Ce=A.type.defaultProps;for(Oe in W)he.call(W,Oe)&&!K.hasOwnProperty(Oe)&&(de[Oe]=W[Oe]===void 0&&Ce!==void 0?Ce[Oe]:W[Oe])}var Oe=arguments.length-2;if(Oe===1)de.children=$;else if(1<Oe){Ce=Array(Oe);for(var qe=0;qe<Oe;qe++)Ce[qe]=arguments[qe+2];de.children=Ce}return{$$typeof:s,type:A.type,key:ae,ref:se,props:de,_owner:be}},Ue.createContext=function(A){return A={$$typeof:g,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:h,_context:A},A.Consumer=A},Ue.createElement=ge,Ue.createFactory=function(A){var W=ge.bind(null,A);return W.type=A,W},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(A){return{$$typeof:x,render:A}},Ue.isValidElement=_e,Ue.lazy=function(A){return{$$typeof:S,_payload:{_status:-1,_result:A},_init:fe}},Ue.memo=function(A,W){return{$$typeof:w,type:A,compare:W===void 0?null:W}},Ue.startTransition=function(A){var W=B.transition;B.transition={};try{A()}finally{B.transition=W}},Ue.unstable_act=q,Ue.useCallback=function(A,W){return Le.current.useCallback(A,W)},Ue.useContext=function(A){return Le.current.useContext(A)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(A){return Le.current.useDeferredValue(A)},Ue.useEffect=function(A,W){return Le.current.useEffect(A,W)},Ue.useId=function(){return Le.current.useId()},Ue.useImperativeHandle=function(A,W,$){return Le.current.useImperativeHandle(A,W,$)},Ue.useInsertionEffect=function(A,W){return Le.current.useInsertionEffect(A,W)},Ue.useLayoutEffect=function(A,W){return Le.current.useLayoutEffect(A,W)},Ue.useMemo=function(A,W){return Le.current.useMemo(A,W)},Ue.useReducer=function(A,W,$){return Le.current.useReducer(A,W,$)},Ue.useRef=function(A){return Le.current.useRef(A)},Ue.useState=function(A){return Le.current.useState(A)},Ue.useSyncExternalStore=function(A,W,$){return Le.current.useSyncExternalStore(A,W,$)},Ue.useTransition=function(){return Le.current.useTransition()},Ue.version="18.3.1",Ue}var Tf;function Ad(){return Tf||(Tf=1,Qc.exports=mg()),Qc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lf;function gg(){if(Lf)return ba;Lf=1;var s=Ad(),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,u=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h={key:!0,ref:!0,__self:!0,__source:!0};function g(x,y,w){var S,E={},T=null,M=null;w!==void 0&&(T=""+w),y.key!==void 0&&(T=""+y.key),y.ref!==void 0&&(M=y.ref);for(S in y)l.call(y,S)&&!h.hasOwnProperty(S)&&(E[S]=y[S]);if(x&&x.defaultProps)for(S in y=x.defaultProps,y)E[S]===void 0&&(E[S]=y[S]);return{$$typeof:r,type:x,key:T,ref:M,props:E,_owner:u.current}}return ba.Fragment=o,ba.jsx=g,ba.jsxs=g,ba}var Mf;function vg(){return Mf||(Mf=1,Yc.exports=gg()),Yc.exports}var f=vg(),C=Ad();const mi=Rd(C);var au={},Xc={exports:{}},un={},ed={exports:{}},td={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jf;function yg(){return jf||(jf=1,function(s){function r(B,oe){var q=B.length;B.push(oe);e:for(;0<q;){var A=q-1>>>1,W=B[A];if(0<u(W,oe))B[A]=oe,B[q]=W,q=A;else break e}}function o(B){return B.length===0?null:B[0]}function l(B){if(B.length===0)return null;var oe=B[0],q=B.pop();if(q!==oe){B[0]=q;e:for(var A=0,W=B.length,$=W>>>1;A<$;){var de=2*(A+1)-1,ae=B[de],se=de+1,be=B[se];if(0>u(ae,q))se<W&&0>u(be,ae)?(B[A]=be,B[se]=q,A=se):(B[A]=ae,B[de]=q,A=de);else if(se<W&&0>u(be,q))B[A]=be,B[se]=q,A=se;else break e}}return oe}function u(B,oe){var q=B.sortIndex-oe.sortIndex;return q!==0?q:B.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var g=Date,x=g.now();s.unstable_now=function(){return g.now()-x}}var y=[],w=[],S=1,E=null,T=3,M=!1,P=!1,j=!1,z=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Z(B){for(var oe=o(w);oe!==null;){if(oe.callback===null)l(w);else if(oe.startTime<=B)l(w),oe.sortIndex=oe.expirationTime,r(y,oe);else break;oe=o(w)}}function te(B){if(j=!1,Z(B),!P)if(o(y)!==null)P=!0,fe(he);else{var oe=o(w);oe!==null&&Le(te,oe.startTime-B)}}function he(B,oe){P=!1,j&&(j=!1,V(ge),ge=-1),M=!0;var q=T;try{for(Z(oe),E=o(y);E!==null&&(!(E.expirationTime>oe)||B&&!ke());){var A=E.callback;if(typeof A=="function"){E.callback=null,T=E.priorityLevel;var W=A(E.expirationTime<=oe);oe=s.unstable_now(),typeof W=="function"?E.callback=W:E===o(y)&&l(y),Z(oe)}else l(y);E=o(y)}if(E!==null)var $=!0;else{var de=o(w);de!==null&&Le(te,de.startTime-oe),$=!1}return $}finally{E=null,T=q,M=!1}}var le=!1,K=null,ge=-1,ne=5,_e=-1;function ke(){return!(s.unstable_now()-_e<ne)}function ie(){if(K!==null){var B=s.unstable_now();_e=B;var oe=!0;try{oe=K(!0,B)}finally{oe?Ae():(le=!1,K=null)}}else le=!1}var Ae;if(typeof J=="function")Ae=function(){J(ie)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,me=ue.port2;ue.port1.onmessage=ie,Ae=function(){me.postMessage(null)}}else Ae=function(){z(ie,0)};function fe(B){K=B,le||(le=!0,Ae())}function Le(B,oe){ge=z(function(){B(s.unstable_now())},oe)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(B){B.callback=null},s.unstable_continueExecution=function(){P||M||(P=!0,fe(he))},s.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<B?Math.floor(1e3/B):5},s.unstable_getCurrentPriorityLevel=function(){return T},s.unstable_getFirstCallbackNode=function(){return o(y)},s.unstable_next=function(B){switch(T){case 1:case 2:case 3:var oe=3;break;default:oe=T}var q=T;T=oe;try{return B()}finally{T=q}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(B,oe){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var q=T;T=B;try{return oe()}finally{T=q}},s.unstable_scheduleCallback=function(B,oe,q){var A=s.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?A+q:A):q=A,B){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=q+W,B={id:S++,callback:oe,priorityLevel:B,startTime:q,expirationTime:W,sortIndex:-1},q>A?(B.sortIndex=q,r(w,B),o(y)===null&&B===o(w)&&(j?(V(ge),ge=-1):j=!0,Le(te,q-A))):(B.sortIndex=W,r(y,B),P||M||(P=!0,fe(he))),B},s.unstable_shouldYield=ke,s.unstable_wrapCallback=function(B){var oe=T;return function(){var q=T;T=oe;try{return B.apply(this,arguments)}finally{T=q}}}}(td)),td}var Rf;function _g(){return Rf||(Rf=1,ed.exports=yg()),ed.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Af;function xg(){if(Af)return un;Af=1;var s=Ad(),r=_g();function o(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,u={};function h(e,n){g(e,n),g(e+"Capture",n)}function g(e,n){for(u[e]=n,e=0;e<n.length;e++)l.add(n[e])}var x=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S={},E={};function T(e){return y.call(E,e)?!0:y.call(S,e)?!1:w.test(e)?E[e]=!0:(S[e]=!0,!1)}function M(e,n,a,d){if(a!==null&&a.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return d?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function P(e,n,a,d){if(n===null||typeof n>"u"||M(e,n,a,d))return!0;if(d)return!1;if(a!==null)switch(a.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function j(e,n,a,d,m,v,k){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=a,this.propertyName=e,this.type=n,this.sanitizeURL=v,this.removeEmptyString=k}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new j(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];z[n]=new j(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new j(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new j(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new j(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){z[e]=new j(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){z[e]=new j(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){z[e]=new j(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){z[e]=new j(e,5,!1,e.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function J(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(V,J);z[n]=new j(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(V,J);z[n]=new j(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(V,J);z[n]=new j(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){z[e]=new j(e,1,!1,e.toLowerCase(),null,!1,!1)}),z.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){z[e]=new j(e,1,!1,e.toLowerCase(),null,!0,!0)});function Z(e,n,a,d){var m=z.hasOwnProperty(n)?z[n]:null;(m!==null?m.type!==0:d||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(P(n,a,m,d)&&(a=null),d||m===null?T(n)&&(a===null?e.removeAttribute(n):e.setAttribute(n,""+a)):m.mustUseProperty?e[m.propertyName]=a===null?m.type===3?!1:"":a:(n=m.attributeName,d=m.attributeNamespace,a===null?e.removeAttribute(n):(m=m.type,a=m===3||m===4&&a===!0?"":""+a,d?e.setAttributeNS(d,n,a):e.setAttribute(n,a))))}var te=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,he=Symbol.for("react.element"),le=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),ge=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),_e=Symbol.for("react.provider"),ke=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),Ae=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),me=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),Le=Symbol.for("react.offscreen"),B=Symbol.iterator;function oe(e){return e===null||typeof e!="object"?null:(e=B&&e[B]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,A;function W(e){if(A===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);A=n&&n[1]||""}return`
`+A+e}var $=!1;function de(e,n){if(!e||$)return"";$=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(H){var d=H}Reflect.construct(e,[],n)}else{try{n.call()}catch(H){d=H}e.call(n.prototype)}else{try{throw Error()}catch(H){d=H}e()}}catch(H){if(H&&d&&typeof H.stack=="string"){for(var m=H.stack.split(`
`),v=d.stack.split(`
`),k=m.length-1,R=v.length-1;1<=k&&0<=R&&m[k]!==v[R];)R--;for(;1<=k&&0<=R;k--,R--)if(m[k]!==v[R]){if(k!==1||R!==1)do if(k--,R--,0>R||m[k]!==v[R]){var I=`
`+m[k].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=k&&0<=R);break}}}finally{$=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?W(e):""}function ae(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return e=de(e.type,!1),e;case 11:return e=de(e.type.render,!1),e;case 1:return e=de(e.type,!0),e;default:return""}}function se(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case K:return"Fragment";case le:return"Portal";case ne:return"Profiler";case ge:return"StrictMode";case Ae:return"Suspense";case ue:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ke:return(e.displayName||"Context")+".Consumer";case _e:return(e._context.displayName||"Context")+".Provider";case ie:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case me:return n=e.displayName||null,n!==null?n:se(e.type)||"Memo";case fe:n=e._payload,e=e._init;try{return se(e(n))}catch{}}return null}function be(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return se(n);case 8:return n===ge?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Ce(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Oe(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function qe(e){var n=Oe(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),d=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var m=a.get,v=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return m.call(this)},set:function(k){d=""+k,v.call(this,k)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return d},setValue:function(k){d=""+k},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function tt(e){e._valueTracker||(e._valueTracker=qe(e))}function Pt(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),d="";return e&&(d=Oe(e)?e.checked?"true":"false":e.value),e=d,e!==a?(n.setValue(e),!0):!1}function wt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function St(e,n){var a=n.checked;return q({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function Fe(e,n){var a=n.defaultValue==null?"":n.defaultValue,d=n.checked!=null?n.checked:n.defaultChecked;a=Ce(n.value!=null?n.value:a),e._wrapperState={initialChecked:d,initialValue:a,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Be(e,n){n=n.checked,n!=null&&Z(e,"checked",n,!1)}function Ye(e,n){Be(e,n);var a=Ce(n.value),d=n.type;if(a!=null)d==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(d==="submit"||d==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Qe(e,n.type,a):n.hasOwnProperty("defaultValue")&&Qe(e,n.type,Ce(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Ke(e,n,a){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var d=n.type;if(!(d!=="submit"&&d!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,a||n===e.value||(e.value=n),e.defaultValue=n}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function Qe(e,n,a){(n!=="number"||wt(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var nt=Array.isArray;function dt(e,n,a,d){if(e=e.options,n){n={};for(var m=0;m<a.length;m++)n["$"+a[m]]=!0;for(a=0;a<e.length;a++)m=n.hasOwnProperty("$"+e[a].value),e[a].selected!==m&&(e[a].selected=m),m&&d&&(e[a].defaultSelected=!0)}else{for(a=""+Ce(a),n=null,m=0;m<e.length;m++){if(e[m].value===a){e[m].selected=!0,d&&(e[m].defaultSelected=!0);return}n!==null||e[m].disabled||(n=e[m])}n!==null&&(n.selected=!0)}}function Rt(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(o(91));return q({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dn(e,n){var a=n.value;if(a==null){if(a=n.children,n=n.defaultValue,a!=null){if(n!=null)throw Error(o(92));if(nt(a)){if(1<a.length)throw Error(o(93));a=a[0]}n=a}n==null&&(n=""),a=n}e._wrapperState={initialValue:Ce(a)}}function vt(e,n){var a=Ce(n.value),d=Ce(n.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),n.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),d!=null&&(e.defaultValue=""+d)}function Dt(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Qn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gr(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Qn(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xn,Ua=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,a,d,m){MSApp.execUnsafeLocalFunction(function(){return e(n,a,d,m)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Xn=Xn||document.createElement("div"),Xn.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Xn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Vr(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pu=["Webkit","ms","Moz","O"];Object.keys(qr).forEach(function(e){Pu.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),qr[n]=qr[e]})});function Ls(e,n,a){return n==null||typeof n=="boolean"||n===""?"":a||typeof n!="number"||n===0||qr.hasOwnProperty(e)&&qr[e]?(""+n).trim():n+"px"}function _i(e,n){e=e.style;for(var a in n)if(n.hasOwnProperty(a)){var d=a.indexOf("--")===0,m=Ls(a,n[a],d);a==="float"&&(a="cssFloat"),d?e.setProperty(a,m):e[a]=m}}var $a=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ms(e,n){if(n){if($a[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(o(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(o(61))}if(n.style!=null&&typeof n.style!="object")throw Error(o(62))}}function vr(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var js=null;function Rs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xi=null,yr=null,_r=null;function Ga(e){if(e=jr(e)){if(typeof xi!="function")throw Error(o(280));var n=e.stateNode;n&&(n=Vi(n),xi(e.stateNode,e.type,n))}}function Ha(e){yr?_r?_r.push(e):_r=[e]:yr=e}function Wa(){if(yr){var e=yr,n=_r;if(_r=yr=null,Ga(e),n)for(e=0;e<n.length;e++)Ga(n[e])}}function Za(e,n){return e(n)}function Va(){}var As=!1;function wi(e,n,a){if(As)return e(n,a);As=!0;try{return Za(e,n,a)}finally{As=!1,(yr!==null||_r!==null)&&(Va(),Wa())}}function Io(e,n){var a=e.stateNode;if(a===null)return null;var d=Vi(a);if(d===null)return null;a=d[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(e=e.type,d=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!d;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,n,typeof a));return a}var Os=!1;if(x)try{var No={};Object.defineProperty(No,"passive",{get:function(){Os=!0}}),window.addEventListener("test",No,No),window.removeEventListener("test",No,No)}catch{Os=!1}function Tu(e,n,a,d,m,v,k,R,I){var H=Array.prototype.slice.call(arguments,3);try{n.apply(a,H)}catch(X){this.onError(X)}}var Ut=!1,we=null,zo=!1,Si=null,qa={onError:function(e){Ut=!0,we=e}};function Ka(e,n,a,d,m,v,k,R,I){Ut=!1,we=null,Tu.apply(qa,arguments)}function Is(e,n,a,d,m,v,k,R,I){if(Ka.apply(this,arguments),Ut){if(Ut){var H=we;Ut=!1,we=null}else throw Error(o(198));zo||(zo=!0,Si=H)}}function er(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function xr(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Ns(e){if(er(e)!==e)throw Error(o(188))}function Lu(e){var n=e.alternate;if(!n){if(n=er(e),n===null)throw Error(o(188));return n!==e?null:e}for(var a=e,d=n;;){var m=a.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){a=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===a)return Ns(m),e;if(v===d)return Ns(m),n;v=v.sibling}throw Error(o(188))}if(a.return!==d.return)a=m,d=v;else{for(var k=!1,R=m.child;R;){if(R===a){k=!0,a=m,d=v;break}if(R===d){k=!0,d=m,a=v;break}R=R.sibling}if(!k){for(R=v.child;R;){if(R===a){k=!0,a=v,d=m;break}if(R===d){k=!0,d=v,a=m;break}R=R.sibling}if(!k)throw Error(o(189))}}if(a.alternate!==d)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:n}function Ja(e){return e=Lu(e),e!==null?Ya(e):null}function Ya(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Ya(e);if(n!==null)return n;e=e.sibling}return null}var Qa=r.unstable_scheduleCallback,zs=r.unstable_cancelCallback,Mu=r.unstable_shouldYield,ki=r.unstable_requestPaint,ht=r.unstable_now,ju=r.unstable_getCurrentPriorityLevel,Ds=r.unstable_ImmediatePriority,Xa=r.unstable_UserBlockingPriority,bi=r.unstable_NormalPriority,Fs=r.unstable_LowPriority,Kr=r.unstable_IdlePriority,Do=null,hn=null;function Fo(e){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(Do,e,void 0,(e.current.flags&128)===128)}catch{}}var Ne=Math.clz32?Math.clz32:Jr,at=Math.log,Ei=Math.LN2;function Jr(e){return e>>>=0,e===0?32:31-(at(e)/Ei|0)|0}var zn=64,Yr=4194304;function Re(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function rt(e,n){var a=e.pendingLanes;if(a===0)return 0;var d=0,m=e.suspendedLanes,v=e.pingedLanes,k=a&268435455;if(k!==0){var R=k&~m;R!==0?d=Re(R):(v&=k,v!==0&&(d=Re(v)))}else k=a&~m,k!==0?d=Re(k):v!==0&&(d=Re(v));if(d===0)return 0;if(n!==0&&n!==d&&(n&m)===0&&(m=d&-d,v=n&-n,m>=v||m===16&&(v&4194240)!==0))return n;if((d&4)!==0&&(d|=a&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=d;0<n;)a=31-Ne(n),m=1<<a,d|=e[a],n&=~m;return d}function Bs(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ci(e,n){for(var a=e.suspendedLanes,d=e.pingedLanes,m=e.expirationTimes,v=e.pendingLanes;0<v;){var k=31-Ne(v),R=1<<k,I=m[k];I===-1?((R&a)===0||(R&d)!==0)&&(m[k]=Bs(R,n)):I<=n&&(e.expiredLanes|=R),v&=~R}}function $t(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function el(){var e=zn;return zn<<=1,(zn&4194240)===0&&(zn=64),e}function Qr(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function fn(e,n,a){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Ne(n),e[n]=a}function yt(e,n){var a=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var d=e.eventTimes;for(e=e.expirationTimes;0<a;){var m=31-Ne(a),v=1<<m;n[m]=0,d[m]=-1,e[m]=-1,a&=~v}}function Dn(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var d=31-Ne(a),m=1<<d;m&n|e[d]&n&&(e[d]|=n),a&=~m}}var We=0;function Xr(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Pi,wr,Ti,Li,Bo,Uo=!1,eo=[],pn=null,Fn=null,bn=null,$o=new Map,Me=new Map,Tt=[],Xe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Us(e,n){switch(e){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":$o.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Me.delete(n.pointerId)}}function Sr(e,n,a,d,m,v){return e===null||e.nativeEvent!==v?(e={blockedOn:n,domEventName:a,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},n!==null&&(n=jr(n),n!==null&&wr(n)),e):(e.eventSystemFlags|=d,n=e.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),e)}function $s(e,n,a,d,m){switch(n){case"focusin":return pn=Sr(pn,e,n,a,d,m),!0;case"dragenter":return Fn=Sr(Fn,e,n,a,d,m),!0;case"mouseover":return bn=Sr(bn,e,n,a,d,m),!0;case"pointerover":var v=m.pointerId;return $o.set(v,Sr($o.get(v)||null,e,n,a,d,m)),!0;case"gotpointercapture":return v=m.pointerId,Me.set(v,Sr(Me.get(v)||null,e,n,a,d,m)),!0}return!1}function Mi(e){var n=Mr(e.target);if(n!==null){var a=er(n);if(a!==null){if(n=a.tag,n===13){if(n=xr(a),n!==null){e.blockedOn=n,Bo(e.priority,function(){Ti(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function En(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Ai(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var d=new a.constructor(a.type,a);js=d,a.target.dispatchEvent(d),js=null}else return n=jr(a),n!==null&&wr(n),e.blockedOn=a,!1;n.shift()}return!0}function ji(e,n,a){En(e)&&a.delete(n)}function Go(){Uo=!1,pn!==null&&En(pn)&&(pn=null),Fn!==null&&En(Fn)&&(Fn=null),bn!==null&&En(bn)&&(bn=null),$o.forEach(ji),Me.forEach(ji)}function ft(e,n){e.blockedOn===n&&(e.blockedOn=null,Uo||(Uo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Go)))}function mn(e){function n(m){return ft(m,e)}if(0<eo.length){ft(eo[0],e);for(var a=1;a<eo.length;a++){var d=eo[a];d.blockedOn===e&&(d.blockedOn=null)}}for(pn!==null&&ft(pn,e),Fn!==null&&ft(Fn,e),bn!==null&&ft(bn,e),$o.forEach(n),Me.forEach(n),a=0;a<Tt.length;a++)d=Tt[a],d.blockedOn===e&&(d.blockedOn=null);for(;0<Tt.length&&(a=Tt[0],a.blockedOn===null);)Mi(a),a.blockedOn===null&&Tt.shift()}var kr=te.ReactCurrentBatchConfig,Ho=!0;function Ru(e,n,a,d){var m=We,v=kr.transition;kr.transition=null;try{We=1,Wo(e,n,a,d)}finally{We=m,kr.transition=v}}function tl(e,n,a,d){var m=We,v=kr.transition;kr.transition=null;try{We=4,Wo(e,n,a,d)}finally{We=m,kr.transition=v}}function Wo(e,n,a,d){if(Ho){var m=Ai(e,n,a,d);if(m===null)t(e,n,d,Ri,a),Us(e,d);else if($s(m,e,n,a,d))d.stopPropagation();else if(Us(e,d),n&4&&-1<Xe.indexOf(e)){for(;m!==null;){var v=jr(m);if(v!==null&&Pi(v),v=Ai(e,n,a,d),v===null&&t(e,n,d,Ri,a),v===m)break;m=v}m!==null&&d.stopPropagation()}else t(e,n,d,null,a)}}var Ri=null;function Ai(e,n,a,d){if(Ri=null,e=Rs(d),e=Mr(e),e!==null)if(n=er(e),n===null)e=null;else if(a=n.tag,a===13){if(e=xr(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Ri=e,null}function Ge(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ju()){case Ds:return 1;case Xa:return 4;case bi:case Fs:return 16;case Kr:return 536870912;default:return 16}default:return 16}}var tr=null,Jt=null,nr=null;function Gs(){if(nr)return nr;var e,n=Jt,a=n.length,d,m="value"in tr?tr.value:tr.textContent,v=m.length;for(e=0;e<a&&n[e]===m[e];e++);var k=a-e;for(d=1;d<=k&&n[a-d]===m[v-d];d++);return nr=m.slice(e,1<d?1-d:void 0)}function Oi(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function to(){return!0}function nl(){return!1}function Gt(e){function n(a,d,m,v,k){this._reactName=a,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=k,this.currentTarget=null;for(var R in e)e.hasOwnProperty(R)&&(a=e[R],this[R]=a?a(v):v[R]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?to:nl,this.isPropagationStopped=nl,this}return q(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=to)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=to)},persist:function(){},isPersistent:to}),n}var no={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hs=Gt(no),br=q({},no,{view:0,detail:0}),Au=Gt(br),tn,Ws,ro,gn=q({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ro&&(ro&&e.type==="mousemove"?(tn=e.screenX-ro.screenX,Ws=e.screenY-ro.screenY):Ws=tn=0,ro=e),tn)},movementY:function(e){return"movementY"in e?e.movementY:Ws}}),Zs=Gt(gn),rl=q({},gn,{dataTransfer:0}),Vs=Gt(rl),Ou=q({},br,{relatedTarget:0}),Ii=Gt(Ou),ol=q({},no,{animationName:0,elapsedTime:0,pseudoElement:0}),Iu=Gt(ol),Nu=q({},no,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qs=Gt(Nu),zu=q({},no,{data:0}),Ks=Gt(zu),il={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ni={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Er={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Er[e])?!!n[e]:!1}function Cr(){return Du}var nn=q({},br,{key:function(e){if(e.key){var n=il[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Oi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ni[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(e){return e.type==="keypress"?Oi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Oi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sl=Gt(nn),al=q({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ll=Gt(al),Js=q({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr}),Ys=Gt(Js),Fu=q({},no,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bu=Gt(Fu),ul=q({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Uu=Gt(ul),vn=[9,13,27,32],rr=x&&"CompositionEvent"in window,Zo=null;x&&"documentMode"in document&&(Zo=document.documentMode);var Bn=x&&"TextEvent"in window&&!Zo,cl=x&&(!rr||Zo&&8<Zo&&11>=Zo),Pr=" ",dl=!1;function oo(e,n){switch(e){case"keyup":return vn.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qs(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Un=!1;function $u(e,n){switch(e){case"compositionend":return Qs(n);case"keypress":return n.which!==32?null:(dl=!0,Pr);case"textInput":return e=n.data,e===Pr&&dl?null:e;default:return null}}function or(e,n){if(Un)return e==="compositionend"||!rr&&oo(e,n)?(e=Gs(),nr=Jt=tr=null,Un=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return cl&&n.locale!=="ko"?null:n.data;default:return null}}var zi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!zi[e.type]:n==="textarea"}function Di(e,n,a,d){Ha(d),n=c(n,"onChange"),0<n.length&&(a=new Hs("onChange","change",null,a,d),e.push({event:a,listeners:n}))}var Vo=null,Yt=null;function Gu(e){aa(e,0)}function $n(e){var n=Rr(e);if(Pt(n))return e}function Hu(e,n){if(e==="change")return n}var Cn=!1;if(x){var io;if(x){var Fi="oninput"in document;if(!Fi){var Bi=document.createElement("div");Bi.setAttribute("oninput","return;"),Fi=typeof Bi.oninput=="function"}io=Fi}else io=!1;Cn=io&&(!document.documentMode||9<document.documentMode)}function qo(){Vo&&(Vo.detachEvent("onpropertychange",Ui),Yt=Vo=null)}function Ui(e){if(e.propertyName==="value"&&$n(Yt)){var n=[];Di(n,Yt,e,Rs(e)),wi(Gu,n)}}function $i(e,n,a){e==="focusin"?(qo(),Vo=n,Yt=a,Vo.attachEvent("onpropertychange",Ui)):e==="focusout"&&qo()}function so(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $n(Yt)}function Gi(e,n){if(e==="click")return $n(n)}function Xs(e,n){if(e==="input"||e==="change")return $n(n)}function fl(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var yn=typeof Object.is=="function"?Object.is:fl;function ir(e,n){if(yn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),d=Object.keys(n);if(a.length!==d.length)return!1;for(d=0;d<a.length;d++){var m=a[d];if(!y.call(n,m)||!yn(e[m],n[m]))return!1}return!0}function pl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ea(e,n){var a=pl(e);e=0;for(var d;a;){if(a.nodeType===3){if(d=e+a.textContent.length,e<=n&&d>=n)return{node:a,offset:n-e};e=d}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=pl(a)}}function ml(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ml(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ta(){for(var e=window,n=wt();n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=wt(e.document)}return n}function na(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Pn(e){var n=ta(),a=e.focusedElem,d=e.selectionRange;if(n!==a&&a&&a.ownerDocument&&ml(a.ownerDocument.documentElement,a)){if(d!==null&&na(a)){if(n=d.start,e=d.end,e===void 0&&(e=n),"selectionStart"in a)a.selectionStart=n,a.selectionEnd=Math.min(e,a.value.length);else if(e=(n=a.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var m=a.textContent.length,v=Math.min(d.start,m);d=d.end===void 0?v:Math.min(d.end,m),!e.extend&&v>d&&(m=d,d=v,v=m),m=ea(a,v);var k=ea(a,d);m&&k&&(e.rangeCount!==1||e.anchorNode!==m.node||e.anchorOffset!==m.offset||e.focusNode!==k.node||e.focusOffset!==k.offset)&&(n=n.createRange(),n.setStart(m.node,m.offset),e.removeAllRanges(),v>d?(e.addRange(n),e.extend(k.node,k.offset)):(n.setEnd(k.node,k.offset),e.addRange(n)))}}for(n=[],e=a;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<n.length;a++)e=n[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Hi=x&&"documentMode"in document&&11>=document.documentMode,ao=null,lo=null,Ko=null,Wi=!1;function gl(e,n,a){var d=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wi||ao==null||ao!==wt(d)||(d=ao,"selectionStart"in d&&na(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ko&&ir(Ko,d)||(Ko=d,d=c(lo,"onSelect"),0<d.length&&(n=new Hs("onSelect","select",null,n,a),e.push({event:n,listeners:d}),n.target=ao)))}function sr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var uo={animationend:sr("Animation","AnimationEnd"),animationiteration:sr("Animation","AnimationIteration"),animationstart:sr("Animation","AnimationStart"),transitionend:sr("Transition","TransitionEnd")},ar={},ra={};x&&(ra=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function Jo(e){if(ar[e])return ar[e];if(!uo[e])return e;var n=uo[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in ra)return ar[e]=n[a];return e}var vl=Jo("animationend"),Tn=Jo("animationiteration"),oa=Jo("animationstart"),ia=Jo("transitionend"),co=new Map,yl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _n(e,n){co.set(e,n),h(n,[e])}for(var Tr=0;Tr<yl.length;Tr++){var Zi=yl[Tr],_l=Zi.toLowerCase(),Wu=Zi[0].toUpperCase()+Zi.slice(1);_n(_l,"on"+Wu)}_n(vl,"onAnimationEnd"),_n(Tn,"onAnimationIteration"),_n(oa,"onAnimationStart"),_n("dblclick","onDoubleClick"),_n("focusin","onFocus"),_n("focusout","onBlur"),_n(ia,"onTransitionEnd"),g("onMouseEnter",["mouseout","mouseover"]),g("onMouseLeave",["mouseout","mouseover"]),g("onPointerEnter",["pointerout","pointerover"]),g("onPointerLeave",["pointerout","pointerover"]),h("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),h("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),h("onBeforeInput",["compositionend","keypress","textInput","paste"]),h("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xl=new Set("cancel close invalid load scroll toggle".split(" ").concat(ho));function sa(e,n,a){var d=e.type||"unknown-event";e.currentTarget=a,Is(d,n,void 0,e),e.currentTarget=null}function aa(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var d=e[a],m=d.event;d=d.listeners;e:{var v=void 0;if(n)for(var k=d.length-1;0<=k;k--){var R=d[k],I=R.instance,H=R.currentTarget;if(R=R.listener,I!==v&&m.isPropagationStopped())break e;sa(m,R,H),v=I}else for(k=0;k<d.length;k++){if(R=d[k],I=R.instance,H=R.currentTarget,R=R.listener,I!==v&&m.isPropagationStopped())break e;sa(m,R,H),v=I}}}if(zo)throw e=Si,zo=!1,Si=null,e}function et(e,n){var a=n[go];a===void 0&&(a=n[go]=new Set);var d=e+"__bubble";a.has(d)||(wl(n,e,2,!1),a.add(d))}function la(e,n,a){var d=0;n&&(d|=4),wl(a,e,d,n)}var Yo="_reactListening"+Math.random().toString(36).slice(2);function fo(e){if(!e[Yo]){e[Yo]=!0,l.forEach(function(a){a!=="selectionchange"&&(xl.has(a)||la(a,!1,e),la(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Yo]||(n[Yo]=!0,la("selectionchange",!1,n))}}function wl(e,n,a,d){switch(Ge(n)){case 1:var m=Ru;break;case 4:m=tl;break;default:m=Wo}a=m.bind(null,n,a,e),m=void 0,!Os||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),d?m!==void 0?e.addEventListener(n,a,{capture:!0,passive:m}):e.addEventListener(n,a,!0):m!==void 0?e.addEventListener(n,a,{passive:m}):e.addEventListener(n,a,!1)}function t(e,n,a,d,m){var v=d;if((n&1)===0&&(n&2)===0&&d!==null)e:for(;;){if(d===null)return;var k=d.tag;if(k===3||k===4){var R=d.stateNode.containerInfo;if(R===m||R.nodeType===8&&R.parentNode===m)break;if(k===4)for(k=d.return;k!==null;){var I=k.tag;if((I===3||I===4)&&(I=k.stateNode.containerInfo,I===m||I.nodeType===8&&I.parentNode===m))return;k=k.return}for(;R!==null;){if(k=Mr(R),k===null)return;if(I=k.tag,I===5||I===6){d=v=k;continue e}R=R.parentNode}}d=d.return}wi(function(){var H=v,X=Rs(a),ee=[];e:{var Q=co.get(e);if(Q!==void 0){var pe=Hs,ye=e;switch(e){case"keypress":if(Oi(a)===0)break e;case"keydown":case"keyup":pe=sl;break;case"focusin":ye="focus",pe=Ii;break;case"focusout":ye="blur",pe=Ii;break;case"beforeblur":case"afterblur":pe=Ii;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Zs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Vs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=Ys;break;case vl:case Tn:case oa:pe=Iu;break;case ia:pe=Bu;break;case"scroll":pe=Au;break;case"wheel":pe=Uu;break;case"copy":case"cut":case"paste":pe=qs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=ll}var xe=(n&4)!==0,xt=!xe&&e==="scroll",F=xe?Q!==null?Q+"Capture":null:Q;xe=[];for(var N=H,U;N!==null;){U=N;var re=U.stateNode;if(U.tag===5&&re!==null&&(U=re,F!==null&&(re=Io(N,F),re!=null&&xe.push(i(N,re,U)))),xt)break;N=N.return}0<xe.length&&(Q=new pe(Q,ye,null,a,X),ee.push({event:Q,listeners:xe}))}}if((n&7)===0){e:{if(Q=e==="mouseover"||e==="pointerover",pe=e==="mouseout"||e==="pointerout",Q&&a!==js&&(ye=a.relatedTarget||a.fromElement)&&(Mr(ye)||ye[Je]))break e;if((pe||Q)&&(Q=X.window===X?X:(Q=X.ownerDocument)?Q.defaultView||Q.parentWindow:window,pe?(ye=a.relatedTarget||a.toElement,pe=H,ye=ye?Mr(ye):null,ye!==null&&(xt=er(ye),ye!==xt||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(pe=null,ye=H),pe!==ye)){if(xe=Zs,re="onMouseLeave",F="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(xe=ll,re="onPointerLeave",F="onPointerEnter",N="pointer"),xt=pe==null?Q:Rr(pe),U=ye==null?Q:Rr(ye),Q=new xe(re,N+"leave",pe,a,X),Q.target=xt,Q.relatedTarget=U,re=null,Mr(X)===H&&(xe=new xe(F,N+"enter",ye,a,X),xe.target=U,xe.relatedTarget=xt,re=xe),xt=re,pe&&ye)t:{for(xe=pe,F=ye,N=0,U=xe;U;U=p(U))N++;for(U=0,re=F;re;re=p(re))U++;for(;0<N-U;)xe=p(xe),N--;for(;0<U-N;)F=p(F),U--;for(;N--;){if(xe===F||F!==null&&xe===F.alternate)break t;xe=p(xe),F=p(F)}xe=null}else xe=null;pe!==null&&_(ee,Q,pe,xe,!1),ye!==null&&xt!==null&&_(ee,xt,ye,xe,!0)}}e:{if(Q=H?Rr(H):window,pe=Q.nodeName&&Q.nodeName.toLowerCase(),pe==="select"||pe==="input"&&Q.type==="file")var Se=Hu;else if(hl(Q))if(Cn)Se=Xs;else{Se=so;var Pe=$i}else(pe=Q.nodeName)&&pe.toLowerCase()==="input"&&(Q.type==="checkbox"||Q.type==="radio")&&(Se=Gi);if(Se&&(Se=Se(e,H))){Di(ee,Se,a,X);break e}Pe&&Pe(e,Q,H),e==="focusout"&&(Pe=Q._wrapperState)&&Pe.controlled&&Q.type==="number"&&Qe(Q,"number",Q.value)}switch(Pe=H?Rr(H):window,e){case"focusin":(hl(Pe)||Pe.contentEditable==="true")&&(ao=Pe,lo=H,Ko=null);break;case"focusout":Ko=lo=ao=null;break;case"mousedown":Wi=!0;break;case"contextmenu":case"mouseup":case"dragend":Wi=!1,gl(ee,a,X);break;case"selectionchange":if(Hi)break;case"keydown":case"keyup":gl(ee,a,X)}var Te;if(rr)e:{switch(e){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Un?oo(e,a)&&(je="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(cl&&a.locale!=="ko"&&(Un||je!=="onCompositionStart"?je==="onCompositionEnd"&&Un&&(Te=Gs()):(tr=X,Jt="value"in tr?tr.value:tr.textContent,Un=!0)),Pe=c(H,je),0<Pe.length&&(je=new Ks(je,e,null,a,X),ee.push({event:je,listeners:Pe}),Te?je.data=Te:(Te=Qs(a),Te!==null&&(je.data=Te)))),(Te=Bn?$u(e,a):or(e,a))&&(H=c(H,"onBeforeInput"),0<H.length&&(X=new Ks("onBeforeInput","beforeinput",null,a,X),ee.push({event:X,listeners:H}),X.data=Te))}aa(ee,n)})}function i(e,n,a){return{instance:e,listener:n,currentTarget:a}}function c(e,n){for(var a=n+"Capture",d=[];e!==null;){var m=e,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=Io(e,a),v!=null&&d.unshift(i(e,v,m)),v=Io(e,n),v!=null&&d.push(i(e,v,m))),e=e.return}return d}function p(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _(e,n,a,d,m){for(var v=n._reactName,k=[];a!==null&&a!==d;){var R=a,I=R.alternate,H=R.stateNode;if(I!==null&&I===d)break;R.tag===5&&H!==null&&(R=H,m?(I=Io(a,v),I!=null&&k.unshift(i(a,I,R))):m||(I=Io(a,v),I!=null&&k.push(i(a,I,R)))),a=a.return}k.length!==0&&e.push({event:n,listeners:k})}var b=/\r\n?/g,O=/\u0000|\uFFFD/g;function D(e){return(typeof e=="string"?e:""+e).replace(b,`
`).replace(O,"")}function G(e,n,a){if(n=D(n),D(e)!==n&&a)throw Error(o(425))}function Y(){}var ce=null,Ee=null;function ze(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Lt=typeof setTimeout=="function"?setTimeout:void 0,kt=typeof clearTimeout=="function"?clearTimeout:void 0,Qt=typeof Promise=="function"?Promise:void 0,Ht=typeof queueMicrotask=="function"?queueMicrotask:typeof Qt<"u"?function(e){return Qt.resolve(null).then(e).catch(po)}:Lt;function po(e){setTimeout(function(){throw e})}function ua(e,n){var a=n,d=0;do{var m=a.nextSibling;if(e.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(d===0){e.removeChild(m),mn(n);return}d--}else a!=="$"&&a!=="$?"&&a!=="$!"||d++;a=m}while(a);mn(n)}function lr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Sl(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}var Lr=Math.random().toString(36).slice(2),Ln="__reactFiber$"+Lr,mo="__reactProps$"+Lr,Je="__reactContainer$"+Lr,go="__reactEvents$"+Lr,Zu="__reactListeners$"+Lr,Vu="__reactHandles$"+Lr;function Mr(e){var n=e[Ln];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Je]||a[Ln]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Sl(e);e!==null;){if(a=e[Ln])return a;e=Sl(e)}return n}e=a,a=e.parentNode}return null}function jr(e){return e=e[Ln]||e[Je],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function Vi(e){return e[mo]||null}var qu=[],qi=-1;function vo(e){return{current:e}}function lt(e){0>qi||(e.current=qu[qi],qu[qi]=null,qi--)}function ot(e,n){qi++,qu[qi]=e.current,e.current=n}var yo={},Wt=vo(yo),rn=vo(!1),Qo=yo;function Ki(e,n){var a=e.type.contextTypes;if(!a)return yo;var d=e.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===n)return d.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in a)m[v]=n[v];return d&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=m),m}function on(e){return e=e.childContextTypes,e!=null}function kl(){lt(rn),lt(Wt)}function qd(e,n,a){if(Wt.current!==yo)throw Error(o(168));ot(Wt,n),ot(rn,a)}function Kd(e,n,a){var d=e.stateNode;if(n=n.childContextTypes,typeof d.getChildContext!="function")return a;d=d.getChildContext();for(var m in d)if(!(m in n))throw Error(o(108,be(e)||"Unknown",m));return q({},a,d)}function bl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yo,Qo=Wt.current,ot(Wt,e),ot(rn,rn.current),!0}function Jd(e,n,a){var d=e.stateNode;if(!d)throw Error(o(169));a?(e=Kd(e,n,Qo),d.__reactInternalMemoizedMergedChildContext=e,lt(rn),lt(Wt),ot(Wt,e)):lt(rn),ot(rn,a)}var Ar=null,El=!1,Ku=!1;function Yd(e){Ar===null?Ar=[e]:Ar.push(e)}function jm(e){El=!0,Yd(e)}function _o(){if(!Ku&&Ar!==null){Ku=!0;var e=0,n=We;try{var a=Ar;for(We=1;e<a.length;e++){var d=a[e];do d=d(!0);while(d!==null)}Ar=null,El=!1}catch(m){throw Ar!==null&&(Ar=Ar.slice(e+1)),Qa(Ds,_o),m}finally{We=n,Ku=!1}}return null}var Ji=[],Yi=0,Cl=null,Pl=0,Mn=[],jn=0,Xo=null,Or=1,Ir="";function ei(e,n){Ji[Yi++]=Pl,Ji[Yi++]=Cl,Cl=e,Pl=n}function Qd(e,n,a){Mn[jn++]=Or,Mn[jn++]=Ir,Mn[jn++]=Xo,Xo=e;var d=Or;e=Ir;var m=32-Ne(d)-1;d&=~(1<<m),a+=1;var v=32-Ne(n)+m;if(30<v){var k=m-m%5;v=(d&(1<<k)-1).toString(32),d>>=k,m-=k,Or=1<<32-Ne(n)+m|a<<m|d,Ir=v+e}else Or=1<<v|a<<m|d,Ir=e}function Ju(e){e.return!==null&&(ei(e,1),Qd(e,1,0))}function Yu(e){for(;e===Cl;)Cl=Ji[--Yi],Ji[Yi]=null,Pl=Ji[--Yi],Ji[Yi]=null;for(;e===Xo;)Xo=Mn[--jn],Mn[jn]=null,Ir=Mn[--jn],Mn[jn]=null,Or=Mn[--jn],Mn[jn]=null}var xn=null,wn=null,ct=!1,Gn=null;function Xd(e,n){var a=In(5,null,null,0);a.elementType="DELETED",a.stateNode=n,a.return=e,n=e.deletions,n===null?(e.deletions=[a],e.flags|=16):n.push(a)}function eh(e,n){switch(e.tag){case 5:var a=e.type;return n=n.nodeType!==1||a.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,xn=e,wn=lr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,xn=e,wn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(a=Xo!==null?{id:Or,overflow:Ir}:null,e.memoizedState={dehydrated:n,treeContext:a,retryLane:1073741824},a=In(18,null,null,0),a.stateNode=n,a.return=e,e.child=a,xn=e,wn=null,!0):!1;default:return!1}}function Qu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xu(e){if(ct){var n=wn;if(n){var a=n;if(!eh(e,n)){if(Qu(e))throw Error(o(418));n=lr(a.nextSibling);var d=xn;n&&eh(e,n)?Xd(d,a):(e.flags=e.flags&-4097|2,ct=!1,xn=e)}}else{if(Qu(e))throw Error(o(418));e.flags=e.flags&-4097|2,ct=!1,xn=e}}}function th(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xn=e}function Tl(e){if(e!==xn)return!1;if(!ct)return th(e),ct=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!ze(e.type,e.memoizedProps)),n&&(n=wn)){if(Qu(e))throw nh(),Error(o(418));for(;n;)Xd(e,n),n=lr(n.nextSibling)}if(th(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(n===0){wn=lr(e.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++}e=e.nextSibling}wn=null}}else wn=xn?lr(e.stateNode.nextSibling):null;return!0}function nh(){for(var e=wn;e;)e=lr(e.nextSibling)}function Qi(){wn=xn=null,ct=!1}function ec(e){Gn===null?Gn=[e]:Gn.push(e)}var Rm=te.ReactCurrentBatchConfig;function ca(e,n,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(o(309));var d=a.stateNode}if(!d)throw Error(o(147,e));var m=d,v=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===v?n.ref:(n=function(k){var R=m.refs;k===null?delete R[v]:R[v]=k},n._stringRef=v,n)}if(typeof e!="string")throw Error(o(284));if(!a._owner)throw Error(o(290,e))}return e}function Ll(e,n){throw e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function rh(e){var n=e._init;return n(e._payload)}function oh(e){function n(F,N){if(e){var U=F.deletions;U===null?(F.deletions=[N],F.flags|=16):U.push(N)}}function a(F,N){if(!e)return null;for(;N!==null;)n(F,N),N=N.sibling;return null}function d(F,N){for(F=new Map;N!==null;)N.key!==null?F.set(N.key,N):F.set(N.index,N),N=N.sibling;return F}function m(F,N){return F=Po(F,N),F.index=0,F.sibling=null,F}function v(F,N,U){return F.index=U,e?(U=F.alternate,U!==null?(U=U.index,U<N?(F.flags|=2,N):U):(F.flags|=2,N)):(F.flags|=1048576,N)}function k(F){return e&&F.alternate===null&&(F.flags|=2),F}function R(F,N,U,re){return N===null||N.tag!==6?(N=Wc(U,F.mode,re),N.return=F,N):(N=m(N,U),N.return=F,N)}function I(F,N,U,re){var Se=U.type;return Se===K?X(F,N,U.props.children,re,U.key):N!==null&&(N.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===fe&&rh(Se)===N.type)?(re=m(N,U.props),re.ref=ca(F,N,U),re.return=F,re):(re=Xl(U.type,U.key,U.props,null,F.mode,re),re.ref=ca(F,N,U),re.return=F,re)}function H(F,N,U,re){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=Zc(U,F.mode,re),N.return=F,N):(N=m(N,U.children||[]),N.return=F,N)}function X(F,N,U,re,Se){return N===null||N.tag!==7?(N=li(U,F.mode,re,Se),N.return=F,N):(N=m(N,U),N.return=F,N)}function ee(F,N,U){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Wc(""+N,F.mode,U),N.return=F,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case he:return U=Xl(N.type,N.key,N.props,null,F.mode,U),U.ref=ca(F,null,N),U.return=F,U;case le:return N=Zc(N,F.mode,U),N.return=F,N;case fe:var re=N._init;return ee(F,re(N._payload),U)}if(nt(N)||oe(N))return N=li(N,F.mode,U,null),N.return=F,N;Ll(F,N)}return null}function Q(F,N,U,re){var Se=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return Se!==null?null:R(F,N,""+U,re);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case he:return U.key===Se?I(F,N,U,re):null;case le:return U.key===Se?H(F,N,U,re):null;case fe:return Se=U._init,Q(F,N,Se(U._payload),re)}if(nt(U)||oe(U))return Se!==null?null:X(F,N,U,re,null);Ll(F,U)}return null}function pe(F,N,U,re,Se){if(typeof re=="string"&&re!==""||typeof re=="number")return F=F.get(U)||null,R(N,F,""+re,Se);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case he:return F=F.get(re.key===null?U:re.key)||null,I(N,F,re,Se);case le:return F=F.get(re.key===null?U:re.key)||null,H(N,F,re,Se);case fe:var Pe=re._init;return pe(F,N,U,Pe(re._payload),Se)}if(nt(re)||oe(re))return F=F.get(U)||null,X(N,F,re,Se,null);Ll(N,re)}return null}function ye(F,N,U,re){for(var Se=null,Pe=null,Te=N,je=N=0,It=null;Te!==null&&je<U.length;je++){Te.index>je?(It=Te,Te=null):It=Te.sibling;var Ve=Q(F,Te,U[je],re);if(Ve===null){Te===null&&(Te=It);break}e&&Te&&Ve.alternate===null&&n(F,Te),N=v(Ve,N,je),Pe===null?Se=Ve:Pe.sibling=Ve,Pe=Ve,Te=It}if(je===U.length)return a(F,Te),ct&&ei(F,je),Se;if(Te===null){for(;je<U.length;je++)Te=ee(F,U[je],re),Te!==null&&(N=v(Te,N,je),Pe===null?Se=Te:Pe.sibling=Te,Pe=Te);return ct&&ei(F,je),Se}for(Te=d(F,Te);je<U.length;je++)It=pe(Te,F,je,U[je],re),It!==null&&(e&&It.alternate!==null&&Te.delete(It.key===null?je:It.key),N=v(It,N,je),Pe===null?Se=It:Pe.sibling=It,Pe=It);return e&&Te.forEach(function(To){return n(F,To)}),ct&&ei(F,je),Se}function xe(F,N,U,re){var Se=oe(U);if(typeof Se!="function")throw Error(o(150));if(U=Se.call(U),U==null)throw Error(o(151));for(var Pe=Se=null,Te=N,je=N=0,It=null,Ve=U.next();Te!==null&&!Ve.done;je++,Ve=U.next()){Te.index>je?(It=Te,Te=null):It=Te.sibling;var To=Q(F,Te,Ve.value,re);if(To===null){Te===null&&(Te=It);break}e&&Te&&To.alternate===null&&n(F,Te),N=v(To,N,je),Pe===null?Se=To:Pe.sibling=To,Pe=To,Te=It}if(Ve.done)return a(F,Te),ct&&ei(F,je),Se;if(Te===null){for(;!Ve.done;je++,Ve=U.next())Ve=ee(F,Ve.value,re),Ve!==null&&(N=v(Ve,N,je),Pe===null?Se=Ve:Pe.sibling=Ve,Pe=Ve);return ct&&ei(F,je),Se}for(Te=d(F,Te);!Ve.done;je++,Ve=U.next())Ve=pe(Te,F,je,Ve.value,re),Ve!==null&&(e&&Ve.alternate!==null&&Te.delete(Ve.key===null?je:Ve.key),N=v(Ve,N,je),Pe===null?Se=Ve:Pe.sibling=Ve,Pe=Ve);return e&&Te.forEach(function(dg){return n(F,dg)}),ct&&ei(F,je),Se}function xt(F,N,U,re){if(typeof U=="object"&&U!==null&&U.type===K&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case he:e:{for(var Se=U.key,Pe=N;Pe!==null;){if(Pe.key===Se){if(Se=U.type,Se===K){if(Pe.tag===7){a(F,Pe.sibling),N=m(Pe,U.props.children),N.return=F,F=N;break e}}else if(Pe.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===fe&&rh(Se)===Pe.type){a(F,Pe.sibling),N=m(Pe,U.props),N.ref=ca(F,Pe,U),N.return=F,F=N;break e}a(F,Pe);break}else n(F,Pe);Pe=Pe.sibling}U.type===K?(N=li(U.props.children,F.mode,re,U.key),N.return=F,F=N):(re=Xl(U.type,U.key,U.props,null,F.mode,re),re.ref=ca(F,N,U),re.return=F,F=re)}return k(F);case le:e:{for(Pe=U.key;N!==null;){if(N.key===Pe)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){a(F,N.sibling),N=m(N,U.children||[]),N.return=F,F=N;break e}else{a(F,N);break}else n(F,N);N=N.sibling}N=Zc(U,F.mode,re),N.return=F,F=N}return k(F);case fe:return Pe=U._init,xt(F,N,Pe(U._payload),re)}if(nt(U))return ye(F,N,U,re);if(oe(U))return xe(F,N,U,re);Ll(F,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,N!==null&&N.tag===6?(a(F,N.sibling),N=m(N,U),N.return=F,F=N):(a(F,N),N=Wc(U,F.mode,re),N.return=F,F=N),k(F)):a(F,N)}return xt}var Xi=oh(!0),ih=oh(!1),Ml=vo(null),jl=null,es=null,tc=null;function nc(){tc=es=jl=null}function rc(e){var n=Ml.current;lt(Ml),e._currentValue=n}function oc(e,n,a){for(;e!==null;){var d=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,d!==null&&(d.childLanes|=n)):d!==null&&(d.childLanes&n)!==n&&(d.childLanes|=n),e===a)break;e=e.return}}function ts(e,n){jl=e,tc=es=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(sn=!0),e.firstContext=null)}function Rn(e){var n=e._currentValue;if(tc!==e)if(e={context:e,memoizedValue:n,next:null},es===null){if(jl===null)throw Error(o(308));es=e,jl.dependencies={lanes:0,firstContext:e}}else es=es.next=e;return n}var ti=null;function ic(e){ti===null?ti=[e]:ti.push(e)}function sh(e,n,a,d){var m=n.interleaved;return m===null?(a.next=a,ic(n)):(a.next=m.next,m.next=a),n.interleaved=a,Nr(e,d)}function Nr(e,n){e.lanes|=n;var a=e.alternate;for(a!==null&&(a.lanes|=n),a=e,e=e.return;e!==null;)e.childLanes|=n,a=e.alternate,a!==null&&(a.childLanes|=n),a=e,e=e.return;return a.tag===3?a.stateNode:null}var xo=!1;function sc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ah(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zr(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function wo(e,n,a){var d=e.updateQueue;if(d===null)return null;if(d=d.shared,(Ze&2)!==0){var m=d.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),d.pending=n,Nr(e,a)}return m=d.interleaved,m===null?(n.next=n,ic(d)):(n.next=m.next,m.next=n),d.interleaved=n,Nr(e,a)}function Rl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194240)!==0)){var d=n.lanes;d&=e.pendingLanes,a|=d,n.lanes=a,Dn(e,a)}}function lh(e,n){var a=e.updateQueue,d=e.alternate;if(d!==null&&(d=d.updateQueue,a===d)){var m=null,v=null;if(a=a.firstBaseUpdate,a!==null){do{var k={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};v===null?m=v=k:v=v.next=k,a=a.next}while(a!==null);v===null?m=v=n:v=v.next=n}else m=v=n;a={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,effects:d.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}function Al(e,n,a,d){var m=e.updateQueue;xo=!1;var v=m.firstBaseUpdate,k=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var I=R,H=I.next;I.next=null,k===null?v=H:k.next=H,k=I;var X=e.alternate;X!==null&&(X=X.updateQueue,R=X.lastBaseUpdate,R!==k&&(R===null?X.firstBaseUpdate=H:R.next=H,X.lastBaseUpdate=I))}if(v!==null){var ee=m.baseState;k=0,X=H=I=null,R=v;do{var Q=R.lane,pe=R.eventTime;if((d&Q)===Q){X!==null&&(X=X.next={eventTime:pe,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var ye=e,xe=R;switch(Q=n,pe=a,xe.tag){case 1:if(ye=xe.payload,typeof ye=="function"){ee=ye.call(pe,ee,Q);break e}ee=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=xe.payload,Q=typeof ye=="function"?ye.call(pe,ee,Q):ye,Q==null)break e;ee=q({},ee,Q);break e;case 2:xo=!0}}R.callback!==null&&R.lane!==0&&(e.flags|=64,Q=m.effects,Q===null?m.effects=[R]:Q.push(R))}else pe={eventTime:pe,lane:Q,tag:R.tag,payload:R.payload,callback:R.callback,next:null},X===null?(H=X=pe,I=ee):X=X.next=pe,k|=Q;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;Q=R,R=Q.next,Q.next=null,m.lastBaseUpdate=Q,m.shared.pending=null}}while(!0);if(X===null&&(I=ee),m.baseState=I,m.firstBaseUpdate=H,m.lastBaseUpdate=X,n=m.shared.interleaved,n!==null){m=n;do k|=m.lane,m=m.next;while(m!==n)}else v===null&&(m.shared.lanes=0);oi|=k,e.lanes=k,e.memoizedState=ee}}function uh(e,n,a){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var d=e[n],m=d.callback;if(m!==null){if(d.callback=null,d=a,typeof m!="function")throw Error(o(191,m));m.call(d)}}}var da={},ur=vo(da),ha=vo(da),fa=vo(da);function ni(e){if(e===da)throw Error(o(174));return e}function ac(e,n){switch(ot(fa,n),ot(ha,e),ot(ur,da),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:gr(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=gr(n,e)}lt(ur),ot(ur,n)}function ns(){lt(ur),lt(ha),lt(fa)}function ch(e){ni(fa.current);var n=ni(ur.current),a=gr(n,e.type);n!==a&&(ot(ha,e),ot(ur,a))}function lc(e){ha.current===e&&(lt(ur),lt(ha))}var pt=vo(0);function Ol(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var uc=[];function cc(){for(var e=0;e<uc.length;e++)uc[e]._workInProgressVersionPrimary=null;uc.length=0}var Il=te.ReactCurrentDispatcher,dc=te.ReactCurrentBatchConfig,ri=0,mt=null,Mt=null,At=null,Nl=!1,pa=!1,ma=0,Am=0;function Zt(){throw Error(o(321))}function hc(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!yn(e[a],n[a]))return!1;return!0}function fc(e,n,a,d,m,v){if(ri=v,mt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Il.current=e===null||e.memoizedState===null?zm:Dm,e=a(d,m),pa){v=0;do{if(pa=!1,ma=0,25<=v)throw Error(o(301));v+=1,At=Mt=null,n.updateQueue=null,Il.current=Fm,e=a(d,m)}while(pa)}if(Il.current=Fl,n=Mt!==null&&Mt.next!==null,ri=0,At=Mt=mt=null,Nl=!1,n)throw Error(o(300));return e}function pc(){var e=ma!==0;return ma=0,e}function cr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?mt.memoizedState=At=e:At=At.next=e,At}function An(){if(Mt===null){var e=mt.alternate;e=e!==null?e.memoizedState:null}else e=Mt.next;var n=At===null?mt.memoizedState:At.next;if(n!==null)At=n,Mt=e;else{if(e===null)throw Error(o(310));Mt=e,e={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},At===null?mt.memoizedState=At=e:At=At.next=e}return At}function ga(e,n){return typeof n=="function"?n(e):n}function mc(e){var n=An(),a=n.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var d=Mt,m=d.baseQueue,v=a.pending;if(v!==null){if(m!==null){var k=m.next;m.next=v.next,v.next=k}d.baseQueue=m=v,a.pending=null}if(m!==null){v=m.next,d=d.baseState;var R=k=null,I=null,H=v;do{var X=H.lane;if((ri&X)===X)I!==null&&(I=I.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),d=H.hasEagerState?H.eagerState:e(d,H.action);else{var ee={lane:X,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};I===null?(R=I=ee,k=d):I=I.next=ee,mt.lanes|=X,oi|=X}H=H.next}while(H!==null&&H!==v);I===null?k=d:I.next=R,yn(d,n.memoizedState)||(sn=!0),n.memoizedState=d,n.baseState=k,n.baseQueue=I,a.lastRenderedState=d}if(e=a.interleaved,e!==null){m=e;do v=m.lane,mt.lanes|=v,oi|=v,m=m.next;while(m!==e)}else m===null&&(a.lanes=0);return[n.memoizedState,a.dispatch]}function gc(e){var n=An(),a=n.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var d=a.dispatch,m=a.pending,v=n.memoizedState;if(m!==null){a.pending=null;var k=m=m.next;do v=e(v,k.action),k=k.next;while(k!==m);yn(v,n.memoizedState)||(sn=!0),n.memoizedState=v,n.baseQueue===null&&(n.baseState=v),a.lastRenderedState=v}return[v,d]}function dh(){}function hh(e,n){var a=mt,d=An(),m=n(),v=!yn(d.memoizedState,m);if(v&&(d.memoizedState=m,sn=!0),d=d.queue,vc(mh.bind(null,a,d,e),[e]),d.getSnapshot!==n||v||At!==null&&At.memoizedState.tag&1){if(a.flags|=2048,va(9,ph.bind(null,a,d,m,n),void 0,null),Ot===null)throw Error(o(349));(ri&30)!==0||fh(a,n,m)}return m}function fh(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=mt.updateQueue,n===null?(n={lastEffect:null,stores:null},mt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function ph(e,n,a,d){n.value=a,n.getSnapshot=d,gh(n)&&vh(e)}function mh(e,n,a){return a(function(){gh(n)&&vh(e)})}function gh(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!yn(e,a)}catch{return!0}}function vh(e){var n=Nr(e,1);n!==null&&Vn(n,e,1,-1)}function yh(e){var n=cr();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:e},n.queue=e,e=e.dispatch=Nm.bind(null,mt,e),[n.memoizedState,e]}function va(e,n,a,d){return e={tag:e,create:n,destroy:a,deps:d,next:null},n=mt.updateQueue,n===null?(n={lastEffect:null,stores:null},mt.updateQueue=n,n.lastEffect=e.next=e):(a=n.lastEffect,a===null?n.lastEffect=e.next=e:(d=a.next,a.next=e,e.next=d,n.lastEffect=e)),e}function _h(){return An().memoizedState}function zl(e,n,a,d){var m=cr();mt.flags|=e,m.memoizedState=va(1|n,a,void 0,d===void 0?null:d)}function Dl(e,n,a,d){var m=An();d=d===void 0?null:d;var v=void 0;if(Mt!==null){var k=Mt.memoizedState;if(v=k.destroy,d!==null&&hc(d,k.deps)){m.memoizedState=va(n,a,v,d);return}}mt.flags|=e,m.memoizedState=va(1|n,a,v,d)}function xh(e,n){return zl(8390656,8,e,n)}function vc(e,n){return Dl(2048,8,e,n)}function wh(e,n){return Dl(4,2,e,n)}function Sh(e,n){return Dl(4,4,e,n)}function kh(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function bh(e,n,a){return a=a!=null?a.concat([e]):null,Dl(4,4,kh.bind(null,n,e),a)}function yc(){}function Eh(e,n){var a=An();n=n===void 0?null:n;var d=a.memoizedState;return d!==null&&n!==null&&hc(n,d[1])?d[0]:(a.memoizedState=[e,n],e)}function Ch(e,n){var a=An();n=n===void 0?null:n;var d=a.memoizedState;return d!==null&&n!==null&&hc(n,d[1])?d[0]:(e=e(),a.memoizedState=[e,n],e)}function Ph(e,n,a){return(ri&21)===0?(e.baseState&&(e.baseState=!1,sn=!0),e.memoizedState=a):(yn(a,n)||(a=el(),mt.lanes|=a,oi|=a,e.baseState=!0),n)}function Om(e,n){var a=We;We=a!==0&&4>a?a:4,e(!0);var d=dc.transition;dc.transition={};try{e(!1),n()}finally{We=a,dc.transition=d}}function Th(){return An().memoizedState}function Im(e,n,a){var d=Eo(e);if(a={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null},Lh(e))Mh(n,a);else if(a=sh(e,n,a,d),a!==null){var m=en();Vn(a,e,d,m),jh(a,n,d)}}function Nm(e,n,a){var d=Eo(e),m={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null};if(Lh(e))Mh(n,m);else{var v=e.alternate;if(e.lanes===0&&(v===null||v.lanes===0)&&(v=n.lastRenderedReducer,v!==null))try{var k=n.lastRenderedState,R=v(k,a);if(m.hasEagerState=!0,m.eagerState=R,yn(R,k)){var I=n.interleaved;I===null?(m.next=m,ic(n)):(m.next=I.next,I.next=m),n.interleaved=m;return}}catch{}finally{}a=sh(e,n,m,d),a!==null&&(m=en(),Vn(a,e,d,m),jh(a,n,d))}}function Lh(e){var n=e.alternate;return e===mt||n!==null&&n===mt}function Mh(e,n){pa=Nl=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function jh(e,n,a){if((a&4194240)!==0){var d=n.lanes;d&=e.pendingLanes,a|=d,n.lanes=a,Dn(e,a)}}var Fl={readContext:Rn,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},zm={readContext:Rn,useCallback:function(e,n){return cr().memoizedState=[e,n===void 0?null:n],e},useContext:Rn,useEffect:xh,useImperativeHandle:function(e,n,a){return a=a!=null?a.concat([e]):null,zl(4194308,4,kh.bind(null,n,e),a)},useLayoutEffect:function(e,n){return zl(4194308,4,e,n)},useInsertionEffect:function(e,n){return zl(4,2,e,n)},useMemo:function(e,n){var a=cr();return n=n===void 0?null:n,e=e(),a.memoizedState=[e,n],e},useReducer:function(e,n,a){var d=cr();return n=a!==void 0?a(n):n,d.memoizedState=d.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},d.queue=e,e=e.dispatch=Im.bind(null,mt,e),[d.memoizedState,e]},useRef:function(e){var n=cr();return e={current:e},n.memoizedState=e},useState:yh,useDebugValue:yc,useDeferredValue:function(e){return cr().memoizedState=e},useTransition:function(){var e=yh(!1),n=e[0];return e=Om.bind(null,e[1]),cr().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,a){var d=mt,m=cr();if(ct){if(a===void 0)throw Error(o(407));a=a()}else{if(a=n(),Ot===null)throw Error(o(349));(ri&30)!==0||fh(d,n,a)}m.memoizedState=a;var v={value:a,getSnapshot:n};return m.queue=v,xh(mh.bind(null,d,v,e),[e]),d.flags|=2048,va(9,ph.bind(null,d,v,a,n),void 0,null),a},useId:function(){var e=cr(),n=Ot.identifierPrefix;if(ct){var a=Ir,d=Or;a=(d&~(1<<32-Ne(d)-1)).toString(32)+a,n=":"+n+"R"+a,a=ma++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=Am++,n=":"+n+"r"+a.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Dm={readContext:Rn,useCallback:Eh,useContext:Rn,useEffect:vc,useImperativeHandle:bh,useInsertionEffect:wh,useLayoutEffect:Sh,useMemo:Ch,useReducer:mc,useRef:_h,useState:function(){return mc(ga)},useDebugValue:yc,useDeferredValue:function(e){var n=An();return Ph(n,Mt.memoizedState,e)},useTransition:function(){var e=mc(ga)[0],n=An().memoizedState;return[e,n]},useMutableSource:dh,useSyncExternalStore:hh,useId:Th,unstable_isNewReconciler:!1},Fm={readContext:Rn,useCallback:Eh,useContext:Rn,useEffect:vc,useImperativeHandle:bh,useInsertionEffect:wh,useLayoutEffect:Sh,useMemo:Ch,useReducer:gc,useRef:_h,useState:function(){return gc(ga)},useDebugValue:yc,useDeferredValue:function(e){var n=An();return Mt===null?n.memoizedState=e:Ph(n,Mt.memoizedState,e)},useTransition:function(){var e=gc(ga)[0],n=An().memoizedState;return[e,n]},useMutableSource:dh,useSyncExternalStore:hh,useId:Th,unstable_isNewReconciler:!1};function Hn(e,n){if(e&&e.defaultProps){n=q({},n),e=e.defaultProps;for(var a in e)n[a]===void 0&&(n[a]=e[a]);return n}return n}function _c(e,n,a,d){n=e.memoizedState,a=a(d,n),a=a==null?n:q({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Bl={isMounted:function(e){return(e=e._reactInternals)?er(e)===e:!1},enqueueSetState:function(e,n,a){e=e._reactInternals;var d=en(),m=Eo(e),v=zr(d,m);v.payload=n,a!=null&&(v.callback=a),n=wo(e,v,m),n!==null&&(Vn(n,e,m,d),Rl(n,e,m))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var d=en(),m=Eo(e),v=zr(d,m);v.tag=1,v.payload=n,a!=null&&(v.callback=a),n=wo(e,v,m),n!==null&&(Vn(n,e,m,d),Rl(n,e,m))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=en(),d=Eo(e),m=zr(a,d);m.tag=2,n!=null&&(m.callback=n),n=wo(e,m,d),n!==null&&(Vn(n,e,d,a),Rl(n,e,d))}};function Rh(e,n,a,d,m,v,k){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(d,v,k):n.prototype&&n.prototype.isPureReactComponent?!ir(a,d)||!ir(m,v):!0}function Ah(e,n,a){var d=!1,m=yo,v=n.contextType;return typeof v=="object"&&v!==null?v=Rn(v):(m=on(n)?Qo:Wt.current,d=n.contextTypes,v=(d=d!=null)?Ki(e,m):yo),n=new n(a,v),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Bl,e.stateNode=n,n._reactInternals=e,d&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=m,e.__reactInternalMemoizedMaskedChildContext=v),n}function Oh(e,n,a,d){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,d),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,d),n.state!==e&&Bl.enqueueReplaceState(n,n.state,null)}function xc(e,n,a,d){var m=e.stateNode;m.props=a,m.state=e.memoizedState,m.refs={},sc(e);var v=n.contextType;typeof v=="object"&&v!==null?m.context=Rn(v):(v=on(n)?Qo:Wt.current,m.context=Ki(e,v)),m.state=e.memoizedState,v=n.getDerivedStateFromProps,typeof v=="function"&&(_c(e,n,v,a),m.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(n=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),n!==m.state&&Bl.enqueueReplaceState(m,m.state,null),Al(e,a,m,d),m.state=e.memoizedState),typeof m.componentDidMount=="function"&&(e.flags|=4194308)}function rs(e,n){try{var a="",d=n;do a+=ae(d),d=d.return;while(d);var m=a}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:e,source:n,stack:m,digest:null}}function wc(e,n,a){return{value:e,source:null,stack:a??null,digest:n??null}}function Sc(e,n){try{console.error(n.value)}catch(a){setTimeout(function(){throw a})}}var Bm=typeof WeakMap=="function"?WeakMap:Map;function Ih(e,n,a){a=zr(-1,a),a.tag=3,a.payload={element:null};var d=n.value;return a.callback=function(){Vl||(Vl=!0,zc=d),Sc(e,n)},a}function Nh(e,n,a){a=zr(-1,a),a.tag=3;var d=e.type.getDerivedStateFromError;if(typeof d=="function"){var m=n.value;a.payload=function(){return d(m)},a.callback=function(){Sc(e,n)}}var v=e.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(a.callback=function(){Sc(e,n),typeof d!="function"&&(ko===null?ko=new Set([this]):ko.add(this));var k=n.stack;this.componentDidCatch(n.value,{componentStack:k!==null?k:""})}),a}function zh(e,n,a){var d=e.pingCache;if(d===null){d=e.pingCache=new Bm;var m=new Set;d.set(n,m)}else m=d.get(n),m===void 0&&(m=new Set,d.set(n,m));m.has(a)||(m.add(a),e=eg.bind(null,e,n,a),n.then(e,e))}function Dh(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Fh(e,n,a,d,m){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(n=zr(-1,1),n.tag=2,wo(a,n,1))),a.lanes|=1),e):(e.flags|=65536,e.lanes=m,e)}var Um=te.ReactCurrentOwner,sn=!1;function Xt(e,n,a,d){n.child=e===null?ih(n,null,a,d):Xi(n,e.child,a,d)}function Bh(e,n,a,d,m){a=a.render;var v=n.ref;return ts(n,m),d=fc(e,n,a,d,v,m),a=pc(),e!==null&&!sn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~m,Dr(e,n,m)):(ct&&a&&Ju(n),n.flags|=1,Xt(e,n,d,m),n.child)}function Uh(e,n,a,d,m){if(e===null){var v=a.type;return typeof v=="function"&&!Hc(v)&&v.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(n.tag=15,n.type=v,$h(e,n,v,d,m)):(e=Xl(a.type,null,d,n,n.mode,m),e.ref=n.ref,e.return=n,n.child=e)}if(v=e.child,(e.lanes&m)===0){var k=v.memoizedProps;if(a=a.compare,a=a!==null?a:ir,a(k,d)&&e.ref===n.ref)return Dr(e,n,m)}return n.flags|=1,e=Po(v,d),e.ref=n.ref,e.return=n,n.child=e}function $h(e,n,a,d,m){if(e!==null){var v=e.memoizedProps;if(ir(v,d)&&e.ref===n.ref)if(sn=!1,n.pendingProps=d=v,(e.lanes&m)!==0)(e.flags&131072)!==0&&(sn=!0);else return n.lanes=e.lanes,Dr(e,n,m)}return kc(e,n,a,d,m)}function Gh(e,n,a){var d=n.pendingProps,m=d.children,v=e!==null?e.memoizedState:null;if(d.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(is,Sn),Sn|=a;else{if((a&1073741824)===0)return e=v!==null?v.baseLanes|a:a,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,ot(is,Sn),Sn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:a,ot(is,Sn),Sn|=d}else v!==null?(d=v.baseLanes|a,n.memoizedState=null):d=a,ot(is,Sn),Sn|=d;return Xt(e,n,m,a),n.child}function Hh(e,n){var a=n.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(n.flags|=512,n.flags|=2097152)}function kc(e,n,a,d,m){var v=on(a)?Qo:Wt.current;return v=Ki(n,v),ts(n,m),a=fc(e,n,a,d,v,m),d=pc(),e!==null&&!sn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~m,Dr(e,n,m)):(ct&&d&&Ju(n),n.flags|=1,Xt(e,n,a,m),n.child)}function Wh(e,n,a,d,m){if(on(a)){var v=!0;bl(n)}else v=!1;if(ts(n,m),n.stateNode===null)$l(e,n),Ah(n,a,d),xc(n,a,d,m),d=!0;else if(e===null){var k=n.stateNode,R=n.memoizedProps;k.props=R;var I=k.context,H=a.contextType;typeof H=="object"&&H!==null?H=Rn(H):(H=on(a)?Qo:Wt.current,H=Ki(n,H));var X=a.getDerivedStateFromProps,ee=typeof X=="function"||typeof k.getSnapshotBeforeUpdate=="function";ee||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(R!==d||I!==H)&&Oh(n,k,d,H),xo=!1;var Q=n.memoizedState;k.state=Q,Al(n,d,k,m),I=n.memoizedState,R!==d||Q!==I||rn.current||xo?(typeof X=="function"&&(_c(n,a,X,d),I=n.memoizedState),(R=xo||Rh(n,a,R,d,Q,I,H))?(ee||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(n.flags|=4194308)):(typeof k.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=d,n.memoizedState=I),k.props=d,k.state=I,k.context=H,d=R):(typeof k.componentDidMount=="function"&&(n.flags|=4194308),d=!1)}else{k=n.stateNode,ah(e,n),R=n.memoizedProps,H=n.type===n.elementType?R:Hn(n.type,R),k.props=H,ee=n.pendingProps,Q=k.context,I=a.contextType,typeof I=="object"&&I!==null?I=Rn(I):(I=on(a)?Qo:Wt.current,I=Ki(n,I));var pe=a.getDerivedStateFromProps;(X=typeof pe=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(R!==ee||Q!==I)&&Oh(n,k,d,I),xo=!1,Q=n.memoizedState,k.state=Q,Al(n,d,k,m);var ye=n.memoizedState;R!==ee||Q!==ye||rn.current||xo?(typeof pe=="function"&&(_c(n,a,pe,d),ye=n.memoizedState),(H=xo||Rh(n,a,H,d,Q,ye,I)||!1)?(X||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(d,ye,I),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(d,ye,I)),typeof k.componentDidUpdate=="function"&&(n.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof k.componentDidUpdate!="function"||R===e.memoizedProps&&Q===e.memoizedState||(n.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||R===e.memoizedProps&&Q===e.memoizedState||(n.flags|=1024),n.memoizedProps=d,n.memoizedState=ye),k.props=d,k.state=ye,k.context=I,d=H):(typeof k.componentDidUpdate!="function"||R===e.memoizedProps&&Q===e.memoizedState||(n.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||R===e.memoizedProps&&Q===e.memoizedState||(n.flags|=1024),d=!1)}return bc(e,n,a,d,v,m)}function bc(e,n,a,d,m,v){Hh(e,n);var k=(n.flags&128)!==0;if(!d&&!k)return m&&Jd(n,a,!1),Dr(e,n,v);d=n.stateNode,Um.current=n;var R=k&&typeof a.getDerivedStateFromError!="function"?null:d.render();return n.flags|=1,e!==null&&k?(n.child=Xi(n,e.child,null,v),n.child=Xi(n,null,R,v)):Xt(e,n,R,v),n.memoizedState=d.state,m&&Jd(n,a,!0),n.child}function Zh(e){var n=e.stateNode;n.pendingContext?qd(e,n.pendingContext,n.pendingContext!==n.context):n.context&&qd(e,n.context,!1),ac(e,n.containerInfo)}function Vh(e,n,a,d,m){return Qi(),ec(m),n.flags|=256,Xt(e,n,a,d),n.child}var Ec={dehydrated:null,treeContext:null,retryLane:0};function Cc(e){return{baseLanes:e,cachePool:null,transitions:null}}function qh(e,n,a){var d=n.pendingProps,m=pt.current,v=!1,k=(n.flags&128)!==0,R;if((R=k)||(R=e!==null&&e.memoizedState===null?!1:(m&2)!==0),R?(v=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(m|=1),ot(pt,m&1),e===null)return Xu(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(k=d.children,e=d.fallback,v?(d=n.mode,v=n.child,k={mode:"hidden",children:k},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=k):v=eu(k,d,0,null),e=li(e,d,a,null),v.return=n,e.return=n,v.sibling=e,n.child=v,n.child.memoizedState=Cc(a),n.memoizedState=Ec,e):Pc(n,k));if(m=e.memoizedState,m!==null&&(R=m.dehydrated,R!==null))return $m(e,n,k,d,R,m,a);if(v){v=d.fallback,k=n.mode,m=e.child,R=m.sibling;var I={mode:"hidden",children:d.children};return(k&1)===0&&n.child!==m?(d=n.child,d.childLanes=0,d.pendingProps=I,n.deletions=null):(d=Po(m,I),d.subtreeFlags=m.subtreeFlags&14680064),R!==null?v=Po(R,v):(v=li(v,k,a,null),v.flags|=2),v.return=n,d.return=n,d.sibling=v,n.child=d,d=v,v=n.child,k=e.child.memoizedState,k=k===null?Cc(a):{baseLanes:k.baseLanes|a,cachePool:null,transitions:k.transitions},v.memoizedState=k,v.childLanes=e.childLanes&~a,n.memoizedState=Ec,d}return v=e.child,e=v.sibling,d=Po(v,{mode:"visible",children:d.children}),(n.mode&1)===0&&(d.lanes=a),d.return=n,d.sibling=null,e!==null&&(a=n.deletions,a===null?(n.deletions=[e],n.flags|=16):a.push(e)),n.child=d,n.memoizedState=null,d}function Pc(e,n){return n=eu({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Ul(e,n,a,d){return d!==null&&ec(d),Xi(n,e.child,null,a),e=Pc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function $m(e,n,a,d,m,v,k){if(a)return n.flags&256?(n.flags&=-257,d=wc(Error(o(422))),Ul(e,n,k,d)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(v=d.fallback,m=n.mode,d=eu({mode:"visible",children:d.children},m,0,null),v=li(v,m,k,null),v.flags|=2,d.return=n,v.return=n,d.sibling=v,n.child=d,(n.mode&1)!==0&&Xi(n,e.child,null,k),n.child.memoizedState=Cc(k),n.memoizedState=Ec,v);if((n.mode&1)===0)return Ul(e,n,k,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var R=d.dgst;return d=R,v=Error(o(419)),d=wc(v,d,void 0),Ul(e,n,k,d)}if(R=(k&e.childLanes)!==0,sn||R){if(d=Ot,d!==null){switch(k&-k){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|k))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Nr(e,m),Vn(d,e,m,-1))}return Gc(),d=wc(Error(o(421))),Ul(e,n,k,d)}return m.data==="$?"?(n.flags|=128,n.child=e.child,n=tg.bind(null,e),m._reactRetry=n,null):(e=v.treeContext,wn=lr(m.nextSibling),xn=n,ct=!0,Gn=null,e!==null&&(Mn[jn++]=Or,Mn[jn++]=Ir,Mn[jn++]=Xo,Or=e.id,Ir=e.overflow,Xo=n),n=Pc(n,d.children),n.flags|=4096,n)}function Kh(e,n,a){e.lanes|=n;var d=e.alternate;d!==null&&(d.lanes|=n),oc(e.return,n,a)}function Tc(e,n,a,d,m){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:d,tail:a,tailMode:m}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=a,v.tailMode=m)}function Jh(e,n,a){var d=n.pendingProps,m=d.revealOrder,v=d.tail;if(Xt(e,n,d.children,a),d=pt.current,(d&2)!==0)d=d&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kh(e,a,n);else if(e.tag===19)Kh(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}d&=1}if(ot(pt,d),(n.mode&1)===0)n.memoizedState=null;else switch(m){case"forwards":for(a=n.child,m=null;a!==null;)e=a.alternate,e!==null&&Ol(e)===null&&(m=a),a=a.sibling;a=m,a===null?(m=n.child,n.child=null):(m=a.sibling,a.sibling=null),Tc(n,!1,m,a,v);break;case"backwards":for(a=null,m=n.child,n.child=null;m!==null;){if(e=m.alternate,e!==null&&Ol(e)===null){n.child=m;break}e=m.sibling,m.sibling=a,a=m,m=e}Tc(n,!0,a,null,v);break;case"together":Tc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function $l(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Dr(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),oi|=n.lanes,(a&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,a=Po(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Po(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Gm(e,n,a){switch(n.tag){case 3:Zh(n),Qi();break;case 5:ch(n);break;case 1:on(n.type)&&bl(n);break;case 4:ac(n,n.stateNode.containerInfo);break;case 10:var d=n.type._context,m=n.memoizedProps.value;ot(Ml,d._currentValue),d._currentValue=m;break;case 13:if(d=n.memoizedState,d!==null)return d.dehydrated!==null?(ot(pt,pt.current&1),n.flags|=128,null):(a&n.child.childLanes)!==0?qh(e,n,a):(ot(pt,pt.current&1),e=Dr(e,n,a),e!==null?e.sibling:null);ot(pt,pt.current&1);break;case 19:if(d=(a&n.childLanes)!==0,(e.flags&128)!==0){if(d)return Jh(e,n,a);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ot(pt,pt.current),d)break;return null;case 22:case 23:return n.lanes=0,Gh(e,n,a)}return Dr(e,n,a)}var Yh,Lc,Qh,Xh;Yh=function(e,n){for(var a=n.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Lc=function(){},Qh=function(e,n,a,d){var m=e.memoizedProps;if(m!==d){e=n.stateNode,ni(ur.current);var v=null;switch(a){case"input":m=St(e,m),d=St(e,d),v=[];break;case"select":m=q({},m,{value:void 0}),d=q({},d,{value:void 0}),v=[];break;case"textarea":m=Rt(e,m),d=Rt(e,d),v=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(e.onclick=Y)}Ms(a,d);var k;a=null;for(H in m)if(!d.hasOwnProperty(H)&&m.hasOwnProperty(H)&&m[H]!=null)if(H==="style"){var R=m[H];for(k in R)R.hasOwnProperty(k)&&(a||(a={}),a[k]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(u.hasOwnProperty(H)?v||(v=[]):(v=v||[]).push(H,null));for(H in d){var I=d[H];if(R=m!=null?m[H]:void 0,d.hasOwnProperty(H)&&I!==R&&(I!=null||R!=null))if(H==="style")if(R){for(k in R)!R.hasOwnProperty(k)||I&&I.hasOwnProperty(k)||(a||(a={}),a[k]="");for(k in I)I.hasOwnProperty(k)&&R[k]!==I[k]&&(a||(a={}),a[k]=I[k])}else a||(v||(v=[]),v.push(H,a)),a=I;else H==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,R=R?R.__html:void 0,I!=null&&R!==I&&(v=v||[]).push(H,I)):H==="children"?typeof I!="string"&&typeof I!="number"||(v=v||[]).push(H,""+I):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(u.hasOwnProperty(H)?(I!=null&&H==="onScroll"&&et("scroll",e),v||R===I||(v=[])):(v=v||[]).push(H,I))}a&&(v=v||[]).push("style",a);var H=v;(n.updateQueue=H)&&(n.flags|=4)}},Xh=function(e,n,a,d){a!==d&&(n.flags|=4)};function ya(e,n){if(!ct)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:d.sibling=null}}function Vt(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,d=0;if(n)for(var m=e.child;m!==null;)a|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)a|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=d,e.childLanes=a,n}function Hm(e,n,a){var d=n.pendingProps;switch(Yu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(n),null;case 1:return on(n.type)&&kl(),Vt(n),null;case 3:return d=n.stateNode,ns(),lt(rn),lt(Wt),cc(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(e===null||e.child===null)&&(Tl(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gn!==null&&(Bc(Gn),Gn=null))),Lc(e,n),Vt(n),null;case 5:lc(n);var m=ni(fa.current);if(a=n.type,e!==null&&n.stateNode!=null)Qh(e,n,a,d,m),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!d){if(n.stateNode===null)throw Error(o(166));return Vt(n),null}if(e=ni(ur.current),Tl(n)){d=n.stateNode,a=n.type;var v=n.memoizedProps;switch(d[Ln]=n,d[mo]=v,e=(n.mode&1)!==0,a){case"dialog":et("cancel",d),et("close",d);break;case"iframe":case"object":case"embed":et("load",d);break;case"video":case"audio":for(m=0;m<ho.length;m++)et(ho[m],d);break;case"source":et("error",d);break;case"img":case"image":case"link":et("error",d),et("load",d);break;case"details":et("toggle",d);break;case"input":Fe(d,v),et("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},et("invalid",d);break;case"textarea":dn(d,v),et("invalid",d)}Ms(a,v),m=null;for(var k in v)if(v.hasOwnProperty(k)){var R=v[k];k==="children"?typeof R=="string"?d.textContent!==R&&(v.suppressHydrationWarning!==!0&&G(d.textContent,R,e),m=["children",R]):typeof R=="number"&&d.textContent!==""+R&&(v.suppressHydrationWarning!==!0&&G(d.textContent,R,e),m=["children",""+R]):u.hasOwnProperty(k)&&R!=null&&k==="onScroll"&&et("scroll",d)}switch(a){case"input":tt(d),Ke(d,v,!0);break;case"textarea":tt(d),Dt(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=Y)}d=m,n.updateQueue=d,d!==null&&(n.flags|=4)}else{k=m.nodeType===9?m:m.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qn(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=k.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof d.is=="string"?e=k.createElement(a,{is:d.is}):(e=k.createElement(a),a==="select"&&(k=e,d.multiple?k.multiple=!0:d.size&&(k.size=d.size))):e=k.createElementNS(e,a),e[Ln]=n,e[mo]=d,Yh(e,n,!1,!1),n.stateNode=e;e:{switch(k=vr(a,d),a){case"dialog":et("cancel",e),et("close",e),m=d;break;case"iframe":case"object":case"embed":et("load",e),m=d;break;case"video":case"audio":for(m=0;m<ho.length;m++)et(ho[m],e);m=d;break;case"source":et("error",e),m=d;break;case"img":case"image":case"link":et("error",e),et("load",e),m=d;break;case"details":et("toggle",e),m=d;break;case"input":Fe(e,d),m=St(e,d),et("invalid",e);break;case"option":m=d;break;case"select":e._wrapperState={wasMultiple:!!d.multiple},m=q({},d,{value:void 0}),et("invalid",e);break;case"textarea":dn(e,d),m=Rt(e,d),et("invalid",e);break;default:m=d}Ms(a,m),R=m;for(v in R)if(R.hasOwnProperty(v)){var I=R[v];v==="style"?_i(e,I):v==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&Ua(e,I)):v==="children"?typeof I=="string"?(a!=="textarea"||I!=="")&&Vr(e,I):typeof I=="number"&&Vr(e,""+I):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(u.hasOwnProperty(v)?I!=null&&v==="onScroll"&&et("scroll",e):I!=null&&Z(e,v,I,k))}switch(a){case"input":tt(e),Ke(e,d,!1);break;case"textarea":tt(e),Dt(e);break;case"option":d.value!=null&&e.setAttribute("value",""+Ce(d.value));break;case"select":e.multiple=!!d.multiple,v=d.value,v!=null?dt(e,!!d.multiple,v,!1):d.defaultValue!=null&&dt(e,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(e.onclick=Y)}switch(a){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Vt(n),null;case 6:if(e&&n.stateNode!=null)Xh(e,n,e.memoizedProps,d);else{if(typeof d!="string"&&n.stateNode===null)throw Error(o(166));if(a=ni(fa.current),ni(ur.current),Tl(n)){if(d=n.stateNode,a=n.memoizedProps,d[Ln]=n,(v=d.nodeValue!==a)&&(e=xn,e!==null))switch(e.tag){case 3:G(d.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&G(d.nodeValue,a,(e.mode&1)!==0)}v&&(n.flags|=4)}else d=(a.nodeType===9?a:a.ownerDocument).createTextNode(d),d[Ln]=n,n.stateNode=d}return Vt(n),null;case 13:if(lt(pt),d=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ct&&wn!==null&&(n.mode&1)!==0&&(n.flags&128)===0)nh(),Qi(),n.flags|=98560,v=!1;else if(v=Tl(n),d!==null&&d.dehydrated!==null){if(e===null){if(!v)throw Error(o(318));if(v=n.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(o(317));v[Ln]=n}else Qi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Vt(n),v=!1}else Gn!==null&&(Bc(Gn),Gn=null),v=!0;if(!v)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=a,n):(d=d!==null,d!==(e!==null&&e.memoizedState!==null)&&d&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(pt.current&1)!==0?jt===0&&(jt=3):Gc())),n.updateQueue!==null&&(n.flags|=4),Vt(n),null);case 4:return ns(),Lc(e,n),e===null&&fo(n.stateNode.containerInfo),Vt(n),null;case 10:return rc(n.type._context),Vt(n),null;case 17:return on(n.type)&&kl(),Vt(n),null;case 19:if(lt(pt),v=n.memoizedState,v===null)return Vt(n),null;if(d=(n.flags&128)!==0,k=v.rendering,k===null)if(d)ya(v,!1);else{if(jt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(k=Ol(e),k!==null){for(n.flags|=128,ya(v,!1),d=k.updateQueue,d!==null&&(n.updateQueue=d,n.flags|=4),n.subtreeFlags=0,d=a,a=n.child;a!==null;)v=a,e=d,v.flags&=14680066,k=v.alternate,k===null?(v.childLanes=0,v.lanes=e,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=k.childLanes,v.lanes=k.lanes,v.child=k.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=k.memoizedProps,v.memoizedState=k.memoizedState,v.updateQueue=k.updateQueue,v.type=k.type,e=k.dependencies,v.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return ot(pt,pt.current&1|2),n.child}e=e.sibling}v.tail!==null&&ht()>ss&&(n.flags|=128,d=!0,ya(v,!1),n.lanes=4194304)}else{if(!d)if(e=Ol(k),e!==null){if(n.flags|=128,d=!0,a=e.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),ya(v,!0),v.tail===null&&v.tailMode==="hidden"&&!k.alternate&&!ct)return Vt(n),null}else 2*ht()-v.renderingStartTime>ss&&a!==1073741824&&(n.flags|=128,d=!0,ya(v,!1),n.lanes=4194304);v.isBackwards?(k.sibling=n.child,n.child=k):(a=v.last,a!==null?a.sibling=k:n.child=k,v.last=k)}return v.tail!==null?(n=v.tail,v.rendering=n,v.tail=n.sibling,v.renderingStartTime=ht(),n.sibling=null,a=pt.current,ot(pt,d?a&1|2:a&1),n):(Vt(n),null);case 22:case 23:return $c(),d=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==d&&(n.flags|=8192),d&&(n.mode&1)!==0?(Sn&1073741824)!==0&&(Vt(n),n.subtreeFlags&6&&(n.flags|=8192)):Vt(n),null;case 24:return null;case 25:return null}throw Error(o(156,n.tag))}function Wm(e,n){switch(Yu(n),n.tag){case 1:return on(n.type)&&kl(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ns(),lt(rn),lt(Wt),cc(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return lc(n),null;case 13:if(lt(pt),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));Qi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return lt(pt),null;case 4:return ns(),null;case 10:return rc(n.type._context),null;case 22:case 23:return $c(),null;case 24:return null;default:return null}}var Gl=!1,qt=!1,Zm=typeof WeakSet=="function"?WeakSet:Set,ve=null;function os(e,n){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(d){_t(e,n,d)}else a.current=null}function Mc(e,n,a){try{a()}catch(d){_t(e,n,d)}}var ef=!1;function Vm(e,n){if(ce=Ho,e=ta(),na(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var d=a.getSelection&&a.getSelection();if(d&&d.rangeCount!==0){a=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{a.nodeType,v.nodeType}catch{a=null;break e}var k=0,R=-1,I=-1,H=0,X=0,ee=e,Q=null;t:for(;;){for(var pe;ee!==a||m!==0&&ee.nodeType!==3||(R=k+m),ee!==v||d!==0&&ee.nodeType!==3||(I=k+d),ee.nodeType===3&&(k+=ee.nodeValue.length),(pe=ee.firstChild)!==null;)Q=ee,ee=pe;for(;;){if(ee===e)break t;if(Q===a&&++H===m&&(R=k),Q===v&&++X===d&&(I=k),(pe=ee.nextSibling)!==null)break;ee=Q,Q=ee.parentNode}ee=pe}a=R===-1||I===-1?null:{start:R,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ee={focusedElem:e,selectionRange:a},Ho=!1,ve=n;ve!==null;)if(n=ve,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ve=e;else for(;ve!==null;){n=ve;try{var ye=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var xe=ye.memoizedProps,xt=ye.memoizedState,F=n.stateNode,N=F.getSnapshotBeforeUpdate(n.elementType===n.type?xe:Hn(n.type,xe),xt);F.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var U=n.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(re){_t(n,n.return,re)}if(e=n.sibling,e!==null){e.return=n.return,ve=e;break}ve=n.return}return ye=ef,ef=!1,ye}function _a(e,n,a){var d=n.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&e)===e){var v=m.destroy;m.destroy=void 0,v!==void 0&&Mc(n,a,v)}m=m.next}while(m!==d)}}function Hl(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var d=a.create;a.destroy=d()}a=a.next}while(a!==n)}}function jc(e){var n=e.ref;if(n!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof n=="function"?n(e):n.current=e}}function tf(e){var n=e.alternate;n!==null&&(e.alternate=null,tf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Ln],delete n[mo],delete n[go],delete n[Zu],delete n[Vu])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nf(e){return e.tag===5||e.tag===3||e.tag===4}function rf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rc(e,n,a){var d=e.tag;if(d===5||d===6)e=e.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(e,n):a.insertBefore(e,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(e,a)):(n=a,n.appendChild(e)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Y));else if(d!==4&&(e=e.child,e!==null))for(Rc(e,n,a),e=e.sibling;e!==null;)Rc(e,n,a),e=e.sibling}function Ac(e,n,a){var d=e.tag;if(d===5||d===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(d!==4&&(e=e.child,e!==null))for(Ac(e,n,a),e=e.sibling;e!==null;)Ac(e,n,a),e=e.sibling}var Ft=null,Wn=!1;function So(e,n,a){for(a=a.child;a!==null;)of(e,n,a),a=a.sibling}function of(e,n,a){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(Do,a)}catch{}switch(a.tag){case 5:qt||os(a,n);case 6:var d=Ft,m=Wn;Ft=null,So(e,n,a),Ft=d,Wn=m,Ft!==null&&(Wn?(e=Ft,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):Ft.removeChild(a.stateNode));break;case 18:Ft!==null&&(Wn?(e=Ft,a=a.stateNode,e.nodeType===8?ua(e.parentNode,a):e.nodeType===1&&ua(e,a),mn(e)):ua(Ft,a.stateNode));break;case 4:d=Ft,m=Wn,Ft=a.stateNode.containerInfo,Wn=!0,So(e,n,a),Ft=d,Wn=m;break;case 0:case 11:case 14:case 15:if(!qt&&(d=a.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var v=m,k=v.destroy;v=v.tag,k!==void 0&&((v&2)!==0||(v&4)!==0)&&Mc(a,n,k),m=m.next}while(m!==d)}So(e,n,a);break;case 1:if(!qt&&(os(a,n),d=a.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=a.memoizedProps,d.state=a.memoizedState,d.componentWillUnmount()}catch(R){_t(a,n,R)}So(e,n,a);break;case 21:So(e,n,a);break;case 22:a.mode&1?(qt=(d=qt)||a.memoizedState!==null,So(e,n,a),qt=d):So(e,n,a);break;default:So(e,n,a)}}function sf(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new Zm),n.forEach(function(d){var m=ng.bind(null,e,d);a.has(d)||(a.add(d),d.then(m,m))})}}function Zn(e,n){var a=n.deletions;if(a!==null)for(var d=0;d<a.length;d++){var m=a[d];try{var v=e,k=n,R=k;e:for(;R!==null;){switch(R.tag){case 5:Ft=R.stateNode,Wn=!1;break e;case 3:Ft=R.stateNode.containerInfo,Wn=!0;break e;case 4:Ft=R.stateNode.containerInfo,Wn=!0;break e}R=R.return}if(Ft===null)throw Error(o(160));of(v,k,m),Ft=null,Wn=!1;var I=m.alternate;I!==null&&(I.return=null),m.return=null}catch(H){_t(m,n,H)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)af(n,e),n=n.sibling}function af(e,n){var a=e.alternate,d=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zn(n,e),dr(e),d&4){try{_a(3,e,e.return),Hl(3,e)}catch(xe){_t(e,e.return,xe)}try{_a(5,e,e.return)}catch(xe){_t(e,e.return,xe)}}break;case 1:Zn(n,e),dr(e),d&512&&a!==null&&os(a,a.return);break;case 5:if(Zn(n,e),dr(e),d&512&&a!==null&&os(a,a.return),e.flags&32){var m=e.stateNode;try{Vr(m,"")}catch(xe){_t(e,e.return,xe)}}if(d&4&&(m=e.stateNode,m!=null)){var v=e.memoizedProps,k=a!==null?a.memoizedProps:v,R=e.type,I=e.updateQueue;if(e.updateQueue=null,I!==null)try{R==="input"&&v.type==="radio"&&v.name!=null&&Be(m,v),vr(R,k);var H=vr(R,v);for(k=0;k<I.length;k+=2){var X=I[k],ee=I[k+1];X==="style"?_i(m,ee):X==="dangerouslySetInnerHTML"?Ua(m,ee):X==="children"?Vr(m,ee):Z(m,X,ee,H)}switch(R){case"input":Ye(m,v);break;case"textarea":vt(m,v);break;case"select":var Q=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var pe=v.value;pe!=null?dt(m,!!v.multiple,pe,!1):Q!==!!v.multiple&&(v.defaultValue!=null?dt(m,!!v.multiple,v.defaultValue,!0):dt(m,!!v.multiple,v.multiple?[]:"",!1))}m[mo]=v}catch(xe){_t(e,e.return,xe)}}break;case 6:if(Zn(n,e),dr(e),d&4){if(e.stateNode===null)throw Error(o(162));m=e.stateNode,v=e.memoizedProps;try{m.nodeValue=v}catch(xe){_t(e,e.return,xe)}}break;case 3:if(Zn(n,e),dr(e),d&4&&a!==null&&a.memoizedState.isDehydrated)try{mn(n.containerInfo)}catch(xe){_t(e,e.return,xe)}break;case 4:Zn(n,e),dr(e);break;case 13:Zn(n,e),dr(e),m=e.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(Nc=ht())),d&4&&sf(e);break;case 22:if(X=a!==null&&a.memoizedState!==null,e.mode&1?(qt=(H=qt)||X,Zn(n,e),qt=H):Zn(n,e),dr(e),d&8192){if(H=e.memoizedState!==null,(e.stateNode.isHidden=H)&&!X&&(e.mode&1)!==0)for(ve=e,X=e.child;X!==null;){for(ee=ve=X;ve!==null;){switch(Q=ve,pe=Q.child,Q.tag){case 0:case 11:case 14:case 15:_a(4,Q,Q.return);break;case 1:os(Q,Q.return);var ye=Q.stateNode;if(typeof ye.componentWillUnmount=="function"){d=Q,a=Q.return;try{n=d,ye.props=n.memoizedProps,ye.state=n.memoizedState,ye.componentWillUnmount()}catch(xe){_t(d,a,xe)}}break;case 5:os(Q,Q.return);break;case 22:if(Q.memoizedState!==null){cf(ee);continue}}pe!==null?(pe.return=Q,ve=pe):cf(ee)}X=X.sibling}e:for(X=null,ee=e;;){if(ee.tag===5){if(X===null){X=ee;try{m=ee.stateNode,H?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(R=ee.stateNode,I=ee.memoizedProps.style,k=I!=null&&I.hasOwnProperty("display")?I.display:null,R.style.display=Ls("display",k))}catch(xe){_t(e,e.return,xe)}}}else if(ee.tag===6){if(X===null)try{ee.stateNode.nodeValue=H?"":ee.memoizedProps}catch(xe){_t(e,e.return,xe)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===e)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===e)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===e)break e;X===ee&&(X=null),ee=ee.return}X===ee&&(X=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:Zn(n,e),dr(e),d&4&&sf(e);break;case 21:break;default:Zn(n,e),dr(e)}}function dr(e){var n=e.flags;if(n&2){try{e:{for(var a=e.return;a!==null;){if(nf(a)){var d=a;break e}a=a.return}throw Error(o(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(Vr(m,""),d.flags&=-33);var v=rf(e);Ac(e,v,m);break;case 3:case 4:var k=d.stateNode.containerInfo,R=rf(e);Rc(e,R,k);break;default:throw Error(o(161))}}catch(I){_t(e,e.return,I)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function qm(e,n,a){ve=e,lf(e)}function lf(e,n,a){for(var d=(e.mode&1)!==0;ve!==null;){var m=ve,v=m.child;if(m.tag===22&&d){var k=m.memoizedState!==null||Gl;if(!k){var R=m.alternate,I=R!==null&&R.memoizedState!==null||qt;R=Gl;var H=qt;if(Gl=k,(qt=I)&&!H)for(ve=m;ve!==null;)k=ve,I=k.child,k.tag===22&&k.memoizedState!==null?df(m):I!==null?(I.return=k,ve=I):df(m);for(;v!==null;)ve=v,lf(v),v=v.sibling;ve=m,Gl=R,qt=H}uf(e)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,ve=v):uf(e)}}function uf(e){for(;ve!==null;){var n=ve;if((n.flags&8772)!==0){var a=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:qt||Hl(5,n);break;case 1:var d=n.stateNode;if(n.flags&4&&!qt)if(a===null)d.componentDidMount();else{var m=n.elementType===n.type?a.memoizedProps:Hn(n.type,a.memoizedProps);d.componentDidUpdate(m,a.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=n.updateQueue;v!==null&&uh(n,v,d);break;case 3:var k=n.updateQueue;if(k!==null){if(a=null,n.child!==null)switch(n.child.tag){case 5:a=n.child.stateNode;break;case 1:a=n.child.stateNode}uh(n,k,a)}break;case 5:var R=n.stateNode;if(a===null&&n.flags&4){a=R;var I=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&a.focus();break;case"img":I.src&&(a.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var H=n.alternate;if(H!==null){var X=H.memoizedState;if(X!==null){var ee=X.dehydrated;ee!==null&&mn(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}qt||n.flags&512&&jc(n)}catch(Q){_t(n,n.return,Q)}}if(n===e){ve=null;break}if(a=n.sibling,a!==null){a.return=n.return,ve=a;break}ve=n.return}}function cf(e){for(;ve!==null;){var n=ve;if(n===e){ve=null;break}var a=n.sibling;if(a!==null){a.return=n.return,ve=a;break}ve=n.return}}function df(e){for(;ve!==null;){var n=ve;try{switch(n.tag){case 0:case 11:case 15:var a=n.return;try{Hl(4,n)}catch(I){_t(n,a,I)}break;case 1:var d=n.stateNode;if(typeof d.componentDidMount=="function"){var m=n.return;try{d.componentDidMount()}catch(I){_t(n,m,I)}}var v=n.return;try{jc(n)}catch(I){_t(n,v,I)}break;case 5:var k=n.return;try{jc(n)}catch(I){_t(n,k,I)}}}catch(I){_t(n,n.return,I)}if(n===e){ve=null;break}var R=n.sibling;if(R!==null){R.return=n.return,ve=R;break}ve=n.return}}var Km=Math.ceil,Wl=te.ReactCurrentDispatcher,Oc=te.ReactCurrentOwner,On=te.ReactCurrentBatchConfig,Ze=0,Ot=null,bt=null,Bt=0,Sn=0,is=vo(0),jt=0,xa=null,oi=0,Zl=0,Ic=0,wa=null,an=null,Nc=0,ss=1/0,Fr=null,Vl=!1,zc=null,ko=null,ql=!1,bo=null,Kl=0,Sa=0,Dc=null,Jl=-1,Yl=0;function en(){return(Ze&6)!==0?ht():Jl!==-1?Jl:Jl=ht()}function Eo(e){return(e.mode&1)===0?1:(Ze&2)!==0&&Bt!==0?Bt&-Bt:Rm.transition!==null?(Yl===0&&(Yl=el()),Yl):(e=We,e!==0||(e=window.event,e=e===void 0?16:Ge(e.type)),e)}function Vn(e,n,a,d){if(50<Sa)throw Sa=0,Dc=null,Error(o(185));fn(e,a,d),((Ze&2)===0||e!==Ot)&&(e===Ot&&((Ze&2)===0&&(Zl|=a),jt===4&&Co(e,Bt)),ln(e,d),a===1&&Ze===0&&(n.mode&1)===0&&(ss=ht()+500,El&&_o()))}function ln(e,n){var a=e.callbackNode;Ci(e,n);var d=rt(e,e===Ot?Bt:0);if(d===0)a!==null&&zs(a),e.callbackNode=null,e.callbackPriority=0;else if(n=d&-d,e.callbackPriority!==n){if(a!=null&&zs(a),n===1)e.tag===0?jm(ff.bind(null,e)):Yd(ff.bind(null,e)),Ht(function(){(Ze&6)===0&&_o()}),a=null;else{switch(Xr(d)){case 1:a=Ds;break;case 4:a=Xa;break;case 16:a=bi;break;case 536870912:a=Kr;break;default:a=bi}a=wf(a,hf.bind(null,e))}e.callbackPriority=n,e.callbackNode=a}}function hf(e,n){if(Jl=-1,Yl=0,(Ze&6)!==0)throw Error(o(327));var a=e.callbackNode;if(as()&&e.callbackNode!==a)return null;var d=rt(e,e===Ot?Bt:0);if(d===0)return null;if((d&30)!==0||(d&e.expiredLanes)!==0||n)n=Ql(e,d);else{n=d;var m=Ze;Ze|=2;var v=mf();(Ot!==e||Bt!==n)&&(Fr=null,ss=ht()+500,si(e,n));do try{Qm();break}catch(R){pf(e,R)}while(!0);nc(),Wl.current=v,Ze=m,bt!==null?n=0:(Ot=null,Bt=0,n=jt)}if(n!==0){if(n===2&&(m=$t(e),m!==0&&(d=m,n=Fc(e,m))),n===1)throw a=xa,si(e,0),Co(e,d),ln(e,ht()),a;if(n===6)Co(e,d);else{if(m=e.current.alternate,(d&30)===0&&!Jm(m)&&(n=Ql(e,d),n===2&&(v=$t(e),v!==0&&(d=v,n=Fc(e,v))),n===1))throw a=xa,si(e,0),Co(e,d),ln(e,ht()),a;switch(e.finishedWork=m,e.finishedLanes=d,n){case 0:case 1:throw Error(o(345));case 2:ai(e,an,Fr);break;case 3:if(Co(e,d),(d&130023424)===d&&(n=Nc+500-ht(),10<n)){if(rt(e,0)!==0)break;if(m=e.suspendedLanes,(m&d)!==d){en(),e.pingedLanes|=e.suspendedLanes&m;break}e.timeoutHandle=Lt(ai.bind(null,e,an,Fr),n);break}ai(e,an,Fr);break;case 4:if(Co(e,d),(d&4194240)===d)break;for(n=e.eventTimes,m=-1;0<d;){var k=31-Ne(d);v=1<<k,k=n[k],k>m&&(m=k),d&=~v}if(d=m,d=ht()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Km(d/1960))-d,10<d){e.timeoutHandle=Lt(ai.bind(null,e,an,Fr),d);break}ai(e,an,Fr);break;case 5:ai(e,an,Fr);break;default:throw Error(o(329))}}}return ln(e,ht()),e.callbackNode===a?hf.bind(null,e):null}function Fc(e,n){var a=wa;return e.current.memoizedState.isDehydrated&&(si(e,n).flags|=256),e=Ql(e,n),e!==2&&(n=an,an=a,n!==null&&Bc(n)),e}function Bc(e){an===null?an=e:an.push.apply(an,e)}function Jm(e){for(var n=e;;){if(n.flags&16384){var a=n.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var d=0;d<a.length;d++){var m=a[d],v=m.getSnapshot;m=m.value;try{if(!yn(v(),m))return!1}catch{return!1}}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Co(e,n){for(n&=~Ic,n&=~Zl,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var a=31-Ne(n),d=1<<a;e[a]=-1,n&=~d}}function ff(e){if((Ze&6)!==0)throw Error(o(327));as();var n=rt(e,0);if((n&1)===0)return ln(e,ht()),null;var a=Ql(e,n);if(e.tag!==0&&a===2){var d=$t(e);d!==0&&(n=d,a=Fc(e,d))}if(a===1)throw a=xa,si(e,0),Co(e,n),ln(e,ht()),a;if(a===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,ai(e,an,Fr),ln(e,ht()),null}function Uc(e,n){var a=Ze;Ze|=1;try{return e(n)}finally{Ze=a,Ze===0&&(ss=ht()+500,El&&_o())}}function ii(e){bo!==null&&bo.tag===0&&(Ze&6)===0&&as();var n=Ze;Ze|=1;var a=On.transition,d=We;try{if(On.transition=null,We=1,e)return e()}finally{We=d,On.transition=a,Ze=n,(Ze&6)===0&&_o()}}function $c(){Sn=is.current,lt(is)}function si(e,n){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,kt(a)),bt!==null)for(a=bt.return;a!==null;){var d=a;switch(Yu(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&kl();break;case 3:ns(),lt(rn),lt(Wt),cc();break;case 5:lc(d);break;case 4:ns();break;case 13:lt(pt);break;case 19:lt(pt);break;case 10:rc(d.type._context);break;case 22:case 23:$c()}a=a.return}if(Ot=e,bt=e=Po(e.current,null),Bt=Sn=n,jt=0,xa=null,Ic=Zl=oi=0,an=wa=null,ti!==null){for(n=0;n<ti.length;n++)if(a=ti[n],d=a.interleaved,d!==null){a.interleaved=null;var m=d.next,v=a.pending;if(v!==null){var k=v.next;v.next=m,d.next=k}a.pending=d}ti=null}return e}function pf(e,n){do{var a=bt;try{if(nc(),Il.current=Fl,Nl){for(var d=mt.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Nl=!1}if(ri=0,At=Mt=mt=null,pa=!1,ma=0,Oc.current=null,a===null||a.return===null){jt=1,xa=n,bt=null;break}e:{var v=e,k=a.return,R=a,I=n;if(n=Bt,R.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var H=I,X=R,ee=X.tag;if((X.mode&1)===0&&(ee===0||ee===11||ee===15)){var Q=X.alternate;Q?(X.updateQueue=Q.updateQueue,X.memoizedState=Q.memoizedState,X.lanes=Q.lanes):(X.updateQueue=null,X.memoizedState=null)}var pe=Dh(k);if(pe!==null){pe.flags&=-257,Fh(pe,k,R,v,n),pe.mode&1&&zh(v,H,n),n=pe,I=H;var ye=n.updateQueue;if(ye===null){var xe=new Set;xe.add(I),n.updateQueue=xe}else ye.add(I);break e}else{if((n&1)===0){zh(v,H,n),Gc();break e}I=Error(o(426))}}else if(ct&&R.mode&1){var xt=Dh(k);if(xt!==null){(xt.flags&65536)===0&&(xt.flags|=256),Fh(xt,k,R,v,n),ec(rs(I,R));break e}}v=I=rs(I,R),jt!==4&&(jt=2),wa===null?wa=[v]:wa.push(v),v=k;do{switch(v.tag){case 3:v.flags|=65536,n&=-n,v.lanes|=n;var F=Ih(v,I,n);lh(v,F);break e;case 1:R=I;var N=v.type,U=v.stateNode;if((v.flags&128)===0&&(typeof N.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(ko===null||!ko.has(U)))){v.flags|=65536,n&=-n,v.lanes|=n;var re=Nh(v,R,n);lh(v,re);break e}}v=v.return}while(v!==null)}vf(a)}catch(Se){n=Se,bt===a&&a!==null&&(bt=a=a.return);continue}break}while(!0)}function mf(){var e=Wl.current;return Wl.current=Fl,e===null?Fl:e}function Gc(){(jt===0||jt===3||jt===2)&&(jt=4),Ot===null||(oi&268435455)===0&&(Zl&268435455)===0||Co(Ot,Bt)}function Ql(e,n){var a=Ze;Ze|=2;var d=mf();(Ot!==e||Bt!==n)&&(Fr=null,si(e,n));do try{Ym();break}catch(m){pf(e,m)}while(!0);if(nc(),Ze=a,Wl.current=d,bt!==null)throw Error(o(261));return Ot=null,Bt=0,jt}function Ym(){for(;bt!==null;)gf(bt)}function Qm(){for(;bt!==null&&!Mu();)gf(bt)}function gf(e){var n=xf(e.alternate,e,Sn);e.memoizedProps=e.pendingProps,n===null?vf(e):bt=n,Oc.current=null}function vf(e){var n=e;do{var a=n.alternate;if(e=n.return,(n.flags&32768)===0){if(a=Hm(a,n,Sn),a!==null){bt=a;return}}else{if(a=Wm(a,n),a!==null){a.flags&=32767,bt=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{jt=6,bt=null;return}}if(n=n.sibling,n!==null){bt=n;return}bt=n=e}while(n!==null);jt===0&&(jt=5)}function ai(e,n,a){var d=We,m=On.transition;try{On.transition=null,We=1,Xm(e,n,a,d)}finally{On.transition=m,We=d}return null}function Xm(e,n,a,d){do as();while(bo!==null);if((Ze&6)!==0)throw Error(o(327));a=e.finishedWork;var m=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var v=a.lanes|a.childLanes;if(yt(e,v),e===Ot&&(bt=Ot=null,Bt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||ql||(ql=!0,wf(bi,function(){return as(),null})),v=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||v){v=On.transition,On.transition=null;var k=We;We=1;var R=Ze;Ze|=4,Oc.current=null,Vm(e,a),af(a,e),Pn(Ee),Ho=!!ce,Ee=ce=null,e.current=a,qm(a),ki(),Ze=R,We=k,On.transition=v}else e.current=a;if(ql&&(ql=!1,bo=e,Kl=m),v=e.pendingLanes,v===0&&(ko=null),Fo(a.stateNode),ln(e,ht()),n!==null)for(d=e.onRecoverableError,a=0;a<n.length;a++)m=n[a],d(m.value,{componentStack:m.stack,digest:m.digest});if(Vl)throw Vl=!1,e=zc,zc=null,e;return(Kl&1)!==0&&e.tag!==0&&as(),v=e.pendingLanes,(v&1)!==0?e===Dc?Sa++:(Sa=0,Dc=e):Sa=0,_o(),null}function as(){if(bo!==null){var e=Xr(Kl),n=On.transition,a=We;try{if(On.transition=null,We=16>e?16:e,bo===null)var d=!1;else{if(e=bo,bo=null,Kl=0,(Ze&6)!==0)throw Error(o(331));var m=Ze;for(Ze|=4,ve=e.current;ve!==null;){var v=ve,k=v.child;if((ve.flags&16)!==0){var R=v.deletions;if(R!==null){for(var I=0;I<R.length;I++){var H=R[I];for(ve=H;ve!==null;){var X=ve;switch(X.tag){case 0:case 11:case 15:_a(8,X,v)}var ee=X.child;if(ee!==null)ee.return=X,ve=ee;else for(;ve!==null;){X=ve;var Q=X.sibling,pe=X.return;if(tf(X),X===H){ve=null;break}if(Q!==null){Q.return=pe,ve=Q;break}ve=pe}}}var ye=v.alternate;if(ye!==null){var xe=ye.child;if(xe!==null){ye.child=null;do{var xt=xe.sibling;xe.sibling=null,xe=xt}while(xe!==null)}}ve=v}}if((v.subtreeFlags&2064)!==0&&k!==null)k.return=v,ve=k;else e:for(;ve!==null;){if(v=ve,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:_a(9,v,v.return)}var F=v.sibling;if(F!==null){F.return=v.return,ve=F;break e}ve=v.return}}var N=e.current;for(ve=N;ve!==null;){k=ve;var U=k.child;if((k.subtreeFlags&2064)!==0&&U!==null)U.return=k,ve=U;else e:for(k=N;ve!==null;){if(R=ve,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:Hl(9,R)}}catch(Se){_t(R,R.return,Se)}if(R===k){ve=null;break e}var re=R.sibling;if(re!==null){re.return=R.return,ve=re;break e}ve=R.return}}if(Ze=m,_o(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(Do,e)}catch{}d=!0}return d}finally{We=a,On.transition=n}}return!1}function yf(e,n,a){n=rs(a,n),n=Ih(e,n,1),e=wo(e,n,1),n=en(),e!==null&&(fn(e,1,n),ln(e,n))}function _t(e,n,a){if(e.tag===3)yf(e,e,a);else for(;n!==null;){if(n.tag===3){yf(n,e,a);break}else if(n.tag===1){var d=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ko===null||!ko.has(d))){e=rs(a,e),e=Nh(n,e,1),n=wo(n,e,1),e=en(),n!==null&&(fn(n,1,e),ln(n,e));break}}n=n.return}}function eg(e,n,a){var d=e.pingCache;d!==null&&d.delete(n),n=en(),e.pingedLanes|=e.suspendedLanes&a,Ot===e&&(Bt&a)===a&&(jt===4||jt===3&&(Bt&130023424)===Bt&&500>ht()-Nc?si(e,0):Ic|=a),ln(e,n)}function _f(e,n){n===0&&((e.mode&1)===0?n=1:(n=Yr,Yr<<=1,(Yr&130023424)===0&&(Yr=4194304)));var a=en();e=Nr(e,n),e!==null&&(fn(e,n,a),ln(e,a))}function tg(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),_f(e,a)}function ng(e,n){var a=0;switch(e.tag){case 13:var d=e.stateNode,m=e.memoizedState;m!==null&&(a=m.retryLane);break;case 19:d=e.stateNode;break;default:throw Error(o(314))}d!==null&&d.delete(n),_f(e,a)}var xf;xf=function(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps||rn.current)sn=!0;else{if((e.lanes&a)===0&&(n.flags&128)===0)return sn=!1,Gm(e,n,a);sn=(e.flags&131072)!==0}else sn=!1,ct&&(n.flags&1048576)!==0&&Qd(n,Pl,n.index);switch(n.lanes=0,n.tag){case 2:var d=n.type;$l(e,n),e=n.pendingProps;var m=Ki(n,Wt.current);ts(n,a),m=fc(null,n,d,e,m,a);var v=pc();return n.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,on(d)?(v=!0,bl(n)):v=!1,n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,sc(n),m.updater=Bl,n.stateNode=m,m._reactInternals=n,xc(n,d,e,a),n=bc(null,n,d,!0,v,a)):(n.tag=0,ct&&v&&Ju(n),Xt(null,n,m,a),n=n.child),n;case 16:d=n.elementType;e:{switch($l(e,n),e=n.pendingProps,m=d._init,d=m(d._payload),n.type=d,m=n.tag=og(d),e=Hn(d,e),m){case 0:n=kc(null,n,d,e,a);break e;case 1:n=Wh(null,n,d,e,a);break e;case 11:n=Bh(null,n,d,e,a);break e;case 14:n=Uh(null,n,d,Hn(d.type,e),a);break e}throw Error(o(306,d,""))}return n;case 0:return d=n.type,m=n.pendingProps,m=n.elementType===d?m:Hn(d,m),kc(e,n,d,m,a);case 1:return d=n.type,m=n.pendingProps,m=n.elementType===d?m:Hn(d,m),Wh(e,n,d,m,a);case 3:e:{if(Zh(n),e===null)throw Error(o(387));d=n.pendingProps,v=n.memoizedState,m=v.element,ah(e,n),Al(n,d,null,a);var k=n.memoizedState;if(d=k.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},n.updateQueue.baseState=v,n.memoizedState=v,n.flags&256){m=rs(Error(o(423)),n),n=Vh(e,n,d,a,m);break e}else if(d!==m){m=rs(Error(o(424)),n),n=Vh(e,n,d,a,m);break e}else for(wn=lr(n.stateNode.containerInfo.firstChild),xn=n,ct=!0,Gn=null,a=ih(n,null,d,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Qi(),d===m){n=Dr(e,n,a);break e}Xt(e,n,d,a)}n=n.child}return n;case 5:return ch(n),e===null&&Xu(n),d=n.type,m=n.pendingProps,v=e!==null?e.memoizedProps:null,k=m.children,ze(d,m)?k=null:v!==null&&ze(d,v)&&(n.flags|=32),Hh(e,n),Xt(e,n,k,a),n.child;case 6:return e===null&&Xu(n),null;case 13:return qh(e,n,a);case 4:return ac(n,n.stateNode.containerInfo),d=n.pendingProps,e===null?n.child=Xi(n,null,d,a):Xt(e,n,d,a),n.child;case 11:return d=n.type,m=n.pendingProps,m=n.elementType===d?m:Hn(d,m),Bh(e,n,d,m,a);case 7:return Xt(e,n,n.pendingProps,a),n.child;case 8:return Xt(e,n,n.pendingProps.children,a),n.child;case 12:return Xt(e,n,n.pendingProps.children,a),n.child;case 10:e:{if(d=n.type._context,m=n.pendingProps,v=n.memoizedProps,k=m.value,ot(Ml,d._currentValue),d._currentValue=k,v!==null)if(yn(v.value,k)){if(v.children===m.children&&!rn.current){n=Dr(e,n,a);break e}}else for(v=n.child,v!==null&&(v.return=n);v!==null;){var R=v.dependencies;if(R!==null){k=v.child;for(var I=R.firstContext;I!==null;){if(I.context===d){if(v.tag===1){I=zr(-1,a&-a),I.tag=2;var H=v.updateQueue;if(H!==null){H=H.shared;var X=H.pending;X===null?I.next=I:(I.next=X.next,X.next=I),H.pending=I}}v.lanes|=a,I=v.alternate,I!==null&&(I.lanes|=a),oc(v.return,a,n),R.lanes|=a;break}I=I.next}}else if(v.tag===10)k=v.type===n.type?null:v.child;else if(v.tag===18){if(k=v.return,k===null)throw Error(o(341));k.lanes|=a,R=k.alternate,R!==null&&(R.lanes|=a),oc(k,a,n),k=v.sibling}else k=v.child;if(k!==null)k.return=v;else for(k=v;k!==null;){if(k===n){k=null;break}if(v=k.sibling,v!==null){v.return=k.return,k=v;break}k=k.return}v=k}Xt(e,n,m.children,a),n=n.child}return n;case 9:return m=n.type,d=n.pendingProps.children,ts(n,a),m=Rn(m),d=d(m),n.flags|=1,Xt(e,n,d,a),n.child;case 14:return d=n.type,m=Hn(d,n.pendingProps),m=Hn(d.type,m),Uh(e,n,d,m,a);case 15:return $h(e,n,n.type,n.pendingProps,a);case 17:return d=n.type,m=n.pendingProps,m=n.elementType===d?m:Hn(d,m),$l(e,n),n.tag=1,on(d)?(e=!0,bl(n)):e=!1,ts(n,a),Ah(n,d,m),xc(n,d,m,a),bc(null,n,d,!0,e,a);case 19:return Jh(e,n,a);case 22:return Gh(e,n,a)}throw Error(o(156,n.tag))};function wf(e,n){return Qa(e,n)}function rg(e,n,a,d){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(e,n,a,d){return new rg(e,n,a,d)}function Hc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function og(e){if(typeof e=="function")return Hc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ie)return 11;if(e===me)return 14}return 2}function Po(e,n){var a=e.alternate;return a===null?(a=In(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function Xl(e,n,a,d,m,v){var k=2;if(d=e,typeof e=="function")Hc(e)&&(k=1);else if(typeof e=="string")k=5;else e:switch(e){case K:return li(a.children,m,v,n);case ge:k=8,m|=8;break;case ne:return e=In(12,a,n,m|2),e.elementType=ne,e.lanes=v,e;case Ae:return e=In(13,a,n,m),e.elementType=Ae,e.lanes=v,e;case ue:return e=In(19,a,n,m),e.elementType=ue,e.lanes=v,e;case Le:return eu(a,m,v,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _e:k=10;break e;case ke:k=9;break e;case ie:k=11;break e;case me:k=14;break e;case fe:k=16,d=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return n=In(k,a,n,m),n.elementType=e,n.type=d,n.lanes=v,n}function li(e,n,a,d){return e=In(7,e,d,n),e.lanes=a,e}function eu(e,n,a,d){return e=In(22,e,d,n),e.elementType=Le,e.lanes=a,e.stateNode={isHidden:!1},e}function Wc(e,n,a){return e=In(6,e,null,n),e.lanes=a,e}function Zc(e,n,a){return n=In(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function ig(e,n,a,d,m){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qr(0),this.expirationTimes=Qr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qr(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Vc(e,n,a,d,m,v,k,R,I){return e=new ig(e,n,a,R,I),n===1?(n=1,v===!0&&(n|=8)):n=0,v=In(3,null,null,n),e.current=v,v.stateNode=e,v.memoizedState={element:d,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},sc(v),e}function sg(e,n,a){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:le,key:d==null?null:""+d,children:e,containerInfo:n,implementation:a}}function Sf(e){if(!e)return yo;e=e._reactInternals;e:{if(er(e)!==e||e.tag!==1)throw Error(o(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(on(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(o(171))}if(e.tag===1){var a=e.type;if(on(a))return Kd(e,a,n)}return n}function kf(e,n,a,d,m,v,k,R,I){return e=Vc(a,d,!0,e,m,v,k,R,I),e.context=Sf(null),a=e.current,d=en(),m=Eo(a),v=zr(d,m),v.callback=n??null,wo(a,v,m),e.current.lanes=m,fn(e,m,d),ln(e,d),e}function tu(e,n,a,d){var m=n.current,v=en(),k=Eo(m);return a=Sf(a),n.context===null?n.context=a:n.pendingContext=a,n=zr(v,k),n.payload={element:e},d=d===void 0?null:d,d!==null&&(n.callback=d),e=wo(m,n,k),e!==null&&(Vn(e,m,k,v),Rl(e,m,k)),k}function nu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bf(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function qc(e,n){bf(e,n),(e=e.alternate)&&bf(e,n)}function ag(){return null}var Ef=typeof reportError=="function"?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}ru.prototype.render=Kc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));tu(e,n,null,null)},ru.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;ii(function(){tu(null,e,null,null)}),n[Je]=null}};function ru(e){this._internalRoot=e}ru.prototype.unstable_scheduleHydration=function(e){if(e){var n=Li();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Tt.length&&n!==0&&n<Tt[a].priority;a++);Tt.splice(a,0,e),a===0&&Mi(e)}};function Jc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ou(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cf(){}function lg(e,n,a,d,m){if(m){if(typeof d=="function"){var v=d;d=function(){var H=nu(k);v.call(H)}}var k=kf(n,d,e,0,null,!1,!1,"",Cf);return e._reactRootContainer=k,e[Je]=k.current,fo(e.nodeType===8?e.parentNode:e),ii(),k}for(;m=e.lastChild;)e.removeChild(m);if(typeof d=="function"){var R=d;d=function(){var H=nu(I);R.call(H)}}var I=Vc(e,0,!1,null,null,!1,!1,"",Cf);return e._reactRootContainer=I,e[Je]=I.current,fo(e.nodeType===8?e.parentNode:e),ii(function(){tu(n,I,a,d)}),I}function iu(e,n,a,d,m){var v=a._reactRootContainer;if(v){var k=v;if(typeof m=="function"){var R=m;m=function(){var I=nu(k);R.call(I)}}tu(n,k,e,m)}else k=lg(a,n,e,m,d);return nu(k)}Pi=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var a=Re(n.pendingLanes);a!==0&&(Dn(n,a|1),ln(n,ht()),(Ze&6)===0&&(ss=ht()+500,_o()))}break;case 13:ii(function(){var d=Nr(e,1);if(d!==null){var m=en();Vn(d,e,1,m)}}),qc(e,1)}},wr=function(e){if(e.tag===13){var n=Nr(e,134217728);if(n!==null){var a=en();Vn(n,e,134217728,a)}qc(e,134217728)}},Ti=function(e){if(e.tag===13){var n=Eo(e),a=Nr(e,n);if(a!==null){var d=en();Vn(a,e,n,d)}qc(e,n)}},Li=function(){return We},Bo=function(e,n){var a=We;try{return We=e,n()}finally{We=a}},xi=function(e,n,a){switch(n){case"input":if(Ye(e,a),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<a.length;n++){var d=a[n];if(d!==e&&d.form===e.form){var m=Vi(d);if(!m)throw Error(o(90));Pt(d),Ye(d,m)}}}break;case"textarea":vt(e,a);break;case"select":n=a.value,n!=null&&dt(e,!!a.multiple,n,!1)}},Za=Uc,Va=ii;var ug={usingClientEntryPoint:!1,Events:[jr,Rr,Vi,Ha,Wa,Uc]},ka={findFiberByHostInstance:Mr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cg={bundleType:ka.bundleType,version:ka.version,rendererPackageName:ka.rendererPackageName,rendererConfig:ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:te.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ja(e),e===null?null:e.stateNode},findFiberByHostInstance:ka.findFiberByHostInstance||ag,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!su.isDisabled&&su.supportsFiber)try{Do=su.inject(cg),hn=su}catch{}}return un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ug,un.createPortal=function(e,n){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jc(n))throw Error(o(200));return sg(e,n,null,a)},un.createRoot=function(e,n){if(!Jc(e))throw Error(o(299));var a=!1,d="",m=Ef;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(d=n.identifierPrefix),n.onRecoverableError!==void 0&&(m=n.onRecoverableError)),n=Vc(e,1,!1,null,null,a,!1,d,m),e[Je]=n.current,fo(e.nodeType===8?e.parentNode:e),new Kc(n)},un.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=Ja(n),e=e===null?null:e.stateNode,e},un.flushSync=function(e){return ii(e)},un.hydrate=function(e,n,a){if(!ou(n))throw Error(o(200));return iu(null,e,n,!0,a)},un.hydrateRoot=function(e,n,a){if(!Jc(e))throw Error(o(405));var d=a!=null&&a.hydratedSources||null,m=!1,v="",k=Ef;if(a!=null&&(a.unstable_strictMode===!0&&(m=!0),a.identifierPrefix!==void 0&&(v=a.identifierPrefix),a.onRecoverableError!==void 0&&(k=a.onRecoverableError)),n=kf(n,null,e,1,a??null,m,!1,v,k),e[Je]=n.current,fo(e),d)for(e=0;e<d.length;e++)a=d[e],m=a._getVersion,m=m(a._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[a,m]:n.mutableSourceEagerHydrationData.push(a,m);return new ru(n)},un.render=function(e,n,a){if(!ou(n))throw Error(o(200));return iu(null,e,n,!1,a)},un.unmountComponentAtNode=function(e){if(!ou(e))throw Error(o(40));return e._reactRootContainer?(ii(function(){iu(null,null,e,!1,function(){e._reactRootContainer=null,e[Je]=null})}),!0):!1},un.unstable_batchedUpdates=Uc,un.unstable_renderSubtreeIntoContainer=function(e,n,a,d){if(!ou(a))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return iu(e,n,a,!1,d)},un.version="18.3.1-next-f1338f8080-20240426",un}var Of;function Pp(){if(Of)return Xc.exports;Of=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),Xc.exports=xg(),Xc.exports}var If;function wg(){if(If)return au;If=1;var s=Pp();return au.createRoot=s.createRoot,au.hydrateRoot=s.hydrateRoot,au}var Sg=wg();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Nf="popstate";function kg(s={}){function r(l,u){let{pathname:h,search:g,hash:x}=l.location;return gd("",{pathname:h,search:g,hash:x},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function o(l,u){return typeof u=="string"?u:Ra(u)}return Eg(r,o,null,s)}function gt(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function pr(s,r){if(!s){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function bg(){return Math.random().toString(36).substring(2,10)}function zf(s,r){return{usr:s.state,key:s.key,idx:r}}function gd(s,r,o=null,l){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof r=="string"?Cs(r):r,state:o,key:r&&r.key||l||bg()}}function Ra({pathname:s="/",search:r="",hash:o=""}){return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(s+=o.charAt(0)==="#"?o:"#"+o),s}function Cs(s){let r={};if(s){let o=s.indexOf("#");o>=0&&(r.hash=s.substring(o),s=s.substring(0,o));let l=s.indexOf("?");l>=0&&(r.search=s.substring(l),s=s.substring(0,l)),s&&(r.pathname=s)}return r}function Eg(s,r,o,l={}){let{window:u=document.defaultView,v5Compat:h=!1}=l,g=u.history,x="POP",y=null,w=S();w==null&&(w=0,g.replaceState({...g.state,idx:w},""));function S(){return(g.state||{idx:null}).idx}function E(){x="POP";let z=S(),V=z==null?null:z-w;w=z,y&&y({action:x,location:j.location,delta:V})}function T(z,V){x="PUSH";let J=gd(j.location,z,V);w=S()+1;let Z=zf(J,w),te=j.createHref(J);try{g.pushState(Z,"",te)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;u.location.assign(te)}h&&y&&y({action:x,location:j.location,delta:1})}function M(z,V){x="REPLACE";let J=gd(j.location,z,V);w=S();let Z=zf(J,w),te=j.createHref(J);g.replaceState(Z,"",te),h&&y&&y({action:x,location:j.location,delta:0})}function P(z){return Cg(z)}let j={get action(){return x},get location(){return s(u,g)},listen(z){if(y)throw new Error("A history only accepts one active listener");return u.addEventListener(Nf,E),y=z,()=>{u.removeEventListener(Nf,E),y=null}},createHref(z){return r(u,z)},createURL:P,encodeLocation(z){let V=P(z);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:T,replace:M,go(z){return g.go(z)}};return j}function Cg(s,r=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),gt(o,"No window.location.(origin|href) available to create URL");let l=typeof s=="string"?s:Ra(s);return l=l.replace(/ $/,"%20"),!r&&l.startsWith("//")&&(l=o+l),new URL(l,o)}function Tp(s,r,o="/"){return Pg(s,r,o,!1)}function Pg(s,r,o,l){let u=typeof r=="string"?Cs(r):r,h=Wr(u.pathname||"/",o);if(h==null)return null;let g=Lp(s);Tg(g);let x=null;for(let y=0;x==null&&y<g.length;++y){let w=Fg(h);x=zg(g[y],w,l)}return x}function Lp(s,r=[],o=[],l=""){let u=(h,g,x)=>{let y={relativePath:x===void 0?h.path||"":x,caseSensitive:h.caseSensitive===!0,childrenIndex:g,route:h};y.relativePath.startsWith("/")&&(gt(y.relativePath.startsWith(l),`Absolute route path "${y.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(l.length));let w=Hr([l,y.relativePath]),S=o.concat(y);h.children&&h.children.length>0&&(gt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),Lp(h.children,r,S,w)),!(h.path==null&&!h.index)&&r.push({path:w,score:Ig(w,h.index),routesMeta:S})};return s.forEach((h,g)=>{var x;if(h.path===""||!((x=h.path)!=null&&x.includes("?")))u(h,g);else for(let y of Mp(h.path))u(h,g,y)}),r}function Mp(s){let r=s.split("/");if(r.length===0)return[];let[o,...l]=r,u=o.endsWith("?"),h=o.replace(/\?$/,"");if(l.length===0)return u?[h,""]:[h];let g=Mp(l.join("/")),x=[];return x.push(...g.map(y=>y===""?h:[h,y].join("/"))),u&&x.push(...g),x.map(y=>s.startsWith("/")&&y===""?"/":y)}function Tg(s){s.sort((r,o)=>r.score!==o.score?o.score-r.score:Ng(r.routesMeta.map(l=>l.childrenIndex),o.routesMeta.map(l=>l.childrenIndex)))}var Lg=/^:[\w-]+$/,Mg=3,jg=2,Rg=1,Ag=10,Og=-2,Df=s=>s==="*";function Ig(s,r){let o=s.split("/"),l=o.length;return o.some(Df)&&(l+=Og),r&&(l+=jg),o.filter(u=>!Df(u)).reduce((u,h)=>u+(Lg.test(h)?Mg:h===""?Rg:Ag),l)}function Ng(s,r){return s.length===r.length&&s.slice(0,-1).every((l,u)=>l===r[u])?s[s.length-1]-r[r.length-1]:0}function zg(s,r,o=!1){let{routesMeta:l}=s,u={},h="/",g=[];for(let x=0;x<l.length;++x){let y=l[x],w=x===l.length-1,S=h==="/"?r:r.slice(h.length)||"/",E=mu({path:y.relativePath,caseSensitive:y.caseSensitive,end:w},S),T=y.route;if(!E&&w&&o&&!l[l.length-1].route.index&&(E=mu({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},S)),!E)return null;Object.assign(u,E.params),g.push({params:u,pathname:Hr([h,E.pathname]),pathnameBase:Gg(Hr([h,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(h=Hr([h,E.pathnameBase]))}return g}function mu(s,r){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[o,l]=Dg(s.path,s.caseSensitive,s.end),u=r.match(o);if(!u)return null;let h=u[0],g=h.replace(/(.)\/+$/,"$1"),x=u.slice(1);return{params:l.reduce((w,{paramName:S,isOptional:E},T)=>{if(S==="*"){let P=x[T]||"";g=h.slice(0,h.length-P.length).replace(/(.)\/+$/,"$1")}const M=x[T];return E&&!M?w[S]=void 0:w[S]=(M||"").replace(/%2F/g,"/"),w},{}),pathname:h,pathnameBase:g,pattern:s}}function Dg(s,r=!1,o=!0){pr(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let l=[],u="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,x,y)=>(l.push({paramName:x,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(l.push({paramName:"*"}),u+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?u+="\\/*$":s!==""&&s!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,r?void 0:"i"),l]}function Fg(s){try{return s.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return pr(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),s}}function Wr(s,r){if(r==="/")return s;if(!s.toLowerCase().startsWith(r.toLowerCase()))return null;let o=r.endsWith("/")?r.length-1:r.length,l=s.charAt(o);return l&&l!=="/"?null:s.slice(o)||"/"}function Bg(s,r="/"){let{pathname:o,search:l="",hash:u=""}=typeof s=="string"?Cs(s):s;return{pathname:o?o.startsWith("/")?o:Ug(o,r):r,search:Hg(l),hash:Wg(u)}}function Ug(s,r){let o=r.replace(/\/+$/,"").split("/");return s.split("/").forEach(u=>{u===".."?o.length>1&&o.pop():u!=="."&&o.push(u)}),o.length>1?o.join("/"):"/"}function nd(s,r,o,l){return`Cannot include a '${s}' character in a manually specified \`to.${r}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $g(s){return s.filter((r,o)=>o===0||r.route.path&&r.route.path.length>0)}function jp(s){let r=$g(s);return r.map((o,l)=>l===r.length-1?o.pathname:o.pathnameBase)}function Rp(s,r,o,l=!1){let u;typeof s=="string"?u=Cs(s):(u={...s},gt(!u.pathname||!u.pathname.includes("?"),nd("?","pathname","search",u)),gt(!u.pathname||!u.pathname.includes("#"),nd("#","pathname","hash",u)),gt(!u.search||!u.search.includes("#"),nd("#","search","hash",u)));let h=s===""||u.pathname==="",g=h?"/":u.pathname,x;if(g==null)x=o;else{let E=r.length-1;if(!l&&g.startsWith("..")){let T=g.split("/");for(;T[0]==="..";)T.shift(),E-=1;u.pathname=T.join("/")}x=E>=0?r[E]:"/"}let y=Bg(u,x),w=g&&g!=="/"&&g.endsWith("/"),S=(h||g===".")&&o.endsWith("/");return!y.pathname.endsWith("/")&&(w||S)&&(y.pathname+="/"),y}var Hr=s=>s.join("/").replace(/\/\/+/g,"/"),Gg=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Hg=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Wg=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Zg(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var Ap=["POST","PUT","PATCH","DELETE"];new Set(Ap);var Vg=["GET",...Ap];new Set(Vg);var Ps=C.createContext(null);Ps.displayName="DataRouter";var _u=C.createContext(null);_u.displayName="DataRouterState";C.createContext(!1);var Op=C.createContext({isTransitioning:!1});Op.displayName="ViewTransition";var qg=C.createContext(new Map);qg.displayName="Fetchers";var Kg=C.createContext(null);Kg.displayName="Await";var mr=C.createContext(null);mr.displayName="Navigation";var Ia=C.createContext(null);Ia.displayName="Location";var Zr=C.createContext({outlet:null,matches:[],isDataRoute:!1});Zr.displayName="Route";var Od=C.createContext(null);Od.displayName="RouteError";function Jg(s,{relative:r}={}){gt(Na(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:l}=C.useContext(mr),{hash:u,pathname:h,search:g}=za(s,{relative:r}),x=h;return o!=="/"&&(x=h==="/"?o:Hr([o,h])),l.createHref({pathname:x,search:g,hash:u})}function Na(){return C.useContext(Ia)!=null}function vi(){return gt(Na(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Ia).location}var Ip="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Np(s){C.useContext(mr).static||C.useLayoutEffect(s)}function Yg(){let{isDataRoute:s}=C.useContext(Zr);return s?cv():Qg()}function Qg(){gt(Na(),"useNavigate() may be used only in the context of a <Router> component.");let s=C.useContext(Ps),{basename:r,navigator:o}=C.useContext(mr),{matches:l}=C.useContext(Zr),{pathname:u}=vi(),h=JSON.stringify(jp(l)),g=C.useRef(!1);return Np(()=>{g.current=!0}),C.useCallback((y,w={})=>{if(pr(g.current,Ip),!g.current)return;if(typeof y=="number"){o.go(y);return}let S=Rp(y,JSON.parse(h),u,w.relative==="path");s==null&&r!=="/"&&(S.pathname=S.pathname==="/"?r:Hr([r,S.pathname])),(w.replace?o.replace:o.push)(S,w.state,w)},[r,o,h,u,s])}C.createContext(null);function za(s,{relative:r}={}){let{matches:o}=C.useContext(Zr),{pathname:l}=vi(),u=JSON.stringify(jp(o));return C.useMemo(()=>Rp(s,JSON.parse(u),l,r==="path"),[s,u,l,r])}function Xg(s,r){return zp(s,r)}function zp(s,r,o,l){var V;gt(Na(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=C.useContext(mr),{matches:h}=C.useContext(Zr),g=h[h.length-1],x=g?g.params:{},y=g?g.pathname:"/",w=g?g.pathnameBase:"/",S=g&&g.route;{let J=S&&S.path||"";Dp(y,!S||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let E=vi(),T;if(r){let J=typeof r=="string"?Cs(r):r;gt(w==="/"||((V=J.pathname)==null?void 0:V.startsWith(w)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${J.pathname}" was given in the \`location\` prop.`),T=J}else T=E;let M=T.pathname||"/",P=M;if(w!=="/"){let J=w.replace(/^\//,"").split("/");P="/"+M.replace(/^\//,"").split("/").slice(J.length).join("/")}let j=Tp(s,{pathname:P});pr(S||j!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),pr(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=ov(j&&j.map(J=>Object.assign({},J,{params:Object.assign({},x,J.params),pathname:Hr([w,u.encodeLocation?u.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?w:Hr([w,u.encodeLocation?u.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),h,o,l);return r&&z?C.createElement(Ia.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},z):z}function ev(){let s=uv(),r=Zg(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),o=s instanceof Error?s.stack:null,l="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:l},h={padding:"2px 4px",backgroundColor:l},g=null;return console.error("Error handled by React Router default ErrorBoundary:",s),g=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:h},"ErrorBoundary")," or"," ",C.createElement("code",{style:h},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},r),o?C.createElement("pre",{style:u},o):null,g)}var tv=C.createElement(ev,null),nv=class extends C.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?C.createElement(Zr.Provider,{value:this.props.routeContext},C.createElement(Od.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rv({routeContext:s,match:r,children:o}){let l=C.useContext(Ps);return l&&l.static&&l.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=r.route.id),C.createElement(Zr.Provider,{value:s},o)}function ov(s,r=[],o=null,l=null){if(s==null){if(!o)return null;if(o.errors)s=o.matches;else if(r.length===0&&!o.initialized&&o.matches.length>0)s=o.matches;else return null}let u=s,h=o==null?void 0:o.errors;if(h!=null){let y=u.findIndex(w=>w.route.id&&(h==null?void 0:h[w.route.id])!==void 0);gt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let g=!1,x=-1;if(o)for(let y=0;y<u.length;y++){let w=u[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(x=y),w.route.id){let{loaderData:S,errors:E}=o,T=w.route.loader&&!S.hasOwnProperty(w.route.id)&&(!E||E[w.route.id]===void 0);if(w.route.lazy||T){g=!0,x>=0?u=u.slice(0,x+1):u=[u[0]];break}}}return u.reduceRight((y,w,S)=>{let E,T=!1,M=null,P=null;o&&(E=h&&w.route.id?h[w.route.id]:void 0,M=w.route.errorElement||tv,g&&(x<0&&S===0?(Dp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,P=null):x===S&&(T=!0,P=w.route.hydrateFallbackElement||null)));let j=r.concat(u.slice(0,S+1)),z=()=>{let V;return E?V=M:T?V=P:w.route.Component?V=C.createElement(w.route.Component,null):w.route.element?V=w.route.element:V=y,C.createElement(rv,{match:w,routeContext:{outlet:y,matches:j,isDataRoute:o!=null},children:V})};return o&&(w.route.ErrorBoundary||w.route.errorElement||S===0)?C.createElement(nv,{location:o.location,revalidation:o.revalidation,component:M,error:E,children:z(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):z()},null)}function Id(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iv(s){let r=C.useContext(Ps);return gt(r,Id(s)),r}function sv(s){let r=C.useContext(_u);return gt(r,Id(s)),r}function av(s){let r=C.useContext(Zr);return gt(r,Id(s)),r}function Nd(s){let r=av(s),o=r.matches[r.matches.length-1];return gt(o.route.id,`${s} can only be used on routes that contain a unique "id"`),o.route.id}function lv(){return Nd("useRouteId")}function uv(){var l;let s=C.useContext(Od),r=sv("useRouteError"),o=Nd("useRouteError");return s!==void 0?s:(l=r.errors)==null?void 0:l[o]}function cv(){let{router:s}=iv("useNavigate"),r=Nd("useNavigate"),o=C.useRef(!1);return Np(()=>{o.current=!0}),C.useCallback(async(u,h={})=>{pr(o.current,Ip),o.current&&(typeof u=="number"?s.navigate(u):await s.navigate(u,{fromRouteId:r,...h}))},[s,r])}var Ff={};function Dp(s,r,o){!r&&!Ff[s]&&(Ff[s]=!0,pr(!1,o))}C.memo(dv);function dv({routes:s,future:r,state:o}){return zp(s,void 0,o,r)}function Mo(s){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hv({basename:s="/",children:r=null,location:o,navigationType:l="POP",navigator:u,static:h=!1}){gt(!Na(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=s.replace(/^\/*/,"/"),x=C.useMemo(()=>({basename:g,navigator:u,static:h,future:{}}),[g,u,h]);typeof o=="string"&&(o=Cs(o));let{pathname:y="/",search:w="",hash:S="",state:E=null,key:T="default"}=o,M=C.useMemo(()=>{let P=Wr(y,g);return P==null?null:{location:{pathname:P,search:w,hash:S,state:E,key:T},navigationType:l}},[g,y,w,S,E,T,l]);return pr(M!=null,`<Router basename="${g}"> is not able to match the URL "${y}${w}${S}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:C.createElement(mr.Provider,{value:x},C.createElement(Ia.Provider,{children:r,value:M}))}function fv({children:s,location:r}){return Xg(vd(s),r)}function vd(s,r=[]){let o=[];return C.Children.forEach(s,(l,u)=>{if(!C.isValidElement(l))return;let h=[...r,u];if(l.type===C.Fragment){o.push.apply(o,vd(l.props.children,h));return}gt(l.type===Mo,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!l.props.index||!l.props.children,"An index route cannot have child routes.");let g={id:l.props.id||h.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(g.children=vd(l.props.children,h)),o.push(g)}),o}var fu="get",pu="application/x-www-form-urlencoded";function xu(s){return s!=null&&typeof s.tagName=="string"}function pv(s){return xu(s)&&s.tagName.toLowerCase()==="button"}function mv(s){return xu(s)&&s.tagName.toLowerCase()==="form"}function gv(s){return xu(s)&&s.tagName.toLowerCase()==="input"}function vv(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function yv(s,r){return s.button===0&&(!r||r==="_self")&&!vv(s)}var lu=null;function _v(){if(lu===null)try{new FormData(document.createElement("form"),0),lu=!1}catch{lu=!0}return lu}var xv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rd(s){return s!=null&&!xv.has(s)?(pr(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pu}"`),null):s}function wv(s,r){let o,l,u,h,g;if(mv(s)){let x=s.getAttribute("action");l=x?Wr(x,r):null,o=s.getAttribute("method")||fu,u=rd(s.getAttribute("enctype"))||pu,h=new FormData(s)}else if(pv(s)||gv(s)&&(s.type==="submit"||s.type==="image")){let x=s.form;if(x==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=s.getAttribute("formaction")||x.getAttribute("action");if(l=y?Wr(y,r):null,o=s.getAttribute("formmethod")||x.getAttribute("method")||fu,u=rd(s.getAttribute("formenctype"))||rd(x.getAttribute("enctype"))||pu,h=new FormData(x,s),!_v()){let{name:w,type:S,value:E}=s;if(S==="image"){let T=w?`${w}.`:"";h.append(`${T}x`,"0"),h.append(`${T}y`,"0")}else w&&h.append(w,E)}}else{if(xu(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=fu,l=null,u=pu,g=s}return h&&u==="text/plain"&&(g=h,h=void 0),{action:l,method:o.toLowerCase(),encType:u,formData:h,body:g}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zd(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function Sv(s,r,o){let l=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return l.pathname==="/"?l.pathname=`_root.${o}`:r&&Wr(l.pathname,r)==="/"?l.pathname=`${r.replace(/\/$/,"")}/_root.${o}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${o}`,l}async function kv(s,r){if(s.id in r)return r[s.id];try{let o=await import(s.module);return r[s.id]=o,o}catch(o){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bv(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Ev(s,r,o){let l=await Promise.all(s.map(async u=>{let h=r.routes[u.route.id];if(h){let g=await kv(h,o);return g.links?g.links():[]}return[]}));return Lv(l.flat(1).filter(bv).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function Bf(s,r,o,l,u,h){let g=(y,w)=>o[w]?y.route.id!==o[w].route.id:!0,x=(y,w)=>{var S;return o[w].pathname!==y.pathname||((S=o[w].route.path)==null?void 0:S.endsWith("*"))&&o[w].params["*"]!==y.params["*"]};return h==="assets"?r.filter((y,w)=>g(y,w)||x(y,w)):h==="data"?r.filter((y,w)=>{var E;let S=l.routes[y.route.id];if(!S||!S.hasLoader)return!1;if(g(y,w)||x(y,w))return!0;if(y.route.shouldRevalidate){let T=y.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:((E=o[0])==null?void 0:E.params)||{},nextUrl:new URL(s,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Cv(s,r,{includeHydrateFallback:o}={}){return Pv(s.map(l=>{let u=r.routes[l.route.id];if(!u)return[];let h=[u.module];return u.clientActionModule&&(h=h.concat(u.clientActionModule)),u.clientLoaderModule&&(h=h.concat(u.clientLoaderModule)),o&&u.hydrateFallbackModule&&(h=h.concat(u.hydrateFallbackModule)),u.imports&&(h=h.concat(u.imports)),h}).flat(1))}function Pv(s){return[...new Set(s)]}function Tv(s){let r={},o=Object.keys(s).sort();for(let l of o)r[l]=s[l];return r}function Lv(s,r){let o=new Set;return new Set(r),s.reduce((l,u)=>{let h=JSON.stringify(Tv(u));return o.has(h)||(o.add(h),l.push({key:h,link:u})),l},[])}function Fp(){let s=C.useContext(Ps);return zd(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Mv(){let s=C.useContext(_u);return zd(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Dd=C.createContext(void 0);Dd.displayName="FrameworkContext";function Bp(){let s=C.useContext(Dd);return zd(s,"You must render this element inside a <HydratedRouter> element"),s}function jv(s,r){let o=C.useContext(Dd),[l,u]=C.useState(!1),[h,g]=C.useState(!1),{onFocus:x,onBlur:y,onMouseEnter:w,onMouseLeave:S,onTouchStart:E}=r,T=C.useRef(null);C.useEffect(()=>{if(s==="render"&&g(!0),s==="viewport"){let j=V=>{V.forEach(J=>{g(J.isIntersecting)})},z=new IntersectionObserver(j,{threshold:.5});return T.current&&z.observe(T.current),()=>{z.disconnect()}}},[s]),C.useEffect(()=>{if(l){let j=setTimeout(()=>{g(!0)},100);return()=>{clearTimeout(j)}}},[l]);let M=()=>{u(!0)},P=()=>{u(!1),g(!1)};return o?s!=="intent"?[h,T,{}]:[h,T,{onFocus:Ea(x,M),onBlur:Ea(y,P),onMouseEnter:Ea(w,M),onMouseLeave:Ea(S,P),onTouchStart:Ea(E,M)}]:[!1,T,{}]}function Ea(s,r){return o=>{s&&s(o),o.defaultPrevented||r(o)}}function Rv({page:s,...r}){let{router:o}=Fp(),l=C.useMemo(()=>Tp(o.routes,s,o.basename),[o.routes,s,o.basename]);return l?C.createElement(Ov,{page:s,matches:l,...r}):null}function Av(s){let{manifest:r,routeModules:o}=Bp(),[l,u]=C.useState([]);return C.useEffect(()=>{let h=!1;return Ev(s,r,o).then(g=>{h||u(g)}),()=>{h=!0}},[s,r,o]),l}function Ov({page:s,matches:r,...o}){let l=vi(),{manifest:u,routeModules:h}=Bp(),{basename:g}=Fp(),{loaderData:x,matches:y}=Mv(),w=C.useMemo(()=>Bf(s,r,y,u,l,"data"),[s,r,y,u,l]),S=C.useMemo(()=>Bf(s,r,y,u,l,"assets"),[s,r,y,u,l]),E=C.useMemo(()=>{if(s===l.pathname+l.search+l.hash)return[];let P=new Set,j=!1;if(r.forEach(V=>{var Z;let J=u.routes[V.route.id];!J||!J.hasLoader||(!w.some(te=>te.route.id===V.route.id)&&V.route.id in x&&((Z=h[V.route.id])!=null&&Z.shouldRevalidate)||J.hasClientLoader?j=!0:P.add(V.route.id))}),P.size===0)return[];let z=Sv(s,g,"data");return j&&P.size>0&&z.searchParams.set("_routes",r.filter(V=>P.has(V.route.id)).map(V=>V.route.id).join(",")),[z.pathname+z.search]},[g,x,l,u,w,r,s,h]),T=C.useMemo(()=>Cv(S,u),[S,u]),M=Av(S);return C.createElement(C.Fragment,null,E.map(P=>C.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...o})),T.map(P=>C.createElement("link",{key:P,rel:"modulepreload",href:P,...o})),M.map(({key:P,link:j})=>C.createElement("link",{key:P,...j})))}function Iv(...s){return r=>{s.forEach(o=>{typeof o=="function"?o(r):o!=null&&(o.current=r)})}}var Up=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Up&&(window.__reactRouterVersion="7.7.0")}catch{}function Nv({basename:s,children:r,window:o}){let l=C.useRef();l.current==null&&(l.current=kg({window:o,v5Compat:!0}));let u=l.current,[h,g]=C.useState({action:u.action,location:u.location}),x=C.useCallback(y=>{C.startTransition(()=>g(y))},[g]);return C.useLayoutEffect(()=>u.listen(x),[u,x]),C.createElement(hv,{basename:s,children:r,location:h.location,navigationType:h.action,navigator:u})}var $p=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ws=C.forwardRef(function({onClick:r,discover:o="render",prefetch:l="none",relative:u,reloadDocument:h,replace:g,state:x,target:y,to:w,preventScrollReset:S,viewTransition:E,...T},M){let{basename:P}=C.useContext(mr),j=typeof w=="string"&&$p.test(w),z,V=!1;if(typeof w=="string"&&j&&(z=w,Up))try{let ne=new URL(window.location.href),_e=w.startsWith("//")?new URL(ne.protocol+w):new URL(w),ke=Wr(_e.pathname,P);_e.origin===ne.origin&&ke!=null?w=ke+_e.search+_e.hash:V=!0}catch{pr(!1,`<Link to="${w}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=Jg(w,{relative:u}),[Z,te,he]=jv(l,T),le=Bv(w,{replace:g,state:x,target:y,preventScrollReset:S,relative:u,viewTransition:E});function K(ne){r&&r(ne),ne.defaultPrevented||le(ne)}let ge=C.createElement("a",{...T,...he,href:z||J,onClick:V||h?r:K,ref:Iv(M,te),target:y,"data-discover":!j&&o==="render"?"true":void 0});return Z&&!j?C.createElement(C.Fragment,null,ge,C.createElement(Rv,{page:J})):ge});ws.displayName="Link";var zv=C.forwardRef(function({"aria-current":r="page",caseSensitive:o=!1,className:l="",end:u=!1,style:h,to:g,viewTransition:x,children:y,...w},S){let E=za(g,{relative:w.relative}),T=vi(),M=C.useContext(_u),{navigator:P,basename:j}=C.useContext(mr),z=M!=null&&Wv(E)&&x===!0,V=P.encodeLocation?P.encodeLocation(E).pathname:E.pathname,J=T.pathname,Z=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;o||(J=J.toLowerCase(),Z=Z?Z.toLowerCase():null,V=V.toLowerCase()),Z&&j&&(Z=Wr(Z,j)||Z);const te=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let he=J===V||!u&&J.startsWith(V)&&J.charAt(te)==="/",le=Z!=null&&(Z===V||!u&&Z.startsWith(V)&&Z.charAt(V.length)==="/"),K={isActive:he,isPending:le,isTransitioning:z},ge=he?r:void 0,ne;typeof l=="function"?ne=l(K):ne=[l,he?"active":null,le?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let _e=typeof h=="function"?h(K):h;return C.createElement(ws,{...w,"aria-current":ge,className:ne,ref:S,style:_e,to:g,viewTransition:x},typeof y=="function"?y(K):y)});zv.displayName="NavLink";var Dv=C.forwardRef(({discover:s="render",fetcherKey:r,navigate:o,reloadDocument:l,replace:u,state:h,method:g=fu,action:x,onSubmit:y,relative:w,preventScrollReset:S,viewTransition:E,...T},M)=>{let P=Gv(),j=Hv(x,{relative:w}),z=g.toLowerCase()==="get"?"get":"post",V=typeof x=="string"&&$p.test(x),J=Z=>{if(y&&y(Z),Z.defaultPrevented)return;Z.preventDefault();let te=Z.nativeEvent.submitter,he=(te==null?void 0:te.getAttribute("formmethod"))||g;P(te||Z.currentTarget,{fetcherKey:r,method:he,navigate:o,replace:u,state:h,relative:w,preventScrollReset:S,viewTransition:E})};return C.createElement("form",{ref:M,method:z,action:j,onSubmit:l?y:J,...T,"data-discover":!V&&s==="render"?"true":void 0})});Dv.displayName="Form";function Fv(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gp(s){let r=C.useContext(Ps);return gt(r,Fv(s)),r}function Bv(s,{target:r,replace:o,state:l,preventScrollReset:u,relative:h,viewTransition:g}={}){let x=Yg(),y=vi(),w=za(s,{relative:h});return C.useCallback(S=>{if(yv(S,r)){S.preventDefault();let E=o!==void 0?o:Ra(y)===Ra(w);x(s,{replace:E,state:l,preventScrollReset:u,relative:h,viewTransition:g})}},[y,x,w,o,l,r,s,u,h,g])}var Uv=0,$v=()=>`__${String(++Uv)}__`;function Gv(){let{router:s}=Gp("useSubmit"),{basename:r}=C.useContext(mr),o=lv();return C.useCallback(async(l,u={})=>{let{action:h,method:g,encType:x,formData:y,body:w}=wv(l,r);if(u.navigate===!1){let S=u.fetcherKey||$v();await s.fetch(S,o,u.action||h,{preventScrollReset:u.preventScrollReset,formData:y,body:w,formMethod:u.method||g,formEncType:u.encType||x,flushSync:u.flushSync})}else await s.navigate(u.action||h,{preventScrollReset:u.preventScrollReset,formData:y,body:w,formMethod:u.method||g,formEncType:u.encType||x,replace:u.replace,state:u.state,fromRouteId:o,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,r,o])}function Hv(s,{relative:r}={}){let{basename:o}=C.useContext(mr),l=C.useContext(Zr);gt(l,"useFormAction must be used inside a RouteContext");let[u]=l.matches.slice(-1),h={...za(s||".",{relative:r})},g=vi();if(s==null){h.search=g.search;let x=new URLSearchParams(h.search),y=x.getAll("index");if(y.some(S=>S==="")){x.delete("index"),y.filter(E=>E).forEach(E=>x.append("index",E));let S=x.toString();h.search=S?`?${S}`:""}}return(!s||s===".")&&u.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(h.pathname=h.pathname==="/"?o:Hr([o,h.pathname])),Ra(h)}function Wv(s,r={}){let o=C.useContext(Op);gt(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Gp("useViewTransitionState"),u=za(s,{relative:r.relative});if(!o.isTransitioning)return!1;let h=Wr(o.currentLocation.pathname,l)||o.currentLocation.pathname,g=Wr(o.nextLocation.pathname,l)||o.nextLocation.pathname;return mu(u.pathname,g)!=null||mu(u.pathname,h)!=null}var Zv=Pp();const Vv="modulepreload",qv=function(s){return"/geosantos/"+s},Uf={},Da=function(r,o,l){let u=Promise.resolve();if(o&&o.length>0){let g=function(w){return Promise.all(w.map(S=>Promise.resolve(S).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};document.getElementsByTagName("link");const x=document.querySelector("meta[property=csp-nonce]"),y=(x==null?void 0:x.nonce)||(x==null?void 0:x.getAttribute("nonce"));u=g(o.map(w=>{if(w=qv(w),w in Uf)return;Uf[w]=!0;const S=w.endsWith(".css"),E=S?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${w}"]${E}`))return;const T=document.createElement("link");if(T.rel=S?"stylesheet":Vv,S||(T.as="script"),T.crossOrigin="",T.href=w,y&&T.setAttribute("nonce",y),document.head.appendChild(T),S)return new Promise((M,P)=>{T.addEventListener("load",M),T.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${w}`)))})}))}function h(g){const x=new Event("vite:preloadError",{cancelable:!0});if(x.payload=g,window.dispatchEvent(x),!x.defaultPrevented)throw g}return u.then(g=>{for(const x of g||[])x.status==="rejected"&&h(x.reason);return r().catch(h)})},Kv=s=>{let r;return s?r=s:typeof fetch>"u"?r=(...o)=>Da(async()=>{const{default:l}=await Promise.resolve().then(()=>Ts);return{default:l}},[]).then(({default:l})=>l(...o)):r=fetch,(...o)=>r(...o)};class Fd extends Error{constructor(r,o="FunctionsError",l){super(r),this.name=o,this.context=l}}class Jv extends Fd{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class $f extends Fd{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Gf extends Fd{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var yd;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(yd||(yd={}));var Yv=function(s,r,o,l){function u(h){return h instanceof o?h:new o(function(g){g(h)})}return new(o||(o=Promise))(function(h,g){function x(S){try{w(l.next(S))}catch(E){g(E)}}function y(S){try{w(l.throw(S))}catch(E){g(E)}}function w(S){S.done?h(S.value):u(S.value).then(x,y)}w((l=l.apply(s,r||[])).next())})};class Qv{constructor(r,{headers:o={},customFetch:l,region:u=yd.Any}={}){this.url=r,this.headers=o,this.region=u,this.fetch=Kv(l)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,o={}){var l;return Yv(this,void 0,void 0,function*(){try{const{headers:u,method:h,body:g}=o;let x={},{region:y}=o;y||(y=this.region);const w=new URL(`${this.url}/${r}`);y&&y!=="any"&&(x["x-region"]=y,w.searchParams.set("forceFunctionRegion",y));let S;g&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)&&(typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",S=g):typeof g=="string"?(x["Content-Type"]="text/plain",S=g):typeof FormData<"u"&&g instanceof FormData?S=g:(x["Content-Type"]="application/json",S=JSON.stringify(g)));const E=yield this.fetch(w.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),u),body:S}).catch(j=>{throw new Jv(j)}),T=E.headers.get("x-relay-error");if(T&&T==="true")throw new $f(E);if(!E.ok)throw new Gf(E);let M=((l=E.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),P;return M==="application/json"?P=yield E.json():M==="application/octet-stream"?P=yield E.blob():M==="text/event-stream"?P=E:M==="multipart/form-data"?P=yield E.formData():P=yield E.text(),{data:P,error:null,response:E}}catch(u){return{data:null,error:u,response:u instanceof Gf||u instanceof $f?u.context:void 0}}})}}var Nt={},ls={},us={},cs={},ds={},hs={},Xv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ss=Xv();const ey=Ss.fetch,Hp=Ss.fetch.bind(Ss),Wp=Ss.Headers,ty=Ss.Request,ny=Ss.Response,Ts=Object.freeze(Object.defineProperty({__proto__:null,Headers:Wp,Request:ty,Response:ny,default:Hp,fetch:ey},Symbol.toStringTag,{value:"Module"})),ry=pg(Ts);var uu={},Hf;function Zp(){if(Hf)return uu;Hf=1,Object.defineProperty(uu,"__esModule",{value:!0});class s extends Error{constructor(o){super(o.message),this.name="PostgrestError",this.details=o.details,this.hint=o.hint,this.code=o.code}}return uu.default=s,uu}var Wf;function Vp(){if(Wf)return hs;Wf=1;var s=hs&&hs.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(hs,"__esModule",{value:!0});const r=s(ry),o=s(Zp());class l{constructor(h){this.shouldThrowOnError=!1,this.method=h.method,this.url=h.url,this.headers=h.headers,this.schema=h.schema,this.body=h.body,this.shouldThrowOnError=h.shouldThrowOnError,this.signal=h.signal,this.isMaybeSingle=h.isMaybeSingle,h.fetch?this.fetch=h.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(h,g){return this.headers=Object.assign({},this.headers),this.headers[h]=g,this}then(h,g){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const x=this.fetch;let y=x(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async w=>{var S,E,T;let M=null,P=null,j=null,z=w.status,V=w.statusText;if(w.ok){if(this.method!=="HEAD"){const he=await w.text();he===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?P=he:P=JSON.parse(he))}const Z=(S=this.headers.Prefer)===null||S===void 0?void 0:S.match(/count=(exact|planned|estimated)/),te=(E=w.headers.get("content-range"))===null||E===void 0?void 0:E.split("/");Z&&te&&te.length>1&&(j=parseInt(te[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(P)&&(P.length>1?(M={code:"PGRST116",details:`Results contain ${P.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},P=null,j=null,z=406,V="Not Acceptable"):P.length===1?P=P[0]:P=null)}else{const Z=await w.text();try{M=JSON.parse(Z),Array.isArray(M)&&w.status===404&&(P=[],M=null,z=200,V="OK")}catch{w.status===404&&Z===""?(z=204,V="No Content"):M={message:Z}}if(M&&this.isMaybeSingle&&(!((T=M==null?void 0:M.details)===null||T===void 0)&&T.includes("0 rows"))&&(M=null,z=200,V="OK"),M&&this.shouldThrowOnError)throw new o.default(M)}return{error:M,data:P,count:j,status:z,statusText:V}});return this.shouldThrowOnError||(y=y.catch(w=>{var S,E,T;return{error:{message:`${(S=w==null?void 0:w.name)!==null&&S!==void 0?S:"FetchError"}: ${w==null?void 0:w.message}`,details:`${(E=w==null?void 0:w.stack)!==null&&E!==void 0?E:""}`,hint:"",code:`${(T=w==null?void 0:w.code)!==null&&T!==void 0?T:""}`},data:null,count:null,status:0,statusText:""}})),y.then(h,g)}returns(){return this}overrideTypes(){return this}}return hs.default=l,hs}var Zf;function qp(){if(Zf)return ds;Zf=1;var s=ds&&ds.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ds,"__esModule",{value:!0});const r=s(Vp());class o extends r.default{select(u){let h=!1;const g=(u??"*").split("").map(x=>/\s/.test(x)&&!h?"":(x==='"'&&(h=!h),x)).join("");return this.url.searchParams.set("select",g),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(u,{ascending:h=!0,nullsFirst:g,foreignTable:x,referencedTable:y=x}={}){const w=y?`${y}.order`:"order",S=this.url.searchParams.get(w);return this.url.searchParams.set(w,`${S?`${S},`:""}${u}.${h?"asc":"desc"}${g===void 0?"":g?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:h,referencedTable:g=h}={}){const x=typeof g>"u"?"limit":`${g}.limit`;return this.url.searchParams.set(x,`${u}`),this}range(u,h,{foreignTable:g,referencedTable:x=g}={}){const y=typeof x>"u"?"offset":`${x}.offset`,w=typeof x>"u"?"limit":`${x}.limit`;return this.url.searchParams.set(y,`${u}`),this.url.searchParams.set(w,`${h-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:u=!1,verbose:h=!1,settings:g=!1,buffers:x=!1,wal:y=!1,format:w="text"}={}){var S;const E=[u?"analyze":null,h?"verbose":null,g?"settings":null,x?"buffers":null,y?"wal":null].filter(Boolean).join("|"),T=(S=this.headers.Accept)!==null&&S!==void 0?S:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${w}; for="${T}"; options=${E};`,w==="json"?this:this}rollback(){var u;return((u=this.headers.Prefer)!==null&&u!==void 0?u:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return ds.default=o,ds}var Vf;function Bd(){if(Vf)return cs;Vf=1;var s=cs&&cs.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(cs,"__esModule",{value:!0});const r=s(qp());class o extends r.default{eq(u,h){return this.url.searchParams.append(u,`eq.${h}`),this}neq(u,h){return this.url.searchParams.append(u,`neq.${h}`),this}gt(u,h){return this.url.searchParams.append(u,`gt.${h}`),this}gte(u,h){return this.url.searchParams.append(u,`gte.${h}`),this}lt(u,h){return this.url.searchParams.append(u,`lt.${h}`),this}lte(u,h){return this.url.searchParams.append(u,`lte.${h}`),this}like(u,h){return this.url.searchParams.append(u,`like.${h}`),this}likeAllOf(u,h){return this.url.searchParams.append(u,`like(all).{${h.join(",")}}`),this}likeAnyOf(u,h){return this.url.searchParams.append(u,`like(any).{${h.join(",")}}`),this}ilike(u,h){return this.url.searchParams.append(u,`ilike.${h}`),this}ilikeAllOf(u,h){return this.url.searchParams.append(u,`ilike(all).{${h.join(",")}}`),this}ilikeAnyOf(u,h){return this.url.searchParams.append(u,`ilike(any).{${h.join(",")}}`),this}is(u,h){return this.url.searchParams.append(u,`is.${h}`),this}in(u,h){const g=Array.from(new Set(h)).map(x=>typeof x=="string"&&new RegExp("[,()]").test(x)?`"${x}"`:`${x}`).join(",");return this.url.searchParams.append(u,`in.(${g})`),this}contains(u,h){return typeof h=="string"?this.url.searchParams.append(u,`cs.${h}`):Array.isArray(h)?this.url.searchParams.append(u,`cs.{${h.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(h)}`),this}containedBy(u,h){return typeof h=="string"?this.url.searchParams.append(u,`cd.${h}`):Array.isArray(h)?this.url.searchParams.append(u,`cd.{${h.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(h)}`),this}rangeGt(u,h){return this.url.searchParams.append(u,`sr.${h}`),this}rangeGte(u,h){return this.url.searchParams.append(u,`nxl.${h}`),this}rangeLt(u,h){return this.url.searchParams.append(u,`sl.${h}`),this}rangeLte(u,h){return this.url.searchParams.append(u,`nxr.${h}`),this}rangeAdjacent(u,h){return this.url.searchParams.append(u,`adj.${h}`),this}overlaps(u,h){return typeof h=="string"?this.url.searchParams.append(u,`ov.${h}`):this.url.searchParams.append(u,`ov.{${h.join(",")}}`),this}textSearch(u,h,{config:g,type:x}={}){let y="";x==="plain"?y="pl":x==="phrase"?y="ph":x==="websearch"&&(y="w");const w=g===void 0?"":`(${g})`;return this.url.searchParams.append(u,`${y}fts${w}.${h}`),this}match(u){return Object.entries(u).forEach(([h,g])=>{this.url.searchParams.append(h,`eq.${g}`)}),this}not(u,h,g){return this.url.searchParams.append(u,`not.${h}.${g}`),this}or(u,{foreignTable:h,referencedTable:g=h}={}){const x=g?`${g}.or`:"or";return this.url.searchParams.append(x,`(${u})`),this}filter(u,h,g){return this.url.searchParams.append(u,`${h}.${g}`),this}}return cs.default=o,cs}var qf;function Kp(){if(qf)return us;qf=1;var s=us&&us.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(us,"__esModule",{value:!0});const r=s(Bd());class o{constructor(u,{headers:h={},schema:g,fetch:x}){this.url=u,this.headers=h,this.schema=g,this.fetch=x}select(u,{head:h=!1,count:g}={}){const x=h?"HEAD":"GET";let y=!1;const w=(u??"*").split("").map(S=>/\s/.test(S)&&!y?"":(S==='"'&&(y=!y),S)).join("");return this.url.searchParams.set("select",w),g&&(this.headers.Prefer=`count=${g}`),new r.default({method:x,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(u,{count:h,defaultToNull:g=!0}={}){const x="POST",y=[];if(this.headers.Prefer&&y.push(this.headers.Prefer),h&&y.push(`count=${h}`),g||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(u)){const w=u.reduce((S,E)=>S.concat(Object.keys(E)),[]);if(w.length>0){const S=[...new Set(w)].map(E=>`"${E}"`);this.url.searchParams.set("columns",S.join(","))}}return new r.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:this.fetch,allowEmpty:!1})}upsert(u,{onConflict:h,ignoreDuplicates:g=!1,count:x,defaultToNull:y=!0}={}){const w="POST",S=[`resolution=${g?"ignore":"merge"}-duplicates`];if(h!==void 0&&this.url.searchParams.set("on_conflict",h),this.headers.Prefer&&S.push(this.headers.Prefer),x&&S.push(`count=${x}`),y||S.push("missing=default"),this.headers.Prefer=S.join(","),Array.isArray(u)){const E=u.reduce((T,M)=>T.concat(Object.keys(M)),[]);if(E.length>0){const T=[...new Set(E)].map(M=>`"${M}"`);this.url.searchParams.set("columns",T.join(","))}}return new r.default({method:w,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:this.fetch,allowEmpty:!1})}update(u,{count:h}={}){const g="PATCH",x=[];return this.headers.Prefer&&x.push(this.headers.Prefer),h&&x.push(`count=${h}`),this.headers.Prefer=x.join(","),new r.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:this.fetch,allowEmpty:!1})}delete({count:u}={}){const h="DELETE",g=[];return u&&g.push(`count=${u}`),this.headers.Prefer&&g.unshift(this.headers.Prefer),this.headers.Prefer=g.join(","),new r.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return us.default=o,us}var Ca={},Pa={},Kf;function oy(){return Kf||(Kf=1,Object.defineProperty(Pa,"__esModule",{value:!0}),Pa.version=void 0,Pa.version="0.0.0-automated"),Pa}var Jf;function iy(){if(Jf)return Ca;Jf=1,Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.DEFAULT_HEADERS=void 0;const s=oy();return Ca.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${s.version}`},Ca}var Yf;function sy(){if(Yf)return ls;Yf=1;var s=ls&&ls.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(ls,"__esModule",{value:!0});const r=s(Kp()),o=s(Bd()),l=iy();class u{constructor(g,{headers:x={},schema:y,fetch:w}={}){this.url=g,this.headers=Object.assign(Object.assign({},l.DEFAULT_HEADERS),x),this.schemaName=y,this.fetch=w}from(g){const x=new URL(`${this.url}/${g}`);return new r.default(x,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(g){return new u(this.url,{headers:this.headers,schema:g,fetch:this.fetch})}rpc(g,x={},{head:y=!1,get:w=!1,count:S}={}){let E;const T=new URL(`${this.url}/rpc/${g}`);let M;y||w?(E=y?"HEAD":"GET",Object.entries(x).filter(([j,z])=>z!==void 0).map(([j,z])=>[j,Array.isArray(z)?`{${z.join(",")}}`:`${z}`]).forEach(([j,z])=>{T.searchParams.append(j,z)})):(E="POST",M=x);const P=Object.assign({},this.headers);return S&&(P.Prefer=`count=${S}`),new o.default({method:E,url:T,headers:P,schema:this.schemaName,body:M,fetch:this.fetch,allowEmpty:!1})}}return ls.default=u,ls}var Qf;function ay(){if(Qf)return Nt;Qf=1;var s=Nt&&Nt.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.PostgrestError=Nt.PostgrestBuilder=Nt.PostgrestTransformBuilder=Nt.PostgrestFilterBuilder=Nt.PostgrestQueryBuilder=Nt.PostgrestClient=void 0;const r=s(sy());Nt.PostgrestClient=r.default;const o=s(Kp());Nt.PostgrestQueryBuilder=o.default;const l=s(Bd());Nt.PostgrestFilterBuilder=l.default;const u=s(qp());Nt.PostgrestTransformBuilder=u.default;const h=s(Vp());Nt.PostgrestBuilder=h.default;const g=s(Zp());return Nt.PostgrestError=g.default,Nt.default={PostgrestClient:r.default,PostgrestQueryBuilder:o.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:h.default,PostgrestError:g.default},Nt}var ly=ay();const uy=Rd(ly),{PostgrestClient:cy,PostgrestQueryBuilder:q1,PostgrestFilterBuilder:K1,PostgrestTransformBuilder:J1,PostgrestBuilder:Y1,PostgrestError:Q1}=uy;function dy(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const hy=dy(),fy="2.11.15",py=`realtime-js/${fy}`,my="1.0.0",Jp=1e4,gy=1e3;var Ma;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Ma||(Ma={}));var Kt;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Kt||(Kt={}));var Kn;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Kn||(Kn={}));var _d;(function(s){s.websocket="websocket"})(_d||(_d={}));var pi;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(pi||(pi={}));class vy{constructor(){this.HEADER_LENGTH=1}decode(r,o){return r.constructor===ArrayBuffer?o(this._binaryDecode(r)):o(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const o=new DataView(r),l=new TextDecoder;return this._decodeBroadcast(r,o,l)}_decodeBroadcast(r,o,l){const u=o.getUint8(1),h=o.getUint8(2);let g=this.HEADER_LENGTH+2;const x=l.decode(r.slice(g,g+u));g=g+u;const y=l.decode(r.slice(g,g+h));g=g+h;const w=JSON.parse(l.decode(r.slice(g,r.byteLength)));return{ref:null,topic:x,event:y,payload:w}}}class Yp{constructor(r,o){this.callback=r,this.timerCalc=o,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=o}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var it;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(it||(it={}));const Xf=(s,r,o={})=>{var l;const u=(l=o.skipTypes)!==null&&l!==void 0?l:[];return Object.keys(r).reduce((h,g)=>(h[g]=yy(g,s,r,u),h),{})},yy=(s,r,o,l)=>{const u=r.find(x=>x.name===s),h=u==null?void 0:u.type,g=o[s];return h&&!l.includes(h)?Qp(h,g):xd(g)},Qp=(s,r)=>{if(s.charAt(0)==="_"){const o=s.slice(1,s.length);return Sy(r,o)}switch(s){case it.bool:return _y(r);case it.float4:case it.float8:case it.int2:case it.int4:case it.int8:case it.numeric:case it.oid:return xy(r);case it.json:case it.jsonb:return wy(r);case it.timestamp:return ky(r);case it.abstime:case it.date:case it.daterange:case it.int4range:case it.int8range:case it.money:case it.reltime:case it.text:case it.time:case it.timestamptz:case it.timetz:case it.tsrange:case it.tstzrange:return xd(r);default:return xd(r)}},xd=s=>s,_y=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},xy=s=>{if(typeof s=="string"){const r=parseFloat(s);if(!Number.isNaN(r))return r}return s},wy=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(r){return console.log(`JSON parse error: ${r}`),s}return s},Sy=(s,r)=>{if(typeof s!="string")return s;const o=s.length-1,l=s[o];if(s[0]==="{"&&l==="}"){let h;const g=s.slice(1,o);try{h=JSON.parse("["+g+"]")}catch{h=g?g.split(","):[]}return h.map(x=>Qp(r,x))}return s},ky=s=>typeof s=="string"?s.replace(" ","T"):s,Xp=s=>{let r=s;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")};class od{constructor(r,o,l={},u=Jp){this.channel=r,this.event=o,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,o){var l;return this._hasReceived(r)&&o((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:r,callback:o}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=o=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=o,this._matchReceive(o)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,o){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:o})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:o}){this.recHooks.filter(l=>l.status===r).forEach(l=>l.callback(o))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var ep;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(ep||(ep={}));class ja{constructor(r,o){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(o==null?void 0:o.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:h,onLeave:g,onSync:x}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ja.syncState(this.state,u,h,g),this.pendingDiffs.forEach(y=>{this.state=ja.syncDiff(this.state,y,h,g)}),this.pendingDiffs=[],x()}),this.channel._on(l.diff,{},u=>{const{onJoin:h,onLeave:g,onSync:x}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=ja.syncDiff(this.state,u,h,g),x())}),this.onJoin((u,h,g)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:h,newPresences:g})}),this.onLeave((u,h,g)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:h,leftPresences:g})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,o,l,u){const h=this.cloneDeep(r),g=this.transformState(o),x={},y={};return this.map(h,(w,S)=>{g[w]||(y[w]=S)}),this.map(g,(w,S)=>{const E=h[w];if(E){const T=S.map(z=>z.presence_ref),M=E.map(z=>z.presence_ref),P=S.filter(z=>M.indexOf(z.presence_ref)<0),j=E.filter(z=>T.indexOf(z.presence_ref)<0);P.length>0&&(x[w]=P),j.length>0&&(y[w]=j)}else x[w]=S}),this.syncDiff(h,{joins:x,leaves:y},l,u)}static syncDiff(r,o,l,u){const{joins:h,leaves:g}={joins:this.transformState(o.joins),leaves:this.transformState(o.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(h,(x,y)=>{var w;const S=(w=r[x])!==null&&w!==void 0?w:[];if(r[x]=this.cloneDeep(y),S.length>0){const E=r[x].map(M=>M.presence_ref),T=S.filter(M=>E.indexOf(M.presence_ref)<0);r[x].unshift(...T)}l(x,S,y)}),this.map(g,(x,y)=>{let w=r[x];if(!w)return;const S=y.map(E=>E.presence_ref);w=w.filter(E=>S.indexOf(E.presence_ref)<0),r[x]=w,u(x,w,y),w.length===0&&delete r[x]}),r}static map(r,o){return Object.getOwnPropertyNames(r).map(l=>o(l,r[l]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((o,l)=>{const u=r[l];return"metas"in u?o[l]=u.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):o[l]=u,o},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tp;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(tp||(tp={}));var np;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(np||(np={}));var Ur;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Ur||(Ur={}));class Ud{constructor(r,o={config:{}},l){this.topic=r,this.params=o,this.socket=l,this.bindings={},this.state=Kt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},o.config),this.timeout=this.socket.timeout,this.joinPush=new od(this,Kn.join,this.params,this.timeout),this.rejoinTimer=new Yp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Kt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Kt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Kt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Kn.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new ja(this),this.broadcastEndpointURL=Xp(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(r,o=this.timeout){var l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Kt.closed){const{config:{broadcast:h,presence:g,private:x}}=this.params;this._onError(S=>r==null?void 0:r(Ur.CHANNEL_ERROR,S)),this._onClose(()=>r==null?void 0:r(Ur.CLOSED));const y={},w={broadcast:h,presence:g,postgres_changes:(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(S=>S.filter))!==null&&u!==void 0?u:[],private:x};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:w},y)),this.joinedOnce=!0,this._rejoin(o),this.joinPush.receive("ok",async({postgres_changes:S})=>{var E;if(this.socket.setAuth(),S===void 0){r==null||r(Ur.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,M=(E=T==null?void 0:T.length)!==null&&E!==void 0?E:0,P=[];for(let j=0;j<M;j++){const z=T[j],{filter:{event:V,schema:J,table:Z,filter:te}}=z,he=S&&S[j];if(he&&he.event===V&&he.schema===J&&he.table===Z&&he.filter===te)P.push(Object.assign(Object.assign({},z),{id:he.id}));else{this.unsubscribe(),this.state=Kt.errored,r==null||r(Ur.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,r&&r(Ur.SUBSCRIBED);return}}).receive("error",S=>{this.state=Kt.errored,r==null||r(Ur.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(Ur.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,o={}){return await this.send({type:"presence",event:"track",payload:r},o.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,o,l){return this._on(r,o,l)}async send(r,o={}){var l,u;if(!this._canPush()&&r.type==="broadcast"){const{event:h,payload:g}=r,y={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:g,private:this.private}]})};try{const w=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(l=o.timeout)!==null&&l!==void 0?l:this.timeout);return await((u=w.body)===null||u===void 0?void 0:u.cancel()),w.ok?"ok":"error"}catch(w){return w.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var g,x,y;const w=this._push(r.type,r,o.timeout||this.timeout);r.type==="broadcast"&&!(!((y=(x=(g=this.params)===null||g===void 0?void 0:g.config)===null||x===void 0?void 0:x.broadcast)===null||y===void 0)&&y.ack)&&h("ok"),w.receive("ok",()=>h("ok")),w.receive("error",()=>h("error")),w.receive("timeout",()=>h("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Kt.leaving;const o=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Kn.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(u=>{l=new od(this,Kn.leave,{},r),l.receive("ok",()=>{o(),u("ok")}).receive("timeout",()=>{o(),u("timed out")}).receive("error",()=>{u("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l==null||l.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(r,o,l){const u=new AbortController,h=setTimeout(()=>u.abort(),l),g=await this.socket.fetch(r,Object.assign(Object.assign({},o),{signal:u.signal}));return clearTimeout(h),g}_push(r,o,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new od(this,r,o,l);return this._canPush()?u.send():(u.startTimeout(),this.pushBuffer.push(u)),u}_onMessage(r,o,l){return o}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,o,l){var u,h;const g=r.toLocaleLowerCase(),{close:x,error:y,leave:w,join:S}=Kn;if(l&&[x,y,w,S].indexOf(g)>=0&&l!==this._joinRef())return;let T=this._onMessage(g,o,l);if(o&&!T)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(g)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(M=>{var P,j,z;return((P=M.filter)===null||P===void 0?void 0:P.event)==="*"||((z=(j=M.filter)===null||j===void 0?void 0:j.event)===null||z===void 0?void 0:z.toLocaleLowerCase())===g}).map(M=>M.callback(T,l)):(h=this.bindings[g])===null||h===void 0||h.filter(M=>{var P,j,z,V,J,Z;if(["broadcast","presence","postgres_changes"].includes(g))if("id"in M){const te=M.id,he=(P=M.filter)===null||P===void 0?void 0:P.event;return te&&((j=o.ids)===null||j===void 0?void 0:j.includes(te))&&(he==="*"||(he==null?void 0:he.toLocaleLowerCase())===((z=o.data)===null||z===void 0?void 0:z.type.toLocaleLowerCase()))}else{const te=(J=(V=M==null?void 0:M.filter)===null||V===void 0?void 0:V.event)===null||J===void 0?void 0:J.toLocaleLowerCase();return te==="*"||te===((Z=o==null?void 0:o.event)===null||Z===void 0?void 0:Z.toLocaleLowerCase())}else return M.type.toLocaleLowerCase()===g}).map(M=>{if(typeof T=="object"&&"ids"in T){const P=T.data,{schema:j,table:z,commit_timestamp:V,type:J,errors:Z}=P;T=Object.assign(Object.assign({},{schema:j,table:z,commit_timestamp:V,eventType:J,new:{},old:{},errors:Z}),this._getPayloadRecords(P))}M.callback(T,l)})}_isClosed(){return this.state===Kt.closed}_isJoined(){return this.state===Kt.joined}_isJoining(){return this.state===Kt.joining}_isLeaving(){return this.state===Kt.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,o,l){const u=r.toLocaleLowerCase(),h={type:u,filter:o,callback:l};return this.bindings[u]?this.bindings[u].push(h):this.bindings[u]=[h],this}_off(r,o){const l=r.toLocaleLowerCase();return this.bindings[l]=this.bindings[l].filter(u=>{var h;return!(((h=u.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===l&&Ud.isEqual(u.filter,o))}),this}static isEqual(r,o){if(Object.keys(r).length!==Object.keys(o).length)return!1;for(const l in r)if(r[l]!==o[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Kn.close,{},r)}_onError(r){this._on(Kn.error,{},o=>r(o))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Kt.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const o={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(o.new=Xf(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(o.old=Xf(r.columns,r.old_record)),o}}const rp=()=>{},by=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ey{constructor(r,o){var l;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Jp,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=rp,this.ref=0,this.logger=rp,this.conn=null,this.sendBuffer=[],this.serializer=new vy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=h=>{let g;return h?g=h:typeof fetch>"u"?g=(...x)=>Da(async()=>{const{default:y}=await Promise.resolve().then(()=>Ts);return{default:y}},void 0).then(({default:y})=>y(...x)):g=fetch,(...x)=>g(...x)},this.endPoint=`${r}/${_d.websocket}`,this.httpEndpoint=Xp(r),o!=null&&o.transport?this.transport=o.transport:this.transport=null,o!=null&&o.params&&(this.params=o.params),o!=null&&o.timeout&&(this.timeout=o.timeout),o!=null&&o.logger&&(this.logger=o.logger),(o!=null&&o.logLevel||o!=null&&o.log_level)&&(this.logLevel=o.logLevel||o.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),o!=null&&o.heartbeatIntervalMs&&(this.heartbeatIntervalMs=o.heartbeatIntervalMs);const u=(l=o==null?void 0:o.params)===null||l===void 0?void 0:l.apikey;if(u&&(this.accessTokenValue=u,this.apiKey=u),this.reconnectAfterMs=o!=null&&o.reconnectAfterMs?o.reconnectAfterMs:h=>[1e3,2e3,5e3,1e4][h-1]||1e4,this.encode=o!=null&&o.encode?o.encode:(h,g)=>g(JSON.stringify(h)),this.decode=o!=null&&o.decode?o.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Yp(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(o==null?void 0:o.fetch),o!=null&&o.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(o==null?void 0:o.worker)||!1,this.workerUrl=o==null?void 0:o.workerUrl}this.accessToken=(o==null?void 0:o.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=hy),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:my}))}disconnect(r,o){this.conn&&(this.conn.onclose=function(){},r?this.conn.close(r,o??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(l=>l.teardown()))}getChannels(){return this.channels}async removeChannel(r){const o=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),o}async removeAllChannels(){const r=await Promise.all(this.channels.map(o=>o.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,o,l){this.logger(r,o,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Ma.connecting:return pi.Connecting;case Ma.open:return pi.Open;case Ma.closing:return pi.Closing;default:return pi.Closed}}isConnected(){return this.connectionState()===pi.Open}channel(r,o={config:{}}){const l=`realtime:${r}`,u=this.getChannels().find(h=>h.topic===l);if(u)return u;{const h=new Ud(`realtime:${r}`,o,this);return this.channels.push(h),h}}push(r){const{topic:o,event:l,payload:u,ref:h}=r,g=()=>{this.encode(r,x=>{var y;(y=this.conn)===null||y===void 0||y.send(x)})};this.log("push",`${o} ${l} (${h})`,u),this.isConnected()?g():this.sendBuffer.push(g)}async setAuth(r=null){let o=r||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=o&&(this.accessTokenValue=o,this.channels.forEach(l=>{const u={access_token:o,version:py};o&&l.updateJoinPayload(u),l.joinedOnce&&l._isJoined()&&l._push(Kn.access_token,{access_token:o})}))}async sendHeartbeat(){var r;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(r=this.conn)===null||r===void 0||r.close(gy,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let o=this.channels.find(l=>l.topic===r&&(l._isJoined()||l._isJoining()));o&&(this.log("transport",`leaving duplicate topic "${r}"`),o.unsubscribe())}_remove(r){this.channels=this.channels.filter(o=>o.topic!==r.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_onConnMessage(r){this.decode(r.data,o=>{let{topic:l,event:u,payload:h,ref:g}=o;l==="phoenix"&&u==="phx_reply"&&this.heartbeatCallback(o.payload.status=="ok"?"ok":"error"),g&&g===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${h.status||""} ${l} ${u} ${g&&"("+g+")"||""}`,h),Array.from(this.channels).filter(x=>x._isMember(l)).forEach(x=>x._trigger(u,h,g)),this.stateChangeCallbacks.message.forEach(x=>x(o))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(r=>r())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=o=>{this.log("worker","worker error",o.message),this.workerRef.terminate()},this.workerRef.onmessage=o=>{o.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){this.log("transport","close",r),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(o=>o(r))}_onConnError(r){this.log("transport",`${r}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(o=>o(r))}_triggerChanError(){this.channels.forEach(r=>r._trigger(Kn.error))}_appendParams(r,o){if(Object.keys(o).length===0)return r;const l=r.match(/\?/)?"&":"?",u=new URLSearchParams(o);return`${r}${l}${u}`}_workerObjectUrl(r){let o;if(r)o=r;else{const l=new Blob([by],{type:"application/javascript"});o=URL.createObjectURL(l)}return o}}class $d extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function zt(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class Cy extends $d{constructor(r,o){super(r),this.name="StorageApiError",this.status=o}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class wd extends $d{constructor(r,o){super(r),this.name="StorageUnknownError",this.originalError=o}}var Py=function(s,r,o,l){function u(h){return h instanceof o?h:new o(function(g){g(h)})}return new(o||(o=Promise))(function(h,g){function x(S){try{w(l.next(S))}catch(E){g(E)}}function y(S){try{w(l.throw(S))}catch(E){g(E)}}function w(S){S.done?h(S.value):u(S.value).then(x,y)}w((l=l.apply(s,r||[])).next())})};const em=s=>{let r;return s?r=s:typeof fetch>"u"?r=(...o)=>Da(async()=>{const{default:l}=await Promise.resolve().then(()=>Ts);return{default:l}},void 0).then(({default:l})=>l(...o)):r=fetch,(...o)=>r(...o)},Ty=()=>Py(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Da(()=>Promise.resolve().then(()=>Ts),void 0)).Response:Response}),Sd=s=>{if(Array.isArray(s))return s.map(o=>Sd(o));if(typeof s=="function"||s!==Object(s))return s;const r={};return Object.entries(s).forEach(([o,l])=>{const u=o.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));r[u]=Sd(l)}),r};var yi=function(s,r,o,l){function u(h){return h instanceof o?h:new o(function(g){g(h)})}return new(o||(o=Promise))(function(h,g){function x(S){try{w(l.next(S))}catch(E){g(E)}}function y(S){try{w(l.throw(S))}catch(E){g(E)}}function w(S){S.done?h(S.value):u(S.value).then(x,y)}w((l=l.apply(s,r||[])).next())})};const id=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Ly=(s,r,o)=>yi(void 0,void 0,void 0,function*(){const l=yield Ty();s instanceof l&&!(o!=null&&o.noResolveJson)?s.json().then(u=>{r(new Cy(id(u),s.status||500))}).catch(u=>{r(new wd(id(u),u))}):r(new wd(id(s),s))}),My=(s,r,o,l)=>{const u={method:s,headers:(r==null?void 0:r.headers)||{}};return s==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),l&&(u.body=JSON.stringify(l)),Object.assign(Object.assign({},u),o))};function Fa(s,r,o,l,u,h){return yi(this,void 0,void 0,function*(){return new Promise((g,x)=>{s(o,My(r,l,u,h)).then(y=>{if(!y.ok)throw y;return l!=null&&l.noResolveJson?y:y.json()}).then(y=>g(y)).catch(y=>Ly(y,x,l))})})}function gu(s,r,o,l){return yi(this,void 0,void 0,function*(){return Fa(s,"GET",r,o,l)})}function Ro(s,r,o,l,u){return yi(this,void 0,void 0,function*(){return Fa(s,"POST",r,l,u,o)})}function jy(s,r,o,l,u){return yi(this,void 0,void 0,function*(){return Fa(s,"PUT",r,l,u,o)})}function Ry(s,r,o,l){return yi(this,void 0,void 0,function*(){return Fa(s,"HEAD",r,Object.assign(Object.assign({},o),{noResolveJson:!0}),l)})}function tm(s,r,o,l,u){return yi(this,void 0,void 0,function*(){return Fa(s,"DELETE",r,l,u,o)})}var cn=function(s,r,o,l){function u(h){return h instanceof o?h:new o(function(g){g(h)})}return new(o||(o=Promise))(function(h,g){function x(S){try{w(l.next(S))}catch(E){g(E)}}function y(S){try{w(l.throw(S))}catch(E){g(E)}}function w(S){S.done?h(S.value):u(S.value).then(x,y)}w((l=l.apply(s,r||[])).next())})};const Ay={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},op={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Oy{constructor(r,o={},l,u){this.url=r,this.headers=o,this.bucketId=l,this.fetch=em(u)}uploadOrUpdate(r,o,l,u){return cn(this,void 0,void 0,function*(){try{let h;const g=Object.assign(Object.assign({},op),u);let x=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(g.upsert)});const y=g.metadata;typeof Blob<"u"&&l instanceof Blob?(h=new FormData,h.append("cacheControl",g.cacheControl),y&&h.append("metadata",this.encodeMetadata(y)),h.append("",l)):typeof FormData<"u"&&l instanceof FormData?(h=l,h.append("cacheControl",g.cacheControl),y&&h.append("metadata",this.encodeMetadata(y))):(h=l,x["cache-control"]=`max-age=${g.cacheControl}`,x["content-type"]=g.contentType,y&&(x["x-metadata"]=this.toBase64(this.encodeMetadata(y)))),u!=null&&u.headers&&(x=Object.assign(Object.assign({},x),u.headers));const w=this._removeEmptyFolders(o),S=this._getFinalPath(w),E=yield this.fetch(`${this.url}/object/${S}`,Object.assign({method:r,body:h,headers:x},g!=null&&g.duplex?{duplex:g.duplex}:{})),T=yield E.json();return E.ok?{data:{path:w,id:T.Id,fullPath:T.Key},error:null}:{data:null,error:T}}catch(h){if(zt(h))return{data:null,error:h};throw h}})}upload(r,o,l){return cn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,o,l)})}uploadToSignedUrl(r,o,l,u){return cn(this,void 0,void 0,function*(){const h=this._removeEmptyFolders(r),g=this._getFinalPath(h),x=new URL(this.url+`/object/upload/sign/${g}`);x.searchParams.set("token",o);try{let y;const w=Object.assign({upsert:op.upsert},u),S=Object.assign(Object.assign({},this.headers),{"x-upsert":String(w.upsert)});typeof Blob<"u"&&l instanceof Blob?(y=new FormData,y.append("cacheControl",w.cacheControl),y.append("",l)):typeof FormData<"u"&&l instanceof FormData?(y=l,y.append("cacheControl",w.cacheControl)):(y=l,S["cache-control"]=`max-age=${w.cacheControl}`,S["content-type"]=w.contentType);const E=yield this.fetch(x.toString(),{method:"PUT",body:y,headers:S}),T=yield E.json();return E.ok?{data:{path:h,fullPath:T.Key},error:null}:{data:null,error:T}}catch(y){if(zt(y))return{data:null,error:y};throw y}})}createSignedUploadUrl(r,o){return cn(this,void 0,void 0,function*(){try{let l=this._getFinalPath(r);const u=Object.assign({},this.headers);o!=null&&o.upsert&&(u["x-upsert"]="true");const h=yield Ro(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:u}),g=new URL(this.url+h.url),x=g.searchParams.get("token");if(!x)throw new $d("No token returned by API");return{data:{signedUrl:g.toString(),path:r,token:x},error:null}}catch(l){if(zt(l))return{data:null,error:l};throw l}})}update(r,o,l){return cn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,o,l)})}move(r,o,l){return cn(this,void 0,void 0,function*(){try{return{data:yield Ro(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:o,destinationBucket:l==null?void 0:l.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(zt(u))return{data:null,error:u};throw u}})}copy(r,o,l){return cn(this,void 0,void 0,function*(){try{return{data:{path:(yield Ro(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:o,destinationBucket:l==null?void 0:l.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(zt(u))return{data:null,error:u};throw u}})}createSignedUrl(r,o,l){return cn(this,void 0,void 0,function*(){try{let u=this._getFinalPath(r),h=yield Ro(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:o},l!=null&&l.transform?{transform:l.transform}:{}),{headers:this.headers});const g=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return h={signedUrl:encodeURI(`${this.url}${h.signedURL}${g}`)},{data:h,error:null}}catch(u){if(zt(u))return{data:null,error:u};throw u}})}createSignedUrls(r,o,l){return cn(this,void 0,void 0,function*(){try{const u=yield Ro(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:o,paths:r},{headers:this.headers}),h=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return{data:u.map(g=>Object.assign(Object.assign({},g),{signedUrl:g.signedURL?encodeURI(`${this.url}${g.signedURL}${h}`):null})),error:null}}catch(u){if(zt(u))return{data:null,error:u};throw u}})}download(r,o){return cn(this,void 0,void 0,function*(){const u=typeof(o==null?void 0:o.transform)<"u"?"render/image/authenticated":"object",h=this.transformOptsToQueryString((o==null?void 0:o.transform)||{}),g=h?`?${h}`:"";try{const x=this._getFinalPath(r);return{data:yield(yield gu(this.fetch,`${this.url}/${u}/${x}${g}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(x){if(zt(x))return{data:null,error:x};throw x}})}info(r){return cn(this,void 0,void 0,function*(){const o=this._getFinalPath(r);try{const l=yield gu(this.fetch,`${this.url}/object/info/${o}`,{headers:this.headers});return{data:Sd(l),error:null}}catch(l){if(zt(l))return{data:null,error:l};throw l}})}exists(r){return cn(this,void 0,void 0,function*(){const o=this._getFinalPath(r);try{return yield Ry(this.fetch,`${this.url}/object/${o}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(zt(l)&&l instanceof wd){const u=l.originalError;if([400,404].includes(u==null?void 0:u.status))return{data:!1,error:l}}throw l}})}getPublicUrl(r,o){const l=this._getFinalPath(r),u=[],h=o!=null&&o.download?`download=${o.download===!0?"":o.download}`:"";h!==""&&u.push(h);const x=typeof(o==null?void 0:o.transform)<"u"?"render/image":"object",y=this.transformOptsToQueryString((o==null?void 0:o.transform)||{});y!==""&&u.push(y);let w=u.join("&");return w!==""&&(w=`?${w}`),{data:{publicUrl:encodeURI(`${this.url}/${x}/public/${l}${w}`)}}}remove(r){return cn(this,void 0,void 0,function*(){try{return{data:yield tm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(o){if(zt(o))return{data:null,error:o};throw o}})}list(r,o,l){return cn(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},Ay),o),{prefix:r||""});return{data:yield Ro(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},l),error:null}}catch(u){if(zt(u))return{data:null,error:u};throw u}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const o=[];return r.width&&o.push(`width=${r.width}`),r.height&&o.push(`height=${r.height}`),r.resize&&o.push(`resize=${r.resize}`),r.format&&o.push(`format=${r.format}`),r.quality&&o.push(`quality=${r.quality}`),o.join("&")}}const Iy="2.7.1",Ny={"X-Client-Info":`storage-js/${Iy}`};var fs=function(s,r,o,l){function u(h){return h instanceof o?h:new o(function(g){g(h)})}return new(o||(o=Promise))(function(h,g){function x(S){try{w(l.next(S))}catch(E){g(E)}}function y(S){try{w(l.throw(S))}catch(E){g(E)}}function w(S){S.done?h(S.value):u(S.value).then(x,y)}w((l=l.apply(s,r||[])).next())})};class zy{constructor(r,o={},l){this.url=r,this.headers=Object.assign(Object.assign({},Ny),o),this.fetch=em(l)}listBuckets(){return fs(this,void 0,void 0,function*(){try{return{data:yield gu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}})}getBucket(r){return fs(this,void 0,void 0,function*(){try{return{data:yield gu(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(o){if(zt(o))return{data:null,error:o};throw o}})}createBucket(r,o={public:!1}){return fs(this,void 0,void 0,function*(){try{return{data:yield Ro(this.fetch,`${this.url}/bucket`,{id:r,name:r,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(zt(l))return{data:null,error:l};throw l}})}updateBucket(r,o){return fs(this,void 0,void 0,function*(){try{return{data:yield jy(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(zt(l))return{data:null,error:l};throw l}})}emptyBucket(r){return fs(this,void 0,void 0,function*(){try{return{data:yield Ro(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(o){if(zt(o))return{data:null,error:o};throw o}})}deleteBucket(r){return fs(this,void 0,void 0,function*(){try{return{data:yield tm(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(o){if(zt(o))return{data:null,error:o};throw o}})}}class Dy extends zy{constructor(r,o={},l){super(r,o,l)}from(r){return new Oy(this.url,this.headers,r,this.fetch)}}const Fy="2.52.0";let Ta="";typeof Deno<"u"?Ta="deno":typeof document<"u"?Ta="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ta="react-native":Ta="node";const By={"X-Client-Info":`supabase-js-${Ta}/${Fy}`},Uy={headers:By},$y={schema:"public"},Gy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Hy={};var Wy=function(s,r,o,l){function u(h){return h instanceof o?h:new o(function(g){g(h)})}return new(o||(o=Promise))(function(h,g){function x(S){try{w(l.next(S))}catch(E){g(E)}}function y(S){try{w(l.throw(S))}catch(E){g(E)}}function w(S){S.done?h(S.value):u(S.value).then(x,y)}w((l=l.apply(s,r||[])).next())})};const Zy=s=>{let r;return s?r=s:typeof fetch>"u"?r=Hp:r=fetch,(...o)=>r(...o)},Vy=()=>typeof Headers>"u"?Wp:Headers,qy=(s,r,o)=>{const l=Zy(o),u=Vy();return(h,g)=>Wy(void 0,void 0,void 0,function*(){var x;const y=(x=yield r())!==null&&x!==void 0?x:s;let w=new u(g==null?void 0:g.headers);return w.has("apikey")||w.set("apikey",s),w.has("Authorization")||w.set("Authorization",`Bearer ${y}`),l(h,Object.assign(Object.assign({},g),{headers:w}))})};var Ky=function(s,r,o,l){function u(h){return h instanceof o?h:new o(function(g){g(h)})}return new(o||(o=Promise))(function(h,g){function x(S){try{w(l.next(S))}catch(E){g(E)}}function y(S){try{w(l.throw(S))}catch(E){g(E)}}function w(S){S.done?h(S.value):u(S.value).then(x,y)}w((l=l.apply(s,r||[])).next())})};function Jy(s){return s.endsWith("/")?s:s+"/"}function Yy(s,r){var o,l;const{db:u,auth:h,realtime:g,global:x}=s,{db:y,auth:w,realtime:S,global:E}=r,T={db:Object.assign(Object.assign({},y),u),auth:Object.assign(Object.assign({},w),h),realtime:Object.assign(Object.assign({},S),g),global:Object.assign(Object.assign(Object.assign({},E),x),{headers:Object.assign(Object.assign({},(o=E==null?void 0:E.headers)!==null&&o!==void 0?o:{}),(l=x==null?void 0:x.headers)!==null&&l!==void 0?l:{})}),accessToken:()=>Ky(this,void 0,void 0,function*(){return""})};return s.accessToken?T.accessToken=s.accessToken:delete T.accessToken,T}const nm="2.71.1",_s=30*1e3,kd=3,sd=kd*_s,Qy="http://localhost:9999",Xy="supabase.auth.token",e0={"X-Client-Info":`gotrue-js/${nm}`},bd="X-Supabase-Api-Version",rm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},t0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,n0=10*60*1e3;class Gd extends Error{constructor(r,o,l){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=o,this.code=l}}function De(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class r0 extends Gd{constructor(r,o,l){super(r,o,l),this.name="AuthApiError",this.status=o,this.code=l}}function o0(s){return De(s)&&s.name==="AuthApiError"}class om extends Gd{constructor(r,o){super(r),this.name="AuthUnknownError",this.originalError=o}}class Oo extends Gd{constructor(r,o,l,u){super(r,l,u),this.name=o,this.status=l}}class jo extends Oo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function i0(s){return De(s)&&s.name==="AuthSessionMissingError"}class cu extends Oo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class du extends Oo{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class hu extends Oo{constructor(r,o=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function s0(s){return De(s)&&s.name==="AuthImplicitGrantRedirectError"}class ip extends Oo{constructor(r,o=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ed extends Oo{constructor(r,o){super(r,"AuthRetryableFetchError",o,void 0)}}function ad(s){return De(s)&&s.name==="AuthRetryableFetchError"}class sp extends Oo{constructor(r,o,l){super(r,"AuthWeakPasswordError",o,"weak_password"),this.reasons=l}}class Cd extends Oo{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const vu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ap=` 	
\r=`.split(""),a0=(()=>{const s=new Array(128);for(let r=0;r<s.length;r+=1)s[r]=-1;for(let r=0;r<ap.length;r+=1)s[ap[r].charCodeAt(0)]=-2;for(let r=0;r<vu.length;r+=1)s[vu[r].charCodeAt(0)]=r;return s})();function lp(s,r,o){if(s!==null)for(r.queue=r.queue<<8|s,r.queuedBits+=8;r.queuedBits>=6;){const l=r.queue>>r.queuedBits-6&63;o(vu[l]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const l=r.queue>>r.queuedBits-6&63;o(vu[l]),r.queuedBits-=6}}function im(s,r,o){const l=a0[s];if(l>-1)for(r.queue=r.queue<<6|l,r.queuedBits+=6;r.queuedBits>=8;)o(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function up(s){const r=[],o=g=>{r.push(String.fromCodePoint(g))},l={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},h=g=>{c0(g,l,o)};for(let g=0;g<s.length;g+=1)im(s.charCodeAt(g),u,h);return r.join("")}function l0(s,r){if(s<=127){r(s);return}else if(s<=2047){r(192|s>>6),r(128|s&63);return}else if(s<=65535){r(224|s>>12),r(128|s>>6&63),r(128|s&63);return}else if(s<=1114111){r(240|s>>18),r(128|s>>12&63),r(128|s>>6&63),r(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function u0(s,r){for(let o=0;o<s.length;o+=1){let l=s.charCodeAt(o);if(l>55295&&l<=56319){const u=(l-55296)*1024&65535;l=(s.charCodeAt(o+1)-56320&65535|u)+65536,o+=1}l0(l,r)}}function c0(s,r,o){if(r.utf8seq===0){if(s<=127){o(s);return}for(let l=1;l<6;l+=1)if((s>>7-l&1)===0){r.utf8seq=l;break}if(r.utf8seq===2)r.codepoint=s&31;else if(r.utf8seq===3)r.codepoint=s&15;else if(r.utf8seq===4)r.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|s&63,r.utf8seq-=1,r.utf8seq===0&&o(r.codepoint)}}function d0(s){const r=[],o={queue:0,queuedBits:0},l=u=>{r.push(u)};for(let u=0;u<s.length;u+=1)im(s.charCodeAt(u),o,l);return new Uint8Array(r)}function h0(s){const r=[];return u0(s,o=>r.push(o)),new Uint8Array(r)}function f0(s){const r=[],o={queue:0,queuedBits:0},l=u=>{r.push(u)};return s.forEach(u=>lp(u,o,l)),lp(null,o,l),r.join("")}function p0(s){return Math.round(Date.now()/1e3)+s}function m0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const r=Math.random()*16|0;return(s=="x"?r:r&3|8).toString(16)})}const qn=()=>typeof window<"u"&&typeof document<"u",ui={tested:!1,writable:!1},sm=()=>{if(!qn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ui.tested)return ui.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),ui.tested=!0,ui.writable=!0}catch{ui.tested=!0,ui.writable=!1}return ui.writable};function g0(s){const r={},o=new URL(s);if(o.hash&&o.hash[0]==="#")try{new URLSearchParams(o.hash.substring(1)).forEach((u,h)=>{r[h]=u})}catch{}return o.searchParams.forEach((l,u)=>{r[u]=l}),r}const am=s=>{let r;return s?r=s:typeof fetch>"u"?r=(...o)=>Da(async()=>{const{default:l}=await Promise.resolve().then(()=>Ts);return{default:l}},void 0).then(({default:l})=>l(...o)):r=fetch,(...o)=>r(...o)},v0=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",xs=async(s,r,o)=>{await s.setItem(r,JSON.stringify(o))},ci=async(s,r)=>{const o=await s.getItem(r);if(!o)return null;try{return JSON.parse(o)}catch{return o}},Lo=async(s,r)=>{await s.removeItem(r)};class wu{constructor(){this.promise=new wu.promiseConstructor((r,o)=>{this.resolve=r,this.reject=o})}}wu.promiseConstructor=Promise;function ld(s){const r=s.split(".");if(r.length!==3)throw new Cd("Invalid JWT structure");for(let l=0;l<r.length;l++)if(!t0.test(r[l]))throw new Cd("JWT not in base64url format");return{header:JSON.parse(up(r[0])),payload:JSON.parse(up(r[1])),signature:d0(r[2]),raw:{header:r[0],payload:r[1]}}}async function y0(s){return await new Promise(r=>{setTimeout(()=>r(null),s)})}function _0(s,r){return new Promise((l,u)=>{(async()=>{for(let h=0;h<1/0;h++)try{const g=await s(h);if(!r(h,null,g)){l(g);return}}catch(g){if(!r(h,g)){u(g);return}}})()})}function x0(s){return("0"+s.toString(16)).substr(-2)}function w0(){const r=new Uint32Array(56);if(typeof crypto>"u"){const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=o.length;let u="";for(let h=0;h<56;h++)u+=o.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(r),Array.from(r,x0).join("")}async function S0(s){const o=new TextEncoder().encode(s),l=await crypto.subtle.digest("SHA-256",o),u=new Uint8Array(l);return Array.from(u).map(h=>String.fromCharCode(h)).join("")}async function k0(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const o=await S0(s);return btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ps(s,r,o=!1){const l=w0();let u=l;o&&(u+="/PASSWORD_RECOVERY"),await xs(s,`${r}-code-verifier`,u);const h=await k0(l);return[h,l===h?"plain":"s256"]}const b0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function E0(s){const r=s.headers.get(bd);if(!r||!r.match(b0))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function C0(s){if(!s)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(s<=r)throw new Error("JWT has expired")}function P0(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const T0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ms(s){if(!T0.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ud(){const s={};return new Proxy(s,{get:(r,o)=>{if(o==="__isUserNotAvailableProxy")return!0;if(typeof o=="symbol"){const l=o.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${o}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function cp(s){return JSON.parse(JSON.stringify(s))}var L0=function(s,r){var o={};for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&r.indexOf(l)<0&&(o[l]=s[l]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(s);u<l.length;u++)r.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(s,l[u])&&(o[l[u]]=s[l[u]]);return o};const fi=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),M0=[502,503,504];async function dp(s){var r;if(!v0(s))throw new Ed(fi(s),0);if(M0.includes(s.status))throw new Ed(fi(s),s.status);let o;try{o=await s.json()}catch(h){throw new om(fi(h),h)}let l;const u=E0(s);if(u&&u.getTime()>=rm["2024-01-01"].timestamp&&typeof o=="object"&&o&&typeof o.code=="string"?l=o.code:typeof o=="object"&&o&&typeof o.error_code=="string"&&(l=o.error_code),l){if(l==="weak_password")throw new sp(fi(o),s.status,((r=o.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(l==="session_not_found")throw new jo}else if(typeof o=="object"&&o&&typeof o.weak_password=="object"&&o.weak_password&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.reasons.reduce((h,g)=>h&&typeof g=="string",!0))throw new sp(fi(o),s.status,o.weak_password.reasons);throw new r0(fi(o),s.status||500,l)}const j0=(s,r,o,l)=>{const u={method:s,headers:(r==null?void 0:r.headers)||{}};return s==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),o))};async function He(s,r,o,l){var u;const h=Object.assign({},l==null?void 0:l.headers);h[bd]||(h[bd]=rm["2024-01-01"].name),l!=null&&l.jwt&&(h.Authorization=`Bearer ${l.jwt}`);const g=(u=l==null?void 0:l.query)!==null&&u!==void 0?u:{};l!=null&&l.redirectTo&&(g.redirect_to=l.redirectTo);const x=Object.keys(g).length?"?"+new URLSearchParams(g).toString():"",y=await R0(s,r,o+x,{headers:h,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(y):{data:Object.assign({},y),error:null}}async function R0(s,r,o,l,u,h){const g=j0(r,l,u,h);let x;try{x=await s(o,Object.assign({},g))}catch(y){throw console.error(y),new Ed(fi(y),0)}if(x.ok||await dp(x),l!=null&&l.noResolveJson)return x;try{return await x.json()}catch(y){await dp(y)}}function Br(s){var r;let o=null;N0(s)&&(o=Object.assign({},s),s.expires_at||(o.expires_at=p0(s.expires_in)));const l=(r=s.user)!==null&&r!==void 0?r:s;return{data:{session:o,user:l},error:null}}function hp(s){const r=Br(s);return!r.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0)&&(r.data.weak_password=s.weak_password),r}function Ao(s){var r;return{data:{user:(r=s.user)!==null&&r!==void 0?r:s},error:null}}function A0(s){return{data:s,error:null}}function O0(s){const{action_link:r,email_otp:o,hashed_token:l,redirect_to:u,verification_type:h}=s,g=L0(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),x={action_link:r,email_otp:o,hashed_token:l,redirect_to:u,verification_type:h},y=Object.assign({},g);return{data:{properties:x,user:y},error:null}}function I0(s){return s}function N0(s){return s.access_token&&s.refresh_token&&s.expires_in}const cd=["global","local","others"];var z0=function(s,r){var o={};for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&r.indexOf(l)<0&&(o[l]=s[l]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(s);u<l.length;u++)r.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(s,l[u])&&(o[l[u]]=s[l[u]]);return o};class D0{constructor({url:r="",headers:o={},fetch:l}){this.url=r,this.headers=o,this.fetch=am(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,o=cd[0]){if(cd.indexOf(o)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${cd.join(", ")}`);try{return await He(this.fetch,"POST",`${this.url}/logout?scope=${o}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(l){if(De(l))return{data:null,error:l};throw l}}async inviteUserByEmail(r,o={}){try{return await He(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:o.data},headers:this.headers,redirectTo:o.redirectTo,xform:Ao})}catch(l){if(De(l))return{data:{user:null},error:l};throw l}}async generateLink(r){try{const{options:o}=r,l=z0(r,["options"]),u=Object.assign(Object.assign({},l),o);return"newEmail"in l&&(u.new_email=l==null?void 0:l.newEmail,delete u.newEmail),await He(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:O0,redirectTo:o==null?void 0:o.redirectTo})}catch(o){if(De(o))return{data:{properties:null,user:null},error:o};throw o}}async createUser(r){try{return await He(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Ao})}catch(o){if(De(o))return{data:{user:null},error:o};throw o}}async listUsers(r){var o,l,u,h,g,x,y;try{const w={nextPage:null,lastPage:0,total:0},S=await He(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(o=r==null?void 0:r.page)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:"",per_page:(h=(u=r==null?void 0:r.perPage)===null||u===void 0?void 0:u.toString())!==null&&h!==void 0?h:""},xform:I0});if(S.error)throw S.error;const E=await S.json(),T=(g=S.headers.get("x-total-count"))!==null&&g!==void 0?g:0,M=(y=(x=S.headers.get("link"))===null||x===void 0?void 0:x.split(","))!==null&&y!==void 0?y:[];return M.length>0&&(M.forEach(P=>{const j=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),z=JSON.parse(P.split(";")[1].split("=")[1]);w[`${z}Page`]=j}),w.total=parseInt(T)),{data:Object.assign(Object.assign({},E),w),error:null}}catch(w){if(De(w))return{data:{users:[]},error:w};throw w}}async getUserById(r){ms(r);try{return await He(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Ao})}catch(o){if(De(o))return{data:{user:null},error:o};throw o}}async updateUserById(r,o){ms(r);try{return await He(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:o,headers:this.headers,xform:Ao})}catch(l){if(De(l))return{data:{user:null},error:l};throw l}}async deleteUser(r,o=!1){ms(r);try{return await He(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:o},xform:Ao})}catch(l){if(De(l))return{data:{user:null},error:l};throw l}}async _listFactors(r){ms(r.userId);try{const{data:o,error:l}=await He(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:o,error:l}}catch(o){if(De(o))return{data:null,error:o};throw o}}async _deleteFactor(r){ms(r.userId),ms(r.id);try{return{data:await He(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(o){if(De(o))return{data:null,error:o};throw o}}}function fp(s={}){return{getItem:r=>s[r]||null,setItem:(r,o)=>{s[r]=o},removeItem:r=>{delete s[r]}}}function F0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const gs={debug:!!(globalThis&&sm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class lm extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class B0 extends lm{}async function U0(s,r,o){gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,r);const l=new globalThis.AbortController;return r>0&&setTimeout(()=>{l.abort(),gs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async u=>{if(u){gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,u.name);try{return await o()}finally{gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,u.name)}}else{if(r===0)throw gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new B0(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(gs.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await o()}}))}F0();const $0={url:Qy,storageKey:Xy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:e0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function pp(s,r,o){return await o()}const vs={};class Aa{constructor(r){var o,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Aa.nextInstanceID,Aa.nextInstanceID+=1,this.instanceID>0&&qn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const u=Object.assign(Object.assign({},$0),r);if(this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.persistSession=u.persistSession,this.storageKey=u.storageKey,this.autoRefreshToken=u.autoRefreshToken,this.admin=new D0({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=am(u.fetch),this.lock=u.lock||pp,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,u.lock?this.lock=u.lock:qn()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=U0:this.lock=pp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:sm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=fp(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=fp(this.memoryStorage)),qn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}get jwks(){var r,o;return(o=(r=vs[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&o!==void 0?o:{keys:[]}}set jwks(r){vs[this.storageKey]=Object.assign(Object.assign({},vs[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,o;return(o=(r=vs[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&o!==void 0?o:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){vs[this.storageKey]=Object.assign(Object.assign({},vs[this.storageKey]),{cachedAt:r})}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${nm}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const o=g0(window.location.href);let l="none";if(this._isImplicitGrantCallback(o)?l="implicit":await this._isPKCECallback(o)&&(l="pkce"),qn()&&this.detectSessionInUrl&&l!=="none"){const{data:u,error:h}=await this._getSessionFromURL(o,l);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),s0(h)){const y=(r=h.details)===null||r===void 0?void 0:r.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:h}}return await this._removeSession(),{error:h}}const{session:g,redirectType:x}=u;return this._debug("#_initialize()","detected session in URL",g,"redirect type",x),await this._saveSession(g),setTimeout(async()=>{x==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",g):await this._notifyAllSubscribers("SIGNED_IN",g)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(o){return De(o)?{error:o}:{error:new om("Unexpected error during initialization",o)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var o,l,u;try{const h=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(o=r==null?void 0:r.options)===null||o===void 0?void 0:o.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(u=r==null?void 0:r.options)===null||u===void 0?void 0:u.captchaToken}},xform:Br}),{data:g,error:x}=h;if(x||!g)return{data:{user:null,session:null},error:x};const y=g.session,w=g.user;return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",y)),{data:{user:w,session:y},error:null}}catch(h){if(De(h))return{data:{user:null,session:null},error:h};throw h}}async signUp(r){var o,l,u;try{let h;if("email"in r){const{email:S,password:E,options:T}=r;let M=null,P=null;this.flowType==="pkce"&&([M,P]=await ps(this.storage,this.storageKey)),h=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:T==null?void 0:T.emailRedirectTo,body:{email:S,password:E,data:(o=T==null?void 0:T.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:T==null?void 0:T.captchaToken},code_challenge:M,code_challenge_method:P},xform:Br})}else if("phone"in r){const{phone:S,password:E,options:T}=r;h=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:S,password:E,data:(l=T==null?void 0:T.data)!==null&&l!==void 0?l:{},channel:(u=T==null?void 0:T.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:T==null?void 0:T.captchaToken}},xform:Br})}else throw new du("You must provide either an email or phone number and a password");const{data:g,error:x}=h;if(x||!g)return{data:{user:null,session:null},error:x};const y=g.session,w=g.user;return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",y)),{data:{user:w,session:y},error:null}}catch(h){if(De(h))return{data:{user:null,session:null},error:h};throw h}}async signInWithPassword(r){try{let o;if("email"in r){const{email:h,password:g,options:x}=r;o=await He(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:g,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:hp})}else if("phone"in r){const{phone:h,password:g,options:x}=r;o=await He(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:g,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:hp})}else throw new du("You must provide either an email or phone number and a password");const{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new cu}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:u})}catch(o){if(De(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithOAuth(r){var o,l,u,h;return await this._handleProviderSignIn(r.provider,{redirectTo:(o=r.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=r.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=r.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(h=r.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:o}=r;if(o==="solana")return await this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${o}"`)}async signInWithSolana(r){var o,l,u,h,g,x,y,w,S,E,T,M;let P,j;if("message"in r)P=r.message,j=r.signature;else{const{chain:z,wallet:V,statement:J,options:Z}=r;let te;if(qn())if(typeof V=="object")te=V;else{const le=window;if("solana"in le&&typeof le.solana=="object"&&("signIn"in le.solana&&typeof le.solana.signIn=="function"||"signMessage"in le.solana&&typeof le.solana.signMessage=="function"))te=le.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof V!="object"||!(Z!=null&&Z.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");te=V}const he=new URL((o=Z==null?void 0:Z.url)!==null&&o!==void 0?o:window.location.href);if("signIn"in te&&te.signIn){const le=await te.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},Z==null?void 0:Z.signInWithSolana),{version:"1",domain:he.host,uri:he.href}),J?{statement:J}:null));let K;if(Array.isArray(le)&&le[0]&&typeof le[0]=="object")K=le[0];else if(le&&typeof le=="object"&&"signedMessage"in le&&"signature"in le)K=le;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)P=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),j=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in te)||typeof te.signMessage!="function"||!("publicKey"in te)||typeof te!="object"||!te.publicKey||!("toBase58"in te.publicKey)||typeof te.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");P=[`${he.host} wants you to sign in with your Solana account:`,te.publicKey.toBase58(),...J?["",J,""]:[""],"Version: 1",`URI: ${he.href}`,`Issued At: ${(u=(l=Z==null?void 0:Z.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((h=Z==null?void 0:Z.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${Z.signInWithSolana.notBefore}`]:[],...!((g=Z==null?void 0:Z.signInWithSolana)===null||g===void 0)&&g.expirationTime?[`Expiration Time: ${Z.signInWithSolana.expirationTime}`]:[],...!((x=Z==null?void 0:Z.signInWithSolana)===null||x===void 0)&&x.chainId?[`Chain ID: ${Z.signInWithSolana.chainId}`]:[],...!((y=Z==null?void 0:Z.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${Z.signInWithSolana.nonce}`]:[],...!((w=Z==null?void 0:Z.signInWithSolana)===null||w===void 0)&&w.requestId?[`Request ID: ${Z.signInWithSolana.requestId}`]:[],...!((E=(S=Z==null?void 0:Z.signInWithSolana)===null||S===void 0?void 0:S.resources)===null||E===void 0)&&E.length?["Resources",...Z.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const le=await te.signMessage(new TextEncoder().encode(P),"utf8");if(!le||!(le instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=le}}try{const{data:z,error:V}=await He(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:P,signature:f0(j)},!((T=r.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(M=r.options)===null||M===void 0?void 0:M.captchaToken}}:null),xform:Br});if(V)throw V;return!z||!z.session||!z.user?{data:{user:null,session:null},error:new cu}:(z.session&&(await this._saveSession(z.session),await this._notifyAllSubscribers("SIGNED_IN",z.session)),{data:Object.assign({},z),error:V})}catch(z){if(De(z))return{data:{user:null,session:null},error:z};throw z}}async _exchangeCodeForSession(r){const o=await ci(this.storage,`${this.storageKey}-code-verifier`),[l,u]=(o??"").split("/");try{const{data:h,error:g}=await He(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:l},xform:Br});if(await Lo(this.storage,`${this.storageKey}-code-verifier`),g)throw g;return!h||!h.session||!h.user?{data:{user:null,session:null,redirectType:null},error:new cu}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:Object.assign(Object.assign({},h),{redirectType:u??null}),error:g})}catch(h){if(De(h))return{data:{user:null,session:null,redirectType:null},error:h};throw h}}async signInWithIdToken(r){try{const{options:o,provider:l,token:u,access_token:h,nonce:g}=r,x=await He(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:h,nonce:g,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Br}),{data:y,error:w}=x;return w?{data:{user:null,session:null},error:w}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new cu}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:y,error:w})}catch(o){if(De(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithOtp(r){var o,l,u,h,g;try{if("email"in r){const{email:x,options:y}=r;let w=null,S=null;this.flowType==="pkce"&&([w,S]=await ps(this.storage,this.storageKey));const{error:E}=await He(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:x,data:(o=y==null?void 0:y.data)!==null&&o!==void 0?o:{},create_user:(l=y==null?void 0:y.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:w,code_challenge_method:S},redirectTo:y==null?void 0:y.emailRedirectTo});return{data:{user:null,session:null},error:E}}if("phone"in r){const{phone:x,options:y}=r,{data:w,error:S}=await He(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:x,data:(u=y==null?void 0:y.data)!==null&&u!==void 0?u:{},create_user:(h=y==null?void 0:y.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},channel:(g=y==null?void 0:y.channel)!==null&&g!==void 0?g:"sms"}});return{data:{user:null,session:null,messageId:w==null?void 0:w.message_id},error:S}}throw new du("You must provide either an email or phone number.")}catch(x){if(De(x))return{data:{user:null,session:null},error:x};throw x}}async verifyOtp(r){var o,l;try{let u,h;"options"in r&&(u=(o=r.options)===null||o===void 0?void 0:o.redirectTo,h=(l=r.options)===null||l===void 0?void 0:l.captchaToken);const{data:g,error:x}=await He(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:h}}),redirectTo:u,xform:Br});if(x)throw x;if(!g)throw new Error("An error occurred on token verification.");const y=g.session,w=g.user;return y!=null&&y.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),{data:{user:w,session:y},error:null}}catch(u){if(De(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithSSO(r){var o,l,u;try{let h=null,g=null;return this.flowType==="pkce"&&([h,g]=await ps(this.storage,this.storageKey)),await He(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(l=(o=r.options)===null||o===void 0?void 0:o.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=r==null?void 0:r.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:g}),headers:this.headers,xform:A0})}catch(h){if(De(h))return{data:null,error:h};throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:o},error:l}=r;if(l)throw l;if(!o)throw new jo;const{error:u}=await He(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:o.access_token});return{data:{user:null,session:null},error:u}})}catch(r){if(De(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const o=`${this.url}/resend`;if("email"in r){const{email:l,type:u,options:h}=r,{error:g}=await He(this.fetch,"POST",o,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:g}}else if("phone"in r){const{phone:l,type:u,options:h}=r,{data:g,error:x}=await He(this.fetch,"POST",o,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}}});return{data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:x}}throw new du("You must provide either an email or phone number and a type")}catch(o){if(De(o))return{data:{user:null,session:null},error:o};throw o}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async o=>o))}async _acquireLock(r,o){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await o()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=o();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const o=await this.__loadSession();return await r(o)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const o=await ci(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",o),o!==null&&(this._isValidSession(o)?r=o:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const l=r.expires_at?r.expires_at*1e3-Date.now()<sd:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",r.expires_at),!l){if(this.userStorage){const g=await ci(this.userStorage,this.storageKey+"-user");g!=null&&g.user?r.user=g.user:r.user=ud()}if(this.storage.isServer&&r.user){let g=this.suppressGetSessionWarning;r=new Proxy(r,{get:(y,w,S)=>(!g&&w==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),g=!0,this.suppressGetSessionWarning=!0),Reflect.get(y,w,S))})}return{data:{session:r},error:null}}const{session:u,error:h}=await this._callRefreshToken(r.refresh_token);return h?{data:{session:null},error:h}:{data:{session:u},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await He(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Ao}):await this._useSession(async o=>{var l,u,h;const{data:g,error:x}=o;if(x)throw x;return!(!((l=g.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jo}:await He(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(u=g.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0,xform:Ao})})}catch(o){if(De(o))return i0(o)&&(await this._removeSession(),await Lo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:o};throw o}}async updateUser(r,o={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,o))}async _updateUser(r,o={}){try{return await this._useSession(async l=>{const{data:u,error:h}=l;if(h)throw h;if(!u.session)throw new jo;const g=u.session;let x=null,y=null;this.flowType==="pkce"&&r.email!=null&&([x,y]=await ps(this.storage,this.storageKey));const{data:w,error:S}=await He(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:o==null?void 0:o.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:x,code_challenge_method:y}),jwt:g.access_token,xform:Ao});if(S)throw S;return g.user=w.user,await this._saveSession(g),await this._notifyAllSubscribers("USER_UPDATED",g),{data:{user:g.user},error:null}})}catch(l){if(De(l))return{data:{user:null},error:l};throw l}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new jo;const o=Date.now()/1e3;let l=o,u=!0,h=null;const{payload:g}=ld(r.access_token);if(g.exp&&(l=g.exp,u=l<=o),u){const{session:x,error:y}=await this._callRefreshToken(r.refresh_token);if(y)return{data:{user:null,session:null},error:y};if(!x)return{data:{user:null,session:null},error:null};h=x}else{const{data:x,error:y}=await this._getUser(r.access_token);if(y)throw y;h={access_token:r.access_token,refresh_token:r.refresh_token,user:x.user,token_type:"bearer",expires_in:l-o,expires_at:l},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return{data:{user:h.user,session:h},error:null}}catch(o){if(De(o))return{data:{session:null,user:null},error:o};throw o}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async o=>{var l;if(!r){const{data:g,error:x}=o;if(x)throw x;r=(l=g.session)!==null&&l!==void 0?l:void 0}if(!(r!=null&&r.refresh_token))throw new jo;const{session:u,error:h}=await this._callRefreshToken(r.refresh_token);return h?{data:{user:null,session:null},error:h}:u?{data:{user:u.user,session:u},error:null}:{data:{user:null,session:null},error:null}})}catch(o){if(De(o))return{data:{user:null,session:null},error:o};throw o}}async _getSessionFromURL(r,o){try{if(!qn())throw new hu("No browser detected.");if(r.error||r.error_description||r.error_code)throw new hu(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(o){case"implicit":if(this.flowType==="pkce")throw new ip("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new hu("Not a valid implicit grant flow url.");break;default:}if(o==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new ip("No code detected.");const{data:J,error:Z}=await this._exchangeCodeForSession(r.code);if(Z)throw Z;const te=new URL(window.location.href);return te.searchParams.delete("code"),window.history.replaceState(window.history.state,"",te.toString()),{data:{session:J.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:u,access_token:h,refresh_token:g,expires_in:x,expires_at:y,token_type:w}=r;if(!h||!x||!g||!w)throw new hu("No session defined in URL");const S=Math.round(Date.now()/1e3),E=parseInt(x);let T=S+E;y&&(T=parseInt(y));const M=T-S;M*1e3<=_s&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${M}s, should have been closer to ${E}s`);const P=T-E;S-P>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",P,T,S):S-P<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",P,T,S);const{data:j,error:z}=await this._getUser(h);if(z)throw z;const V={provider_token:l,provider_refresh_token:u,access_token:h,expires_in:E,expires_at:T,refresh_token:g,token_type:w,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:V,redirectType:r.type},error:null}}catch(l){if(De(l))return{data:{session:null,redirectType:null},error:l};throw l}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const o=await ci(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&o)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async o=>{var l;const{data:u,error:h}=o;if(h)return{error:h};const g=(l=u.session)===null||l===void 0?void 0:l.access_token;if(g){const{error:x}=await this.admin.signOut(g,r);if(x&&!(o0(x)&&(x.status===404||x.status===401||x.status===403)))return{error:x}}return r!=="others"&&(await this._removeSession(),await Lo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const o=m0(),l={id:o,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",o),this.stateChangeEmitters.delete(o)}};return this._debug("#onAuthStateChange()","registered callback with id",o),this.stateChangeEmitters.set(o,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(o)})))(),{data:{subscription:l}}}async _emitInitialSession(r){return await this._useSession(async o=>{var l,u;try{const{data:{session:h},error:g}=o;if(g)throw g;await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",r,"session",h)}catch(h){await((u=this.stateChangeEmitters.get(r))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",h),console.error(h)}})}async resetPasswordForEmail(r,o={}){let l=null,u=null;this.flowType==="pkce"&&([l,u]=await ps(this.storage,this.storageKey,!0));try{return await He(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:o.captchaToken}},headers:this.headers,redirectTo:o.redirectTo})}catch(h){if(De(h))return{data:null,error:h};throw h}}async getUserIdentities(){var r;try{const{data:o,error:l}=await this.getUser();if(l)throw l;return{data:{identities:(r=o.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(o){if(De(o))return{data:null,error:o};throw o}}async linkIdentity(r){var o;try{const{data:l,error:u}=await this._useSession(async h=>{var g,x,y,w,S;const{data:E,error:T}=h;if(T)throw T;const M=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(g=r.options)===null||g===void 0?void 0:g.redirectTo,scopes:(x=r.options)===null||x===void 0?void 0:x.scopes,queryParams:(y=r.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await He(this.fetch,"GET",M,{headers:this.headers,jwt:(S=(w=E.session)===null||w===void 0?void 0:w.access_token)!==null&&S!==void 0?S:void 0})});if(u)throw u;return qn()&&!(!((o=r.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(l==null?void 0:l.url),{data:{provider:r.provider,url:l==null?void 0:l.url},error:null}}catch(l){if(De(l))return{data:{provider:r.provider,url:null},error:l};throw l}}async unlinkIdentity(r){try{return await this._useSession(async o=>{var l,u;const{data:h,error:g}=o;if(g)throw g;return await He(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(u=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})})}catch(o){if(De(o))return{data:null,error:o};throw o}}async _refreshAccessToken(r){const o=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(o,"begin");try{const l=Date.now();return await _0(async u=>(u>0&&await y0(200*Math.pow(2,u-1)),this._debug(o,"refreshing attempt",u),await He(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Br})),(u,h)=>{const g=200*Math.pow(2,u);return h&&ad(h)&&Date.now()+g-l<_s})}catch(l){if(this._debug(o,"error",l),De(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(o,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,o){const l=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:o.redirectTo,scopes:o.scopes,queryParams:o.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",o,"url",l),qn()&&!o.skipBrowserRedirect&&window.location.assign(l),{data:{provider:r,url:l},error:null}}async _recoverAndRefresh(){var r,o;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const u=await ci(this.storage,this.storageKey);if(u&&this.userStorage){let g=await ci(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!g&&(g={user:u.user},await xs(this.userStorage,this.storageKey+"-user",g)),u.user=(r=g==null?void 0:g.user)!==null&&r!==void 0?r:ud()}else if(u&&!u.user&&!u.user){const g=await ci(this.storage,this.storageKey+"-user");g&&(g!=null&&g.user)?(u.user=g.user,await Lo(this.storage,this.storageKey+"-user"),await xs(this.storage,this.storageKey,u)):u.user=ud()}if(this._debug(l,"session from storage",u),!this._isValidSession(u)){this._debug(l,"session is not valid"),u!==null&&await this._removeSession();return}const h=((o=u.expires_at)!==null&&o!==void 0?o:1/0)*1e3-Date.now()<sd;if(this._debug(l,`session has${h?"":" not"} expired with margin of ${sd}s`),h){if(this.autoRefreshToken&&u.refresh_token){const{error:g}=await this._callRefreshToken(u.refresh_token);g&&(console.error(g),ad(g)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",g),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:g,error:x}=await this._getUser(u.access_token);!x&&(g!=null&&g.user)?(u.user=g.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(g){console.error("Error getting user data:",g),this._debug(l,"error getting user data, skipping SIGNED_IN notification",g)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(l,"error",u),console.error(u);return}finally{this._debug(l,"end")}}async _callRefreshToken(r){var o,l;if(!r)throw new jo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new wu;const{data:h,error:g}=await this._refreshAccessToken(r);if(g)throw g;if(!h.session)throw new jo;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const x={session:h.session,error:null};return this.refreshingDeferred.resolve(x),x}catch(h){if(this._debug(u,"error",h),De(h)){const g={session:null,error:h};return ad(h)||await this._removeSession(),(o=this.refreshingDeferred)===null||o===void 0||o.resolve(g),g}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(h),h}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(r,o,l=!0){const u=`#_notifyAllSubscribers(${r})`;this._debug(u,"begin",o,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:r,session:o});const h=[],g=Array.from(this.stateChangeEmitters.values()).map(async x=>{try{await x.callback(r,o)}catch(y){h.push(y)}});if(await Promise.all(g),h.length>0){for(let x=0;x<h.length;x+=1)console.error(h[x]);throw h[0]}}finally{this._debug(u,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const o=Object.assign({},r),l=o.user&&o.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&o.user&&await xs(this.userStorage,this.storageKey+"-user",{user:o.user});const u=Object.assign({},o);delete u.user;const h=cp(u);await xs(this.storage,this.storageKey,h)}else{const u=cp(o);await xs(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),await Lo(this.storage,this.storageKey),await Lo(this.storage,this.storageKey+"-code-verifier"),await Lo(this.storage,this.storageKey+"-user"),this.userStorage&&await Lo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&qn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(o){console.error("removing visibilitychange callback failed",o)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),_s);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async o=>{const{data:{session:l}}=o;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-r)/_s);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${_s}ms, refresh threshold is ${kd} ticks`),u<=kd&&await this._callRefreshToken(l.refresh_token)})}catch(o){console.error("Auto refresh tick failed with error. This is likely a transient error.",o)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof lm)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const o=`#_onVisibilityChanged(${r})`;this._debug(o,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(o,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,o,l){const u=[`provider=${encodeURIComponent(o)}`];if(l!=null&&l.redirectTo&&u.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l!=null&&l.scopes&&u.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[h,g]=await ps(this.storage,this.storageKey),x=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(g)}`});u.push(x.toString())}if(l!=null&&l.queryParams){const h=new URLSearchParams(l.queryParams);u.push(h.toString())}return l!=null&&l.skipBrowserRedirect&&u.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${r}?${u.join("&")}`}async _unenroll(r){try{return await this._useSession(async o=>{var l;const{data:u,error:h}=o;return h?{data:null,error:h}:await He(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token})})}catch(o){if(De(o))return{data:null,error:o};throw o}}async _enroll(r){try{return await this._useSession(async o=>{var l,u;const{data:h,error:g}=o;if(g)return{data:null,error:g};const x=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:y,error:w}=await He(this.fetch,"POST",`${this.url}/factors`,{body:x,headers:this.headers,jwt:(l=h==null?void 0:h.session)===null||l===void 0?void 0:l.access_token});return w?{data:null,error:w}:(r.factorType==="totp"&&(!((u=y==null?void 0:y.totp)===null||u===void 0)&&u.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),{data:y,error:null})})}catch(o){if(De(o))return{data:null,error:o};throw o}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async o=>{var l;const{data:u,error:h}=o;if(h)return{data:null,error:h};const{data:g,error:x}=await He(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token});return x?{data:null,error:x}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),{data:g,error:x})})}catch(o){if(De(o))return{data:null,error:o};throw o}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async o=>{var l;const{data:u,error:h}=o;return h?{data:null,error:h}:await He(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token})})}catch(o){if(De(o))return{data:null,error:o};throw o}})}async _challengeAndVerify(r){const{data:o,error:l}=await this._challenge({factorId:r.factorId});return l?{data:null,error:l}:await this._verify({factorId:r.factorId,challengeId:o.id,code:r.code})}async _listFactors(){const{data:{user:r},error:o}=await this.getUser();if(o)return{data:null,error:o};const l=(r==null?void 0:r.factors)||[],u=l.filter(g=>g.factor_type==="totp"&&g.status==="verified"),h=l.filter(g=>g.factor_type==="phone"&&g.status==="verified");return{data:{all:l,totp:u,phone:h},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var o,l;const{data:{session:u},error:h}=r;if(h)return{data:null,error:h};if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:g}=ld(u.access_token);let x=null;g.aal&&(x=g.aal);let y=x;((l=(o=u.user.factors)===null||o===void 0?void 0:o.filter(E=>E.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(y="aal2");const S=g.amr||[];return{data:{currentLevel:x,nextLevel:y,currentAuthenticationMethods:S},error:null}}))}async fetchJwk(r,o={keys:[]}){let l=o.keys.find(x=>x.kid===r);if(l)return l;const u=Date.now();if(l=this.jwks.keys.find(x=>x.kid===r),l&&this.jwks_cached_at+n0>u)return l;const{data:h,error:g}=await He(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(g)throw g;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=u,l=h.keys.find(x=>x.kid===r),!l)?null:l}async getClaims(r,o={}){try{let l=r;if(!l){const{data:M,error:P}=await this.getSession();if(P||!M.session)return{data:null,error:P};l=M.session.access_token}const{header:u,payload:h,signature:g,raw:{header:x,payload:y}}=ld(l);o!=null&&o.allowExpired||C0(h.exp);const w=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,o!=null&&o.keys?{keys:o.keys}:o==null?void 0:o.jwks);if(!w){const{error:M}=await this.getUser(l);if(M)throw M;return{data:{claims:h,header:u,signature:g},error:null}}const S=P0(u.alg),E=await crypto.subtle.importKey("jwk",w,S,!0,["verify"]);if(!await crypto.subtle.verify(S,E,g,h0(`${x}.${y}`)))throw new Cd("Invalid JWT signature");return{data:{claims:h,header:u,signature:g},error:null}}catch(l){if(De(l))return{data:null,error:l};throw l}}}Aa.nextInstanceID=0;const G0=Aa;class H0 extends G0{constructor(r){super(r)}}var W0=function(s,r,o,l){function u(h){return h instanceof o?h:new o(function(g){g(h)})}return new(o||(o=Promise))(function(h,g){function x(S){try{w(l.next(S))}catch(E){g(E)}}function y(S){try{w(l.throw(S))}catch(E){g(E)}}function w(S){S.done?h(S.value):u(S.value).then(x,y)}w((l=l.apply(s,r||[])).next())})};class Z0{constructor(r,o,l){var u,h,g;if(this.supabaseUrl=r,this.supabaseKey=o,!r)throw new Error("supabaseUrl is required.");if(!o)throw new Error("supabaseKey is required.");const x=Jy(r),y=new URL(x);this.realtimeUrl=new URL("realtime/v1",y),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",y),this.storageUrl=new URL("storage/v1",y),this.functionsUrl=new URL("functions/v1",y);const w=`sb-${y.hostname.split(".")[0]}-auth-token`,S={db:$y,realtime:Hy,auth:Object.assign(Object.assign({},Gy),{storageKey:w}),global:Uy},E=Yy(l??{},S);this.storageKey=(u=E.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(h=E.global.headers)!==null&&h!==void 0?h:{},E.accessToken?(this.accessToken=E.accessToken,this.auth=new Proxy({},{get:(T,M)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(M)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((g=E.auth)!==null&&g!==void 0?g:{},this.headers,E.global.fetch),this.fetch=qy(o,this._getAccessToken.bind(this),E.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},E.realtime)),this.rest=new cy(new URL("rest/v1",y).href,{headers:this.headers,schema:E.db.schema,fetch:this.fetch}),E.accessToken||this._listenForAuthEvents()}get functions(){return new Qv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Dy(this.storageUrl.href,this.headers,this.fetch)}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,o={},l={}){return this.rest.rpc(r,o,l)}channel(r,o={config:{}}){return this.realtime.channel(r,o)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,o;return W0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:l}=yield this.auth.getSession();return(o=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:null})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:o,detectSessionInUrl:l,storage:u,storageKey:h,flowType:g,lock:x,debug:y},w,S){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new H0({url:this.authUrl.href,headers:Object.assign(Object.assign({},E),w),storageKey:h,autoRefreshToken:r,persistSession:o,detectSessionInUrl:l,storage:u,flowType:g,lock:x,debug:y,fetch:S,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(r){return new Ey(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((o,l)=>{this._handleTokenChanged(o,"CLIENT",l==null?void 0:l.access_token)})}_handleTokenChanged(r,o,l){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==l?this.changedAccessToken=l:r==="SIGNED_OUT"&&(this.realtime.setAuth(),o=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const V0=(s,r,o)=>new Z0(s,r,o),q0="https://qbdofilxcfnxhaimuilu.supabase.co",K0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFiZG9maWx4Y2ZueGhhaW11aWx1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMwMTEzOTEsImV4cCI6MjA2ODU4NzM5MX0.4s_8p_jMPfL-TWqPqzX26ca-GkuEFBX1KbJmKy8RieI",Yn=V0(q0,K0),J0={async getFamousPlaces(){const{data:s,error:r}=await Yn.from("famous_places").select("*");return r?(console.error("Erro ao buscar lugares famosos:",r),[]):s.map(o=>({id:o.id,name:o.name,description:o.description,latitude:o.latitude,longitude:o.longitude,category:o.category,address:o.address,imageUrl:o.image_url&&o.image_url!==""?o.image_url:"https://via.placeholder.com/56"}))||[]}},gi={async getTopPlayers(s=10){const{data:r,error:o}=await Yn.from("ranking").select("*").order("score",{ascending:!1}).limit(s);return o?(console.error("Erro ao buscar ranking:",o),[]):r||[]},async addScore(s){const{error:r}=await Yn.from("ranking").insert([s]);return r?(console.error("Erro ao adicionar pontuação:",r),!1):!0},async getPlayerPosition(s,r){const{data:o,error:l}=await Yn.from("ranking").select("score").order("score",{ascending:!1});if(l)return console.error("Erro ao buscar posição:",l),-1;const u=(o==null?void 0:o.findIndex(h=>h.score<=r))+1;return u>0?u:((o==null?void 0:o.length)||0)+1},async getPlayerStats(s){const{data:r,error:o}=await Yn.from("ranking").select("*").eq("player_name",s).order("score",{ascending:!1}).limit(1).single();return o?(console.error("Erro ao buscar estatísticas do jogador:",o),null):r}};function um(s,r){const o=C.useRef(r);C.useEffect(function(){r!==o.current&&s.attributionControl!=null&&(o.current!=null&&s.attributionControl.removeAttribution(o.current),r!=null&&s.attributionControl.addAttribution(r)),o.current=r},[s,r])}const Y0=1;function Q0(s){return Object.freeze({__version:Y0,map:s})}function Hd(s,r){return Object.freeze({...s,...r})}const cm=C.createContext(null),dm=cm.Provider;function Su(){const s=C.useContext(cm);if(s==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return s}function hm(s){function r(o,l){const{instance:u,context:h}=s(o).current;return C.useImperativeHandle(l,()=>u),o.children==null?null:mi.createElement(dm,{value:h},o.children)}return C.forwardRef(r)}function X0(s){function r(o,l){const[u,h]=C.useState(!1),{instance:g}=s(o,h).current;C.useImperativeHandle(l,()=>g),C.useEffect(function(){u&&g.update()},[g,u,o.children]);const x=g._contentNode;return x?Zv.createPortal(o.children,x):null}return C.forwardRef(r)}function e_(s){function r(o,l){const{instance:u}=s(o).current;return C.useImperativeHandle(l,()=>u),null}return C.forwardRef(r)}function Wd(s,r){const o=C.useRef();C.useEffect(function(){return r!=null&&s.instance.on(r),o.current=r,function(){o.current!=null&&s.instance.off(o.current),o.current=null}},[s,r])}function ku(s,r){const o=s.pane??r.pane;return o?{...s,pane:o}:s}function t_(s,r){return function(l,u){const h=Su(),g=s(ku(l,h),h);return um(h.map,l.attribution),Wd(g.current,l.eventHandlers),r(g.current,h,l,u),g}}var La={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var n_=La.exports,mp;function r_(){return mp||(mp=1,function(s,r){(function(o,l){l(r)})(n_,function(o){var l="1.9.4";function u(t){var i,c,p,_;for(c=1,p=arguments.length;c<p;c++){_=arguments[c];for(i in _)t[i]=_[i]}return t}var h=Object.create||function(){function t(){}return function(i){return t.prototype=i,new t}}();function g(t,i){var c=Array.prototype.slice;if(t.bind)return t.bind.apply(t,c.call(arguments,1));var p=c.call(arguments,2);return function(){return t.apply(i,p.length?p.concat(c.call(arguments)):arguments)}}var x=0;function y(t){return"_leaflet_id"in t||(t._leaflet_id=++x),t._leaflet_id}function w(t,i,c){var p,_,b,O;return O=function(){p=!1,_&&(b.apply(c,_),_=!1)},b=function(){p?_=arguments:(t.apply(c,arguments),setTimeout(O,i),p=!0)},b}function S(t,i,c){var p=i[1],_=i[0],b=p-_;return t===p&&c?t:((t-_)%b+b)%b+_}function E(){return!1}function T(t,i){if(i===!1)return t;var c=Math.pow(10,i===void 0?6:i);return Math.round(t*c)/c}function M(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function P(t){return M(t).split(/\s+/)}function j(t,i){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?h(t.options):{});for(var c in i)t.options[c]=i[c];return t.options}function z(t,i,c){var p=[];for(var _ in t)p.push(encodeURIComponent(c?_.toUpperCase():_)+"="+encodeURIComponent(t[_]));return(!i||i.indexOf("?")===-1?"?":"&")+p.join("&")}var V=/\{ *([\w_ -]+) *\}/g;function J(t,i){return t.replace(V,function(c,p){var _=i[p];if(_===void 0)throw new Error("No value provided for variable "+c);return typeof _=="function"&&(_=_(i)),_})}var Z=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function te(t,i){for(var c=0;c<t.length;c++)if(t[c]===i)return c;return-1}var he="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function le(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var K=0;function ge(t){var i=+new Date,c=Math.max(0,16-(i-K));return K=i+c,window.setTimeout(t,c)}var ne=window.requestAnimationFrame||le("RequestAnimationFrame")||ge,_e=window.cancelAnimationFrame||le("CancelAnimationFrame")||le("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function ke(t,i,c){if(c&&ne===ge)t.call(i);else return ne.call(window,g(t,i))}function ie(t){t&&_e.call(window,t)}var Ae={__proto__:null,extend:u,create:h,bind:g,get lastId(){return x},stamp:y,throttle:w,wrapNum:S,falseFn:E,formatNum:T,trim:M,splitWords:P,setOptions:j,getParamString:z,template:J,isArray:Z,indexOf:te,emptyImageUrl:he,requestFn:ne,cancelFn:_e,requestAnimFrame:ke,cancelAnimFrame:ie};function ue(){}ue.extend=function(t){var i=function(){j(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=i.__super__=this.prototype,p=h(c);p.constructor=i,i.prototype=p;for(var _ in this)Object.prototype.hasOwnProperty.call(this,_)&&_!=="prototype"&&_!=="__super__"&&(i[_]=this[_]);return t.statics&&u(i,t.statics),t.includes&&(me(t.includes),u.apply(null,[p].concat(t.includes))),u(p,t),delete p.statics,delete p.includes,p.options&&(p.options=c.options?h(c.options):{},u(p.options,t.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var b=0,O=p._initHooks.length;b<O;b++)p._initHooks[b].call(this)}},i},ue.include=function(t){var i=this.prototype.options;return u(this.prototype,t),t.options&&(this.prototype.options=i,this.mergeOptions(t.options)),this},ue.mergeOptions=function(t){return u(this.prototype.options,t),this},ue.addInitHook=function(t){var i=Array.prototype.slice.call(arguments,1),c=typeof t=="function"?t:function(){this[t].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function me(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=Z(t)?t:[t];for(var i=0;i<t.length;i++)t[i]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var fe={on:function(t,i,c){if(typeof t=="object")for(var p in t)this._on(p,t[p],i);else{t=P(t);for(var _=0,b=t.length;_<b;_++)this._on(t[_],i,c)}return this},off:function(t,i,c){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var p in t)this._off(p,t[p],i);else{t=P(t);for(var _=arguments.length===1,b=0,O=t.length;b<O;b++)_?this._off(t[b]):this._off(t[b],i,c)}return this},_on:function(t,i,c,p){if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}if(this._listens(t,i,c)===!1){c===this&&(c=void 0);var _={fn:i,ctx:c};p&&(_.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(_)}},_off:function(t,i,c){var p,_,b;if(this._events&&(p=this._events[t],!!p)){if(arguments.length===1){if(this._firingCount)for(_=0,b=p.length;_<b;_++)p[_].fn=E;delete this._events[t];return}if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}var O=this._listens(t,i,c);if(O!==!1){var D=p[O];this._firingCount&&(D.fn=E,this._events[t]=p=p.slice()),p.splice(O,1)}}},fire:function(t,i,c){if(!this.listens(t,c))return this;var p=u({},i,{type:t,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var _=this._events[t];if(_){this._firingCount=this._firingCount+1||1;for(var b=0,O=_.length;b<O;b++){var D=_[b],G=D.fn;D.once&&this.off(t,G,D.ctx),G.call(D.ctx||this,p)}this._firingCount--}}return c&&this._propagateEvent(p),this},listens:function(t,i,c,p){typeof t!="string"&&console.warn('"string" type argument expected');var _=i;typeof i!="function"&&(p=!!i,_=void 0,c=void 0);var b=this._events&&this._events[t];if(b&&b.length&&this._listens(t,_,c)!==!1)return!0;if(p){for(var O in this._eventParents)if(this._eventParents[O].listens(t,i,c,p))return!0}return!1},_listens:function(t,i,c){if(!this._events)return!1;var p=this._events[t]||[];if(!i)return!!p.length;c===this&&(c=void 0);for(var _=0,b=p.length;_<b;_++)if(p[_].fn===i&&p[_].ctx===c)return _;return!1},once:function(t,i,c){if(typeof t=="object")for(var p in t)this._on(p,t[p],i,!0);else{t=P(t);for(var _=0,b=t.length;_<b;_++)this._on(t[_],i,c,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[y(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[y(t)],this},_propagateEvent:function(t){for(var i in this._eventParents)this._eventParents[i].fire(t.type,u({layer:t.target,propagatedFrom:t.target},t),!0)}};fe.addEventListener=fe.on,fe.removeEventListener=fe.clearAllEventListeners=fe.off,fe.addOneTimeEventListener=fe.once,fe.fireEvent=fe.fire,fe.hasEventListeners=fe.listens;var Le=ue.extend(fe);function B(t,i,c){this.x=c?Math.round(t):t,this.y=c?Math.round(i):i}var oe=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};B.prototype={clone:function(){return new B(this.x,this.y)},add:function(t){return this.clone()._add(q(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(q(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new B(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new B(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=oe(this.x),this.y=oe(this.y),this},distanceTo:function(t){t=q(t);var i=t.x-this.x,c=t.y-this.y;return Math.sqrt(i*i+c*c)},equals:function(t){return t=q(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=q(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+T(this.x)+", "+T(this.y)+")"}};function q(t,i,c){return t instanceof B?t:Z(t)?new B(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new B(t.x,t.y):new B(t,i,c)}function A(t,i){if(t)for(var c=i?[t,i]:t,p=0,_=c.length;p<_;p++)this.extend(c[p])}A.prototype={extend:function(t){var i,c;if(!t)return this;if(t instanceof B||typeof t[0]=="number"||"x"in t)i=c=q(t);else if(t=W(t),i=t.min,c=t.max,!i||!c)return this;return!this.min&&!this.max?(this.min=i.clone(),this.max=c.clone()):(this.min.x=Math.min(i.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(i.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(t){return q((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return q(this.min.x,this.max.y)},getTopRight:function(){return q(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var i,c;return typeof t[0]=="number"||t instanceof B?t=q(t):t=W(t),t instanceof A?(i=t.min,c=t.max):i=c=t,i.x>=this.min.x&&c.x<=this.max.x&&i.y>=this.min.y&&c.y<=this.max.y},intersects:function(t){t=W(t);var i=this.min,c=this.max,p=t.min,_=t.max,b=_.x>=i.x&&p.x<=c.x,O=_.y>=i.y&&p.y<=c.y;return b&&O},overlaps:function(t){t=W(t);var i=this.min,c=this.max,p=t.min,_=t.max,b=_.x>i.x&&p.x<c.x,O=_.y>i.y&&p.y<c.y;return b&&O},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var i=this.min,c=this.max,p=Math.abs(i.x-c.x)*t,_=Math.abs(i.y-c.y)*t;return W(q(i.x-p,i.y-_),q(c.x+p,c.y+_))},equals:function(t){return t?(t=W(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function W(t,i){return!t||t instanceof A?t:new A(t,i)}function $(t,i){if(t)for(var c=i?[t,i]:t,p=0,_=c.length;p<_;p++)this.extend(c[p])}$.prototype={extend:function(t){var i=this._southWest,c=this._northEast,p,_;if(t instanceof ae)p=t,_=t;else if(t instanceof $){if(p=t._southWest,_=t._northEast,!p||!_)return this}else return t?this.extend(se(t)||de(t)):this;return!i&&!c?(this._southWest=new ae(p.lat,p.lng),this._northEast=new ae(_.lat,_.lng)):(i.lat=Math.min(p.lat,i.lat),i.lng=Math.min(p.lng,i.lng),c.lat=Math.max(_.lat,c.lat),c.lng=Math.max(_.lng,c.lng)),this},pad:function(t){var i=this._southWest,c=this._northEast,p=Math.abs(i.lat-c.lat)*t,_=Math.abs(i.lng-c.lng)*t;return new $(new ae(i.lat-p,i.lng-_),new ae(c.lat+p,c.lng+_))},getCenter:function(){return new ae((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ae(this.getNorth(),this.getWest())},getSouthEast:function(){return new ae(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof ae||"lat"in t?t=se(t):t=de(t);var i=this._southWest,c=this._northEast,p,_;return t instanceof $?(p=t.getSouthWest(),_=t.getNorthEast()):p=_=t,p.lat>=i.lat&&_.lat<=c.lat&&p.lng>=i.lng&&_.lng<=c.lng},intersects:function(t){t=de(t);var i=this._southWest,c=this._northEast,p=t.getSouthWest(),_=t.getNorthEast(),b=_.lat>=i.lat&&p.lat<=c.lat,O=_.lng>=i.lng&&p.lng<=c.lng;return b&&O},overlaps:function(t){t=de(t);var i=this._southWest,c=this._northEast,p=t.getSouthWest(),_=t.getNorthEast(),b=_.lat>i.lat&&p.lat<c.lat,O=_.lng>i.lng&&p.lng<c.lng;return b&&O},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,i){return t?(t=de(t),this._southWest.equals(t.getSouthWest(),i)&&this._northEast.equals(t.getNorthEast(),i)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function de(t,i){return t instanceof $?t:new $(t,i)}function ae(t,i,c){if(isNaN(t)||isNaN(i))throw new Error("Invalid LatLng object: ("+t+", "+i+")");this.lat=+t,this.lng=+i,c!==void 0&&(this.alt=+c)}ae.prototype={equals:function(t,i){if(!t)return!1;t=se(t);var c=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return c<=(i===void 0?1e-9:i)},toString:function(t){return"LatLng("+T(this.lat,t)+", "+T(this.lng,t)+")"},distanceTo:function(t){return Ce.distance(this,se(t))},wrap:function(){return Ce.wrapLatLng(this)},toBounds:function(t){var i=180*t/40075017,c=i/Math.cos(Math.PI/180*this.lat);return de([this.lat-i,this.lng-c],[this.lat+i,this.lng+c])},clone:function(){return new ae(this.lat,this.lng,this.alt)}};function se(t,i,c){return t instanceof ae?t:Z(t)&&typeof t[0]!="object"?t.length===3?new ae(t[0],t[1],t[2]):t.length===2?new ae(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new ae(t.lat,"lng"in t?t.lng:t.lon,t.alt):i===void 0?null:new ae(t,i,c)}var be={latLngToPoint:function(t,i){var c=this.projection.project(t),p=this.scale(i);return this.transformation._transform(c,p)},pointToLatLng:function(t,i){var c=this.scale(i),p=this.transformation.untransform(t,c);return this.projection.unproject(p)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var i=this.projection.bounds,c=this.scale(t),p=this.transformation.transform(i.min,c),_=this.transformation.transform(i.max,c);return new A(p,_)},infinite:!1,wrapLatLng:function(t){var i=this.wrapLng?S(t.lng,this.wrapLng,!0):t.lng,c=this.wrapLat?S(t.lat,this.wrapLat,!0):t.lat,p=t.alt;return new ae(c,i,p)},wrapLatLngBounds:function(t){var i=t.getCenter(),c=this.wrapLatLng(i),p=i.lat-c.lat,_=i.lng-c.lng;if(p===0&&_===0)return t;var b=t.getSouthWest(),O=t.getNorthEast(),D=new ae(b.lat-p,b.lng-_),G=new ae(O.lat-p,O.lng-_);return new $(D,G)}},Ce=u({},be,{wrapLng:[-180,180],R:6371e3,distance:function(t,i){var c=Math.PI/180,p=t.lat*c,_=i.lat*c,b=Math.sin((i.lat-t.lat)*c/2),O=Math.sin((i.lng-t.lng)*c/2),D=b*b+Math.cos(p)*Math.cos(_)*O*O,G=2*Math.atan2(Math.sqrt(D),Math.sqrt(1-D));return this.R*G}}),Oe=6378137,qe={R:Oe,MAX_LATITUDE:85.0511287798,project:function(t){var i=Math.PI/180,c=this.MAX_LATITUDE,p=Math.max(Math.min(c,t.lat),-c),_=Math.sin(p*i);return new B(this.R*t.lng*i,this.R*Math.log((1+_)/(1-_))/2)},unproject:function(t){var i=180/Math.PI;return new ae((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*i,t.x*i/this.R)},bounds:function(){var t=Oe*Math.PI;return new A([-t,-t],[t,t])}()};function tt(t,i,c,p){if(Z(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=i,this._c=c,this._d=p}tt.prototype={transform:function(t,i){return this._transform(t.clone(),i)},_transform:function(t,i){return i=i||1,t.x=i*(this._a*t.x+this._b),t.y=i*(this._c*t.y+this._d),t},untransform:function(t,i){return i=i||1,new B((t.x/i-this._b)/this._a,(t.y/i-this._d)/this._c)}};function Pt(t,i,c,p){return new tt(t,i,c,p)}var wt=u({},Ce,{code:"EPSG:3857",projection:qe,transformation:function(){var t=.5/(Math.PI*qe.R);return Pt(t,.5,-t,.5)}()}),St=u({},wt,{code:"EPSG:900913"});function Fe(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Be(t,i){var c="",p,_,b,O,D,G;for(p=0,b=t.length;p<b;p++){for(D=t[p],_=0,O=D.length;_<O;_++)G=D[_],c+=(_?"L":"M")+G.x+" "+G.y;c+=i?we.svg?"z":"x":""}return c||"M0 0"}var Ye=document.documentElement.style,Ke="ActiveXObject"in window,Qe=Ke&&!document.addEventListener,nt="msLaunchUri"in navigator&&!("documentMode"in document),dt=Ut("webkit"),Rt=Ut("android"),dn=Ut("android 2")||Ut("android 3"),vt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Dt=Rt&&Ut("Google")&&vt<537&&!("AudioNode"in window),Qn=!!window.opera,gr=!nt&&Ut("chrome"),Xn=Ut("gecko")&&!dt&&!Qn&&!Ke,Ua=!gr&&Ut("safari"),Vr=Ut("phantom"),qr="OTransition"in Ye,Pu=navigator.platform.indexOf("Win")===0,Ls=Ke&&"transition"in Ye,_i="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!dn,$a="MozPerspective"in Ye,Ms=!window.L_DISABLE_3D&&(Ls||_i||$a)&&!qr&&!Vr,vr=typeof orientation<"u"||Ut("mobile"),js=vr&&dt,Rs=vr&&_i,xi=!window.PointerEvent&&window.MSPointerEvent,yr=!!(window.PointerEvent||xi),_r="ontouchstart"in window||!!window.TouchEvent,Ga=!window.L_NO_TOUCH&&(_r||yr),Ha=vr&&Qn,Wa=vr&&Xn,Za=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Va=function(){var t=!1;try{var i=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",E,i),window.removeEventListener("testPassiveEventSupport",E,i)}catch{}return t}(),As=function(){return!!document.createElement("canvas").getContext}(),wi=!!(document.createElementNS&&Fe("svg").createSVGRect),Io=!!wi&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Os=!wi&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var i=t.firstChild;return i.style.behavior="url(#default#VML)",i&&typeof i.adj=="object"}catch{return!1}}(),No=navigator.platform.indexOf("Mac")===0,Tu=navigator.platform.indexOf("Linux")===0;function Ut(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var we={ie:Ke,ielt9:Qe,edge:nt,webkit:dt,android:Rt,android23:dn,androidStock:Dt,opera:Qn,chrome:gr,gecko:Xn,safari:Ua,phantom:Vr,opera12:qr,win:Pu,ie3d:Ls,webkit3d:_i,gecko3d:$a,any3d:Ms,mobile:vr,mobileWebkit:js,mobileWebkit3d:Rs,msPointer:xi,pointer:yr,touch:Ga,touchNative:_r,mobileOpera:Ha,mobileGecko:Wa,retina:Za,passiveEvents:Va,canvas:As,svg:wi,vml:Os,inlineSvg:Io,mac:No,linux:Tu},zo=we.msPointer?"MSPointerDown":"pointerdown",Si=we.msPointer?"MSPointerMove":"pointermove",qa=we.msPointer?"MSPointerUp":"pointerup",Ka=we.msPointer?"MSPointerCancel":"pointercancel",Is={touchstart:zo,touchmove:Si,touchend:qa,touchcancel:Ka},er={touchstart:ht,touchmove:ki,touchend:ki,touchcancel:ki},xr={},Ns=!1;function Lu(t,i,c){return i==="touchstart"&&Mu(),er[i]?(c=er[i].bind(this,c),t.addEventListener(Is[i],c,!1),c):(console.warn("wrong event specified:",i),E)}function Ja(t,i,c){if(!Is[i]){console.warn("wrong event specified:",i);return}t.removeEventListener(Is[i],c,!1)}function Ya(t){xr[t.pointerId]=t}function Qa(t){xr[t.pointerId]&&(xr[t.pointerId]=t)}function zs(t){delete xr[t.pointerId]}function Mu(){Ns||(document.addEventListener(zo,Ya,!0),document.addEventListener(Si,Qa,!0),document.addEventListener(qa,zs,!0),document.addEventListener(Ka,zs,!0),Ns=!0)}function ki(t,i){if(i.pointerType!==(i.MSPOINTER_TYPE_MOUSE||"mouse")){i.touches=[];for(var c in xr)i.touches.push(xr[c]);i.changedTouches=[i],t(i)}}function ht(t,i){i.MSPOINTER_TYPE_TOUCH&&i.pointerType===i.MSPOINTER_TYPE_TOUCH&&ft(i),ki(t,i)}function ju(t){var i={},c,p;for(p in t)c=t[p],i[p]=c&&c.bind?c.bind(t):c;return t=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var Ds=200;function Xa(t,i){t.addEventListener("dblclick",i);var c=0,p;function _(b){if(b.detail!==1){p=b.detail;return}if(!(b.pointerType==="mouse"||b.sourceCapabilities&&!b.sourceCapabilities.firesTouchEvents)){var O=kr(b);if(!(O.some(function(G){return G instanceof HTMLLabelElement&&G.attributes.for})&&!O.some(function(G){return G instanceof HTMLInputElement||G instanceof HTMLSelectElement}))){var D=Date.now();D-c<=Ds?(p++,p===2&&i(ju(b))):p=1,c=D}}}return t.addEventListener("click",_),{dblclick:i,simDblclick:_}}function bi(t,i){t.removeEventListener("dblclick",i.dblclick),t.removeEventListener("click",i.simDblclick)}var Fs=Qr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Kr=Qr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Do=Kr==="webkitTransition"||Kr==="OTransition"?Kr+"End":"transitionend";function hn(t){return typeof t=="string"?document.getElementById(t):t}function Fo(t,i){var c=t.style[i]||t.currentStyle&&t.currentStyle[i];if((!c||c==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(t,null);c=p?p[i]:null}return c==="auto"?null:c}function Ne(t,i,c){var p=document.createElement(t);return p.className=i||"",c&&c.appendChild(p),p}function at(t){var i=t.parentNode;i&&i.removeChild(t)}function Ei(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Jr(t){var i=t.parentNode;i&&i.lastChild!==t&&i.appendChild(t)}function zn(t){var i=t.parentNode;i&&i.firstChild!==t&&i.insertBefore(t,i.firstChild)}function Yr(t,i){if(t.classList!==void 0)return t.classList.contains(i);var c=Ci(t);return c.length>0&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(c)}function Re(t,i){if(t.classList!==void 0)for(var c=P(i),p=0,_=c.length;p<_;p++)t.classList.add(c[p]);else if(!Yr(t,i)){var b=Ci(t);Bs(t,(b?b+" ":"")+i)}}function rt(t,i){t.classList!==void 0?t.classList.remove(i):Bs(t,M((" "+Ci(t)+" ").replace(" "+i+" "," ")))}function Bs(t,i){t.className.baseVal===void 0?t.className=i:t.className.baseVal=i}function Ci(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function $t(t,i){"opacity"in t.style?t.style.opacity=i:"filter"in t.style&&el(t,i)}function el(t,i){var c=!1,p="DXImageTransform.Microsoft.Alpha";try{c=t.filters.item(p)}catch{if(i===1)return}i=Math.round(i*100),c?(c.Enabled=i!==100,c.Opacity=i):t.style.filter+=" progid:"+p+"(opacity="+i+")"}function Qr(t){for(var i=document.documentElement.style,c=0;c<t.length;c++)if(t[c]in i)return t[c];return!1}function fn(t,i,c){var p=i||new B(0,0);t.style[Fs]=(we.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(c?" scale("+c+")":"")}function yt(t,i){t._leaflet_pos=i,we.any3d?fn(t,i):(t.style.left=i.x+"px",t.style.top=i.y+"px")}function Dn(t){return t._leaflet_pos||new B(0,0)}var We,Xr,Pi;if("onselectstart"in document)We=function(){Me(window,"selectstart",ft)},Xr=function(){Xe(window,"selectstart",ft)};else{var wr=Qr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);We=function(){if(wr){var t=document.documentElement.style;Pi=t[wr],t[wr]="none"}},Xr=function(){wr&&(document.documentElement.style[wr]=Pi,Pi=void 0)}}function Ti(){Me(window,"dragstart",ft)}function Li(){Xe(window,"dragstart",ft)}var Bo,Uo;function eo(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(pn(),Bo=t,Uo=t.style.outlineStyle,t.style.outlineStyle="none",Me(window,"keydown",pn))}function pn(){Bo&&(Bo.style.outlineStyle=Uo,Bo=void 0,Uo=void 0,Xe(window,"keydown",pn))}function Fn(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function bn(t){var i=t.getBoundingClientRect();return{x:i.width/t.offsetWidth||1,y:i.height/t.offsetHeight||1,boundingClientRect:i}}var $o={__proto__:null,TRANSFORM:Fs,TRANSITION:Kr,TRANSITION_END:Do,get:hn,getStyle:Fo,create:Ne,remove:at,empty:Ei,toFront:Jr,toBack:zn,hasClass:Yr,addClass:Re,removeClass:rt,setClass:Bs,getClass:Ci,setOpacity:$t,testProp:Qr,setTransform:fn,setPosition:yt,getPosition:Dn,get disableTextSelection(){return We},get enableTextSelection(){return Xr},disableImageDrag:Ti,enableImageDrag:Li,preventOutline:eo,restoreOutline:pn,getSizedParentNode:Fn,getScale:bn};function Me(t,i,c,p){if(i&&typeof i=="object")for(var _ in i)$s(t,_,i[_],c);else{i=P(i);for(var b=0,O=i.length;b<O;b++)$s(t,i[b],c,p)}return this}var Tt="_leaflet_events";function Xe(t,i,c,p){if(arguments.length===1)Us(t),delete t[Tt];else if(i&&typeof i=="object")for(var _ in i)Mi(t,_,i[_],c);else if(i=P(i),arguments.length===2)Us(t,function(D){return te(i,D)!==-1});else for(var b=0,O=i.length;b<O;b++)Mi(t,i[b],c,p);return this}function Us(t,i){for(var c in t[Tt]){var p=c.split(/\d/)[0];(!i||i(p))&&Mi(t,p,null,null,c)}}var Sr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function $s(t,i,c,p){var _=i+y(c)+(p?"_"+y(p):"");if(t[Tt]&&t[Tt][_])return this;var b=function(D){return c.call(p||t,D||window.event)},O=b;!we.touchNative&&we.pointer&&i.indexOf("touch")===0?b=Lu(t,i,b):we.touch&&i==="dblclick"?b=Xa(t,b):"addEventListener"in t?i==="touchstart"||i==="touchmove"||i==="wheel"||i==="mousewheel"?t.addEventListener(Sr[i]||i,b,we.passiveEvents?{passive:!1}:!1):i==="mouseenter"||i==="mouseleave"?(b=function(D){D=D||window.event,Wo(t,D)&&O(D)},t.addEventListener(Sr[i],b,!1)):t.addEventListener(i,O,!1):t.attachEvent("on"+i,b),t[Tt]=t[Tt]||{},t[Tt][_]=b}function Mi(t,i,c,p,_){_=_||i+y(c)+(p?"_"+y(p):"");var b=t[Tt]&&t[Tt][_];if(!b)return this;!we.touchNative&&we.pointer&&i.indexOf("touch")===0?Ja(t,i,b):we.touch&&i==="dblclick"?bi(t,b):"removeEventListener"in t?t.removeEventListener(Sr[i]||i,b,!1):t.detachEvent("on"+i,b),t[Tt][_]=null}function En(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function ji(t){return $s(t,"wheel",En),this}function Go(t){return Me(t,"mousedown touchstart dblclick contextmenu",En),t._leaflet_disable_click=!0,this}function ft(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function mn(t){return ft(t),En(t),this}function kr(t){if(t.composedPath)return t.composedPath();for(var i=[],c=t.target;c;)i.push(c),c=c.parentNode;return i}function Ho(t,i){if(!i)return new B(t.clientX,t.clientY);var c=bn(i),p=c.boundingClientRect;return new B((t.clientX-p.left)/c.x-i.clientLeft,(t.clientY-p.top)/c.y-i.clientTop)}var Ru=we.linux&&we.chrome?window.devicePixelRatio:we.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function tl(t){return we.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Ru:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function Wo(t,i){var c=i.relatedTarget;if(!c)return!0;try{for(;c&&c!==t;)c=c.parentNode}catch{return!1}return c!==t}var Ri={__proto__:null,on:Me,off:Xe,stopPropagation:En,disableScrollPropagation:ji,disableClickPropagation:Go,preventDefault:ft,stop:mn,getPropagationPath:kr,getMousePosition:Ho,getWheelDelta:tl,isExternalTarget:Wo,addListener:Me,removeListener:Xe},Ai=Le.extend({run:function(t,i,c,p){this.stop(),this._el=t,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=Dn(t),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ke(this._animate,this),this._step()},_step:function(t){var i=+new Date-this._startTime,c=this._duration*1e3;i<c?this._runFrame(this._easeOut(i/c),t):(this._runFrame(1),this._complete())},_runFrame:function(t,i){var c=this._startPos.add(this._offset.multiplyBy(t));i&&c._round(),yt(this._el,c),this.fire("step")},_complete:function(){ie(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Ge=Le.extend({options:{crs:wt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,i){i=j(this,i),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=g(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),i.zoom!==void 0&&(this._zoom=this._limitZoom(i.zoom)),i.center&&i.zoom!==void 0&&this.setView(se(i.center),i.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Kr&&we.any3d&&!we.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Me(this._proxy,Do,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,i,c){if(i=i===void 0?this._zoom:this._limitZoom(i),t=this._limitCenter(se(t),i,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=u({animate:c.animate},c.zoom),c.pan=u({animate:c.animate,duration:c.duration},c.pan));var p=this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,i,c.zoom):this._tryAnimatedPan(t,c.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(t,i,c.pan&&c.pan.noMoveStart),this},setZoom:function(t,i){return this._loaded?this.setView(this.getCenter(),t,{zoom:i}):(this._zoom=t,this)},zoomIn:function(t,i){return t=t||(we.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,i)},zoomOut:function(t,i){return t=t||(we.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,i)},setZoomAround:function(t,i,c){var p=this.getZoomScale(i),_=this.getSize().divideBy(2),b=t instanceof B?t:this.latLngToContainerPoint(t),O=b.subtract(_).multiplyBy(1-1/p),D=this.containerPointToLatLng(_.add(O));return this.setView(D,i,{zoom:c})},_getBoundsCenterZoom:function(t,i){i=i||{},t=t.getBounds?t.getBounds():de(t);var c=q(i.paddingTopLeft||i.padding||[0,0]),p=q(i.paddingBottomRight||i.padding||[0,0]),_=this.getBoundsZoom(t,!1,c.add(p));if(_=typeof i.maxZoom=="number"?Math.min(i.maxZoom,_):_,_===1/0)return{center:t.getCenter(),zoom:_};var b=p.subtract(c).divideBy(2),O=this.project(t.getSouthWest(),_),D=this.project(t.getNorthEast(),_),G=this.unproject(O.add(D).divideBy(2).add(b),_);return{center:G,zoom:_}},fitBounds:function(t,i){if(t=de(t),!t.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(t,i);return this.setView(c.center,c.zoom,i)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,i){return this.setView(t,this._zoom,{pan:i})},panBy:function(t,i){if(t=q(t).round(),i=i||{},!t.x&&!t.y)return this.fire("moveend");if(i.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ai,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire("movestart"),i.animate!==!1){Re(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,c,i.duration||.25,i.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,i,c){if(c=c||{},c.animate===!1||!we.any3d)return this.setView(t,i,c);this._stop();var p=this.project(this.getCenter()),_=this.project(t),b=this.getSize(),O=this._zoom;t=se(t),i=i===void 0?O:i;var D=Math.max(b.x,b.y),G=D*this.getZoomScale(O,i),Y=_.distanceTo(p)||1,ce=1.42,Ee=ce*ce;function ze(Je){var go=Je?-1:1,Zu=Je?G:D,Vu=G*G-D*D+go*Ee*Ee*Y*Y,Mr=2*Zu*Ee*Y,jr=Vu/Mr,Rr=Math.sqrt(jr*jr+1)-jr,Vi=Rr<1e-9?-18:Math.log(Rr);return Vi}function Lt(Je){return(Math.exp(Je)-Math.exp(-Je))/2}function kt(Je){return(Math.exp(Je)+Math.exp(-Je))/2}function Qt(Je){return Lt(Je)/kt(Je)}var Ht=ze(0);function po(Je){return D*(kt(Ht)/kt(Ht+ce*Je))}function ua(Je){return D*(kt(Ht)*Qt(Ht+ce*Je)-Lt(Ht))/Ee}function lr(Je){return 1-Math.pow(1-Je,1.5)}var Sl=Date.now(),Lr=(ze(1)-Ht)/ce,Ln=c.duration?1e3*c.duration:1e3*Lr*.8;function mo(){var Je=(Date.now()-Sl)/Ln,go=lr(Je)*Lr;Je<=1?(this._flyToFrame=ke(mo,this),this._move(this.unproject(p.add(_.subtract(p).multiplyBy(ua(go)/Y)),O),this.getScaleZoom(D/po(go),O),{flyTo:!0})):this._move(t,i)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),mo.call(this),this},flyToBounds:function(t,i){var c=this._getBoundsCenterZoom(t,i);return this.flyTo(c.center,c.zoom,i)},setMaxBounds:function(t){return t=de(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var i=this.options.minZoom;return this.options.minZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var i=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,i){this._enforcingBounds=!0;var c=this.getCenter(),p=this._limitCenter(c,this._zoom,de(t));return c.equals(p)||this.panTo(p,i),this._enforcingBounds=!1,this},panInside:function(t,i){i=i||{};var c=q(i.paddingTopLeft||i.padding||[0,0]),p=q(i.paddingBottomRight||i.padding||[0,0]),_=this.project(this.getCenter()),b=this.project(t),O=this.getPixelBounds(),D=W([O.min.add(c),O.max.subtract(p)]),G=D.getSize();if(!D.contains(b)){this._enforcingBounds=!0;var Y=b.subtract(D.getCenter()),ce=D.extend(b).getSize().subtract(G);_.x+=Y.x<0?-ce.x:ce.x,_.y+=Y.y<0?-ce.y:ce.y,this.panTo(this.unproject(_),i),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=u({animate:!1,pan:!0},t===!0?{animate:!0}:t);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),p=i.divideBy(2).round(),_=c.divideBy(2).round(),b=p.subtract(_);return!b.x&&!b.y?this:(t.animate&&t.pan?this.panBy(b):(t.pan&&this._rawPanBy(b),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(g(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=u({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=g(this._handleGeolocationResponse,this),c=g(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,c,t):navigator.geolocation.getCurrentPosition(i,c,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var i=t.code,c=t.message||(i===1?"permission denied":i===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:i,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var i=t.coords.latitude,c=t.coords.longitude,p=new ae(i,c),_=p.toBounds(t.coords.accuracy*2),b=this._locateOptions;if(b.setView){var O=this.getBoundsZoom(_);this.setView(p,b.maxZoom?Math.min(O,b.maxZoom):O)}var D={latlng:p,bounds:_,timestamp:t.timestamp};for(var G in t.coords)typeof t.coords[G]=="number"&&(D[G]=t.coords[G]);this.fire("locationfound",D)}},addHandler:function(t,i){if(!i)return this;var c=this[t]=new i(this);return this._handlers.push(c),this.options[t]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),at(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ie(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)at(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,i){var c="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),p=Ne("div",c,i||this._mapPane);return t&&(this._panes[t]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),i=this.unproject(t.getBottomLeft()),c=this.unproject(t.getTopRight());return new $(i,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,i,c){t=de(t),c=q(c||[0,0]);var p=this.getZoom()||0,_=this.getMinZoom(),b=this.getMaxZoom(),O=t.getNorthWest(),D=t.getSouthEast(),G=this.getSize().subtract(c),Y=W(this.project(D,p),this.project(O,p)).getSize(),ce=we.any3d?this.options.zoomSnap:1,Ee=G.x/Y.x,ze=G.y/Y.y,Lt=i?Math.max(Ee,ze):Math.min(Ee,ze);return p=this.getScaleZoom(Lt,p),ce&&(p=Math.round(p/(ce/100))*(ce/100),p=i?Math.ceil(p/ce)*ce:Math.floor(p/ce)*ce),Math.max(_,Math.min(b,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new B(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,i){var c=this._getTopLeftPoint(t,i);return new A(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,i){var c=this.options.crs;return i=i===void 0?this._zoom:i,c.scale(t)/c.scale(i)},getScaleZoom:function(t,i){var c=this.options.crs;i=i===void 0?this._zoom:i;var p=c.zoom(t*c.scale(i));return isNaN(p)?1/0:p},project:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.latLngToPoint(se(t),i)},unproject:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.pointToLatLng(q(t),i)},layerPointToLatLng:function(t){var i=q(t).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(t){var i=this.project(se(t))._round();return i._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(se(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(de(t))},distance:function(t,i){return this.options.crs.distance(se(t),se(i))},containerPointToLayerPoint:function(t){return q(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return q(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var i=this.containerPointToLayerPoint(q(t));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(se(t)))},mouseEventToContainerPoint:function(t){return Ho(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var i=this._container=hn(t);if(i){if(i._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Me(i,"scroll",this._onScroll,this),this._containerId=y(i)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&we.any3d,Re(t,"leaflet-container"+(we.touch?" leaflet-touch":"")+(we.retina?" leaflet-retina":"")+(we.ielt9?" leaflet-oldie":"")+(we.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var i=Fo(t,"position");i!=="absolute"&&i!=="relative"&&i!=="fixed"&&i!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),yt(this._mapPane,new B(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Re(t.markerPane,"leaflet-zoom-hide"),Re(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,i,c){yt(this._mapPane,new B(0,0));var p=!this._loaded;this._loaded=!0,i=this._limitZoom(i),this.fire("viewprereset");var _=this._zoom!==i;this._moveStart(_,c)._move(t,i)._moveEnd(_),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(t,i){return t&&this.fire("zoomstart"),i||this.fire("movestart"),this},_move:function(t,i,c,p){i===void 0&&(i=this._zoom);var _=this._zoom!==i;return this._zoom=i,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),p?c&&c.pinch&&this.fire("zoom",c):((_||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ie(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){yt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[y(this._container)]=this;var i=t?Xe:Me;i(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&i(window,"resize",this._onResize,this),we.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ie(this._resizeRequest),this._resizeRequest=ke(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,i){for(var c=[],p,_=i==="mouseout"||i==="mouseover",b=t.target||t.srcElement,O=!1;b;){if(p=this._targets[y(b)],p&&(i==="click"||i==="preclick")&&this._draggableMoved(p)){O=!0;break}if(p&&p.listens(i,!0)&&(_&&!Wo(b,t)||(c.push(p),_))||b===this._container)break;b=b.parentNode}return!c.length&&!O&&!_&&this.listens(i,!0)&&(c=[this]),c},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var i=t.target||t.srcElement;if(!(!this._loaded||i._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(i))){var c=t.type;c==="mousedown"&&eo(i),this._fireDOMEvent(t,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,i,c){if(t.type==="click"){var p=u({},t);p.type="preclick",this._fireDOMEvent(p,p.type,c)}var _=this._findEventTargets(t,i);if(c){for(var b=[],O=0;O<c.length;O++)c[O].listens(i,!0)&&b.push(c[O]);_=b.concat(_)}if(_.length){i==="contextmenu"&&ft(t);var D=_[0],G={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var Y=D.getLatLng&&(!D._radius||D._radius<=10);G.containerPoint=Y?this.latLngToContainerPoint(D.getLatLng()):this.mouseEventToContainerPoint(t),G.layerPoint=this.containerPointToLayerPoint(G.containerPoint),G.latlng=Y?D.getLatLng():this.layerPointToLatLng(G.layerPoint)}for(O=0;O<_.length;O++)if(_[O].fire(i,G,!0),G.originalEvent._stopped||_[O].options.bubblingMouseEvents===!1&&te(this._mouseEvents,i)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,i=this._handlers.length;t<i;t++)this._handlers[t].disable()},whenReady:function(t,i){return this._loaded?t.call(i||this,{target:this}):this.on("load",t,i),this},_getMapPanePos:function(){return Dn(this._mapPane)||new B(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,i){var c=t&&i!==void 0?this._getNewPixelOrigin(t,i):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,i){var c=this.getSize()._divideBy(2);return this.project(t,i)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,i,c){var p=this._getNewPixelOrigin(c,i);return this.project(t,i)._subtract(p)},_latLngBoundsToNewLayerBounds:function(t,i,c){var p=this._getNewPixelOrigin(c,i);return W([this.project(t.getSouthWest(),i)._subtract(p),this.project(t.getNorthWest(),i)._subtract(p),this.project(t.getSouthEast(),i)._subtract(p),this.project(t.getNorthEast(),i)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,i,c){if(!c)return t;var p=this.project(t,i),_=this.getSize().divideBy(2),b=new A(p.subtract(_),p.add(_)),O=this._getBoundsOffset(b,c,i);return Math.abs(O.x)<=1&&Math.abs(O.y)<=1?t:this.unproject(p.add(O),i)},_limitOffset:function(t,i){if(!i)return t;var c=this.getPixelBounds(),p=new A(c.min.add(t),c.max.add(t));return t.add(this._getBoundsOffset(p,i))},_getBoundsOffset:function(t,i,c){var p=W(this.project(i.getNorthEast(),c),this.project(i.getSouthWest(),c)),_=p.min.subtract(t.min),b=p.max.subtract(t.max),O=this._rebound(_.x,-b.x),D=this._rebound(_.y,-b.y);return new B(O,D)},_rebound:function(t,i){return t+i>0?Math.round(t-i)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(i))},_limitZoom:function(t){var i=this.getMinZoom(),c=this.getMaxZoom(),p=we.any3d?this.options.zoomSnap:1;return p&&(t=Math.round(t/p)*p),Math.max(i,Math.min(c,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){rt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,i){var c=this._getCenterOffset(t)._trunc();return(i&&i.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,i),!0)},_createAnimProxy:function(){var t=this._proxy=Ne("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(i){var c=Fs,p=this._proxy.style[c];fn(this._proxy,this.project(i.center,i.zoom),this.getZoomScale(i.zoom,1)),p===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){at(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),i=this.getZoom();fn(this._proxy,this.project(t,i),this.getZoomScale(i,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,i,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(i),_=this._getCenterOffset(t)._divideBy(1-1/p);return c.animate!==!0&&!this.getSize().contains(_)?!1:(ke(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(t,i,!0)},this),!0)},_animateZoom:function(t,i,c,p){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=i,Re(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:i,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(g(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&rt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function tr(t,i){return new Ge(t,i)}var Jt=ue.extend({options:{position:"topright"},initialize:function(t){j(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var i=this._map;return i&&i.removeControl(this),this.options.position=t,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var i=this._container=this.onAdd(t),c=this.getPosition(),p=t._controlCorners[c];return Re(i,"leaflet-control"),c.indexOf("bottom")!==-1?p.insertBefore(i,p.firstChild):p.appendChild(i),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(at(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),nr=function(t){return new Jt(t)};Ge.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},i="leaflet-",c=this._controlContainer=Ne("div",i+"control-container",this._container);function p(_,b){var O=i+_+" "+i+b;t[_+b]=Ne("div",O,c)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)at(this._controlCorners[t]);at(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Gs=Jt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,i,c,p){return c<p?-1:p<c?1:0}},initialize:function(t,i,c){j(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in t)this._addLayer(t[p],p);for(p in i)this._addLayer(i[p],p,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Jt.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,i){return this._addLayer(t,i),this._map?this._update():this},addOverlay:function(t,i){return this._addLayer(t,i,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var i=this._getLayer(y(t));return i&&this._layers.splice(this._layers.indexOf(i),1),this._map?this._update():this},expand:function(){Re(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(Re(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):rt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return rt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",i=this._container=Ne("div",t),c=this.options.collapsed;i.setAttribute("aria-haspopup",!0),Go(i),ji(i);var p=this._section=Ne("section",t+"-list");c&&(this._map.on("click",this.collapse,this),Me(i,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var _=this._layersLink=Ne("a",t+"-toggle",i);_.href="#",_.title="Layers",_.setAttribute("role","button"),Me(_,{keydown:function(b){b.keyCode===13&&this._expandSafely()},click:function(b){ft(b),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=Ne("div",t+"-base",p),this._separator=Ne("div",t+"-separator",p),this._overlaysList=Ne("div",t+"-overlays",p),i.appendChild(p)},_getLayer:function(t){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&y(this._layers[i].layer)===t)return this._layers[i]},_addLayer:function(t,i,c){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:i,overlay:c}),this.options.sortLayers&&this._layers.sort(g(function(p,_){return this.options.sortFunction(p.layer,_.layer,p.name,_.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ei(this._baseLayersList),Ei(this._overlaysList),this._layerControlInputs=[];var t,i,c,p,_=0;for(c=0;c<this._layers.length;c++)p=this._layers[c],this._addItem(p),i=i||p.overlay,t=t||!p.overlay,_+=p.overlay?0:1;return this.options.hideSingleBase&&(t=t&&_>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=i&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var i=this._getLayer(y(t.target)),c=i.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;c&&this._map.fire(c,i)},_createRadioElement:function(t,i){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(i?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=c,p.firstChild},_addItem:function(t){var i=document.createElement("label"),c=this._map.hasLayer(t.layer),p;t.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=c):p=this._createRadioElement("leaflet-base-layers_"+y(this),c),this._layerControlInputs.push(p),p.layerId=y(t.layer),Me(p,"click",this._onInputClick,this);var _=document.createElement("span");_.innerHTML=" "+t.name;var b=document.createElement("span");i.appendChild(b),b.appendChild(p),b.appendChild(_);var O=t.overlay?this._overlaysList:this._baseLayersList;return O.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,i,c,p=[],_=[];this._handlingClick=!0;for(var b=t.length-1;b>=0;b--)i=t[b],c=this._getLayer(i.layerId).layer,i.checked?p.push(c):i.checked||_.push(c);for(b=0;b<_.length;b++)this._map.hasLayer(_[b])&&this._map.removeLayer(_[b]);for(b=0;b<p.length;b++)this._map.hasLayer(p[b])||this._map.addLayer(p[b]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,i,c,p=this._map.getZoom(),_=t.length-1;_>=0;_--)i=t[_],c=this._getLayer(i.layerId).layer,i.disabled=c.options.minZoom!==void 0&&p<c.options.minZoom||c.options.maxZoom!==void 0&&p>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,Me(t,"click",ft),this.expand();var i=this;setTimeout(function(){Xe(t,"click",ft),i._preventClick=!1})}}),Oi=function(t,i,c){return new Gs(t,i,c)},to=Jt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var i="leaflet-control-zoom",c=Ne("div",i+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,i+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,i+"-out",c,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,i,c,p,_){var b=Ne("a",c,p);return b.innerHTML=t,b.href="#",b.title=i,b.setAttribute("role","button"),b.setAttribute("aria-label",i),Go(b),Me(b,"click",mn),Me(b,"click",_,this),Me(b,"click",this._refocusOnMap,this),b},_updateDisabled:function(){var t=this._map,i="leaflet-disabled";rt(this._zoomInButton,i),rt(this._zoomOutButton,i),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(Re(this._zoomOutButton,i),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(Re(this._zoomInButton,i),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ge.mergeOptions({zoomControl:!0}),Ge.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new to,this.addControl(this.zoomControl))});var nl=function(t){return new to(t)},Gt=Jt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var i="leaflet-control-scale",c=Ne("div",i),p=this.options;return this._addScales(p,i+"-line",c),t.on(p.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),c},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,i,c){t.metric&&(this._mScale=Ne("div",i,c)),t.imperial&&(this._iScale=Ne("div",i,c))},_update:function(){var t=this._map,i=t.getSize().y/2,c=t.distance(t.containerPointToLatLng([0,i]),t.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(c)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var i=this._getRoundNum(t),c=i<1e3?i+" m":i/1e3+" km";this._updateScale(this._mScale,c,i/t)},_updateImperial:function(t){var i=t*3.2808399,c,p,_;i>5280?(c=i/5280,p=this._getRoundNum(c),this._updateScale(this._iScale,p+" mi",p/c)):(_=this._getRoundNum(i),this._updateScale(this._iScale,_+" ft",_/i))},_updateScale:function(t,i,c){t.style.width=Math.round(this.options.maxWidth*c)+"px",t.innerHTML=i},_getRoundNum:function(t){var i=Math.pow(10,(Math.floor(t)+"").length-1),c=t/i;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,i*c}}),no=function(t){return new Gt(t)},Hs='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',br=Jt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(we.inlineSvg?Hs+" ":"")+"Leaflet</a>"},initialize:function(t){j(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=Ne("div","leaflet-control-attribution"),Go(this._container);for(var i in t._layers)t._layers[i].getAttribution&&this.addAttribution(t._layers[i].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var i in this._attributions)this._attributions[i]&&t.push(i);var c=[];this.options.prefix&&c.push(this.options.prefix),t.length&&c.push(t.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});Ge.mergeOptions({attributionControl:!0}),Ge.addInitHook(function(){this.options.attributionControl&&new br().addTo(this)});var Au=function(t){return new br(t)};Jt.Layers=Gs,Jt.Zoom=to,Jt.Scale=Gt,Jt.Attribution=br,nr.layers=Oi,nr.zoom=nl,nr.scale=no,nr.attribution=Au;var tn=ue.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});tn.addTo=function(t,i){return t.addHandler(i,this),this};var Ws={Events:fe},ro=we.touch?"touchstart mousedown":"mousedown",gn=Le.extend({options:{clickTolerance:3},initialize:function(t,i,c,p){j(this,p),this._element=t,this._dragStartTarget=i||t,this._preventOutline=c},enable:function(){this._enabled||(Me(this._dragStartTarget,ro,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(gn._dragging===this&&this.finishDrag(!0),Xe(this._dragStartTarget,ro,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!Yr(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){gn._dragging===this&&this.finishDrag();return}if(!(gn._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(gn._dragging=this,this._preventOutline&&eo(this._element),Ti(),We(),!this._moving)){this.fire("down");var i=t.touches?t.touches[0]:t,c=Fn(this._element);this._startPoint=new B(i.clientX,i.clientY),this._startPos=Dn(this._element),this._parentScale=bn(c);var p=t.type==="mousedown";Me(document,p?"mousemove":"touchmove",this._onMove,this),Me(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var i=t.touches&&t.touches.length===1?t.touches[0]:t,c=new B(i.clientX,i.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,ft(t),this._moved||(this.fire("dragstart"),this._moved=!0,Re(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Re(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),yt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){rt(document.body,"leaflet-dragging"),this._lastTarget&&(rt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Xe(document,"mousemove touchmove",this._onMove,this),Xe(document,"mouseup touchend touchcancel",this._onUp,this),Li(),Xr();var i=this._moved&&this._moving;this._moving=!1,gn._dragging=!1,i&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Zs(t,i,c){var p,_=[1,4,2,8],b,O,D,G,Y,ce,Ee,ze;for(b=0,ce=t.length;b<ce;b++)t[b]._code=Er(t[b],i);for(D=0;D<4;D++){for(Ee=_[D],p=[],b=0,ce=t.length,O=ce-1;b<ce;O=b++)G=t[b],Y=t[O],G._code&Ee?Y._code&Ee||(ze=Ni(Y,G,Ee,i,c),ze._code=Er(ze,i),p.push(ze)):(Y._code&Ee&&(ze=Ni(Y,G,Ee,i,c),ze._code=Er(ze,i),p.push(ze)),p.push(G));t=p}return t}function rl(t,i){var c,p,_,b,O,D,G,Y,ce;if(!t||t.length===0)throw new Error("latlngs not passed");nn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Ee=se([0,0]),ze=de(t),Lt=ze.getNorthWest().distanceTo(ze.getSouthWest())*ze.getNorthEast().distanceTo(ze.getNorthWest());Lt<1700&&(Ee=Vs(t));var kt=t.length,Qt=[];for(c=0;c<kt;c++){var Ht=se(t[c]);Qt.push(i.project(se([Ht.lat-Ee.lat,Ht.lng-Ee.lng])))}for(D=G=Y=0,c=0,p=kt-1;c<kt;p=c++)_=Qt[c],b=Qt[p],O=_.y*b.x-b.y*_.x,G+=(_.x+b.x)*O,Y+=(_.y+b.y)*O,D+=O*3;D===0?ce=Qt[0]:ce=[G/D,Y/D];var po=i.unproject(q(ce));return se([po.lat+Ee.lat,po.lng+Ee.lng])}function Vs(t){for(var i=0,c=0,p=0,_=0;_<t.length;_++){var b=se(t[_]);i+=b.lat,c+=b.lng,p++}return se([i/p,c/p])}var Ou={__proto__:null,clipPolygon:Zs,polygonCenter:rl,centroid:Vs};function Ii(t,i){if(!i||!t.length)return t.slice();var c=i*i;return t=zu(t,c),t=Nu(t,c),t}function ol(t,i,c){return Math.sqrt(Cr(t,i,c,!0))}function Iu(t,i,c){return Cr(t,i,c)}function Nu(t,i){var c=t.length,p=typeof Uint8Array<"u"?Uint8Array:Array,_=new p(c);_[0]=_[c-1]=1,qs(t,_,i,0,c-1);var b,O=[];for(b=0;b<c;b++)_[b]&&O.push(t[b]);return O}function qs(t,i,c,p,_){var b=0,O,D,G;for(D=p+1;D<=_-1;D++)G=Cr(t[D],t[p],t[_],!0),G>b&&(O=D,b=G);b>c&&(i[O]=1,qs(t,i,c,p,O),qs(t,i,c,O,_))}function zu(t,i){for(var c=[t[0]],p=1,_=0,b=t.length;p<b;p++)Du(t[p],t[_])>i&&(c.push(t[p]),_=p);return _<b-1&&c.push(t[b-1]),c}var Ks;function il(t,i,c,p,_){var b=p?Ks:Er(t,c),O=Er(i,c),D,G,Y;for(Ks=O;;){if(!(b|O))return[t,i];if(b&O)return!1;D=b||O,G=Ni(t,i,D,c,_),Y=Er(G,c),D===b?(t=G,b=Y):(i=G,O=Y)}}function Ni(t,i,c,p,_){var b=i.x-t.x,O=i.y-t.y,D=p.min,G=p.max,Y,ce;return c&8?(Y=t.x+b*(G.y-t.y)/O,ce=G.y):c&4?(Y=t.x+b*(D.y-t.y)/O,ce=D.y):c&2?(Y=G.x,ce=t.y+O*(G.x-t.x)/b):c&1&&(Y=D.x,ce=t.y+O*(D.x-t.x)/b),new B(Y,ce,_)}function Er(t,i){var c=0;return t.x<i.min.x?c|=1:t.x>i.max.x&&(c|=2),t.y<i.min.y?c|=4:t.y>i.max.y&&(c|=8),c}function Du(t,i){var c=i.x-t.x,p=i.y-t.y;return c*c+p*p}function Cr(t,i,c,p){var _=i.x,b=i.y,O=c.x-_,D=c.y-b,G=O*O+D*D,Y;return G>0&&(Y=((t.x-_)*O+(t.y-b)*D)/G,Y>1?(_=c.x,b=c.y):Y>0&&(_+=O*Y,b+=D*Y)),O=t.x-_,D=t.y-b,p?O*O+D*D:new B(_,b)}function nn(t){return!Z(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function sl(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),nn(t)}function al(t,i){var c,p,_,b,O,D,G,Y;if(!t||t.length===0)throw new Error("latlngs not passed");nn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var ce=se([0,0]),Ee=de(t),ze=Ee.getNorthWest().distanceTo(Ee.getSouthWest())*Ee.getNorthEast().distanceTo(Ee.getNorthWest());ze<1700&&(ce=Vs(t));var Lt=t.length,kt=[];for(c=0;c<Lt;c++){var Qt=se(t[c]);kt.push(i.project(se([Qt.lat-ce.lat,Qt.lng-ce.lng])))}for(c=0,p=0;c<Lt-1;c++)p+=kt[c].distanceTo(kt[c+1])/2;if(p===0)Y=kt[0];else for(c=0,b=0;c<Lt-1;c++)if(O=kt[c],D=kt[c+1],_=O.distanceTo(D),b+=_,b>p){G=(b-p)/_,Y=[D.x-G*(D.x-O.x),D.y-G*(D.y-O.y)];break}var Ht=i.unproject(q(Y));return se([Ht.lat+ce.lat,Ht.lng+ce.lng])}var ll={__proto__:null,simplify:Ii,pointToSegmentDistance:ol,closestPointOnSegment:Iu,clipSegment:il,_getEdgeIntersection:Ni,_getBitCode:Er,_sqClosestPointOnSegment:Cr,isFlat:nn,_flat:sl,polylineCenter:al},Js={project:function(t){return new B(t.lng,t.lat)},unproject:function(t){return new ae(t.y,t.x)},bounds:new A([-180,-90],[180,90])},Ys={R:6378137,R_MINOR:6356752314245179e-9,bounds:new A([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var i=Math.PI/180,c=this.R,p=t.lat*i,_=this.R_MINOR/c,b=Math.sqrt(1-_*_),O=b*Math.sin(p),D=Math.tan(Math.PI/4-p/2)/Math.pow((1-O)/(1+O),b/2);return p=-c*Math.log(Math.max(D,1e-10)),new B(t.lng*i*c,p)},unproject:function(t){for(var i=180/Math.PI,c=this.R,p=this.R_MINOR/c,_=Math.sqrt(1-p*p),b=Math.exp(-t.y/c),O=Math.PI/2-2*Math.atan(b),D=0,G=.1,Y;D<15&&Math.abs(G)>1e-7;D++)Y=_*Math.sin(O),Y=Math.pow((1-Y)/(1+Y),_/2),G=Math.PI/2-2*Math.atan(b*Y)-O,O+=G;return new ae(O*i,t.x*i/c)}},Fu={__proto__:null,LonLat:Js,Mercator:Ys,SphericalMercator:qe},Bu=u({},Ce,{code:"EPSG:3395",projection:Ys,transformation:function(){var t=.5/(Math.PI*Ys.R);return Pt(t,.5,-t,.5)}()}),ul=u({},Ce,{code:"EPSG:4326",projection:Js,transformation:Pt(1/180,1,-1/180,.5)}),Uu=u({},be,{projection:Js,transformation:Pt(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,i){var c=i.lng-t.lng,p=i.lat-t.lat;return Math.sqrt(c*c+p*p)},infinite:!0});be.Earth=Ce,be.EPSG3395=Bu,be.EPSG3857=wt,be.EPSG900913=St,be.EPSG4326=ul,be.Simple=Uu;var vn=Le.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[y(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[y(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var i=t.target;if(i.hasLayer(this)){if(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents){var c=this.getEvents();i.on(c,this),this.once("remove",function(){i.off(c,this)},this)}this.onAdd(i),this.fire("add"),i.fire("layeradd",{layer:this})}}});Ge.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var i=y(t);return this._layers[i]?this:(this._layers[i]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var i=y(t);return this._layers[i]?(this._loaded&&t.onRemove(this),delete this._layers[i],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return y(t)in this._layers},eachLayer:function(t,i){for(var c in this._layers)t.call(i,this._layers[c]);return this},_addLayers:function(t){t=t?Z(t)?t:[t]:[];for(var i=0,c=t.length;i<c;i++)this.addLayer(t[i])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[y(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var i=y(t);this._zoomBoundLayers[i]&&(delete this._zoomBoundLayers[i],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,i=-1/0,c=this._getZoomSpan();for(var p in this._zoomBoundLayers){var _=this._zoomBoundLayers[p].options;t=_.minZoom===void 0?t:Math.min(t,_.minZoom),i=_.maxZoom===void 0?i:Math.max(i,_.maxZoom)}this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=t===1/0?void 0:t,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var rr=vn.extend({initialize:function(t,i){j(this,i),this._layers={};var c,p;if(t)for(c=0,p=t.length;c<p;c++)this.addLayer(t[c])},addLayer:function(t){var i=this.getLayerId(t);return this._layers[i]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var i=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[i]&&this._map.removeLayer(this._layers[i]),delete this._layers[i],this},hasLayer:function(t){var i=typeof t=="number"?t:this.getLayerId(t);return i in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var i=Array.prototype.slice.call(arguments,1),c,p;for(c in this._layers)p=this._layers[c],p[t]&&p[t].apply(p,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,i){for(var c in this._layers)t.call(i,this._layers[c]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return y(t)}}),Zo=function(t,i){return new rr(t,i)},Bn=rr.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),rr.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),rr.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new $;for(var i in this._layers){var c=this._layers[i];t.extend(c.getBounds?c.getBounds():c.getLatLng())}return t}}),cl=function(t,i){return new Bn(t,i)},Pr=ue.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){j(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,i){var c=this._getIconUrl(t);if(!c){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(c,i&&i.tagName==="IMG"?i:null);return this._setIconStyles(p,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(t,i){var c=this.options,p=c[i+"Size"];typeof p=="number"&&(p=[p,p]);var _=q(p),b=q(i==="shadow"&&c.shadowAnchor||c.iconAnchor||_&&_.divideBy(2,!0));t.className="leaflet-marker-"+i+" "+(c.className||""),b&&(t.style.marginLeft=-b.x+"px",t.style.marginTop=-b.y+"px"),_&&(t.style.width=_.x+"px",t.style.height=_.y+"px")},_createImg:function(t,i){return i=i||document.createElement("img"),i.src=t,i},_getIconUrl:function(t){return we.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function dl(t){return new Pr(t)}var oo=Pr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof oo.imagePath!="string"&&(oo.imagePath=this._detectIconPath()),(this.options.imagePath||oo.imagePath)+Pr.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var i=function(c,p,_){var b=p.exec(c);return b&&b[_]};return t=i(t,/^url\((['"])?(.+)\1\)$/,2),t&&i(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=Ne("div","leaflet-default-icon-path",document.body),i=Fo(t,"background-image")||Fo(t,"backgroundImage");if(document.body.removeChild(t),i=this._stripUrl(i),i)return i;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),Qs=tn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new gn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Re(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&rt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var i=this._marker,c=i._map,p=this._marker.options.autoPanSpeed,_=this._marker.options.autoPanPadding,b=Dn(i._icon),O=c.getPixelBounds(),D=c.getPixelOrigin(),G=W(O.min._subtract(D).add(_),O.max._subtract(D).subtract(_));if(!G.contains(b)){var Y=q((Math.max(G.max.x,b.x)-G.max.x)/(O.max.x-G.max.x)-(Math.min(G.min.x,b.x)-G.min.x)/(O.min.x-G.min.x),(Math.max(G.max.y,b.y)-G.max.y)/(O.max.y-G.max.y)-(Math.min(G.min.y,b.y)-G.min.y)/(O.min.y-G.min.y)).multiplyBy(p);c.panBy(Y,{animate:!1}),this._draggable._newPos._add(Y),this._draggable._startPos._add(Y),yt(i._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=ke(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(ie(this._panRequest),this._panRequest=ke(this._adjustPan.bind(this,t)))},_onDrag:function(t){var i=this._marker,c=i._shadow,p=Dn(i._icon),_=i._map.layerPointToLatLng(p);c&&yt(c,p),i._latlng=_,t.latlng=_,t.oldLatLng=this._oldLatLng,i.fire("move",t).fire("drag",t)},_onDragEnd:function(t){ie(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Un=vn.extend({options:{icon:new oo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,i){j(this,i),this._latlng=se(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var i=this._latlng;return this._latlng=se(t),this.update(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,i="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=t.icon.createIcon(this._icon),p=!1;c!==this._icon&&(this._icon&&this._removeIcon(),p=!0,t.title&&(c.title=t.title),c.tagName==="IMG"&&(c.alt=t.alt||"")),Re(c,i),t.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Me(c,"focus",this._panOnFocus,this);var _=t.icon.createShadow(this._shadow),b=!1;_!==this._shadow&&(this._removeShadow(),b=!0),_&&(Re(_,i),_.alt=""),this._shadow=_,t.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),_&&b&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Xe(this._icon,"focus",this._panOnFocus,this),at(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&at(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&yt(this._icon,t),this._shadow&&yt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(i)},_initInteraction:function(){if(this.options.interactive&&(Re(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Qs)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Qs(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&$t(this._icon,t),this._shadow&&$t(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var i=this.options.icon.options,c=i.iconSize?q(i.iconSize):q(0,0),p=i.iconAnchor?q(i.iconAnchor):q(0,0);t.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:c.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function $u(t,i){return new Un(t,i)}var or=vn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return j(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),zi=or.extend({options:{fill:!0,radius:10},initialize:function(t,i){j(this,i),this._latlng=se(t),this._radius=this.options.radius},setLatLng:function(t){var i=this._latlng;return this._latlng=se(t),this.redraw(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var i=t&&t.radius||this._radius;return or.prototype.setStyle.call(this,t),this.setRadius(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,i=this._radiusY||t,c=this._clickTolerance(),p=[t+c,i+c];this._pxBounds=new A(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function hl(t,i){return new zi(t,i)}var Di=zi.extend({initialize:function(t,i,c){if(typeof i=="number"&&(i=u({},c,{radius:i})),j(this,i),this._latlng=se(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new $(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:or.prototype.setStyle,_project:function(){var t=this._latlng.lng,i=this._latlng.lat,c=this._map,p=c.options.crs;if(p.distance===Ce.distance){var _=Math.PI/180,b=this._mRadius/Ce.R/_,O=c.project([i+b,t]),D=c.project([i-b,t]),G=O.add(D).divideBy(2),Y=c.unproject(G).lat,ce=Math.acos((Math.cos(b*_)-Math.sin(i*_)*Math.sin(Y*_))/(Math.cos(i*_)*Math.cos(Y*_)))/_;(isNaN(ce)||ce===0)&&(ce=b/Math.cos(Math.PI/180*i)),this._point=G.subtract(c.getPixelOrigin()),this._radius=isNaN(ce)?0:G.x-c.project([Y,t-ce]).x,this._radiusY=G.y-O.y}else{var Ee=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(Ee).x}this._updateBounds()}});function Vo(t,i,c){return new Di(t,i,c)}var Yt=or.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,i){j(this,i),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var i=1/0,c=null,p=Cr,_,b,O=0,D=this._parts.length;O<D;O++)for(var G=this._parts[O],Y=1,ce=G.length;Y<ce;Y++){_=G[Y-1],b=G[Y];var Ee=p(t,_,b,!0);Ee<i&&(i=Ee,c=p(t,_,b))}return c&&(c.distance=Math.sqrt(i)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return al(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,i){return i=i||this._defaultShape(),t=se(t),i.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new $,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return nn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var i=[],c=nn(t),p=0,_=t.length;p<_;p++)c?(i[p]=se(t[p]),this._bounds.extend(i[p])):i[p]=this._convertLatLngs(t[p]);return i},_project:function(){var t=new A;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),i=new B(t,t);this._rawPxBounds&&(this._pxBounds=new A([this._rawPxBounds.min.subtract(i),this._rawPxBounds.max.add(i)]))},_projectLatlngs:function(t,i,c){var p=t[0]instanceof ae,_=t.length,b,O;if(p){for(O=[],b=0;b<_;b++)O[b]=this._map.latLngToLayerPoint(t[b]),c.extend(O[b]);i.push(O)}else for(b=0;b<_;b++)this._projectLatlngs(t[b],i,c)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var i=this._parts,c,p,_,b,O,D,G;for(c=0,_=0,b=this._rings.length;c<b;c++)for(G=this._rings[c],p=0,O=G.length;p<O-1;p++)D=il(G[p],G[p+1],t,p,!0),D&&(i[_]=i[_]||[],i[_].push(D[0]),(D[1]!==G[p+1]||p===O-2)&&(i[_].push(D[1]),_++))}},_simplifyPoints:function(){for(var t=this._parts,i=this.options.smoothFactor,c=0,p=t.length;c<p;c++)t[c]=Ii(t[c],i)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,i){var c,p,_,b,O,D,G=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(c=0,b=this._parts.length;c<b;c++)for(D=this._parts[c],p=0,O=D.length,_=O-1;p<O;_=p++)if(!(!i&&p===0)&&ol(t,D[_],D[p])<=G)return!0;return!1}});function Gu(t,i){return new Yt(t,i)}Yt._flat=sl;var $n=Yt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return rl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var i=Yt.prototype._convertLatLngs.call(this,t),c=i.length;return c>=2&&i[0]instanceof ae&&i[0].equals(i[c-1])&&i.pop(),i},_setLatLngs:function(t){Yt.prototype._setLatLngs.call(this,t),nn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return nn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,i=this.options.weight,c=new B(i,i);if(t=new A(t.min.subtract(c),t.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,_=this._rings.length,b;p<_;p++)b=Zs(this._rings[p],t,!0),b.length&&this._parts.push(b)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var i=!1,c,p,_,b,O,D,G,Y;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(b=0,G=this._parts.length;b<G;b++)for(c=this._parts[b],O=0,Y=c.length,D=Y-1;O<Y;D=O++)p=c[O],_=c[D],p.y>t.y!=_.y>t.y&&t.x<(_.x-p.x)*(t.y-p.y)/(_.y-p.y)+p.x&&(i=!i);return i||Yt.prototype._containsPoint.call(this,t,!0)}});function Hu(t,i){return new $n(t,i)}var Cn=Bn.extend({initialize:function(t,i){j(this,i),this._layers={},t&&this.addData(t)},addData:function(t){var i=Z(t)?t:t.features,c,p,_;if(i){for(c=0,p=i.length;c<p;c++)_=i[c],(_.geometries||_.geometry||_.features||_.coordinates)&&this.addData(_);return this}var b=this.options;if(b.filter&&!b.filter(t))return this;var O=io(t,b);return O?(O.feature=Gi(t),O.defaultOptions=O.options,this.resetStyle(O),b.onEachFeature&&b.onEachFeature(t,O),this.addLayer(O)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=u({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(i){this._setLayerStyle(i,t)},this)},_setLayerStyle:function(t,i){t.setStyle&&(typeof i=="function"&&(i=i(t.feature)),t.setStyle(i))}});function io(t,i){var c=t.type==="Feature"?t.geometry:t,p=c?c.coordinates:null,_=[],b=i&&i.pointToLayer,O=i&&i.coordsToLatLng||Bi,D,G,Y,ce;if(!p&&!c)return null;switch(c.type){case"Point":return D=O(p),Fi(b,t,D,i);case"MultiPoint":for(Y=0,ce=p.length;Y<ce;Y++)D=O(p[Y]),_.push(Fi(b,t,D,i));return new Bn(_);case"LineString":case"MultiLineString":return G=qo(p,c.type==="LineString"?0:1,O),new Yt(G,i);case"Polygon":case"MultiPolygon":return G=qo(p,c.type==="Polygon"?1:2,O),new $n(G,i);case"GeometryCollection":for(Y=0,ce=c.geometries.length;Y<ce;Y++){var Ee=io({geometry:c.geometries[Y],type:"Feature",properties:t.properties},i);Ee&&_.push(Ee)}return new Bn(_);case"FeatureCollection":for(Y=0,ce=c.features.length;Y<ce;Y++){var ze=io(c.features[Y],i);ze&&_.push(ze)}return new Bn(_);default:throw new Error("Invalid GeoJSON object.")}}function Fi(t,i,c,p){return t?t(i,c):new Un(c,p&&p.markersInheritOptions&&p)}function Bi(t){return new ae(t[1],t[0],t[2])}function qo(t,i,c){for(var p=[],_=0,b=t.length,O;_<b;_++)O=i?qo(t[_],i-1,c):(c||Bi)(t[_]),p.push(O);return p}function Ui(t,i){return t=se(t),t.alt!==void 0?[T(t.lng,i),T(t.lat,i),T(t.alt,i)]:[T(t.lng,i),T(t.lat,i)]}function $i(t,i,c,p){for(var _=[],b=0,O=t.length;b<O;b++)_.push(i?$i(t[b],nn(t[b])?0:i-1,c,p):Ui(t[b],p));return!i&&c&&_.length>0&&_.push(_[0].slice()),_}function so(t,i){return t.feature?u({},t.feature,{geometry:i}):Gi(i)}function Gi(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var Xs={toGeoJSON:function(t){return so(this,{type:"Point",coordinates:Ui(this.getLatLng(),t)})}};Un.include(Xs),Di.include(Xs),zi.include(Xs),Yt.include({toGeoJSON:function(t){var i=!nn(this._latlngs),c=$i(this._latlngs,i?1:0,!1,t);return so(this,{type:(i?"Multi":"")+"LineString",coordinates:c})}}),$n.include({toGeoJSON:function(t){var i=!nn(this._latlngs),c=i&&!nn(this._latlngs[0]),p=$i(this._latlngs,c?2:i?1:0,!0,t);return i||(p=[p]),so(this,{type:(c?"Multi":"")+"Polygon",coordinates:p})}}),rr.include({toMultiPoint:function(t){var i=[];return this.eachLayer(function(c){i.push(c.toGeoJSON(t).geometry.coordinates)}),so(this,{type:"MultiPoint",coordinates:i})},toGeoJSON:function(t){var i=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(i==="MultiPoint")return this.toMultiPoint(t);var c=i==="GeometryCollection",p=[];return this.eachLayer(function(_){if(_.toGeoJSON){var b=_.toGeoJSON(t);if(c)p.push(b.geometry);else{var O=Gi(b);O.type==="FeatureCollection"?p.push.apply(p,O.features):p.push(O)}}}),c?so(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function fl(t,i){return new Cn(t,i)}var yn=fl,ir=vn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,i,c){this._url=t,this._bounds=de(i),j(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Re(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){at(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Jr(this._image),this},bringToBack:function(){return this._map&&zn(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=de(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",i=this._image=t?this._url:Ne("img");if(Re(i,"leaflet-image-layer"),this._zoomAnimated&&Re(i,"leaflet-zoom-animated"),this.options.className&&Re(i,this.options.className),i.onselectstart=E,i.onmousemove=E,i.onload=g(this.fire,this,"load"),i.onerror=g(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=i.src;return}i.src=this._url,i.alt=this.options.alt},_animateZoom:function(t){var i=this._map.getZoomScale(t.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;fn(this._image,c,i)},_reset:function(){var t=this._image,i=new A(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=i.getSize();yt(t,i.min),t.style.width=c.x+"px",t.style.height=c.y+"px"},_updateOpacity:function(){$t(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),pl=function(t,i,c){return new ir(t,i,c)},ea=ir.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",i=this._image=t?this._url:Ne("video");if(Re(i,"leaflet-image-layer"),this._zoomAnimated&&Re(i,"leaflet-zoom-animated"),this.options.className&&Re(i,this.options.className),i.onselectstart=E,i.onmousemove=E,i.onloadeddata=g(this.fire,this,"load"),t){for(var c=i.getElementsByTagName("source"),p=[],_=0;_<c.length;_++)p.push(c[_].src);this._url=c.length>0?p:[i.src];return}Z(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(i.style,"objectFit")&&(i.style.objectFit="fill"),i.autoplay=!!this.options.autoplay,i.loop=!!this.options.loop,i.muted=!!this.options.muted,i.playsInline=!!this.options.playsInline;for(var b=0;b<this._url.length;b++){var O=Ne("source");O.src=this._url[b],i.appendChild(O)}}});function ml(t,i,c){return new ea(t,i,c)}var ta=ir.extend({_initImage:function(){var t=this._image=this._url;Re(t,"leaflet-image-layer"),this._zoomAnimated&&Re(t,"leaflet-zoom-animated"),this.options.className&&Re(t,this.options.className),t.onselectstart=E,t.onmousemove=E}});function na(t,i,c){return new ta(t,i,c)}var Pn=vn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,i){t&&(t instanceof ae||Z(t))?(this._latlng=se(t),j(this,i)):(j(this,t),this._source=i),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&$t(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&$t(this._container,1),this.bringToFront(),this.options.interactive&&(Re(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?($t(this._container,0),this._removeTimeout=setTimeout(g(at,void 0,this._container),200)):at(this._container),this.options.interactive&&(rt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=se(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Jr(this._container),this},bringToBack:function(){return this._map&&zn(this._container),this},_prepareOpen:function(t){var i=this._source;if(!i._map)return!1;if(i instanceof Bn){i=null;var c=this._source._layers;for(var p in c)if(c[p]._map){i=c[p];break}if(!i)return!1;this._source=i}if(!t)if(i.getCenter)t=i.getCenter();else if(i.getLatLng)t=i.getLatLng();else if(i.getBounds)t=i.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,i=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof i=="string")t.innerHTML=i;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(i)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),i=q(this.options.offset),c=this._getAnchor();this._zoomAnimated?yt(this._container,t.add(c)):i=i.add(t).add(c);var p=this._containerBottom=-i.y,_=this._containerLeft=-Math.round(this._containerWidth/2)+i.x;this._container.style.bottom=p+"px",this._container.style.left=_+"px"}},_getAnchor:function(){return[0,0]}});Ge.include({_initOverlay:function(t,i,c,p){var _=i;return _ instanceof t||(_=new t(p).setContent(i)),c&&_.setLatLng(c),_}}),vn.include({_initOverlay:function(t,i,c,p){var _=c;return _ instanceof t?(j(_,p),_._source=this):(_=i&&!p?i:new t(p,this),_.setContent(c)),_}});var Hi=Pn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Pn.prototype.openOn.call(this,t)},onAdd:function(t){Pn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof or||this._source.on("preclick",En))},onRemove:function(t){Pn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof or||this._source.off("preclick",En))},getEvents:function(){var t=Pn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",i=this._container=Ne("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=Ne("div",t+"-content-wrapper",i);if(this._contentNode=Ne("div",t+"-content",c),Go(i),ji(this._contentNode),Me(i,"contextmenu",En),this._tipContainer=Ne("div",t+"-tip-container",i),this._tip=Ne("div",t+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=Ne("a",t+"-close-button",i);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',Me(p,"click",function(_){ft(_),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,i=t.style;i.width="",i.whiteSpace="nowrap";var c=t.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),i.width=c+1+"px",i.whiteSpace="",i.height="";var p=t.offsetHeight,_=this.options.maxHeight,b="leaflet-popup-scrolled";_&&p>_?(i.height=_+"px",Re(t,b)):rt(t,b),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),c=this._getAnchor();yt(this._container,i.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,i=parseInt(Fo(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+i,p=this._containerWidth,_=new B(this._containerLeft,-c-this._containerBottom);_._add(Dn(this._container));var b=t.layerPointToContainerPoint(_),O=q(this.options.autoPanPadding),D=q(this.options.autoPanPaddingTopLeft||O),G=q(this.options.autoPanPaddingBottomRight||O),Y=t.getSize(),ce=0,Ee=0;b.x+p+G.x>Y.x&&(ce=b.x+p-Y.x+G.x),b.x-ce-D.x<0&&(ce=b.x-D.x),b.y+c+G.y>Y.y&&(Ee=b.y+c-Y.y+G.y),b.y-Ee-D.y<0&&(Ee=b.y-D.y),(ce||Ee)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([ce,Ee]))}},_getAnchor:function(){return q(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ao=function(t,i){return new Hi(t,i)};Ge.mergeOptions({closePopupOnClick:!0}),Ge.include({openPopup:function(t,i,c){return this._initOverlay(Hi,t,i,c).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),vn.include({bindPopup:function(t,i){return this._popup=this._initOverlay(Hi,this._popup,t,i),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Bn||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){mn(t);var i=t.layer||t.target;if(this._popup._source===i&&!(i instanceof or)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=i,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var lo=Pn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Pn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Pn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Pn.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",i=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ne("div",i),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var i,c,p=this._map,_=this._container,b=p.latLngToContainerPoint(p.getCenter()),O=p.layerPointToContainerPoint(t),D=this.options.direction,G=_.offsetWidth,Y=_.offsetHeight,ce=q(this.options.offset),Ee=this._getAnchor();D==="top"?(i=G/2,c=Y):D==="bottom"?(i=G/2,c=0):D==="center"?(i=G/2,c=Y/2):D==="right"?(i=0,c=Y/2):D==="left"?(i=G,c=Y/2):O.x<b.x?(D="right",i=0,c=Y/2):(D="left",i=G+(ce.x+Ee.x)*2,c=Y/2),t=t.subtract(q(i,c,!0)).add(ce).add(Ee),rt(_,"leaflet-tooltip-right"),rt(_,"leaflet-tooltip-left"),rt(_,"leaflet-tooltip-top"),rt(_,"leaflet-tooltip-bottom"),Re(_,"leaflet-tooltip-"+D),yt(_,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&$t(this._container,t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(i)},_getAnchor:function(){return q(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ko=function(t,i){return new lo(t,i)};Ge.include({openTooltip:function(t,i,c){return this._initOverlay(lo,t,i,c).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),vn.include({bindTooltip:function(t,i){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(lo,this._tooltip,t,i),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var i=t?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[i](c),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Bn||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var i=typeof t.getElement=="function"&&t.getElement();i&&(Me(i,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),Me(i,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var i=typeof t.getElement=="function"&&t.getElement();i&&i.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var i=this;this._map.once("moveend",function(){i._openOnceFlag=!1,i._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var i=t.latlng,c,p;this._tooltip.options.sticky&&t.originalEvent&&(c=this._map.mouseEventToContainerPoint(t.originalEvent),p=this._map.containerPointToLayerPoint(c),i=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(i)}});var Wi=Pr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var i=t&&t.tagName==="DIV"?t:document.createElement("div"),c=this.options;if(c.html instanceof Element?(Ei(i),i.appendChild(c.html)):i.innerHTML=c.html!==!1?c.html:"",c.bgPos){var p=q(c.bgPos);i.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(i,"icon"),i},createShadow:function(){return null}});function gl(t){return new Wi(t)}Pr.Default=oo;var sr=vn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:we.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){j(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),at(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Jr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(zn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=w(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof B?t:new B(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var i=this.getPane().children,c=-t(-1/0,1/0),p=0,_=i.length,b;p<_;p++)b=i[p].style.zIndex,i[p]!==this._container&&b&&(c=t(c,+b));isFinite(c)&&(this.options.zIndex=c+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!we.ielt9){$t(this._container,this.options.opacity);var t=+new Date,i=!1,c=!1;for(var p in this._tiles){var _=this._tiles[p];if(!(!_.current||!_.loaded)){var b=Math.min(1,(t-_.loaded)/200);$t(_.el,b),b<1?i=!0:(_.active?c=!0:this._onOpaqueTile(_),_.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),i&&(ie(this._fadeFrame),this._fadeFrame=ke(this._updateOpacity,this))}},_onOpaqueTile:E,_initContainer:function(){this._container||(this._container=Ne("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,i=this.options.maxZoom;if(t!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===t?(this._levels[c].el.style.zIndex=i-Math.abs(t-c),this._onUpdateLevel(c)):(at(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var p=this._levels[t],_=this._map;return p||(p=this._levels[t]={},p.el=Ne("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=i,p.origin=_.project(_.unproject(_.getPixelOrigin()),t).round(),p.zoom=t,this._setZoomTransform(p,_.getCenter(),_.getZoom()),E(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:E,_onRemoveLevel:E,_onCreateLevel:E,_pruneTiles:function(){if(this._map){var t,i,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)i=this._tiles[t],i.retain=i.current;for(t in this._tiles)if(i=this._tiles[t],i.current&&!i.active){var p=i.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var i in this._tiles)this._tiles[i].coords.z===t&&this._removeTile(i)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)at(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,i,c,p){var _=Math.floor(t/2),b=Math.floor(i/2),O=c-1,D=new B(+_,+b);D.z=+O;var G=this._tileCoordsToKey(D),Y=this._tiles[G];return Y&&Y.active?(Y.retain=!0,!0):(Y&&Y.loaded&&(Y.retain=!0),O>p?this._retainParent(_,b,O,p):!1)},_retainChildren:function(t,i,c,p){for(var _=2*t;_<2*t+2;_++)for(var b=2*i;b<2*i+2;b++){var O=new B(_,b);O.z=c+1;var D=this._tileCoordsToKey(O),G=this._tiles[D];if(G&&G.active){G.retain=!0;continue}else G&&G.loaded&&(G.retain=!0);c+1<p&&this._retainChildren(_,b,c+1,p)}},_resetView:function(t){var i=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),i,i)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var i=this.options;return i.minNativeZoom!==void 0&&t<i.minNativeZoom?i.minNativeZoom:i.maxNativeZoom!==void 0&&i.maxNativeZoom<t?i.maxNativeZoom:t},_setView:function(t,i,c,p){var _=Math.round(i);this.options.maxZoom!==void 0&&_>this.options.maxZoom||this.options.minZoom!==void 0&&_<this.options.minZoom?_=void 0:_=this._clampZoom(_);var b=this.options.updateWhenZooming&&_!==this._tileZoom;(!p||b)&&(this._tileZoom=_,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),_!==void 0&&this._update(t),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(t,i)},_setZoomTransforms:function(t,i){for(var c in this._levels)this._setZoomTransform(this._levels[c],t,i)},_setZoomTransform:function(t,i,c){var p=this._map.getZoomScale(c,t.zoom),_=t.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(i,c)).round();we.any3d?fn(t.el,_,p):yt(t.el,_)},_resetGrid:function(){var t=this._map,i=t.options.crs,c=this._tileSize=this.getTileSize(),p=this._tileZoom,_=this._map.getPixelWorldBounds(this._tileZoom);_&&(this._globalTileRange=this._pxBoundsToTileRange(_)),this._wrapX=i.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,i.wrapLng[0]],p).x/c.x),Math.ceil(t.project([0,i.wrapLng[1]],p).x/c.y)],this._wrapY=i.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([i.wrapLat[0],0],p).y/c.x),Math.ceil(t.project([i.wrapLat[1],0],p).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var i=this._map,c=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),p=i.getZoomScale(c,this._tileZoom),_=i.project(t,this._tileZoom).floor(),b=i.getSize().divideBy(p*2);return new A(_.subtract(b),_.add(b))},_update:function(t){var i=this._map;if(i){var c=this._clampZoom(i.getZoom());if(t===void 0&&(t=i.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(t),_=this._pxBoundsToTileRange(p),b=_.getCenter(),O=[],D=this.options.keepBuffer,G=new A(_.getBottomLeft().subtract([D,-D]),_.getTopRight().add([D,-D]));if(!(isFinite(_.min.x)&&isFinite(_.min.y)&&isFinite(_.max.x)&&isFinite(_.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Y in this._tiles){var ce=this._tiles[Y].coords;(ce.z!==this._tileZoom||!G.contains(new B(ce.x,ce.y)))&&(this._tiles[Y].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(t,c);return}for(var Ee=_.min.y;Ee<=_.max.y;Ee++)for(var ze=_.min.x;ze<=_.max.x;ze++){var Lt=new B(ze,Ee);if(Lt.z=this._tileZoom,!!this._isValidTile(Lt)){var kt=this._tiles[this._tileCoordsToKey(Lt)];kt?kt.current=!0:O.push(Lt)}}if(O.sort(function(Ht,po){return Ht.distanceTo(b)-po.distanceTo(b)}),O.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Qt=document.createDocumentFragment();for(ze=0;ze<O.length;ze++)this._addTile(O[ze],Qt);this._level.el.appendChild(Qt)}}}},_isValidTile:function(t){var i=this._map.options.crs;if(!i.infinite){var c=this._globalTileRange;if(!i.wrapLng&&(t.x<c.min.x||t.x>c.max.x)||!i.wrapLat&&(t.y<c.min.y||t.y>c.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(t);return de(this.options.bounds).overlaps(p)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var i=this._map,c=this.getTileSize(),p=t.scaleBy(c),_=p.add(c),b=i.unproject(p,t.z),O=i.unproject(_,t.z);return[b,O]},_tileCoordsToBounds:function(t){var i=this._tileCoordsToNwSe(t),c=new $(i[0],i[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var i=t.split(":"),c=new B(+i[0],+i[1]);return c.z=+i[2],c},_removeTile:function(t){var i=this._tiles[t];i&&(at(i.el),delete this._tiles[t],this.fire("tileunload",{tile:i.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){Re(t,"leaflet-tile");var i=this.getTileSize();t.style.width=i.x+"px",t.style.height=i.y+"px",t.onselectstart=E,t.onmousemove=E,we.ielt9&&this.options.opacity<1&&$t(t,this.options.opacity)},_addTile:function(t,i){var c=this._getTilePos(t),p=this._tileCoordsToKey(t),_=this.createTile(this._wrapCoords(t),g(this._tileReady,this,t));this._initTile(_),this.createTile.length<2&&ke(g(this._tileReady,this,t,null,_)),yt(_,c),this._tiles[p]={el:_,coords:t,current:!0},i.appendChild(_),this.fire("tileloadstart",{tile:_,coords:t})},_tileReady:function(t,i,c){i&&this.fire("tileerror",{error:i,tile:c,coords:t});var p=this._tileCoordsToKey(t);c=this._tiles[p],c&&(c.loaded=+new Date,this._map._fadeAnimated?($t(c.el,0),ie(this._fadeFrame),this._fadeFrame=ke(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),i||(Re(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),we.ielt9||!this._map._fadeAnimated?ke(this._pruneTiles,this):setTimeout(g(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var i=new B(this._wrapX?S(t.x,this._wrapX):t.x,this._wrapY?S(t.y,this._wrapY):t.y);return i.z=t.z,i},_pxBoundsToTileRange:function(t){var i=this.getTileSize();return new A(t.min.unscaleBy(i).floor(),t.max.unscaleBy(i).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function uo(t){return new sr(t)}var ar=sr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,i){this._url=t,i=j(this,i),i.detectRetina&&we.retina&&i.maxZoom>0?(i.tileSize=Math.floor(i.tileSize/2),i.zoomReverse?(i.zoomOffset--,i.minZoom=Math.min(i.maxZoom,i.minZoom+1)):(i.zoomOffset++,i.maxZoom=Math.max(i.minZoom,i.maxZoom-1)),i.minZoom=Math.max(0,i.minZoom)):i.zoomReverse?i.minZoom=Math.min(i.maxZoom,i.minZoom):i.maxZoom=Math.max(i.minZoom,i.maxZoom),typeof i.subdomains=="string"&&(i.subdomains=i.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,i){return this._url===t&&i===void 0&&(i=!0),this._url=t,i||this.redraw(),this},createTile:function(t,i){var c=document.createElement("img");return Me(c,"load",g(this._tileOnLoad,this,i,c)),Me(c,"error",g(this._tileOnError,this,i,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(t),c},getTileUrl:function(t){var i={r:we.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-t.y;this.options.tms&&(i.y=c),i["-y"]=c}return J(this._url,u(i,this.options))},_tileOnLoad:function(t,i){we.ielt9?setTimeout(g(t,this,null,i),0):t(null,i)},_tileOnError:function(t,i,c){var p=this.options.errorTileUrl;p&&i.getAttribute("src")!==p&&(i.src=p),t(c,i)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,i=this.options.maxZoom,c=this.options.zoomReverse,p=this.options.zoomOffset;return c&&(t=i-t),t+p},_getSubdomain:function(t){var i=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[i]},_abortLoading:function(){var t,i;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(i=this._tiles[t].el,i.onload=E,i.onerror=E,!i.complete)){i.src=he;var c=this._tiles[t].coords;at(i),delete this._tiles[t],this.fire("tileabort",{tile:i,coords:c})}},_removeTile:function(t){var i=this._tiles[t];if(i)return i.el.setAttribute("src",he),sr.prototype._removeTile.call(this,t)},_tileReady:function(t,i,c){if(!(!this._map||c&&c.getAttribute("src")===he))return sr.prototype._tileReady.call(this,t,i,c)}});function ra(t,i){return new ar(t,i)}var Jo=ar.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,i){this._url=t;var c=u({},this.defaultWmsParams);for(var p in i)p in this.options||(c[p]=i[p]);i=j(this,i);var _=i.detectRetina&&we.retina?2:1,b=this.getTileSize();c.width=b.x*_,c.height=b.y*_,this.wmsParams=c},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[i]=this._crs.code,ar.prototype.onAdd.call(this,t)},getTileUrl:function(t){var i=this._tileCoordsToNwSe(t),c=this._crs,p=W(c.project(i[0]),c.project(i[1])),_=p.min,b=p.max,O=(this._wmsVersion>=1.3&&this._crs===ul?[_.y,_.x,b.y,b.x]:[_.x,_.y,b.x,b.y]).join(","),D=ar.prototype.getTileUrl.call(this,t);return D+z(this.wmsParams,D,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+O},setParams:function(t,i){return u(this.wmsParams,t),i||this.redraw(),this}});function vl(t,i){return new Jo(t,i)}ar.WMS=Jo,ra.wms=vl;var Tn=vn.extend({options:{padding:.1},initialize:function(t){j(this,t),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Re(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,i){var c=this._map.getZoomScale(i,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),_=this._map.project(this._center,i),b=p.multiplyBy(-c).add(_).subtract(this._map._getNewPixelOrigin(t,i));we.any3d?fn(this._container,b,c):yt(this._container,b)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,i=this._map.getSize(),c=this._map.containerPointToLayerPoint(i.multiplyBy(-t)).round();this._bounds=new A(c,c.add(i.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),oa=Tn.extend({options:{tolerance:0},getEvents:function(){var t=Tn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Tn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Me(t,"mousemove",this._onMouseMove,this),Me(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Me(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){ie(this._redrawRequest),delete this._ctx,at(this._container),Xe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var i in this._layers)t=this._layers[i],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Tn.prototype._update.call(this);var t=this._bounds,i=this._container,c=t.getSize(),p=we.retina?2:1;yt(i,t.min),i.width=p*c.x,i.height=p*c.y,i.style.width=c.x+"px",i.style.height=c.y+"px",we.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Tn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[y(t)]=t;var i=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=i),this._drawLast=i,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var i=t._order,c=i.next,p=i.prev;c?c.prev=p:this._drawLast=p,p?p.next=c:this._drawFirst=c,delete t._order,delete this._layers[y(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var i=t.options.dashArray.split(/[, ]+/),c=[],p,_;for(_=0;_<i.length;_++){if(p=Number(i[_]),isNaN(p))return;c.push(p)}t.options._dashArray=c}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||ke(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var i=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new A,this._redrawBounds.extend(t._pxBounds.min.subtract([i,i])),this._redrawBounds.extend(t._pxBounds.max.add([i,i]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var i=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,i.x,i.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,i=this._redrawBounds;if(this._ctx.save(),i){var c=i.getSize();this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)t=p.layer,(!i||t._pxBounds&&t._pxBounds.intersects(i))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,i){if(this._drawing){var c,p,_,b,O=t._parts,D=O.length,G=this._ctx;if(D){for(G.beginPath(),c=0;c<D;c++){for(p=0,_=O[c].length;p<_;p++)b=O[c][p],G[p?"lineTo":"moveTo"](b.x,b.y);i&&G.closePath()}this._fillStroke(G,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var i=t._point,c=this._ctx,p=Math.max(Math.round(t._radius),1),_=(Math.max(Math.round(t._radiusY),1)||p)/p;_!==1&&(c.save(),c.scale(1,_)),c.beginPath(),c.arc(i.x,i.y/_,p,0,Math.PI*2,!1),_!==1&&c.restore(),this._fillStroke(c,t)}},_fillStroke:function(t,i){var c=i.options;c.fill&&(t.globalAlpha=c.fillOpacity,t.fillStyle=c.fillColor||c.color,t.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(t.setLineDash&&t.setLineDash(i.options&&i.options._dashArray||[]),t.globalAlpha=c.opacity,t.lineWidth=c.weight,t.strokeStyle=c.color,t.lineCap=c.lineCap,t.lineJoin=c.lineJoin,t.stroke())},_onClick:function(t){for(var i=this._map.mouseEventToLayerPoint(t),c,p,_=this._drawFirst;_;_=_.next)c=_.layer,c.options.interactive&&c._containsPoint(i)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(c))&&(p=c);this._fireEvent(p?[p]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var i=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,i)}},_handleMouseOut:function(t){var i=this._hoveredLayer;i&&(rt(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,i){if(!this._mouseHoverThrottled){for(var c,p,_=this._drawFirst;_;_=_.next)c=_.layer,c.options.interactive&&c._containsPoint(i)&&(p=c);p!==this._hoveredLayer&&(this._handleMouseOut(t),p&&(Re(this._container,"leaflet-interactive"),this._fireEvent([p],t,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(g(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,i,c){this._map._fireDOMEvent(i,c||i.type,t)},_bringToFront:function(t){var i=t._order;if(i){var c=i.next,p=i.prev;if(c)c.prev=p;else return;p?p.next=c:c&&(this._drawFirst=c),i.prev=this._drawLast,this._drawLast.next=i,i.next=null,this._drawLast=i,this._requestRedraw(t)}},_bringToBack:function(t){var i=t._order;if(i){var c=i.next,p=i.prev;if(p)p.next=c;else return;c?c.prev=p:p&&(this._drawLast=p),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(t)}}});function ia(t){return we.canvas?new oa(t):null}var co=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),yl={_initContainer:function(){this._container=Ne("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Tn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var i=t._container=co("shape");Re(i,"leaflet-vml-shape "+(this.options.className||"")),i.coordsize="1 1",t._path=co("path"),i.appendChild(t._path),this._updateStyle(t),this._layers[y(t)]=t},_addPath:function(t){var i=t._container;this._container.appendChild(i),t.options.interactive&&t.addInteractiveTarget(i)},_removePath:function(t){var i=t._container;at(i),t.removeInteractiveTarget(i),delete this._layers[y(t)]},_updateStyle:function(t){var i=t._stroke,c=t._fill,p=t.options,_=t._container;_.stroked=!!p.stroke,_.filled=!!p.fill,p.stroke?(i||(i=t._stroke=co("stroke")),_.appendChild(i),i.weight=p.weight+"px",i.color=p.color,i.opacity=p.opacity,p.dashArray?i.dashStyle=Z(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):i.dashStyle="",i.endcap=p.lineCap.replace("butt","flat"),i.joinstyle=p.lineJoin):i&&(_.removeChild(i),t._stroke=null),p.fill?(c||(c=t._fill=co("fill")),_.appendChild(c),c.color=p.fillColor||p.color,c.opacity=p.fillOpacity):c&&(_.removeChild(c),t._fill=null)},_updateCircle:function(t){var i=t._point.round(),c=Math.round(t._radius),p=Math.round(t._radiusY||c);this._setPath(t,t._empty()?"M0 0":"AL "+i.x+","+i.y+" "+c+","+p+" 0,"+65535*360)},_setPath:function(t,i){t._path.v=i},_bringToFront:function(t){Jr(t._container)},_bringToBack:function(t){zn(t._container)}},_n=we.vml?co:Fe,Tr=Tn.extend({_initContainer:function(){this._container=_n("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=_n("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){at(this._container),Xe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Tn.prototype._update.call(this);var t=this._bounds,i=t.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(i))&&(this._svgSize=i,c.setAttribute("width",i.x),c.setAttribute("height",i.y)),yt(c,t.min),c.setAttribute("viewBox",[t.min.x,t.min.y,i.x,i.y].join(" ")),this.fire("update")}},_initPath:function(t){var i=t._path=_n("path");t.options.className&&Re(i,t.options.className),t.options.interactive&&Re(i,"leaflet-interactive"),this._updateStyle(t),this._layers[y(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){at(t._path),t.removeInteractiveTarget(t._path),delete this._layers[y(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var i=t._path,c=t.options;i&&(c.stroke?(i.setAttribute("stroke",c.color),i.setAttribute("stroke-opacity",c.opacity),i.setAttribute("stroke-width",c.weight),i.setAttribute("stroke-linecap",c.lineCap),i.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?i.setAttribute("stroke-dasharray",c.dashArray):i.removeAttribute("stroke-dasharray"),c.dashOffset?i.setAttribute("stroke-dashoffset",c.dashOffset):i.removeAttribute("stroke-dashoffset")):i.setAttribute("stroke","none"),c.fill?(i.setAttribute("fill",c.fillColor||c.color),i.setAttribute("fill-opacity",c.fillOpacity),i.setAttribute("fill-rule",c.fillRule||"evenodd")):i.setAttribute("fill","none"))},_updatePoly:function(t,i){this._setPath(t,Be(t._parts,i))},_updateCircle:function(t){var i=t._point,c=Math.max(Math.round(t._radius),1),p=Math.max(Math.round(t._radiusY),1)||c,_="a"+c+","+p+" 0 1,0 ",b=t._empty()?"M0 0":"M"+(i.x-c)+","+i.y+_+c*2+",0 "+_+-c*2+",0 ";this._setPath(t,b)},_setPath:function(t,i){t._path.setAttribute("d",i)},_bringToFront:function(t){Jr(t._path)},_bringToBack:function(t){zn(t._path)}});we.vml&&Tr.include(yl);function Zi(t){return we.svg||we.vml?new Tr(t):null}Ge.include({getRenderer:function(t){var i=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return i||(i=this._renderer=this._createRenderer()),this.hasLayer(i)||this.addLayer(i),i},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var i=this._paneRenderers[t];return i===void 0&&(i=this._createRenderer({pane:t}),this._paneRenderers[t]=i),i},_createRenderer:function(t){return this.options.preferCanvas&&ia(t)||Zi(t)}});var _l=$n.extend({initialize:function(t,i){$n.prototype.initialize.call(this,this._boundsToLatLngs(t),i)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=de(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Wu(t,i){return new _l(t,i)}Tr.create=_n,Tr.pointsToPath=Be,Cn.geometryToLayer=io,Cn.coordsToLatLng=Bi,Cn.coordsToLatLngs=qo,Cn.latLngToCoords=Ui,Cn.latLngsToCoords=$i,Cn.getFeature=so,Cn.asFeature=Gi,Ge.mergeOptions({boxZoom:!0});var ho=tn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Me(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Xe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){at(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),We(),Ti(),this._startPoint=this._map.mouseEventToContainerPoint(t),Me(document,{contextmenu:mn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=Ne("div","leaflet-zoom-box",this._container),Re(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var i=new A(this._point,this._startPoint),c=i.getSize();yt(this._box,i.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(at(this._box),rt(this._container,"leaflet-crosshair")),Xr(),Li(),Xe(document,{contextmenu:mn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(g(this._resetState,this),0);var i=new $(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(i).fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ge.addInitHook("addHandler","boxZoom",ho),Ge.mergeOptions({doubleClickZoom:!0});var xl=tn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var i=this._map,c=i.getZoom(),p=i.options.zoomDelta,_=t.originalEvent.shiftKey?c-p:c+p;i.options.doubleClickZoom==="center"?i.setZoom(_):i.setZoomAround(t.containerPoint,_)}});Ge.addInitHook("addHandler","doubleClickZoom",xl),Ge.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var sa=tn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new gn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}Re(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){rt(this._map._container,"leaflet-grab"),rt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var i=de(this._map.options.maxBounds);this._offsetLimit=W(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var i=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(i),this._prunePositions(i)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,i){return t-(t-i)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),i=this._offsetLimit;t.x<i.min.x&&(t.x=this._viscousLimit(t.x,i.min.x)),t.y<i.min.y&&(t.y=this._viscousLimit(t.y,i.min.y)),t.x>i.max.x&&(t.x=this._viscousLimit(t.x,i.max.x)),t.y>i.max.y&&(t.y=this._viscousLimit(t.y,i.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,i=Math.round(t/2),c=this._initialWorldOffset,p=this._draggable._newPos.x,_=(p-i+c)%t+i-c,b=(p+i+c)%t-i-c,O=Math.abs(_+c)<Math.abs(b+c)?_:b;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=O},_onDragEnd:function(t){var i=this._map,c=i.options,p=!c.inertia||t.noInertia||this._times.length<2;if(i.fire("dragend",t),p)i.fire("moveend");else{this._prunePositions(+new Date);var _=this._lastPos.subtract(this._positions[0]),b=(this._lastTime-this._times[0])/1e3,O=c.easeLinearity,D=_.multiplyBy(O/b),G=D.distanceTo([0,0]),Y=Math.min(c.inertiaMaxSpeed,G),ce=D.multiplyBy(Y/G),Ee=Y/(c.inertiaDeceleration*O),ze=ce.multiplyBy(-Ee/2).round();!ze.x&&!ze.y?i.fire("moveend"):(ze=i._limitOffset(ze,i.options.maxBounds),ke(function(){i.panBy(ze,{duration:Ee,easeLinearity:O,noMoveStart:!0,animate:!0})}))}}});Ge.addInitHook("addHandler","dragging",sa),Ge.mergeOptions({keyboard:!0,keyboardPanDelta:80});var aa=tn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Me(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Xe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,i=document.documentElement,c=t.scrollTop||i.scrollTop,p=t.scrollLeft||i.scrollLeft;this._map._container.focus(),window.scrollTo(p,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var i=this._panKeys={},c=this.keyCodes,p,_;for(p=0,_=c.left.length;p<_;p++)i[c.left[p]]=[-1*t,0];for(p=0,_=c.right.length;p<_;p++)i[c.right[p]]=[t,0];for(p=0,_=c.down.length;p<_;p++)i[c.down[p]]=[0,t];for(p=0,_=c.up.length;p<_;p++)i[c.up[p]]=[0,-1*t]},_setZoomDelta:function(t){var i=this._zoomKeys={},c=this.keyCodes,p,_;for(p=0,_=c.zoomIn.length;p<_;p++)i[c.zoomIn[p]]=t;for(p=0,_=c.zoomOut.length;p<_;p++)i[c.zoomOut[p]]=-t},_addHooks:function(){Me(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Xe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var i=t.keyCode,c=this._map,p;if(i in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(p=this._panKeys[i],t.shiftKey&&(p=q(p).multiplyBy(3)),c.options.maxBounds&&(p=c._limitOffset(q(p),c.options.maxBounds)),c.options.worldCopyJump){var _=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(p)));c.panTo(_)}else c.panBy(p)}else if(i in this._zoomKeys)c.setZoom(c.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else if(i===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;mn(t)}}});Ge.addInitHook("addHandler","keyboard",aa),Ge.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var et=tn.extend({addHooks:function(){Me(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Xe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var i=tl(t),c=this._map.options.wheelDebounceTime;this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var p=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(g(this._performZoom,this),p),mn(t)},_performZoom:function(){var t=this._map,i=t.getZoom(),c=this._map.options.zoomSnap||0;t._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),_=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,b=c?Math.ceil(_/c)*c:_,O=t._limitZoom(i+(this._delta>0?b:-b))-i;this._delta=0,this._startTime=null,O&&(t.options.scrollWheelZoom==="center"?t.setZoom(i+O):t.setZoomAround(this._lastMousePos,i+O))}});Ge.addInitHook("addHandler","scrollWheelZoom",et);var la=600;Ge.mergeOptions({tapHold:we.touchNative&&we.safari&&we.mobile,tapTolerance:15});var Yo=tn.extend({addHooks:function(){Me(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Xe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var i=t.touches[0];this._startPos=this._newPos=new B(i.clientX,i.clientY),this._holdTimeout=setTimeout(g(function(){this._cancel(),this._isTapValid()&&(Me(document,"touchend",ft),Me(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",i))},this),la),Me(document,"touchend touchcancel contextmenu",this._cancel,this),Me(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Xe(document,"touchend",ft),Xe(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Xe(document,"touchend touchcancel contextmenu",this._cancel,this),Xe(document,"touchmove",this._onMove,this)},_onMove:function(t){var i=t.touches[0];this._newPos=new B(i.clientX,i.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,i){var c=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY});c._simulated=!0,i.target.dispatchEvent(c)}});Ge.addInitHook("addHandler","tapHold",Yo),Ge.mergeOptions({touchZoom:we.touch,bounceAtZoomLimits:!0});var fo=tn.extend({addHooks:function(){Re(this._map._container,"leaflet-touch-zoom"),Me(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){rt(this._map._container,"leaflet-touch-zoom"),Xe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var i=this._map;if(!(!t.touches||t.touches.length!==2||i._animatingZoom||this._zooming)){var c=i.mouseEventToContainerPoint(t.touches[0]),p=i.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),i.options.touchZoom!=="center"&&(this._pinchStartLatLng=i.containerPointToLatLng(c.add(p)._divideBy(2))),this._startDist=c.distanceTo(p),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),Me(document,"touchmove",this._onTouchMove,this),Me(document,"touchend touchcancel",this._onTouchEnd,this),ft(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var i=this._map,c=i.mouseEventToContainerPoint(t.touches[0]),p=i.mouseEventToContainerPoint(t.touches[1]),_=c.distanceTo(p)/this._startDist;if(this._zoom=i.getScaleZoom(_,this._startZoom),!i.options.bounceAtZoomLimits&&(this._zoom<i.getMinZoom()&&_<1||this._zoom>i.getMaxZoom()&&_>1)&&(this._zoom=i._limitZoom(this._zoom)),i.options.touchZoom==="center"){if(this._center=this._startLatLng,_===1)return}else{var b=c._add(p)._divideBy(2)._subtract(this._centerPoint);if(_===1&&b.x===0&&b.y===0)return;this._center=i.unproject(i.project(this._pinchStartLatLng,this._zoom).subtract(b),this._zoom)}this._moved||(i._moveStart(!0,!1),this._moved=!0),ie(this._animRequest);var O=g(i._move,i,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ke(O,this,!0),ft(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ie(this._animRequest),Xe(document,"touchmove",this._onTouchMove,this),Xe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ge.addInitHook("addHandler","touchZoom",fo),Ge.BoxZoom=ho,Ge.DoubleClickZoom=xl,Ge.Drag=sa,Ge.Keyboard=aa,Ge.ScrollWheelZoom=et,Ge.TapHold=Yo,Ge.TouchZoom=fo,o.Bounds=A,o.Browser=we,o.CRS=be,o.Canvas=oa,o.Circle=Di,o.CircleMarker=zi,o.Class=ue,o.Control=Jt,o.DivIcon=Wi,o.DivOverlay=Pn,o.DomEvent=Ri,o.DomUtil=$o,o.Draggable=gn,o.Evented=Le,o.FeatureGroup=Bn,o.GeoJSON=Cn,o.GridLayer=sr,o.Handler=tn,o.Icon=Pr,o.ImageOverlay=ir,o.LatLng=ae,o.LatLngBounds=$,o.Layer=vn,o.LayerGroup=rr,o.LineUtil=ll,o.Map=Ge,o.Marker=Un,o.Mixin=Ws,o.Path=or,o.Point=B,o.PolyUtil=Ou,o.Polygon=$n,o.Polyline=Yt,o.Popup=Hi,o.PosAnimation=Ai,o.Projection=Fu,o.Rectangle=_l,o.Renderer=Tn,o.SVG=Tr,o.SVGOverlay=ta,o.TileLayer=ar,o.Tooltip=lo,o.Transformation=tt,o.Util=Ae,o.VideoOverlay=ea,o.bind=g,o.bounds=W,o.canvas=ia,o.circle=Vo,o.circleMarker=hl,o.control=nr,o.divIcon=gl,o.extend=u,o.featureGroup=cl,o.geoJSON=fl,o.geoJson=yn,o.gridLayer=uo,o.icon=dl,o.imageOverlay=pl,o.latLng=se,o.latLngBounds=de,o.layerGroup=Zo,o.map=tr,o.marker=$u,o.point=q,o.polygon=Hu,o.polyline=Gu,o.popup=ao,o.rectangle=Wu,o.setOptions=j,o.stamp=y,o.svg=Zi,o.svgOverlay=na,o.tileLayer=ra,o.tooltip=Ko,o.transformation=Pt,o.version=l,o.videoOverlay=ml;var wl=window.L;o.noConflict=function(){return window.L=wl,this},window.L=o})}(La,La.exports)),La.exports}var Et=r_();const bu=Rd(Et);function Ba(s,r,o){return Object.freeze({instance:s,context:r,container:o})}function Eu(s,r){return r==null?function(l,u){const h=C.useRef();return h.current||(h.current=s(l,u)),h}:function(l,u){const h=C.useRef();h.current||(h.current=s(l,u));const g=C.useRef(l),{instance:x}=h.current;return C.useEffect(function(){g.current!==l&&(r(x,l,g.current),g.current=l)},[x,l,u]),h}}function fm(s,r){C.useEffect(function(){return(r.layerContainer??r.map).addLayer(s.instance),function(){var h;(h=r.layerContainer)==null||h.removeLayer(s.instance),r.map.removeLayer(s.instance)}},[r,s])}function pm(s){return function(o){const l=Su(),u=s(ku(o,l),l);return um(l.map,o.attribution),Wd(u.current,o.eventHandlers),fm(u.current,l),u}}function o_(s,r){const o=C.useRef();C.useEffect(function(){if(r.pathOptions!==o.current){const u=r.pathOptions??{};s.instance.setStyle(u),o.current=u}},[s,r])}function i_(s){return function(o){const l=Su(),u=s(ku(o,l),l);return Wd(u.current,o.eventHandlers),fm(u.current,l),o_(u.current,o),u}}function s_(s,r){const o=Eu(s,r),l=pm(o);return hm(l)}function a_(s,r){const o=Eu(s),l=t_(o,r);return X0(l)}function mm(s,r){const o=Eu(s,r),l=i_(o);return hm(l)}function l_(s,r){const o=Eu(s,r),l=pm(o);return e_(l)}function u_(s,r,o){const{opacity:l,zIndex:u}=r;l!=null&&l!==o.opacity&&s.setOpacity(l),u!=null&&u!==o.zIndex&&s.setZIndex(u)}function c_(){return Su().map}function gm(s){const r=c_();return C.useEffect(function(){return r.on(s),function(){r.off(s)}},[r,s]),r}const d_=mm(function({data:r,...o},l){const u=new Et.GeoJSON(r,o);return Ba(u,Hd(l,{overlayContainer:u}))},function(r,o,l){o.style!==l.style&&(o.style==null?r.resetStyle():r.setStyle(o.style))});function Pd(){return Pd=Object.assign||function(s){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s},Pd.apply(this,arguments)}function h_({bounds:s,boundsOptions:r,center:o,children:l,className:u,id:h,placeholder:g,style:x,whenReady:y,zoom:w,...S},E){const[T]=C.useState({className:u,id:h,style:x}),[M,P]=C.useState(null);C.useImperativeHandle(E,()=>(M==null?void 0:M.map)??null,[M]);const j=C.useCallback(V=>{if(V!==null&&M===null){const J=new Et.Map(V,S);o!=null&&w!=null?J.setView(o,w):s!=null&&J.fitBounds(s,r),y!=null&&J.whenReady(y),P(Q0(J))}},[]);C.useEffect(()=>()=>{M==null||M.map.remove()},[M]);const z=M?mi.createElement(dm,{value:M},l):g??null;return mi.createElement("div",Pd({},T,{ref:j}),z)}const ks=C.forwardRef(h_),bs=s_(function({position:r,...o},l){const u=new Et.Marker(r,o);return Ba(u,Hd(l,{overlayContainer:u}))},function(r,o,l){o.position!==l.position&&r.setLatLng(o.position),o.icon!=null&&o.icon!==l.icon&&r.setIcon(o.icon),o.zIndexOffset!=null&&o.zIndexOffset!==l.zIndexOffset&&r.setZIndexOffset(o.zIndexOffset),o.opacity!=null&&o.opacity!==l.opacity&&r.setOpacity(o.opacity),r.dragging!=null&&o.draggable!==l.draggable&&(o.draggable===!0?r.dragging.enable():r.dragging.disable())}),f_=mm(function({positions:r,...o},l){const u=new Et.Polyline(r,o);return Ba(u,Hd(l,{overlayContainer:u}))},function(r,o,l){o.positions!==l.positions&&r.setLatLngs(o.positions)}),gp=a_(function(r,o){const l=new Et.Popup(r,o.overlayContainer);return Ba(l,o)},function(r,o,{position:l},u){C.useEffect(function(){const{instance:g}=r;function x(w){w.popup===g&&(g.update(),u(!0))}function y(w){w.popup===g&&u(!1)}return o.map.on({popupopen:x,popupclose:y}),o.overlayContainer==null?(l!=null&&g.setLatLng(l),g.openOn(o.map)):o.overlayContainer.bindPopup(g),function(){var S;o.map.off({popupopen:x,popupclose:y}),(S=o.overlayContainer)==null||S.unbindPopup(),o.map.removeLayer(g)}},[r,o,u,l])}),Es=l_(function({url:r,...o},l){const u=new Et.TileLayer(r,ku(o,l));return Ba(u,l)},function(r,o,l){u_(r,o,l);const{url:u}=o;u!=null&&u!==l.url&&r.setUrl(u)}),Zd=({onClick:s})=>(gm({click(r){s(r.latlng)}}),null),dd={id:void 0,name:"",description:"",latitude:"",longitude:"",category:"",address:"",imageUrl:""};new bu.Icon({iconUrl:"https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/images/marker-icon.png",iconSize:[32,48],iconAnchor:[16,48],popupAnchor:[0,-48]});const p_=()=>{const[s,r]=C.useState(dd),[o,l]=C.useState(!1),[u,h]=C.useState(null),[g,x]=C.useState(null),[y,w]=C.useState(!1),[S,E]=C.useState(null),[T,M]=C.useState([]),[P,j]=C.useState(void 0),[z,V]=C.useState(null);C.useEffect(()=>{J()},[]);const J=async()=>{l(!0),x(null);try{const{data:ne,error:_e}=await Yn.from("famous_places").select("*").order("name",{ascending:!0});_e?x("Erro ao buscar lugares: "+_e.message):M(ne||[])}catch(ne){x("Erro inesperado ao buscar lugares: "+ne.message)}finally{l(!1)}},Z=ne=>{r({...s,[ne.target.name]:ne.target.value})},te=ne=>{V(ne),r(_e=>({..._e,latitude:ne.lat.toString(),longitude:ne.lng.toString()}))},he=async ne=>{var ke;const _e=(ke=ne.target.files)==null?void 0:ke[0];if(_e){w(!0),x(null),h(null);try{const ie=_e.name.split(".").pop(),Ae=`${Date.now()}-${Math.random().toString(36).substring(2,8)}.${ie}`,{data:ue,error:me}=await Yn.storage.from("famous-places-images").upload(Ae,_e,{upsert:!1});if(me){x("Erro ao fazer upload da imagem: "+me.message),w(!1);return}const{data:fe}=Yn.storage.from("famous-places-images").getPublicUrl(Ae),Le=fe==null?void 0:fe.publicUrl;Le?(r(B=>({...B,imageUrl:Le})),E(Le),h("Imagem enviada com sucesso!")):x("Não foi possível obter a URL da imagem.")}catch(ie){x("Erro inesperado no upload: "+ie.message)}finally{w(!1)}}},le=async ne=>{ne.preventDefault(),l(!0),h(null),x(null);try{if(!s.name||!s.latitude||!s.longitude){x("Preencha pelo menos nome, latitude e longitude!"),l(!1);return}if(P){const{error:_e}=await Yn.from("famous_places").update({name:s.name,description:s.description,latitude:parseFloat(s.latitude),longitude:parseFloat(s.longitude),category:s.category,address:s.address,image_url:s.imageUrl}).eq("id",P);_e?x("Erro ao atualizar: "+_e.message):h("Lugar atualizado com sucesso!")}else{const{error:_e}=await Yn.from("famous_places").insert([{name:s.name,description:s.description,latitude:parseFloat(s.latitude),longitude:parseFloat(s.longitude),category:s.category,address:s.address,image_url:s.imageUrl}]);_e?x("Erro ao cadastrar: "+_e.message):h("Lugar cadastrado com sucesso!")}r(dd),E(null),j(void 0),J()}catch(_e){x("Erro inesperado: "+_e.message)}finally{l(!1)}},K=ne=>{var _e,ke;r({id:ne.id,name:ne.name||"",description:ne.description||"",latitude:((_e=ne.latitude)==null?void 0:_e.toString())||"",longitude:((ke=ne.longitude)==null?void 0:ke.toString())||"",category:ne.category||"",address:ne.address||"",imageUrl:ne.image_url||""}),E(ne.image_url||null),j(ne.id),h(null),x(null)},ge=()=>{r(dd),E(null),j(void 0),h(null),x(null)};return s.latitude&&parseFloat(s.latitude),s.longitude&&parseFloat(s.longitude),f.jsxs("div",{style:{maxWidth:1400,minWidth:320,width:"100%",margin:"40px auto",background:"var(--bg-secondary)",border:"4px solid var(--accent-green)",borderRadius:0,boxShadow:"8px 8px 0 #222, 0 0 0 4px #fff",padding:24,fontFamily:"'Press Start 2P', monospace",color:"var(--text-primary)",minHeight:400,display:"flex",flexDirection:"row",gap:32,flexWrap:"wrap"},children:[f.jsxs("div",{style:{flex:"1 1 340px",minWidth:320,maxWidth:520,display:"flex",flexDirection:"column",gap:0},children:[f.jsx("h1",{style:{fontFamily:"'Press Start 2P', monospace",color:"var(--accent-green)",fontSize:"1.1rem",textAlign:"center",textTransform:"uppercase",fontWeight:700,letterSpacing:"1px",textShadow:"2px 2px 0 #222",marginBottom:24},children:P?"Editar Lugar Famoso":"Cadastrar Lugar Famoso"}),f.jsx("div",{style:{width:"100%",height:300,marginBottom:16,border:"2px solid #222",boxShadow:"2px 2px 0 #222"},children:f.jsxs(ks,{center:z?[z.lat,z.lng]:[-23.9676,-46.3287],zoom:13,style:{width:"100%",height:"100%"},scrollWheelZoom:!0,children:[f.jsx(Es,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© OpenStreetMap contributors"}),f.jsx(Zd,{onClick:te}),z&&f.jsx(bs,{position:z})]})}),f.jsxs("form",{onSubmit:le,style:{display:"flex",flexDirection:"column",gap:16},children:[f.jsx("input",{name:"name",value:s.name,onChange:Z,placeholder:"Nome",style:fr}),f.jsx("textarea",{name:"description",value:s.description,onChange:Z,placeholder:"Descrição",style:{...fr,minHeight:60}}),f.jsx("input",{name:"latitude",value:s.latitude,onChange:Z,placeholder:"Latitude",style:fr,type:"number",step:"any"}),f.jsx("input",{name:"longitude",value:s.longitude,onChange:Z,placeholder:"Longitude",style:fr,type:"number",step:"any"}),f.jsx("input",{name:"category",value:s.category,onChange:Z,placeholder:"Categoria",style:fr}),f.jsx("input",{name:"address",value:s.address,onChange:Z,placeholder:"Endereço",style:fr}),f.jsx("input",{name:"imageUrl",value:s.imageUrl,onChange:Z,placeholder:"URL da Imagem (ou use upload)",style:fr}),f.jsxs("label",{style:{fontSize:12,color:"#222",fontFamily:"'Press Start 2P', monospace"},children:["Upload de Imagem:",f.jsx("input",{type:"file",accept:"image/*",onChange:he,style:{marginTop:6,fontFamily:"'Press Start 2P', monospace"}})]}),y&&f.jsx("div",{style:{color:"#888",fontSize:12},children:"Enviando imagem..."}),S&&f.jsx("img",{src:S,alt:"Preview",style:{width:"100%",maxWidth:180,margin:"8px auto",border:"2px solid #222",boxShadow:"2px 2px 0 #222",background:"#fff"}}),f.jsxs("div",{style:{display:"flex",gap:8},children:[f.jsx("button",{type:"submit",disabled:o,style:{...fr,background:"var(--accent-green)",color:"var(--bg-primary)",border:"3px solid #222",cursor:"pointer",fontWeight:700,fontSize:14,marginTop:8},children:o?P?"Salvando...":"Cadastrando...":P?"Salvar":"Cadastrar"}),P&&f.jsx("button",{type:"button",onClick:ge,style:{...fr,background:"var(--accent-red)",color:"var(--bg-primary)",border:"3px solid #222",cursor:"pointer",fontWeight:700,fontSize:14,marginTop:8},children:"Cancelar"})]})]})]}),f.jsxs("div",{style:{flex:"2 1 400px",minWidth:320,maxWidth:900,display:"flex",flexDirection:"column",gap:0,height:"calc(90vh - 80px)",overflowY:"auto",background:"#fff",border:"1px solid #222",borderRadius:0,boxShadow:"2px 2px 0 #222",padding:16},children:[f.jsx("h2",{style:{fontSize:15,color:"#222",marginBottom:12,fontFamily:"'Press Start 2P', monospace",textTransform:"uppercase"},children:"Lugares já cadastrados"}),T.length===0&&f.jsx("div",{style:{color:"#888",fontSize:13},children:"Nenhum lugar cadastrado ainda."}),T.map(ne=>f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,borderBottom:"1px dashed #ccc",padding:"8px 0"},children:[f.jsx("img",{src:ne.image_url,alt:ne.name,style:{width:48,height:48,objectFit:"cover",border:"2px solid #222",background:"#fff",borderRadius:0}}),f.jsxs("div",{style:{flex:1},children:[f.jsx("div",{style:{fontWeight:700,fontSize:13,color:"#222",fontFamily:"'Press Start 2P', monospace"},children:ne.name}),f.jsx("div",{style:{fontSize:12,color:"#444",fontFamily:"'VT323', monospace"},children:ne.category}),f.jsxs("div",{style:{fontSize:11,color:"#888",fontFamily:"'VT323', monospace"},children:[ne.latitude,", ",ne.longitude]})]}),f.jsx("button",{onClick:()=>K(ne),style:{...fr,background:"var(--accent-yellow)",color:"#222",border:"2px solid #222",fontWeight:700,fontSize:12,cursor:"pointer",padding:"6px 12px",minWidth:60},children:"Editar"})]},ne.id))]})]})},fr={fontFamily:"'Press Start 2P', monospace",fontSize:13,border:"2px solid #222",borderRadius:0,padding:"10px 8px",background:"#fff",color:"#222",boxShadow:"2px 2px 0 #222",outline:"none"},m_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",g_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",v_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",y_=6371e3,__=(s,r,o)=>{const l=r.lng,u=r.lat,h=o.lng,g=o.lat,x=s.lng,y=s.lat,w=Math.pow(h-l,2)+Math.pow(g-u,2);if(w===0)return r;const S=Math.max(0,Math.min(1,((x-l)*(h-l)+(y-u)*(g-u))/w));return new Et.LatLng(u+S*(g-u),l+S*(h-l))},Td=(s,r)=>{const o=s.lat*Math.PI/180,l=r.lat*Math.PI/180,u=(r.lat-s.lat)*Math.PI/180,h=(r.lng-s.lng)*Math.PI/180,g=Math.sin(u/2)*Math.sin(u/2)+Math.cos(o)*Math.cos(l)*Math.sin(h/2)*Math.sin(h/2),x=2*Math.atan2(Math.sqrt(g),Math.sqrt(1-g));return y_*x},vm=(s,r,o="neighborhoods")=>{if(o==="famous_places"){const g=s/1e3,x=Math.max(0,2e3*(1-g/3)),y=r<=5?Math.round(r/5*1e3):0;return{total:Math.round(x+y),distancePoints:Math.round(x),timePoints:y}}const l=s/1e3,u=Math.max(0,1e3*(1-l/10)),h=r<=2?Math.round(r/2*500):0;return{total:Math.round(u+h),distancePoints:Math.round(u),timePoints:h}},hd=(s,r,o)=>{var h,g;const l=r.has((h=s.properties)==null?void 0:h.NOME);return((g=s.properties)==null?void 0:g.NOME)===o&&l?{fillColor:"#00FF00",weight:2,opacity:1,color:"#000000",fillOpacity:.7,dashArray:"3"}:{fillColor:"#32CD32",weight:2,opacity:l?1:0,color:"#000000",fillOpacity:l?.3:0,dashArray:"3"}},ys=15,di={PERFECT:3e3,EXCELLENT:2e3,GREAT:1750,GOOD:1500,DECENT:1250,FAIR:1e3,CLOSE:750},hi={PERFECT:4,EXCELLENT:3.5,GREAT:3,GOOD:2.5,DECENT:2,FAIR:1.5,CLOSE:1},fd=(s,r="neighborhoods")=>{const l=r==="famous_places"?6:4;if(s<500)return 0;const u=(s-500)/2500;return Math.min(l,u*l)},vp=(s,r)=>{const o=s/r*100;return o>60?"#00FF66":o>30?"#FFD700":"#FF4444"},ym=(s,r=0,o=0)=>{const l=s/1e3;if(s===0){const h=["ACERTO PERFEITO!","BULLSEYE!","INCRÍVEL!","PERFEIÇÃO!","FANTÁSTICO!"];return o>=3?`${h[Math.floor(Math.random()*h.length)]} ${o} acertos seguidos!`:h[Math.floor(Math.random()*h.length)]}if(l<.5){const h=["QUASE PERFEITO!","INCRÍVEL!","EXCELENTE!","FANTÁSTICO!","IMPRESSIONANTE!"];return h[Math.floor(Math.random()*h.length)]}if(l<1){const h=["MUITO BOM!","EXCELENTE!","ÓTIMO!","FANTÁSTICO!","IMPRESSIONANTE!"];return h[Math.floor(Math.random()*h.length)]}if(l<2){const h=["BOM!","LEGAL!","OK!","ACEITÁVEL!","RAZOÁVEL!"];return h[Math.floor(Math.random()*h.length)]}if(l<5){const h=["QUASE LÁ!","HMMM!","OPS!","QUASE!","TENTE NOVAMENTE!"];return h[Math.floor(Math.random()*h.length)]}const u=["OPS!","EITA!","UAU!","VENDADO?","CONFUSÃO!"];return u[Math.floor(Math.random()*u.length)]},x_=(s=!1)=>{const[r,o]=C.useState({currentNeighborhood:"",score:0,globalTimeLeft:ys,roundTimeLeft:ys,roundInitialTime:ys,roundNumber:1,gameOver:!1,gameStarted:!1,isCountingDown:!1,isPaused:!1,clickedPosition:null,showFeedback:!1,feedbackOpacity:0,feedbackProgress:0,feedbackMessage:"",revealedNeighborhoods:new Set,clickTime:0,timeBonus:0,isMuted:!1,volume:.5,arrowPath:null,lastClickTime:0,totalDistance:0,gameMode:"neighborhoods"}),l=C.useRef(null);return C.useEffect(()=>{if(r.gameStarted&&!r.gameOver&&r.roundTimeLeft>0&&r.globalTimeLeft>0&&r.isCountingDown&&!r.isPaused&&!s){const y=setInterval(()=>{o(w=>w.roundTimeLeft<=0||w.globalTimeLeft<=0?{...w,gameOver:!0,roundTimeLeft:0,globalTimeLeft:0,showFeedback:!0}:{...w,roundTimeLeft:w.roundTimeLeft-.1,globalTimeLeft:w.globalTimeLeft-.1})},100);return()=>clearInterval(y)}},[r.gameStarted,r.gameOver,r.isCountingDown,r.isPaused,s]),{gameState:r,updateGameState:y=>{o(w=>({...w,...y}))},startGame:()=>{o(y=>{const w=y.gameMode==="famous_places";return{...y,gameStarted:!0,score:0,gameOver:!1,globalTimeLeft:ys,roundTimeLeft:ys,roundInitialTime:ys,roundNumber:1,isCountingDown:!0,isPaused:!1,revealedNeighborhoods:new Set,totalDistance:0,gameMode:y.gameMode||"neighborhoods",currentNeighborhood:w?"":y.currentNeighborhood}})},startNextRound:y=>{console.log("[startNextRound] Iniciando próxima rodada, estado atual:",{isCountingDown:r.isCountingDown,roundNumber:r.roundNumber,globalTimeLeft:r.globalTimeLeft,timeBonus:r.timeBonus});const w=()=>{o(S=>{var j;const E=S.roundNumber+1,T=S.timeBonus||0,M=Math.max(S.globalTimeLeft+T,0);console.log("[startNextRound] Configurando nova rodada:",{nextRoundNumber:E,timeBonus:T,newGlobalTime:M,prevIsCountingDown:S.isCountingDown});const P={clickedPosition:null,arrowPath:null,showFeedback:!1,feedbackOpacity:0,globalTimeLeft:M,roundTimeLeft:M,roundInitialTime:M,roundNumber:E,isCountingDown:!0,timeBonus:0};if(S.gameMode==="famous_places")return{...S,...P,currentNeighborhood:"",revealedNeighborhoods:new Set};{const z=y.features,V=Math.floor(Math.random()*z.length),J=(j=z[V].properties)==null?void 0:j.NOME;return console.log("[startNextRound] Novo bairro selecionado:",J),{...S,...P,currentNeighborhood:J,revealedNeighborhoods:new Set}}})};typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(w):w()},clearFeedbackTimer:()=>{l.current&&(clearTimeout(l.current),l.current=null)},feedbackTimerRef:l}},w_=(s,r)=>{const o=s.lng,l=s.lat;let u=!1;for(let h=0,g=r.length-1;h<r.length;g=h++){const x=r[h].lng,y=r[h].lat,w=r[g].lng,S=r[g].lat;y>l!=S>l&&o<(w-x)*(l-y)/(S-y)+x&&(u=!u)}return u},S_=(s,r="neighborhoods",o=null,l=!1)=>{console.log("[useMapGame] DEBUG - Hook inicializado com:",{geoJsonData:!!s,gameMode:r,currentFamousPlace:!!o,externalPause:l});const u=C.useRef(null),h=C.useRef(!1),g=C.useRef(!1),x=C.useRef(null),y=C.useRef(null),w=C.useRef(null),S=C.useRef(null),E=C.useRef(null),T=C.useRef(null),[M,P]=C.useState(!0),[j,z]=C.useState(!1),[V,J]=C.useState(0),[Z,te]=C.useState(!1),[he,le]=C.useState(null),{gameState:K,updateGameState:ge,startGame:ne,startNextRound:_e,feedbackTimerRef:ke}=x_(l);return{mapRef:x,geoJsonRef:y,audioRef:w,successSoundRef:S,errorSoundRef:E,isLoading:M,isPaused:j,showPhaseOneMessage:Z,distanceCircle:he,gameState:K,handleMapClick:B=>{if(u.current&&clearTimeout(u.current),h.current){console.log("[useMapGame] Clique ignorado - ainda processando clique anterior");return}if(console.log("[useMapGame] Clique recebido:",{gameStarted:K.gameStarted,isCountingDown:K.isCountingDown,roundNumber:K.roundNumber,gameMode:K.gameMode,showFeedback:K.showFeedback,isPaused:K.isPaused}),console.log("[useMapGame] DEBUG - Estado exato:",{gameStarted:!!K.gameStarted,isCountingDown:!!K.isCountingDown,showFeedback:!!K.showFeedback,isPaused:!!K.isPaused}),!K.gameStarted||!K.isCountingDown){console.log("[useMapGame] Clique ignorado - jogo não iniciado ou não contando"),console.log("[useMapGame] DEBUG - Condições não atendidas:",{gameStarted:K.gameStarted,isCountingDown:K.isCountingDown,showFeedback:K.showFeedback});return}console.log("[useMapGame] ✅ Clique processado - condições atendidas, iniciando processamento"),h.current=!0,u.current=setTimeout(()=>{h.current=!1},100),g.current=!1,console.log("[useMapGame] DEBUG - Flag isAutoAdvancing resetada para false no início do clique");const oe=K.roundInitialTime-K.roundTimeLeft;if((()=>{T.current&&(clearInterval(T.current),T.current=null),ke.current&&(clearTimeout(ke.current),ke.current=null)})(),ge({isCountingDown:!1,isPaused:!0}),r==="famous_places"&&o){const A=Et.latLng(o.latitude,o.longitude),W=Td(B,A),$=W/1e3;let de=0,ae="",se=null,be=!1;if($<=.1){be=!0;const St=2e3,Fe=K.roundTimeLeft<=5?Math.round(K.roundTimeLeft/5*1e3):0;de=St+Fe,ae=`Acertou! ${o.name}`}else{const St=Math.max(0,1500*(1-$/3)),Fe=K.roundTimeLeft<=5?Math.round(K.roundTimeLeft/5*500):0;de=St+Fe,$<.5?ae="Quase lá! Continue tentando!":$<1?ae="Está no caminho certo!":$<2?ae="Ainda longe, mas continue!":ae="Muito longe! Tente novamente!",se=[B,A]}const Ce=K.score+Math.round(de),Oe=oe,qe=fd(de,r),tt=Math.max(K.globalTimeLeft-Oe,0),Pt=tt<=0;(()=>{S.current&&(be||W<=500)&&(S.current.currentTime=0,S.current.volume=.7,S.current.play().catch(Be=>{console.log("Erro ao tocar som de sucesso:",Be)})),E.current&&!be&&W>=700&&(E.current.currentTime=0,E.current.volume=.7,E.current.play().catch(Be=>{console.log("Erro ao tocar som de erro:",Be)})),ge({clickedPosition:B,clickTime:oe,score:Ce,globalTimeLeft:tt,timeBonus:qe,gameOver:Pt,showFeedback:!0,feedbackOpacity:1,feedbackProgress:0,feedbackMessage:ae,revealedNeighborhoods:be?new Set([...K.revealedNeighborhoods,o.name]):K.revealedNeighborhoods,arrowPath:se,totalDistance:K.totalDistance+W}),be||setTimeout(()=>{le({center:B,radius:W})},400);let St=0;console.log("[useMapGame] DEBUG - Iniciando setInterval para barra de progresso (modo lugares famosos)");const Fe=setInterval(()=>{St+=3.33,console.log("[useMapGame] DEBUG - Progresso atual:",St,"%"),St>=100?(St=100,clearInterval(Fe),console.log("[useMapGame] DEBUG - setInterval limpo, progresso chegou a 100%"),console.log("[useMapGame] Barra de progresso completa - avançando automaticamente (modo lugares famosos)"),console.log("[useMapGame] DEBUG - geoJsonData:",!!s,"isAutoAdvancing:",g.current),setTimeout(()=>{console.log("[useMapGame] DEBUG - Executando setTimeout para avanço automático (modo lugares famosos)"),s?(console.log("[useMapGame] Iniciando próxima rodada automaticamente (modo lugares famosos)"),_e(s)):console.log("[useMapGame] DEBUG - geoJsonData não disponível para avanço automático")},500)):ge({feedbackProgress:St})},100)})();return}if(y.current){let A=null,W=null;const $=y.current.getLayers();$.forEach(ae=>{var be;const se=ae.feature;try{((be=se.properties)==null?void 0:be.NOME)===K.currentNeighborhood&&(A=ae)}catch{}}),$.forEach(ae=>{var Ce,Oe,qe,tt;const se=ae.feature,be=ae;try{be.getBounds().contains(B)&&(((Ce=se.properties)==null?void 0:Ce.NOME)===K.currentNeighborhood?(W=(Oe=se.properties)==null?void 0:Oe.NOME,ae instanceof Et.Polygon&&w_(B,ae.getLatLngs()[0])&&(W=(qe=se.properties)==null?void 0:qe.NOME)):W||(W=(tt=se.properties)==null?void 0:tt.NOME))}catch{}});const de=W===K.currentNeighborhood;if(de){const ae=3e3*Math.pow(K.roundTimeLeft/10,2),se=K.score+Math.round(ae),be=oe,Ce=fd(ae,r),Oe=Math.max(K.globalTimeLeft-be,0),qe=Oe<=0;setTimeout(()=>{S.current&&(S.current.currentTime=0,S.current.volume=.7,S.current.play().catch(wt=>{console.log("Erro ao tocar som de sucesso:",wt)})),ge({clickedPosition:B,clickTime:oe,score:se,globalTimeLeft:Oe,timeBonus:Ce,gameOver:qe,showFeedback:!0,feedbackOpacity:1,feedbackProgress:0,feedbackMessage:"",revealedNeighborhoods:new Set([...K.revealedNeighborhoods,K.currentNeighborhood]),arrowPath:null,totalDistance:K.totalDistance});let tt=0;console.log("[useMapGame] DEBUG - Iniciando setInterval para barra de progresso (acertou bairro)");const Pt=setInterval(()=>{tt+=3.33,console.log("[useMapGame] DEBUG - Progresso atual (acertou):",tt,"%"),tt>=100?(tt=100,clearInterval(Pt),console.log("[useMapGame] DEBUG - setInterval limpo, progresso chegou a 100% (acertou)"),console.log("[useMapGame] Barra de progresso completa - avançando automaticamente (acertou bairro)"),setTimeout(()=>{s?(console.log("[useMapGame] Iniciando próxima rodada automaticamente (acertou bairro)"),_e(s)):console.log("[useMapGame] DEBUG - geoJsonData não disponível para avanço automático")},500)):ge({feedbackProgress:tt})},100)},0);return}if(A){const se=A.getLatLngs()[0];let be=1/0,Ce=B;for(let vt=0;vt<se.length;vt++){const Dt=se[vt],Qn=se[(vt+1)%se.length],gr=__(B,Dt,Qn),Xn=Td(B,gr);Xn<be&&(be=Xn,Ce=gr)}const Oe=be,qe=Oe<10,tt=qe?2500*Math.pow(K.roundTimeLeft/15,2):vm(Oe,K.roundTimeLeft).total,Pt=K.score+Math.round(tt),wt=tt<0?V+Math.abs(tt):V;J(wt);const St=!de&&!qe?{center:B,radius:Oe}:null;let Fe="";qe||(Fe=ym(Oe)),E.current&&!de&&Oe>=700&&(E.current.currentTime=0,E.current.volume=.7,E.current.play().catch(vt=>{console.log("Erro ao tocar som de erro:",vt)})),S.current&&Oe<=500&&(S.current.currentTime=0,S.current.volume=.7,S.current.play().catch(vt=>{console.log("Erro ao tocar som de sucesso:",vt)}));const Be=oe,Ye=fd(tt,r),Ke=Math.max(K.globalTimeLeft-Be,0),Qe=K.totalDistance+Oe,nt=Ke<=0,dt=wt>60||Qe>6e3,Rt=nt||dt;(()=>{if(Rt&&E.current&&(E.current.currentTime=0,E.current.volume=.7,E.current.play().catch(Qn=>{console.log("Erro ao tocar game over:",Qn)})),ge({clickedPosition:B,clickTime:oe,score:Pt,globalTimeLeft:Ke,timeBonus:Ye,showFeedback:!0,feedbackOpacity:1,feedbackProgress:0,feedbackMessage:Fe,gameOver:Rt,revealedNeighborhoods:new Set([...K.revealedNeighborhoods,K.currentNeighborhood]),arrowPath:!de&&!qe?[B,Ce]:null,totalDistance:Qe}),wt>50)return;St&&setTimeout(()=>{le(St)},400);let vt=0;console.log("[useMapGame] DEBUG - Iniciando setInterval para barra de progresso (modo bairros)");const Dt=setInterval(()=>{vt+=3.33,console.log("[useMapGame] DEBUG - Progresso atual:",vt,"%"),vt>=100?(vt=100,clearInterval(Dt),console.log("[useMapGame] DEBUG - setInterval limpo, progresso chegou a 100%"),console.log("[useMapGame] Barra de progresso completa - avançando automaticamente (modo bairros)"),console.log("[useMapGame] DEBUG - geoJsonData:",!!s),setTimeout(()=>{console.log("[useMapGame] DEBUG - Executando setTimeout para avanço automático (modo bairros)"),s?(console.log("[useMapGame] Iniciando próxima rodada automaticamente (modo bairros)"),_e(s)):console.log("[useMapGame] DEBUG - geoJsonData não disponível para avanço automático")},500)):ge({feedbackProgress:vt})},100)})()}}},handleVolumeChange:B=>{const oe=parseFloat(B.target.value);ge({volume:oe}),oe>0&&ge({isMuted:!1})},handleToggleMute:()=>{ge({isMuted:!K.isMuted})},handlePauseGame:()=>{z(!0),T.current&&(clearInterval(T.current),T.current=null),ke.current&&(clearTimeout(ke.current),ke.current=null),w.current&&w.current.pause(),ge({isCountingDown:!1,isPaused:!0})},handleNextRound:B=>{console.log("[handleNextRound] Iniciando próxima rodada, estado atual:",{isCountingDown:K.isCountingDown,gameStarted:K.gameStarted,gameOver:K.gameOver,roundNumber:K.roundNumber}),g.current=!1,console.log("[handleNextRound] DEBUG - Flag isAutoAdvancing resetada para false"),z(!1),w.current&&K.gameStarted&&!K.gameOver&&!K.isMuted&&w.current.play(),ke.current&&(clearTimeout(ke.current),ke.current=null),T.current&&(clearInterval(T.current),T.current=null),console.log("[useMapGame] Restaurando isCountingDown para true (handleNextRound)"),ge({isPaused:!1,isCountingDown:!0,showFeedback:!1,feedbackOpacity:0,feedbackProgress:0,clickedPosition:null,arrowPath:null,revealedNeighborhoods:new Set}),console.log("[handleNextRound] Estado após updateGameState:",{isCountingDown:K.isCountingDown,showFeedback:K.showFeedback}),_e(B)},handleStartGame:()=>{console.log("[handleStartGame] Função chamada"),s?(console.log("[handleStartGame] GeoJSON data disponível, iniciando jogo"),te(!0),setTimeout(()=>{te(!1),ne()},1e3)):console.log("[handleStartGame] GeoJSON data não disponível")},setDistanceCircle:le,updateGameState:ge,gameMode:r}},Cu=s=>{const r="/geosantos/",o=s.startsWith("/")?s.slice(1):s,l=`${r}${o}`;return console.log("🌐 getAssetUrl:",{path:s,baseUrl:r,cleanPath:o,finalUrl:l}),l},Oa=s=>{const r=Cu(`assets/images/${s}`);return console.log("🔗 getImageUrl (utils):",{filename:s,url:r}),r},k_=s=>Cu(`assets/audio/${s}`),$r=s=>{const r=Cu(`assets/markerclick/${s}`);return console.log("🎭 getSpriteUrl:",{filename:s,url:r,fullPath:`assets/markerclick/${s}`}),r},_m=s=>{const r=Cu(`assets/marker_bandeira_lugar_correto/${s}`);return console.log("🏁 getBandeiraCorretaSpriteUrl:",{filename:s,url:r,fullPath:`assets/marker_bandeira_lugar_correto/${s}`}),r},ut={size:122,anchorX:25,anchorY:104,fps:25,frameDelay:1e3/25},yp={markerclick:4e3,bandeira_correta:4e3};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),E_=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,o,l)=>l?l.toUpperCase():o.toLowerCase()),_p=s=>{const r=E_(s);return r.charAt(0).toUpperCase()+r.slice(1)},xm=(...s)=>s.filter((r,o,l)=>!!r&&r.trim()!==""&&l.indexOf(r)===o).join(" ").trim(),C_=s=>{for(const r in s)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var P_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=C.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:u="",children:h,iconNode:g,...x},y)=>C.createElement("svg",{ref:y,...P_,width:r,height:r,stroke:s,strokeWidth:l?Number(o)*24/Number(r):o,className:xm("lucide",u),...!h&&!C_(x)&&{"aria-hidden":"true"},...x},[...g.map(([w,S])=>C.createElement(w,S)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(s,r)=>{const o=C.forwardRef(({className:l,...u},h)=>C.createElement(T_,{ref:h,iconNode:r,className:xm(`lucide-${b_(_p(s))}`,`lucide-${s}`,l),...u}));return o.displayName=_p(s),o};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],M_=$e("arrow-left",L_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],R_=$e("arrow-right",j_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],O_=$e("award",A_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],N_=$e("book-open",I_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],D_=$e("circle-alert",z_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],B_=$e("circle-check-big",F_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$_=$e("circle-question-mark",U_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],H_=$e("circle-x",G_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Z_=$e("clock",W_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],q_=$e("compass",V_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],J_=$e("crown",K_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],Q_=$e("flag",Y_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],ex=$e("flame",X_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],nx=$e("frown",tx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],ox=$e("gift",rx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],sx=$e("heart",ix);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],wm=$e("house",ax);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],Sm=$e("landmark",lx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],cx=$e("lightbulb",ux);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],km=$e("map-pin",dx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],fx=$e("map",hx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],mx=$e("medal",px);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],vx=$e("navigation",gx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],_x=$e("pause",yx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],wx=$e("play",xx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],kx=$e("plus",Sx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ex=$e("rotate-ccw",bx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Px=$e("settings",Cx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Lx=$e("share-2",Tx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],jx=$e("sparkles",Mx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ax=$e("star",Rx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],xp=$e("target",Ox);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],Nx=$e("thumbs-up",Ix);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Dx=$e("trophy",zx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}]],Bx=$e("volume-1",Fx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],$x=$e("volume-2",Ux);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],Hx=$e("volume-x",Gx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Zx=$e("zap",Wx),Ct=({name:s,size:r=24,color:o="var(--text-primary)",className:l=""})=>{const u={size:r,color:o,className:`game-icon ${l}`,style:{}};switch(s.toLowerCase()){case"target":return f.jsx(xp,{...u});case"clock":case"time":return f.jsx(Z_,{...u});case"zap":case"lightning":case"bonus":return f.jsx(Zx,{...u});case"mappin":case"location":case"distance":return f.jsx(km,{...u});case"volume2":case"volume-high":return f.jsx($x,{...u});case"volume1":case"volume-medium":return f.jsx(Bx,{...u});case"volumex":case"volume-mute":return f.jsx(Hx,{...u});case"trophy":case"winner":return f.jsx(Dx,{...u});case"share2":case"share":return f.jsx(Lx,{...u});case"play":case"start":return f.jsx(wx,{...u});case"pause":return f.jsx(_x,{...u});case"rotateccw":case"retry":case"restart":return f.jsx(Ex,{...u});case"arrowright":case"next":return f.jsx(R_,{...u});case"home":return f.jsx(wm,{...u});case"settings":return f.jsx(Px,{...u});case"star":return f.jsx(Ax,{...u});case"award":return f.jsx(O_,{...u});case"flag":return f.jsx(Q_,{...u});case"navigation":return f.jsx(vx,{...u});case"compass":return f.jsx(q_,{...u});case"map":return f.jsx(fx,{...u});case"landmark":return f.jsx(Sm,{...u});case"sparkles":case"incredible":return f.jsx(jx,{...u});case"thumbsup":case"good":return f.jsx(Nx,{...u});case"helpcircle":case"almost":return f.jsx($_,{...u});case"frown":case"ops":return f.jsx(nx,{...u});case"checkcircle":case"perfect":return f.jsx(B_,{...u});case"xcircle":case"wrong":return f.jsx(H_,{...u});case"alertcircle":case"warning":return f.jsx(D_,{...u});case"heart":return f.jsx(sx,{...u});case"flame":case"fire":case"streak":return f.jsx(ex,{...u});case"crown":return f.jsx(J_,{...u});case"medal":return f.jsx(mx,{...u});case"gift":return f.jsx(ox,{...u});case"lightbulb":case"tip":return f.jsx(cx,{...u});default:return f.jsx(xp,{...u})}},Ld=({size:s,color:r})=>f.jsx(Ct,{name:"target",size:s,color:r}),bm=({size:s,color:r})=>f.jsx(Ct,{name:"clock",size:s,color:r}),Em=({size:s,color:r})=>f.jsx(Ct,{name:"zap",size:s,color:r}),Vx=({size:s,color:r})=>f.jsx(Ct,{name:"mappin",size:s,color:r}),Vd=({size:s,color:r})=>f.jsx(Ct,{name:"trophy",size:s,color:r}),qx=({size:s,color:r})=>f.jsx(Ct,{name:"share",size:s,color:r}),Kx=({size:s,color:r})=>f.jsx(Ct,{name:"pause",size:s,color:r}),Jx=({size:s,color:r})=>f.jsx(Ct,{name:"retry",size:s,color:r}),Yx=({size:s,color:r})=>f.jsx(Ct,{name:"next",size:s,color:r}),Qx=({size:s,color:r})=>f.jsx(Ct,{name:"volume2",size:s,color:r}),wp=({size:s,color:r})=>f.jsx(Ct,{name:"volume1",size:s,color:r}),Xx=({size:s,color:r})=>f.jsx(Ct,{name:"volumex",size:s,color:r}),Cm=({size:s,color:r})=>f.jsx(Ct,{name:"x",size:s,color:r}),ew=({size:s,color:r})=>f.jsx(Ct,{name:"check",size:s,color:r}),Sp=({size:s,color:r})=>f.jsx(Ct,{name:"refresh-cw",size:s,color:r}),pd=({size:s,color:r})=>f.jsx(Ct,{name:"medal",size:s,color:r}),tw=({size:s,color:r})=>f.jsx(Ct,{name:"landmark",size:s,color:r}),nw=({size:s,color:r})=>f.jsx(Ct,{name:"helpcircle",size:s,color:r}),rw=({isMuted:s,volume:r,onVolumeChange:o,onToggleMute:l})=>f.jsxs("div",{style:{position:"absolute",top:"clamp(10px, 2vw, 20px)",left:"clamp(10px, 2vw, 20px)",background:"var(--bg-secondary)",border:"none",color:"var(--text-primary)",padding:"clamp(8px, 1.5vw, 12px)",borderRadius:"2px",display:"flex",alignItems:"center",gap:"clamp(5px, 1vw, 10px)",zIndex:1e3,touchAction:"manipulation",boxShadow:"var(--shadow-md)"},children:[f.jsx("button",{onClick:l,style:{background:"none",border:"none",color:"white",cursor:"pointer",padding:"clamp(3px, 1vw, 5px)",display:"flex",alignItems:"center",touchAction:"manipulation"},children:s?f.jsx(Xx,{size:24,color:"var(--text-primary)"}):r>.3?f.jsx(Qx,{size:24,color:"var(--text-primary)"}):r>0?f.jsx(wp,{size:24,color:"var(--text-primary)"}):f.jsx(wp,{size:24,color:"var(--text-primary)"})}),f.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:s?0:r,onChange:o,style:{width:"clamp(60px, 15vw, 100px)",accentColor:"var(--accent-green)",touchAction:"manipulation"}})]}),ow=({variant:s="game",onClose:r})=>{const[o,l]=C.useState([]),[u,h]=C.useState(!1),[g,x]=C.useState(!1),y=async()=>{h(!0);try{const{data:M,error:P}=await Yn.from("ranking").select("*").order("score",{ascending:!1}).limit(5);if(P){console.error("Erro ao buscar ranking:",P);return}l(M||[])}catch(M){console.error("Erro ao buscar ranking:",M)}finally{h(!1)}};C.useEffect(()=>{y()},[]);const w=M=>{switch(M){case 1:return"🥇";case 2:return"🥈";case 3:return"🥉";default:return"🏆"}},[S,E]=C.useState(!1);C.useEffect(()=>{const M=()=>{E(window.innerWidth<=768)};return M(),window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]);const T=()=>{const M={fontFamily:"'LaCartoonerie', sans-serif",transition:"none",pointerEvents:"auto"};return s==="startScreen"?S?{...M,position:"relative",width:"100%",marginBottom:"20px",border:"4px solid var(--accent-yellow)",borderRadius:"12px",background:"rgba(30, 30, 30, 0.98)",maxHeight:"400px",overflow:"hidden"}:{...M,position:"fixed",bottom:"40px",left:"40px",zIndex:2002,minWidth:"340px",maxWidth:"400px",boxShadow:"var(--shadow-md)",border:"none",borderRadius:"4px",background:"var(--bg-secondary)"}:{...M,position:"fixed",top:"20px",left:"20px",zIndex:1001}};return f.jsx("div",{style:T(),children:f.jsxs("div",{className:"ranking-container",style:{background:s==="startScreen"?"transparent":"var(--bg-secondary)",border:"none",borderRadius:s==="startScreen"?"0":"4px",boxShadow:s==="startScreen"?"none":"var(--shadow-md)",overflow:"hidden",minWidth:g?s==="startScreen"?S?"100%":"340px":"280px":s==="startScreen"?S?"100%":"340px":"200px",maxWidth:g?s==="startScreen"?S?"100%":"400px":"320px":s==="startScreen"?S?"100%":"400px":"220px"},children:[f.jsxs("div",{className:"ranking-header",onClick:()=>x(!g),style:{background:s==="startScreen"?"var(--bg-secondary)":"var(--accent-blue)",color:"var(--text-primary)",padding:s==="startScreen"?S?"12px 16px":"16px 24px":"8px 12px",cursor:"pointer",display:"flex",flexDirection:s==="startScreen"?"column":"row",justifyContent:"center",alignItems:"center",fontWeight:"bold",fontSize:s==="startScreen"?S?"1.3rem":"1.7rem":"1.1rem",textShadow:"none",borderTopLeftRadius:s==="startScreen"?"4px":"0",borderTopRightRadius:s==="startScreen"?"4px":"0",letterSpacing:"1px",boxShadow:s==="startScreen"?"var(--shadow-md)":"none",border:"none"},children:[f.jsx("span",{style:{fontSize:s==="startScreen"?S?"1.5rem":"2.1rem":"1.2rem",marginBottom:s==="startScreen"?"2px":0,textAlign:"center",width:"100%",fontFamily:"'LaCartoonerie', sans-serif"},children:"🏆 RANKING GERAL"}),f.jsx("button",{onClick:M=>{M.stopPropagation(),s==="startScreen"&&r?r():x(!g)},style:{background:"none",border:"none",color:"var(--text-primary)",cursor:"pointer",fontSize:s==="startScreen"?"1.5rem":"1.2rem",padding:"0",width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:s==="startScreen"?"12px":"8px",right:s==="startScreen"?"16px":"8px",zIndex:10},"aria-label":s==="startScreen"?"Fechar ranking":"Expandir/Recolher ranking",children:"✕"})]}),f.jsx("div",{style:{padding:s==="startScreen"?"18px 18px 12px 18px":"8px",background:s==="startScreen"?"rgba(255,255,255,0.08)":"var(--bg-primary)",maxHeight:g?s==="startScreen"?S?"300px":"520px":"400px":s==="startScreen"?S?"200px":"320px":"200px",overflowY:"auto",fontSize:s==="startScreen"?S?"1rem":"1.25rem":"0.9rem",color:"var(--text-primary)"},children:u?f.jsx("div",{style:{textAlign:"center",padding:"20px",color:"var(--text-secondary)",fontSize:"1rem"},children:"Carregando..."}):o.length===0?f.jsx("div",{style:{textAlign:"center",padding:"20px",color:"var(--text-secondary)",fontSize:"1rem"},children:"Nenhum jogador ainda"}):f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:o.map((M,P)=>f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",background:P===0?"rgba(16, 185, 129, 0.1)":P===1?"rgba(192, 192, 192, 0.1)":P===2?"rgba(205, 127, 50, 0.1)":"transparent",border:P<3?"1px solid var(--accent-green)":"1px solid transparent",borderRadius:"4px",fontFamily:"'LaCartoonerie', sans-serif"},children:[f.jsx("span",{style:{fontSize:"1.1rem",minWidth:"20px",textAlign:"center"},children:w(P+1)}),f.jsx("div",{style:{flex:1,minWidth:0,overflow:"hidden",fontFamily:"'LaCartoonerie', sans-serif"},children:f.jsx("div",{style:{color:"var(--text-primary)",fontWeight:"bold",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"1rem",fontFamily:"'LaCartoonerie', sans-serif"},children:M.player_name})}),f.jsx("div",{style:{color:"var(--accent-green)",fontWeight:"bold",fontSize:"1rem",textAlign:"right",minWidth:"50px",fontFamily:"'LaCartoonerie', sans-serif"},children:M.score.toLocaleString()})]},M.id))})}),g&&f.jsxs("div",{style:{padding:"6px 8px",background:"var(--bg-secondary)",borderTop:"none",fontSize:"0.8rem",color:"var(--text-secondary)",textAlign:"center"},children:["Clique para ",g?"recolher":"expandir"]})]})})},md={name:"",description:"",latitude:"",longitude:"",category:"",address:"",imageUrl:"",suggestedBy:"",email:"",reason:""},iw=new bu.Icon({iconUrl:"https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/images/marker-icon.png",iconSize:[32,48],iconAnchor:[16,48],popupAnchor:[0,-48]}),Pm=({onClose:s})=>{const[r,o]=C.useState(md),[l,u]=C.useState(!1),[h,g]=C.useState(null),[x,y]=C.useState(null),[w,S]=C.useState(null),E=j=>{o({...r,[j.target.name]:j.target.value})},T=j=>{S(j),o(z=>({...z,latitude:j.lat.toString(),longitude:j.lng.toString()}))},M=async j=>{j.preventDefault(),u(!0),g(null),y(null);try{if(!r.name||!r.latitude||!r.longitude){y("Preencha pelo menos nome, latitude e longitude!"),u(!1);return}const z=`
Nova sugestão de lugar famoso para o GeoSantos!

Dados do lugar:
- Nome: ${r.name}
- Descrição: ${r.description}
- Categoria: ${r.category}
- Endereço: ${r.address}
- Coordenadas: ${r.latitude}, ${r.longitude}
- URL da imagem: ${r.imageUrl}

Dados de quem sugeriu:
- Nome: ${r.suggestedBy}
- Email: ${r.email}
- Motivo da sugestão: ${r.reason}

---
Enviado automaticamente pelo formulário de sugestões do GeoSantos
      `,V=`mailto:heric.moura@unifesp.br?subject=Sugestão de lugar famoso: ${r.name}&body=${encodeURIComponent(z)}`;window.open(V,"_blank"),g("Sugestão enviada com sucesso! Obrigado por contribuir com o GeoSantos!"),o(md),S(null),setTimeout(()=>{s()},3e3)}catch(z){y("Erro inesperado: "+z.message)}finally{u(!1)}},P=()=>{o(md),S(null),g(null),y(null),s()};return r.latitude&&parseFloat(r.latitude),r.longitude&&parseFloat(r.longitude),f.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px",boxSizing:"border-box"},children:f.jsxs("div",{style:{maxWidth:1200,width:"100%",maxHeight:"90vh",background:"var(--bg-secondary)",border:"4px solid var(--accent-blue)",borderRadius:"var(--radius-lg)",boxShadow:"var(--shadow-xl)",padding:32,fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-primary)",display:"flex",flexDirection:"row",gap:32,flexWrap:"wrap",overflowY:"auto",position:"relative"},children:[f.jsxs("div",{style:{flex:"1 1 400px",minWidth:320,maxWidth:600,display:"flex",flexDirection:"column",gap:0},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:24,gap:16},children:[f.jsxs("button",{onClick:s,style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",background:"var(--bg-accent)",border:"none",borderRadius:"4px",color:"var(--text-primary)",cursor:"pointer",fontFamily:"'LaCartoonerie', sans-serif",fontSize:"0.9rem",fontWeight:"bold",textTransform:"uppercase",transition:"all 0.2s ease",boxShadow:"2px 2px 0 #222"},onMouseEnter:j=>{j.currentTarget.style.background="var(--accent-blue)",j.currentTarget.style.color="var(--bg-primary)",j.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:j=>{j.currentTarget.style.background="var(--bg-accent)",j.currentTarget.style.color="var(--text-primary)",j.currentTarget.style.transform="translateY(0)"},children:[f.jsx(M_,{size:16}),"Voltar"]}),f.jsx("h1",{style:{fontFamily:"'LaCartoonerie', sans-serif",color:"var(--accent-green)",fontSize:"1.3rem",textAlign:"center",textTransform:"uppercase",fontWeight:"bold",letterSpacing:"1px",textShadow:"2px 2px 0 #222",margin:0,flex:1},children:"Sugerir Novo Lugar"}),f.jsx("p",{style:{fontSize:"1rem",color:"var(--text-secondary)",textAlign:"center",fontFamily:"'LaCartoonerie', sans-serif",lineHeight:1.5,margin:"16px 0 0 0",maxWidth:"600px"},children:"Conhece um lugar interessante em Santos que deveria estar no jogo? Sugira novos pontos turísticos, locais históricos ou lugares especiais para que outros jogadores possam descobrir!"}),f.jsx("div",{style:{width:"80px"}})]}),f.jsx("div",{style:{width:"100%",height:300,marginBottom:16,border:"2px solid var(--text-primary)",borderRadius:"var(--radius-md)",boxShadow:"var(--shadow-md)",overflow:"hidden"},children:f.jsxs(ks,{center:w?[w.lat,w.lng]:[-23.9676,-46.3287],zoom:13,style:{width:"100%",height:"100%"},scrollWheelZoom:!0,children:[f.jsx(Es,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© OpenStreetMap contributors"}),f.jsx(Zd,{onClick:T}),w&&f.jsx(bs,{position:w,icon:iw})]})}),f.jsxs("form",{onSubmit:M,style:{display:"flex",flexDirection:"column",gap:16},children:[f.jsx("input",{name:"name",value:r.name,onChange:E,placeholder:"Nome do lugar",style:Nn,required:!0}),f.jsx("textarea",{name:"description",value:r.description,onChange:E,placeholder:"Descrição do lugar",style:{...Nn,minHeight:60}}),f.jsx("input",{name:"latitude",value:r.latitude,onChange:E,placeholder:"Latitude (clique no mapa)",style:Nn,type:"number",step:"any",required:!0}),f.jsx("input",{name:"longitude",value:r.longitude,onChange:E,placeholder:"Longitude (clique no mapa)",style:Nn,type:"number",step:"any",required:!0}),f.jsx("input",{name:"category",value:r.category,onChange:E,placeholder:"Categoria (ex: Turístico, Histórico, Cultural)",style:Nn}),f.jsx("input",{name:"address",value:r.address,onChange:E,placeholder:"Endereço completo",style:Nn}),f.jsx("input",{name:"imageUrl",value:r.imageUrl,onChange:E,placeholder:"URL da imagem (opcional)",style:Nn}),f.jsxs("div",{style:{borderTop:"2px solid var(--accent-blue)",paddingTop:20,marginTop:16,borderRadius:"var(--radius-sm)"},children:[f.jsx("input",{name:"suggestedBy",value:r.suggestedBy,onChange:E,placeholder:"Seu nome",style:Nn,required:!0}),f.jsx("input",{name:"email",value:r.email,onChange:E,placeholder:"Seu email",style:Nn,type:"email",required:!0}),f.jsx("textarea",{name:"reason",value:r.reason,onChange:E,placeholder:"Por que você sugere este lugar? (opcional)",style:{...Nn,minHeight:60}})]}),x&&f.jsx("div",{style:{color:"var(--accent-red)",fontSize:"0.9rem",fontFamily:"'LaCartoonerie', sans-serif",padding:"12px",background:"rgba(239, 68, 68, 0.1)",border:"2px solid var(--accent-red)",borderRadius:"var(--radius-md)",marginTop:8},children:x}),h&&f.jsx("div",{style:{color:"var(--accent-green)",fontSize:"0.9rem",fontFamily:"'LaCartoonerie', sans-serif",padding:"12px",background:"rgba(16, 185, 129, 0.1)",border:"2px solid var(--accent-green)",borderRadius:"var(--radius-md)",marginTop:8},children:h}),f.jsxs("div",{style:{display:"flex",gap:8},children:[f.jsx("button",{type:"submit",disabled:l,style:{...Nn,background:"var(--accent-green)",color:"var(--bg-primary)",border:"3px solid #222",cursor:"pointer",fontWeight:"bold",fontSize:14,marginTop:8,flex:1,fontFamily:"'LaCartoonerie', sans-serif",textTransform:"uppercase",transition:"all 0.2s ease"},onMouseEnter:j=>{l||(j.currentTarget.style.transform="translateY(-2px)",j.currentTarget.style.boxShadow="4px 4px 0 #222")},onMouseLeave:j=>{l||(j.currentTarget.style.transform="translateY(0)",j.currentTarget.style.boxShadow="2px 2px 0 #222")},children:l?"Enviando...":"Enviar Sugestão"}),f.jsx("button",{type:"button",onClick:P,style:{...Nn,background:"var(--bg-accent)",color:"var(--text-primary)",border:"2px solid var(--text-primary)",cursor:"pointer",fontWeight:"bold",fontSize:14,marginTop:8,fontFamily:"'LaCartoonerie', sans-serif",textTransform:"uppercase",transition:"all 0.2s ease"},onMouseEnter:j=>{j.currentTarget.style.background="var(--accent-red)",j.currentTarget.style.color="var(--bg-primary)",j.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:j=>{j.currentTarget.style.background="var(--bg-accent)",j.currentTarget.style.color="var(--text-primary)",j.currentTarget.style.transform="translateY(0)"},children:"Cancelar"})]})]})]}),f.jsxs("div",{style:{flex:"1 1 300px",minWidth:280,maxWidth:500,display:"flex",flexDirection:"column",gap:16,background:"var(--bg-accent)",border:"2px solid var(--accent-orange)",borderRadius:"var(--radius-md)",boxShadow:"var(--shadow-lg)",padding:24},children:[f.jsx("h2",{style:{fontSize:"1.2rem",color:"var(--accent-orange)",fontFamily:"'LaCartoonerie', sans-serif",textTransform:"uppercase",textAlign:"center",fontWeight:"bold",letterSpacing:"1px",marginBottom:8},children:"Como Sugerir"}),f.jsxs("div",{style:{fontSize:"1rem",color:"var(--text-primary)",fontFamily:"'LaCartoonerie', sans-serif",lineHeight:1.6},children:[f.jsxs("p",{style:{marginBottom:"16px"},children:[f.jsx("strong",{children:"1. Clique no mapa"})," para selecionar a localização exata do lugar"]}),f.jsxs("p",{style:{marginBottom:"16px"},children:[f.jsx("strong",{children:"2. Preencha os dados"})," do lugar (nome, descrição, categoria, etc.)"]}),f.jsxs("p",{style:{marginBottom:"16px"},children:[f.jsx("strong",{children:"3. Adicione seus dados"})," para que possamos entrar em contato"]}),f.jsxs("p",{style:{marginBottom:"16px"},children:[f.jsx("strong",{children:'4. Clique em "Enviar Sugestão"'})," para abrir seu cliente de email"]})]}),f.jsxs("div",{style:{background:"var(--bg-secondary)",border:"2px solid var(--accent-green)",borderRadius:"var(--radius-md)",padding:"16px",fontSize:"0.9rem",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-primary)"},children:[f.jsx("strong",{style:{color:"var(--accent-green)"},children:"💡 Dicas:"}),f.jsxs("ul",{style:{margin:"12px 0 0 20px",padding:0,lineHeight:1.5},children:[f.jsx("li",{children:"Lugares históricos e culturais são prioridade"}),f.jsx("li",{children:"Inclua uma imagem se possível"}),f.jsx("li",{children:"Descreva por que o lugar é importante"}),f.jsx("li",{children:"Verifique se as coordenadas estão corretas"})]})]}),f.jsxs("div",{style:{background:"var(--bg-secondary)",border:"2px solid var(--accent-orange)",borderRadius:"var(--radius-md)",padding:"16px",fontSize:"0.9rem",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-primary)"},children:[f.jsx("strong",{style:{color:"var(--accent-orange)"},children:"⚠️ Importante:"}),f.jsx("br",{}),"Sua sugestão será analisada pela equipe do GeoSantos. Lugares aprovados serão adicionados ao jogo em futuras atualizações."]})]})]})})},Nn={fontFamily:"'LaCartoonerie', sans-serif",fontSize:"1rem",border:"2px solid var(--text-primary)",borderRadius:"var(--radius-md)",padding:"12px 16px",background:"var(--bg-primary)",color:"var(--text-primary)",boxShadow:"var(--shadow-md)",outline:"none",transition:"all 0.2s ease",width:"100%",boxSizing:"border-box"},sw="/geosantos/assets/background-BDwexB69.webm",aw=({onStartGame:s,onShowLeaderboard:r,highScore:o=0,totalGames:l=0,averageScore:u=0,onSelectMode:h})=>{const[g,x]=C.useState(0),[y,w]=C.useState(!1),[S,E]=C.useState(!1),[T,M]=C.useState(null),[P,j]=C.useState(!0),[z,V]=C.useState(!1),[J,Z]=C.useState(!1),te=C.useRef(null),he=C.useRef(null),le=C.useMemo(()=>[{id:"play_neighborhoods",label:"BAIRROS",icon:km,action:()=>{console.log("[StartScreen] Modo Bairros selecionado"),console.log("[StartScreen] Chamando onSelectMode com neighborhoods"),h==null||h("neighborhoods"),console.log("[StartScreen] Chamando onStartGame"),s()},description:"Clique no mapa onde você acha que está o bairro. Quanto mais próximo da localização correta, mais pontos você ganha!"},{id:"play_famous_places",label:"LUGARES FAMOSOS",icon:tw,action:()=>{console.log("[StartScreen] Modo Lugares Famosos selecionado"),console.log("[StartScreen] Chamando onSelectMode com famous_places"),h==null||h("famous_places"),console.log("[StartScreen] Chamando onStartGame"),s()},description:"Localize pontos turísticos e lugares históricos de Santos. Teste seus conhecimentos sobre a cidade!"},{id:"leaderboard",label:"VER RANKING",icon:Vd,action:r,description:"Veja as maiores pontuações e descubra sua posição no ranking dos melhores jogadores."}],[s,r,h]),K=C.useMemo(()=>[{id:"wiki",label:"WIKI-GEOSANTOS",icon:N_,action:()=>{window.location.href="/geosantos/lugares-famosos"},description:"Explore informações e curiosidades sobre os lugares do jogo.",as:ws,to:"/lugares-famosos"},{id:"suggest_place",label:"SUGERIR NOVO LOCAL",icon:kx,action:()=>{V(!0)},description:"Sugira novos lugares para serem adicionados ao jogo.",as:"button"},{id:"controls",label:"CONTROLES",icon:()=>f.jsx("span",{style:{fontSize:"16px"},children:"🎮"}),action:()=>{},description:"Veja os controles do mapa.",as:"button",onMouseEnter:()=>Z(!0),onMouseLeave:()=>Z(!1)}],[]),ge=C.useCallback(ie=>{var ue,me,fe,Le;const Ae=le.length+K.length;if(ie.key==="ArrowUp")ie.preventDefault(),x(B=>B>0?B-1:Ae-1);else if(ie.key==="ArrowDown")ie.preventDefault(),x(B=>B<Ae-1?B+1:0);else if(ie.key==="Enter"||ie.key===" ")if(ie.preventDefault(),g<le.length)(me=(ue=le[g]).action)==null||me.call(ue);else{const B=g-le.length;(Le=(fe=K[B]).action)==null||Le.call(fe)}},[le,K,g]),ne=C.useCallback(()=>{const ie=te.current,Ae=he.current;if(ie&&Ae&&ie.videoWidth>0&&ie.videoHeight>0){Ae.width=ie.videoWidth,Ae.height=ie.videoHeight;const ue=Ae.getContext("2d");if(ue){ue.drawImage(ie,0,0,Ae.width,Ae.height);const me=Ae.toDataURL("image/jpeg",.8);M(me)}}},[]),_e=C.useCallback(()=>{ne(),w(!0)},[ne]),ke=C.useCallback(()=>{E(!0),console.warn("Erro ao carregar vídeo de background")},[]);return C.useEffect(()=>(document.addEventListener("keydown",ge),()=>document.removeEventListener("keydown",ge)),[ge]),C.useEffect(()=>{const ie=te.current;if(ie)return ie.addEventListener("loadeddata",_e),ie.addEventListener("error",ke),ie.addEventListener("canplay",ne),()=>{ie.removeEventListener("loadeddata",_e),ie.removeEventListener("error",ke),ie.removeEventListener("canplay",ne)}},[_e,ke,ne]),f.jsxs(f.Fragment,{children:[f.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",overflow:"hidden",zIndex:0},children:[f.jsx("canvas",{ref:he,style:{position:"absolute",top:"-9999px",left:"-9999px",width:"1px",height:"1px"}}),T&&f.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100vw",height:"100vh",backgroundImage:`url(${T})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",opacity:y&&!S?0:1,transition:"opacity 0.5s ease-in-out",zIndex:1}}),f.jsxs("video",{ref:te,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,style:{width:"100vw",height:"100vh",objectFit:"cover",position:"absolute",top:0,left:0,opacity:y&&!S?1:0,transition:"opacity 0.5s ease-in-out",zIndex:2},children:[f.jsx("source",{src:sw,type:"video/webm"}),"Seu navegador não suporta vídeo em background."]})]}),f.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:4,padding:"20px",boxSizing:"border-box"},children:[f.jsx("div",{style:{textAlign:"center",marginBottom:"10px"},children:f.jsxs("h1",{style:{fontSize:"clamp(6.5rem, 26vw, 12rem)",fontFamily:"'LaCartoonerie', sans-serif",margin:"0",animation:"titleFloat 5s ease-in-out infinite",filter:"drop-shadow(3px 3px 0px #fff) drop-shadow(-3px -3px 0px #fff) drop-shadow(3px -3px 0px #fff) drop-shadow(-3px 3px 0px #fff)",fontWeight:"bold",lineHeight:1.2},children:[f.jsx("span",{style:{color:"#22c55e"},children:"Geo"}),f.jsx("span",{style:{color:"#3b82f6"},children:"Santos"})]})}),(o>0||l>0)&&f.jsxs("div",{style:{display:"flex",gap:"20px",flexWrap:"wrap",justifyContent:"center",marginBottom:"-50px"},children:[o>0&&f.jsxs("div",{style:{background:"var(--bg-secondary)",border:"2px solid var(--accent-green)",borderRadius:"4px",padding:"12px 16px",textAlign:"center",boxShadow:"var(--shadow-md)"},children:[f.jsx("div",{style:{fontSize:"clamp(0.8rem, 2vw, 1rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-secondary)",marginBottom:"4px"},children:"MELHOR PONTUAÇÃO"}),f.jsx("div",{style:{fontSize:"clamp(1.2rem, 3vw, 1.8rem)",fontFamily:"'VT323', monospace",color:"var(--accent-green)",fontWeight:"bold"},children:o.toLocaleString()})]}),l>0&&f.jsxs("div",{style:{background:"var(--bg-secondary)",border:"2px solid var(--accent-blue)",borderRadius:"4px",padding:"12px 16px",textAlign:"center",boxShadow:"var(--shadow-md)"},children:[f.jsx("div",{style:{fontSize:"clamp(0.8rem, 2vw, 1rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-secondary)",marginBottom:"4px"},children:"JOGOS JOGADOS"}),f.jsx("div",{style:{fontSize:"clamp(1.2rem, 3vw, 1.8rem)",fontFamily:"'VT323', monospace",color:"var(--accent-blue)",fontWeight:"bold"},children:l})]}),u>0&&f.jsxs("div",{style:{background:"var(--bg-secondary)",border:"2px solid var(--accent-orange)",borderRadius:"4px",padding:"12px 16px",textAlign:"center",boxShadow:"var(--shadow-md)"},children:[f.jsx("div",{style:{fontSize:"clamp(0.8rem, 2vw, 1rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-secondary)",marginBottom:"4px"},children:"MÉDIA"}),f.jsx("div",{style:{fontSize:"clamp(1.2rem, 3vw, 1.8rem)",fontFamily:"'VT323', monospace",color:"var(--accent-orange)",fontWeight:"bold"},children:Math.round(u)})]})]}),f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px",minWidth:"300px",alignItems:"center",marginTop:"-20px"},children:le.map((ie,Ae)=>{const ue=ie.icon,me=Ae===g,fe={display:"flex",alignItems:"center",justifyContent:"center",gap:"16px",padding:"16px 24px",background:me?"var(--accent-blue)":"var(--bg-secondary)",border:"none",borderRadius:"4px",color:me?"var(--bg-primary)":"var(--text-primary)",cursor:"pointer",transition:"all 0.2s ease",fontFamily:"'LaCartoonerie', sans-serif",fontWeight:400,textTransform:"uppercase",letterSpacing:"1px",boxShadow:me?"var(--shadow-lg)":"var(--shadow-md)",transform:me?"translate(-2px, -2px)":"translate(0, 0)",position:"relative",overflow:"hidden",opacity:1,textDecoration:"none",width:"100%"};return f.jsxs("button",{style:fe,onClick:ie.action,onMouseEnter:()=>x(Ae),onMouseLeave:()=>x(0),children:[f.jsx(ue,{size:24,color:me?"var(--bg-primary)":"var(--text-primary)"}),f.jsx("div",{style:{fontSize:"clamp(0.9rem, 2.2vw, 1.1rem)",fontWeight:"bold",lineHeight:1.2},children:ie.label})]},ie.id)})}),f.jsx("div",{style:{display:"flex",gap:"12px",marginTop:"20px",justifyContent:"center"},children:K.map((ie,Ae)=>{const ue=ie.icon,me=ie.as||"button",fe=g===le.length+Ae,Le={display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"8px 16px",background:fe?"var(--accent-blue)":"var(--bg-accent)",border:"none",borderRadius:"4px",color:fe?"var(--bg-primary)":"var(--text-primary)",cursor:"pointer",transition:"all 0.2s ease",fontFamily:"'LaCartoonerie', sans-serif",fontSize:"clamp(0.7rem, 1.5vw, 0.8rem)",fontWeight:400,textTransform:"uppercase",letterSpacing:"1px",boxShadow:fe?"var(--shadow-lg)":"var(--shadow-md)",textDecoration:"none",transform:fe?"translateY(-2px)":"translateY(0)"},B=f.jsxs(f.Fragment,{children:[f.jsx(ue,{size:16,color:"var(--text-primary)"}),ie.label]});return me===ws?f.jsx(ws,{style:Le,to:ie.to,onMouseEnter:oe=>{oe.currentTarget.style.background="var(--accent-blue)",oe.currentTarget.style.color="var(--bg-primary)",oe.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:oe=>{oe.currentTarget.style.background="var(--bg-accent)",oe.currentTarget.style.color="var(--text-primary)",oe.currentTarget.style.transform="translateY(0)"},children:B},ie.id):f.jsx("button",{style:Le,onClick:ie.action,onMouseEnter:oe=>{var q;oe.currentTarget.style.background="var(--accent-blue)",oe.currentTarget.style.color="var(--bg-primary)",oe.currentTarget.style.transform="translateY(-2px)",x(le.length+Ae),(q=ie.onMouseEnter)==null||q.call(ie)},onMouseLeave:oe=>{var q;g!==le.length+Ae&&(oe.currentTarget.style.background="var(--bg-accent)",oe.currentTarget.style.color="var(--text-primary)",oe.currentTarget.style.transform="translateY(0)"),(q=ie.onMouseLeave)==null||q.call(ie)},children:B},ie.id)})}),f.jsxs("div",{style:{textAlign:"center",maxWidth:"600px",padding:"20px",background:"var(--bg-secondary)",border:"none",borderRadius:"4px",boxShadow:"var(--shadow-md)",marginTop:"40px"},children:[f.jsx("h3",{style:{fontSize:"clamp(1rem, 2.5vw, 1.3rem)",margin:"0 0 12px 0",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--accent-yellow)",textTransform:"uppercase"},children:"COMO JOGAR"}),f.jsxs("div",{style:{fontSize:"clamp(1rem, 2vw, 1.1rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-primary)",lineHeight:1.4},children:[f.jsx("p",{style:{margin:"15px 0"},children:"• Clique no mapa onde você acha que está o bairro"}),f.jsx("p",{style:{margin:"15px 0"},children:"• Quanto mais próximo, mais pontos você ganha"}),f.jsx("p",{style:{margin:"15px 0"},children:"• Quanto mais rápido, mais bônus de tempo"}),f.jsx("p",{style:{margin:"15px 0"},children:"• Use as setas do teclado para navegar no menu"}),J&&f.jsxs("div",{style:{position:"fixed",bottom:"80px",right:"20px",padding:"15px",background:"var(--bg-secondary)",borderRadius:"4px",border:"2px solid var(--accent-green)",boxShadow:"var(--shadow-xl)",animation:"fadeIn 0.3s ease-in",zIndex:1e3,minWidth:"280px"},children:[f.jsx("h4",{style:{fontSize:"clamp(0.9rem, 2vw, 1rem)",margin:"0 0 10px 0",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--accent-green)",textTransform:"uppercase",fontWeight:"bold",textAlign:"center"},children:"🎮 CONTROLES DO MAPA"}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"6px",fontSize:"clamp(0.75rem, 1.6vw, 0.85rem)"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[f.jsx("span",{style:{color:"var(--accent-green)",fontWeight:"bold",fontSize:"1.1em"},children:"Z"}),f.jsx("span",{children:"Zoom In"})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[f.jsx("span",{style:{color:"var(--accent-green)",fontWeight:"bold",fontSize:"1.1em"},children:"X"}),f.jsx("span",{children:"Zoom Out"})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[f.jsx("span",{style:{color:"var(--accent-blue)",fontWeight:"bold",fontSize:"1.1em"},children:"↑"}),f.jsx("span",{children:"Mover ↑"})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[f.jsx("span",{style:{color:"var(--accent-blue)",fontWeight:"bold",fontSize:"1.1em"},children:"↓"}),f.jsx("span",{children:"Mover ↓"})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[f.jsx("span",{style:{color:"var(--accent-blue)",fontWeight:"bold",fontSize:"1.1em"},children:"←"}),f.jsx("span",{children:"Mover ←"})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[f.jsx("span",{style:{color:"var(--accent-blue)",fontWeight:"bold",fontSize:"1.1em"},children:"→"}),f.jsx("span",{children:"Mover →"})]})]})]})]})]}),f.jsx("div",{style:{textAlign:"center",fontSize:"clamp(1rem, 2.5vw, 1.3rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"#000000",marginTop:"20px"},children:f.jsxs("p",{style:{margin:"4px 0",textShadow:"2px 2px 0px #fff, -2px -2px 0px #fff, 2px -2px 0px #fff, -2px 2px 0px #fff"},children:["Desenvolvido por"," ",f.jsx("a",{href:"https://hericmr.github.io/me/",target:"_blank",rel:"noopener noreferrer",style:{color:"#000000",textDecoration:"none",textShadow:"2px 2px 0px #fff, -2px -2px 0px #fff, 2px -2px 0px #fff, -2px 2px 0px #fff",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:ie=>{ie.currentTarget.style.color="#0066CC"},onMouseLeave:ie=>{ie.currentTarget.style.color="#000000"},children:"hericmr"})]})}),f.jsxs("div",{style:{position:"absolute",bottom:"20px",left:"20px",right:"20px",width:"calc(100% - 40px)",display:"flex",justifyContent:"space-between",alignItems:"flex-end",pointerEvents:"none"},children:[f.jsx("div",{style:{pointerEvents:"auto"},children:P&&f.jsx(ow,{variant:"startScreen",onClose:()=>j(!1)})}),f.jsxs("div",{style:{pointerEvents:"auto",width:"320px",padding:"20px",background:"var(--bg-secondary)",border:"none",borderRadius:"4px",boxShadow:"var(--shadow-md)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-primary)",transition:"opacity 0.3s ease, transform 0.3s ease",opacity:g>=0?1:0,transform:g>=0?"translateY(0)":"translateY(20px)",visibility:g>=0?"visible":"hidden"},children:[f.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"clamp(1.1rem, 2.5vw, 1.4rem)",color:"var(--accent-yellow)",textTransform:"uppercase"},children:g<le.length?le[g].label:K[g-le.length].label}),f.jsx("p",{style:{margin:0,fontSize:"clamp(1rem, 2vw, 1.1rem)",lineHeight:1.4},children:g<le.length?le[g].description:K[g-le.length].description})]})]})]}),z&&f.jsx(Pm,{onClose:()=>V(!1)}),f.jsx("style",{children:`
          @keyframes titleFloat {
            0%, 100% {
              transform: translateY(0) rotate(-1deg);
            }
            50% {
              transform: translateY(-8px) rotate(1deg);
            }
          }
          
          @keyframes titleGlow {
            0%, 100% {
              filter: drop-shadow(0 0 5px var(--accent-yellow));
            }
            50% {
              filter: drop-shadow(0 0 15px var(--accent-yellow)) drop-shadow(0 0 25px var(--accent-yellow));
            }
          }
        `})]})},kp="geosantos_stats",lw=()=>{const[s,r]=C.useState({highScore:0,totalGames:0,totalScore:0,averageScore:0,bestTime:0,totalPlayTime:0,gamesWon:0,gamesLost:0,winRate:0});C.useEffect(()=>{const y=localStorage.getItem(kp);if(y)try{const w=JSON.parse(y);r(w)}catch(w){console.error("Erro ao carregar estatísticas:",w)}},[]);const o=y=>{try{localStorage.setItem(kp,JSON.stringify(y)),r(y)}catch(w){console.error("Erro ao salvar estatísticas:",w)}},l=async(y,w,S,E,T,M)=>{const P={...s};y>P.highScore&&(P.highScore=y),w>P.bestTime&&(P.bestTime=w),P.totalGames+=1,P.totalScore+=y,P.totalPlayTime+=w,S?P.gamesWon+=1:P.gamesLost+=1,P.averageScore=Math.round(P.totalScore/P.totalGames),P.winRate=Math.round(P.gamesWon/P.totalGames*100),o(P);try{return await gi.addScore({player_name:E,score:y,play_time:w,rounds_played:T,accuracy:M}),!0}catch(j){return console.error("Erro ao salvar no ranking:",j),!1}},u=async(y,w,S,E,T)=>{try{return await gi.addScore({player_name:y,score:w,play_time:S,rounds_played:E,accuracy:T}),!0}catch(M){return console.error("Erro ao salvar no ranking:",M),!1}},h=()=>{o({highScore:0,totalGames:0,totalScore:0,averageScore:0,bestTime:0,totalPlayTime:0,gamesWon:0,gamesLost:0,winRate:0})},g=()=>({highScore:s.highScore.toLocaleString(),totalGames:s.totalGames.toLocaleString(),averageScore:s.averageScore.toLocaleString(),bestTime:x(s.bestTime),totalPlayTime:x(s.totalPlayTime),gamesWon:s.gamesWon.toLocaleString(),gamesLost:s.gamesLost.toLocaleString(),winRate:`${s.winRate}%`}),x=y=>{const w=Math.floor(y/60),S=y%60;return`${w.toString().padStart(2,"0")}:${S.toString().padStart(2,"0")}`};return{stats:s,addGameResult:l,saveToRanking:u,resetStats:h,getFormattedStats:g}},bp="geosantos_player_name",Tm=()=>{const[s,r]=C.useState("");return C.useEffect(()=>{const u=localStorage.getItem(bp);u&&r(u)},[]),{playerName:s,savePlayerName:u=>{const h=u.trim();h&&(localStorage.setItem(bp,h),r(h))},initializePlayerName:()=>s||"Seu nome"}},uw=({isOpen:s,onClose:r,currentPlayerScore:o,currentPlayerName:l})=>{const[u,h]=C.useState([]),[g,x]=C.useState(!0),[y,w]=C.useState(null),[S,E]=C.useState(null),T=async()=>{x(!0),w(null);try{const P=await gi.getTopPlayers(20);if(h(P),l&&o){const j=await gi.getPlayerPosition(l,o);E(j)}}catch(P){w("Erro ao carregar ranking"),console.error("Erro ao carregar ranking:",P)}finally{x(!1)}};C.useEffect(()=>{s&&T()},[s]);const M=P=>{switch(P){case 1:return f.jsx(pd,{size:20,color:"#FFD700"});case 2:return f.jsx(pd,{size:20,color:"#C0C0C0"});case 3:return f.jsx(pd,{size:20,color:"#CD7F32"});default:return f.jsxs("span",{style:{fontSize:"1.2rem",fontWeight:"bold"},children:["#",P]})}};return s?f.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10001,padding:"20px",boxSizing:"border-box"},children:f.jsxs("div",{style:{background:"var(--bg-secondary)",border:"none",borderRadius:"4px",padding:"24px",maxWidth:"800px",width:"100%",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:"var(--shadow-xl)",position:"relative",animation:"modalSlideIn 0.3s ease-out"},children:[f.jsx("style",{children:`
            @keyframes modalSlideIn {
              0% {
                transform: scale(0.8) translateY(-20px);
                opacity: 0;
              }
              100% {
                transform: scale(1) translateY(0);
                opacity: 1;
              }
            }
            
            @keyframes pulse {
              0%, 100% { opacity: 1; }
              50% { opacity: 0.7; }
            }
            
            .loading { animation: pulse 1.5s ease-in-out infinite; }
          `}),f.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px",borderBottom:"none",paddingBottom:"12px"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[f.jsx(Vd,{size:24,color:"var(--accent-yellow)"}),f.jsx("h2",{style:{fontSize:"clamp(1.2rem, 3vw, 1.5rem)",margin:0,fontFamily:"'LaCartoonerie', sans-serif",color:"var(--accent-green)",textTransform:"uppercase"},children:"RANKING GLOBAL"})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx("button",{onClick:T,disabled:g,style:{background:"none",border:"none",cursor:g?"not-allowed":"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",opacity:g?.5:1},children:f.jsx(Sp,{size:20,color:"var(--text-primary)"})}),f.jsx("button",{onClick:r,style:{background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsx(Cm,{size:20,color:"var(--text-primary)"})})]})]}),o&&l&&S&&f.jsxs("div",{style:{background:"var(--accent-green)",border:"none",borderRadius:"4px",padding:"12px",marginBottom:"16px",textAlign:"center"},children:[f.jsx("h3",{style:{fontSize:"clamp(1rem, 2.5vw, 1.2rem)",margin:"0 0 8px 0",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-primary)",textTransform:"uppercase"},children:"SUA PONTUAÇÃO"}),f.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"16px",flexWrap:"wrap"},children:[f.jsxs("div",{style:{fontSize:"clamp(1.2rem, 3vw, 1.8rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-primary)",fontWeight:"bold"},children:[o.toLocaleString()," pts"]}),f.jsxs("div",{style:{fontSize:"clamp(1rem, 2.5vw, 1.3rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-primary)"},children:["Posição #",S]})]})]}),f.jsx("div",{style:{flex:1,overflow:"hidden",display:"flex",flexDirection:"column"},children:g?f.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"40px",fontSize:"clamp(1rem, 2.5vw, 1.2rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-secondary)"},children:[f.jsx(Sp,{size:24,color:"var(--text-secondary)"}),"Carregando ranking..."]}):y?f.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"40px",fontSize:"clamp(1rem, 2.5vw, 1.2rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--accent-red)",textAlign:"center"},children:y}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"60px 1fr 120px 100px",gap:"8px",padding:"12px",background:"var(--bg-primary)",border:"none",borderRadius:"4px",marginBottom:"8px",fontFamily:"'LaCartoonerie', sans-serif",fontSize:"clamp(0.7rem, 2vw, 0.9rem)",color:"var(--text-primary)",textTransform:"uppercase"},children:[f.jsx("div",{children:"POS"}),f.jsx("div",{children:"JOGADOR"}),f.jsx("div",{children:"PONTOS"}),f.jsx("div",{children:"RODADAS"})]}),f.jsx("div",{style:{flex:1,overflow:"auto",display:"flex",flexDirection:"column",gap:"4px"},children:u.length===0?f.jsx("div",{style:{textAlign:"center",padding:"40px",fontSize:"clamp(1rem, 2.5vw, 1.2rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-secondary)"},children:"Nenhum jogador ainda!"}):u.map((P,j)=>f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"60px 1fr 120px 100px",gap:"8px",padding:"8px 12px",background:j%2===0?"var(--bg-primary)":"var(--bg-secondary)",border:"none",borderRadius:"2px",alignItems:"center",fontFamily:"'LaCartoonerie', sans-serif",fontSize:"clamp(0.9rem, 2vw, 1.1rem)",color:"var(--text-primary)"},children:[f.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:M(j+1)}),f.jsx("div",{style:{fontWeight:"bold",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:P.player_name}),f.jsx("div",{style:{fontWeight:"bold",color:"var(--accent-green)"},children:P.score.toLocaleString()}),f.jsx("div",{children:P.rounds_played})]},P.id||j))})]})}),f.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"16px",paddingTop:"12px",borderTop:"none"},children:f.jsx("p",{style:{fontSize:"clamp(0.8rem, 2vw, 1rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-muted)",margin:0,textAlign:"center"},children:"Top 20 jogadores • Atualizado em tempo real"})})]})}):null},cw=({gameStarted:s,currentNeighborhood:r,globalTimeLeft:o,roundTimeLeft:l,roundNumber:u,roundInitialTime:h,score:g,onStartGame:x,getProgressBarColor:y,currentMode:w,onModeChange:S,currentFamousPlace:E})=>{const[T,M]=C.useState(window.innerWidth<=768),{stats:P}=lw(),[j,z]=C.useState(!1),{playerName:V,initializePlayerName:J}=Tm();return C.useEffect(()=>{const Z=()=>{M(window.innerWidth<=768)};return window.addEventListener("resize",Z),()=>window.removeEventListener("resize",Z)},[]),f.jsxs("div",{style:{position:"fixed",bottom:0,left:0,width:"100%",background:"var(--bg-secondary)",border:"none",borderBottom:"none",color:"var(--text-primary)",padding:s?"0":"clamp(10px, 2vw, 15px)",textAlign:"center",zIndex:1002,boxSizing:"border-box",boxShadow:"var(--shadow-md)"},children:[f.jsx("style",{children:`
          @keyframes pulseText {
            0% { transform: scale(1); }
            50% { transform: scale(1.03); }
            100% { transform: scale(1); }
          }

          @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
          }

          .game-title { animation: pulseText 1.5s infinite; }
          .game-description { animation: fadeIn 0.3s ease-out; }
          .start-button { animation: fadeIn 0.3s ease-out 0.2s both; }
        `}),s?f.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"column"},children:[f.jsxs("div",{style:{width:"100vw",height:T?"clamp(110px, 22vw, 130px)":"clamp(90px, 18vw, 110px)",background:"#2A2A2A",overflow:"hidden",position:"relative",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",marginLeft:"calc(-50vw + 50%)",marginRight:"calc(-50vw + 50%)",bottom:0},children:[f.jsx("div",{style:{width:`${o/h*100}%`,height:"100%",background:`linear-gradient(90deg, ${y(o,h)}, ${y(o,h)}CC)`,transition:"width 0.1s linear",position:"absolute",left:0,top:0,bottom:0,boxShadow:o<=3?"0 0 20px rgba(255, 0, 0, 0.3)":"0 0 15px rgba(255, 255, 255, 0.1)",animation:o<=3?"pulse 1s infinite":"none"}}),f.jsx("style",{children:`
                @keyframes pulse {
                  0% { opacity: 1; }
                  50% { opacity: 0.8; }
                  100% { opacity: 1; }
                }
              `}),f.jsx("div",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",padding:"0",zIndex:2,background:"linear-gradient(90deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 50%, rgba(255,255,255,0.1) 100%)"},children:f.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:[f.jsxs("div",{style:{position:"absolute",left:"clamp(15px, 3vw, 25px)",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[f.jsxs("span",{style:{fontSize:T?"clamp(0.7rem, 1.8vw, 0.8rem)":"clamp(1rem, 2.5vw, 1.2rem)",color:"#000000",fontWeight:600,textShadow:"1px 1px 2px rgba(255, 255, 255, 0.8)"},children:["Rodada ",u]}),f.jsxs("span",{style:{fontSize:T?"clamp(0.9rem, 2vw, 1rem)":"clamp(1.4rem, 3.5vw, 1.8rem)",color:"#000000",fontWeight:700,textShadow:"1px 1px 2px rgba(255, 255, 255, 0.8)",whiteSpace:"nowrap"},children:[Math.round(o*10)/10,"s"]})]}),f.jsx("span",{style:{color:"white",fontWeight:800,fontSize:"clamp(1.8rem, 4.5vw, 2.8rem)",textShadow:"2px 2px 4px rgba(0, 0, 0, 0.7)",letterSpacing:"1px",fontFamily:"'LaCartoonerie', sans-serif",lineHeight:1.2,textAlign:"center",maxWidth:"80%",textTransform:"uppercase"},children:w==="neighborhoods"?r.charAt(0).toUpperCase()+r.slice(1).toLowerCase():(E==null?void 0:E.name)||"NOME INDISPONÍVEL"})]})})]}),f.jsxs("div",{style:{width:"100%",padding:"6px 0",textAlign:"center",background:"rgba(20, 83, 45, 0.85)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"},children:[f.jsx("p",{style:{fontSize:"clamp(0.7rem, 1.8vw, 0.9rem)",fontFamily:"'LaCartoonerie', sans-serif",fontWeight:400,color:"#FFFFFF",lineHeight:1.4,margin:0,textTransform:"uppercase",letterSpacing:"0.5px",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.5)",animation:"glowText 2s ease-in-out infinite alternate"},children:w==="neighborhoods"?"Encontre o bairro no mapa!":w==="famous_places"?"Encontre o lugar famoso!":"Quão bem você conhece a sua cidade?"}),f.jsx("style",{children:`
                @keyframes glowText {
                  0% { text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5), 0 0 5px rgba(255, 255, 255, 0.3); }
                  100% { text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5), 0 0 10px rgba(255, 255, 255, 0.6); }
                }
              `})]})]}):f.jsx(aw,{onStartGame:x,onShowLeaderboard:()=>z(!0),highScore:P.highScore,totalGames:P.totalGames,averageScore:P.averageScore,onSelectMode:S}),f.jsx(uw,{isOpen:j,onClose:()=>z(!1),currentPlayerScore:g,currentPlayerName:V||J()})]})},Jn={container:(s,r,o)=>({position:"fixed",top:s||r?"auto":o.top,bottom:r||s?0:"auto",left:s||r?0:o.left,right:r?0:"auto",transform:"none",width:r?"100%":"clamp(320px, 25vw, 450px)",maxWidth:s?"100%":"450px",background:"var(--bg-secondary)",color:"var(--text-primary)",zIndex:9999,padding:"clamp(16px, 3vw, 24px)",borderRadius:r?"4px 4px 0 0":"8px",boxShadow:"var(--shadow-xl)",border:"none",margin:"0",animation:s||r?"slideUp 0.3s ease-out":"slideInLeft 0.3s ease-out",maxHeight:r?"90vh":"85vh",overflowY:"auto",display:"flex",flexDirection:"column",gap:"clamp(12px, 2vw, 16px)",fontFamily:"'VT323', monospace",pointerEvents:"auto","@media (max-width: 1200px)":{width:"clamp(300px, 30vw, 400px)",maxWidth:"400px"},"@media (max-width: 768px)":{width:"100%",maxWidth:"100%"}}),contentContainer:{display:"flex",flexDirection:"column",alignItems:"center",gap:"clamp(12px, 2vw, 20px)",justifyContent:"center",flexWrap:"wrap"},scoreDisplay:{display:"flex",gap:"2px",alignItems:"center",justifyContent:"center",flexWrap:"wrap"},scoreValue:{fontSize:"clamp(1.4rem, 3.5vw, 1.8rem)",fontFamily:"'VT323', monospace",fontWeight:400,color:"var(--text-primary)",textShadow:"2px 2px 0px rgba(0, 0, 0, 0.8)"},scoreUnit:{fontSize:"clamp(0.9rem, 2.2vw, 1.1rem)",fontFamily:"'LaCartoonerie', sans-serif",fontWeight:400,marginLeft:"clamp(1px, 0.3vw, 2px)",opacity:.9,textTransform:"uppercase",letterSpacing:"1px"},timeBonus:{fontSize:"clamp(0.9rem, 2.2vw, 1.1rem)",fontFamily:"'LaCartoonerie', sans-serif",fontWeight:400,marginLeft:"clamp(4px, 1vw, 8px)",color:"#FFD700",display:"flex",alignItems:"center",gap:"2px",background:"rgba(255, 215, 0, 0.1)",padding:"2px 6px",borderRadius:"4px",border:"1px solid rgba(255, 215, 0, 0.2)",animation:"pulseText 1s infinite",textTransform:"uppercase",letterSpacing:"1px"},feedbackMessage:s=>({marginTop:"clamp(4px, 1vw, 8px)",color:"#FFD700",fontWeight:400,fontSize:"clamp(1rem, 2.5vw, 1.2rem)",textAlign:"center",fontFamily:"'LaCartoonerie', sans-serif",animation:s?"pulseText 1s infinite":"none",opacity:.95,background:"rgba(255, 215, 0, 0.1)",padding:"clamp(4px, 1vw, 8px)",borderRadius:"6px",border:"1px solid rgba(255, 215, 0, 0.2)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",textTransform:"uppercase",letterSpacing:"1px"}),buttonContainer:{display:"flex",gap:"clamp(8px, 2vw, 12px)",justifyContent:"center",marginTop:"clamp(12px, 3vw, 20px)",flexWrap:"nowrap",width:"100%"},button:s=>({padding:"clamp(8px, 2vw, 12px) clamp(16px, 3vw, 24px)",fontSize:"clamp(0.9rem, 2.2vw, 1.1rem)",background:s==="pause"?"var(--accent-orange)":s==="next"?"var(--accent-green)":"var(--accent-red)",color:s==="pause"?"#000000":"#ffffff",border:"none",borderRadius:"2px",cursor:"pointer",transition:"all 0.1s steps(1)",fontWeight:400,fontFamily:"'Press Start 2P', monospace",boxShadow:"var(--shadow-md)",flex:s==="pause"?"0.4":"0.6",maxWidth:s==="retry"?"100%":"none",position:"relative",overflow:"hidden",textTransform:"uppercase",letterSpacing:"1px",minWidth:s==="pause"?"100px":"120px",zIndex:1,"&:hover":{transform:"translate(-1px, -1px)",boxShadow:"var(--shadow-lg)"},"&:active":{transform:"translate(1px, 1px)",boxShadow:"var(--shadow-sm)"}}),progressBar:(s,r)=>({position:"absolute",top:0,left:0,width:`${s}%`,height:"100%",background:r,transition:"width 0.1s linear",zIndex:1,transform:"translateX(0)",transformOrigin:"left"})},dw=({gameOver:s,onPauseGame:r,onNextRound:o,feedbackProgress:l,currentMode:u="neighborhoods"})=>f.jsxs("div",{style:Jn.buttonContainer,children:[!s&&u!=="famous_places"&&f.jsxs("button",{onClick:r,className:"pixel-btn pixel-btn--warning",style:Jn.button("pause"),children:[f.jsx(Kx,{size:16,color:"var(--text-primary)"}),"Pausar"]}),!s&&f.jsxs("button",{onClick:o,className:"pixel-btn pixel-btn--success",style:Jn.button("next"),children:[f.jsx("div",{style:Jn.progressBar(l,"rgba(50, 205, 50, 0.3)")}),f.jsx("div",{style:Jn.progressBar(100-l,"rgba(255, 0, 0, 0.5)")}),f.jsxs("span",{style:{position:"relative",zIndex:2,display:"flex",alignItems:"center",gap:"4px"},children:[f.jsx(Yx,{size:16,color:"var(--text-primary)"}),"Próximo"]})]}),s&&f.jsx("button",{onClick:o,className:"pixel-btn pixel-btn--danger",style:Jn.button("retry"),children:f.jsxs("span",{style:{position:"relative",zIndex:2,display:"flex",alignItems:"center",gap:"4px"},children:[f.jsx(Jx,{size:16,color:"var(--text-primary)"}),"Tente Outra Vez"]})})]}),hw=({currentMode:s,currentNeighborhood:r,currentFamousPlace:o,isVisible:l})=>{var h;if(!l)return null;let u;if(s==="famous_places"&&o)u={description:o.description,icon:"landmark",category:((h=o.name)==null?void 0:h.toUpperCase())||"LUGAR FAMOSO"};else return null;return f.jsxs("div",{style:{background:"rgba(0, 0, 0, 0.85)",borderRadius:"12px",padding:"16px",margin:"12px 0 0 0",border:"2px solid rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",animation:"fadeInUp 0.5s ease-out"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",paddingBottom:"8px",borderBottom:"1px solid rgba(255, 255, 255, 0.2)"},children:[f.jsx(Ct,{name:u.icon,size:20,color:"#FFD700"}),f.jsx("div",{style:{fontSize:"clamp(0.8rem, 2vw, 1rem)",color:"#FFD700",fontFamily:"'LaCartoonerie', sans-serif",fontWeight:400,textTransform:"uppercase",letterSpacing:"1px"},children:u.category})]}),f.jsx("div",{style:{fontSize:"clamp(0.9rem, 2.2vw, 1.1rem)",color:"#fff",fontFamily:"'LaCartoonerie', sans-serif",lineHeight:1.4,marginBottom:"12px",textAlign:"left"},children:u.description}),f.jsx("style",{children:`
          @keyframes fadeInUp {
            0% {
              opacity: 0;
              transform: translateY(20px);
            }
            100% {
              opacity: 1;
              transform: translateY(0);
            }
          }
        `})]})},fw=({achievementData:s,showStreakAnimation:r})=>f.jsxs("div",{style:{textAlign:"center",color:"#fff",fontSize:"clamp(1.1rem, 2.8vw, 1.4rem)",fontFamily:"'Inter', sans-serif",display:"flex",flexDirection:"column",gap:"8px",opacity:.95,marginBottom:"8px"},children:[f.jsxs("div",{style:{fontSize:"clamp(1.3rem, 3.2vw, 1.6rem)",color:s.color,fontFamily:"'LaCartoonerie', sans-serif",fontWeight:400,textAlign:"center",textTransform:"uppercase",letterSpacing:"1px",textShadow:"2px 2px 0px rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[f.jsx(Ct,{name:s.icon,size:32,color:s.color}),s.title]}),s.streakBonus&&f.jsxs("div",{style:{fontSize:"clamp(0.9rem, 2.2vw, 1.1rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"#FFD700",fontWeight:400,textTransform:"uppercase",letterSpacing:"1px",textShadow:"1px 1px 0px rgba(0, 0, 0, 0.8)",animation:r?"pulseText 0.5s infinite":"none",display:"flex",alignItems:"center",gap:"4px",justifyContent:"center",marginTop:"4px"},children:[f.jsx("span",{style:{fontSize:"16px"},children:"🔥"}),s.streakBonus]})]}),Ep=s=>s.split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()).join(" "),pw=({currentMode:s,currentNeighborhood:r,currentFamousPlace:o,displayedDistance:l,clickTime:u,isCorrectNeighborhood:h})=>f.jsx("div",{style:{fontSize:"clamp(0.9rem, 2.2vw, 1.1rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"#fff",opacity:.9,textAlign:"center",marginTop:"4px",lineHeight:1.4},children:h?f.jsxs(f.Fragment,{children:[s==="famous_places"?`Em ${u.toFixed(2)} seg você acertou ${(o==null?void 0:o.name)||"o lugar famoso"}!`:`Em ${u.toFixed(2)} seg você acertou na mosca o bairro `,s==="neighborhoods"&&f.jsx("span",{style:{color:"#32CD32",fontWeight:600},children:Ep(r)}),s==="neighborhoods"&&"!"]}):f.jsxs(f.Fragment,{children:[s==="famous_places"?`Em ${u.toFixed(2)} seg você clicou a ${Math.round(l)}m de ${(o==null?void 0:o.name)||"o lugar famoso"}`:`Em ${u.toFixed(2)} seg você clicou a ${Math.round(l)}m do bairro `,s==="neighborhoods"&&f.jsx("span",{style:{color:"#32CD32",fontWeight:600},children:Ep(r)}),s==="neighborhoods"&&"!"]})}),Md=({icon:s,value:r,unit:o,timeBonus:l})=>{const u=g=>g>=3?"var(--accent-yellow)":g>=2?"var(--accent-green)":g>=1?"var(--accent-blue)":"var(--accent-yellow)",h=()=>{switch(s){case"target":return f.jsx(Ld,{size:24,color:"var(--accent-green)"});case"clock":return f.jsx(bm,{size:24,color:"var(--accent-orange)"});default:return f.jsx(Ld,{size:24,color:"var(--accent-green)"})}};return f.jsxs("div",{style:Jn.scoreDisplay,children:[f.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginRight:"clamp(2px, 0.5vw, 4px)",opacity:.9},children:h()}),f.jsx("div",{style:Jn.scoreValue,children:Math.round(r)}),f.jsx("div",{style:Jn.scoreUnit,children:o}),l&&l>0&&f.jsxs("div",{style:{fontSize:"clamp(0.9rem, 2.2vw, 1.1rem)",fontFamily:"'VT323', monospace",fontWeight:400,marginLeft:"clamp(4px, 1vw, 8px)",color:u(l),display:"flex",alignItems:"center",gap:"2px",background:`rgba(${l>=2?"255, 215, 0":"0, 255, 125"}, 0.15)`,padding:"3px 8px",borderRadius:"2px",border:`2px solid rgba(${l>=2?"255, 215, 0":"0, 255, 125"}, 0.3)`,animation:"pulseText 1s infinite",boxShadow:"2px 2px 0px rgba(0, 0, 0, 0.8)"},children:[f.jsx(Em,{size:16,color:"var(--accent-yellow)"})," +",l.toFixed(1),"s"]})]})},mw=({score:s,timeBonus:r,clickTime:o})=>f.jsxs("div",{style:{display:"flex",gap:"clamp(10px, 2vw, 20px)",alignItems:"center",justifyContent:"center",flexWrap:"wrap"},children:[f.jsx(Md,{icon:"target",value:s,unit:"pts"}),f.jsx(Md,{icon:"clock",value:1e3-o*100,unit:"pts",timeBonus:r})]}),gw=(s,r,o=0)=>{const l=s/1e3;return s===0?{title:"ACERTO PERFEITO!",subtitle:"",icon:"checkcircle",color:"#FFD700",achievement:"BULLSEYE",streakBonus:o>=3?`${o} acertos seguidos!`:null}:l<.5?{title:"INCRÍVEL!",subtitle:"",icon:"sparkles",color:"#FFA500",achievement:"NEAR_PERFECT",streakBonus:o>=2?`${o} acertos seguidos!`:null}:l<1?{title:"EXCELENTE!",subtitle:"",icon:"sparkles",color:"#32CD32",achievement:"EXCELLENT",streakBonus:null}:l<2?{title:"MUITO BOM!",subtitle:"",icon:"thumbsup",color:"#00CED1",achievement:"GOOD",streakBonus:null}:l<5?{title:"QUASE LÁ!",subtitle:"",icon:"helpcircle",color:"#FFD700",achievement:"CLOSE",streakBonus:null}:{title:"OPS!",subtitle:"",icon:"frown",color:"#FF6B6B",achievement:"FAR",streakBonus:null}},vw=s=>s>=di.PERFECT?hi.PERFECT:s>=di.EXCELLENT?hi.EXCELLENT:s>=di.GREAT?hi.GREAT:s>=di.GOOD?hi.GOOD:s>=di.DECENT?hi.DECENT:s>=di.FAIR?hi.FAIR:s>=di.CLOSE?hi.CLOSE:0,yw=(s,r,o)=>{if(!s||o)return{top:"20px",left:"20px"};const l="20px",u=s.lat,h=window.innerHeight,x=(u- -24.1)/.8;return{top:`${Math.max(20,Math.min(h-200,x*h*.6))}px`,left:l}},_w=(s,r,o,l,u)=>{const h=performance.now();let g,x=!1;const y=w=>{if(x)return;const S=w-h,E=Math.min(S/o,1),T=E<.5?4*E*E*E:1-Math.pow(-2*E+2,3)/2,M=s+(r-s)*T;l(M),E<1&&!x?g=requestAnimationFrame(y):x||u()};return typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(()=>{x||(g=requestAnimationFrame(y))}):g=requestAnimationFrame(y),()=>{x=!0,g&&cancelAnimationFrame(g)}},xw=(s,r)=>s===0&&r>=2,ww=(s,r,o)=>ym(s,r,o),Sw=({showFeedback:s,clickedPosition:r,arrowPath:o,clickTime:l,feedbackProgress:u,onNextRound:h,calculateDistance:g,calculateScore:x,getProgressBarColor:y,geoJsonData:w,gameOver:S,onPauseGame:E,score:T,currentNeighborhood:M,currentMode:P="neighborhoods",currentFamousPlace:j,totalScore:z=0,roundNumber:V=1,consecutiveCorrect:J=0,bestStreak:Z=0})=>{const[te,he]=C.useState(0),[le,K]=C.useState(0),[ge,ne]=C.useState(!1),[_e,ke]=C.useState(""),[ie,Ae]=C.useState({top:"50%",left:"50%"}),[ue,me]=C.useState(0),[fe,Le]=C.useState(!1),B=window.innerWidth<=768;C.useEffect(()=>{if(s&&r){const A=o?g(r,o[1]):0,W=x(A,l);ne(!0),he(A),K(0),ke(ww(A,l,J)),xw(A,J)&&(Le(!0),setTimeout(()=>Le(!1),3e3));const $=vw(W.total);me($);const de=_w(0,l,2e3,ae=>K(ae),()=>ne(!1));return()=>de()}},[s,r,o,l,x,g,J]),C.useEffect(()=>{if(r){const A=yw(r,o,B);Ae(A)}},[r,o,B]);const oe=te===0,q=gw(te,l,J);return S?null:f.jsxs("div",{className:"feedback-panel-container",style:{...Jn.container(!1,B,ie),zIndex:10020},children:[r&&f.jsxs("div",{style:Jn.contentContainer,children:[f.jsx(fw,{achievementData:q,showStreakAnimation:fe}),f.jsx(pw,{currentMode:P,currentNeighborhood:M,currentFamousPlace:j,displayedDistance:te,clickTime:l,isCorrectNeighborhood:oe}),f.jsx(mw,{score:T,timeBonus:ue,clickTime:l})]}),f.jsx(dw,{gameOver:S,onPauseGame:E,onNextRound:()=>{w&&h(w)},feedbackProgress:u,currentMode:P}),f.jsx(hw,{currentMode:P,currentNeighborhood:M,currentFamousPlace:j,isVisible:!0}),f.jsx("style",{children:`
          @keyframes rollDigits {
            0% {
              transform: translateY(-400px);
            }
            100% {
              transform: translateY(0);
            }
          }
          @keyframes pulseText {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
          }
          @keyframes fadeInScale {
            0% { 
              opacity: 0;
              transform: translate(-50%, -50%) scale(0.95);
            }
            100% { 
              opacity: 1;
              transform: translate(-50%, -50%) scale(1);
            }
          }
          @keyframes pulseScore {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
          }
          @keyframes slideIn {
            0% {
              opacity: 0;
              transform: translate(-50%, -20px);
            }
            100% {
              opacity: 1;
              transform: translate(-50%, 0);
            }
          }
          @keyframes slideInLeft {
            0% {
              opacity: 0;
              transform: translateX(-100%);
            }
            100% {
              opacity: 1;
              transform: translateX(0);
            }
          }
          @keyframes slideUp {
            0% {
              opacity: 0;
              transform: translateY(20px);
            }
            100% {
              opacity: 1;
              transform: translateY(0);
            }
          }
          @keyframes streakGlow {
            0% { 
              box-shadow: 0 0 5px rgba(255, 215, 0, 0.5);
            }
            50% { 
              box-shadow: 0 0 20px rgba(255, 215, 0, 0.8);
            }
            100% { 
              box-shadow: 0 0 5px rgba(255, 215, 0, 0.5);
            }
          }

          /* Estilos responsivos para o modal */
          @media (max-width: 1200px) {
            .feedback-panel-container {
              width: clamp(300px, 30vw, 400px) !important;
              max-width: 400px !important;
            }
          }
          
          @media (max-width: 768px) {
            .feedback-panel-container {
              width: 100% !important;
              max-width: 100% !important;
              left: 0 !important;
              right: 0 !important;
            }
          }
          
          @media (max-width: 480px) {
            .feedback-panel-container {
              padding: 12px !important;
              gap: 8px !important;
            }
          }

          button {
            -webkit-tap-highlight-color: transparent;
          }
          
          button:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.3);
          }
        `})]})},kw=({geoJsonData:s,revealedNeighborhoods:r,currentNeighborhood:o,onMapClick:l,geoJsonRef:u})=>f.jsx(d_,{data:s,style:h=>hd(h,r,o),eventHandlers:{click:h=>{Et.DomEvent.stopPropagation(h),l(h.latlng)},mouseover:h=>{var y;const g=h.target,x=g.feature;x&&r.has((y=x.properties)==null?void 0:y.NOME)&&g.setStyle({...hd(x,r,o),fillOpacity:.7})},mouseout:h=>{const g=h.target,x=g.feature;x&&g.setStyle(hd(x,r,o))}},ref:u}),bw=({map:s,distanceCircle:r,onAnimationComplete:o})=>{const l=C.useRef(null);return C.useEffect(()=>{if(!s||!r)return;l.current&&s.removeLayer(l.current);const u=r.center instanceof Et.LatLng?r.center:new Et.LatLng(r.center.lat,r.center.lng),h=Et.circle(u,{radius:r.radius,color:"var(--accent-red)",fillColor:"var(--accent-red)",fillOpacity:.15,weight:2,className:"distance-circle"}).addTo(s);l.current=h,setTimeout(()=>{s.removeLayer(h),o==null||o()},1200)},[s,r,o]),null},Ew=({geoJsonData:s,geoJsonRef:r,updateGameState:o,onStateChange:l,onFeedback:u,onRoundComplete:h,config:g={}})=>{const[x,y]=C.useState(""),[w,S]=C.useState([]),[E,T]=C.useState(new Set);C.useEffect(()=>{if(s&&s.features){const j=s.features.map(z=>{var V;return(V=z.properties)==null?void 0:V.NOME}).filter(z=>z&&typeof z=="string");S(j),console.log("[NeighborhoodManager] Bairros disponíveis:",j)}},[s]);const M=()=>{if(w.length===0)return;const j=w.filter(V=>!E.has(V));if(j.length===0){T(new Set);const V=w[Math.floor(Math.random()*w.length)];y(V),o({currentNeighborhood:V}),console.log("[NeighborhoodManager] Novo bairro selecionado (reset):",V);return}const z=j[Math.floor(Math.random()*j.length)];y(z),o({currentNeighborhood:z}),console.log("[NeighborhoodManager] Novo bairro selecionado:",z)};C.useEffect(()=>{w.length>0&&!x&&M()},[w,x]);const P=mi.useRef(null);return mi.useImperativeHandle(P,()=>({startGame:()=>{console.log("[NeighborhoodManager] Jogo iniciado"),M()},pauseGame:()=>{console.log("[NeighborhoodManager] Jogo pausado")},resumeGame:()=>{console.log("[NeighborhoodManager] Jogo retomado")},endGame:()=>{console.log("[NeighborhoodManager] Jogo terminado")},startNewRound:()=>{console.log("[NeighborhoodManager] Nova rodada iniciada"),M()},selectRandomNeighborhood:()=>{M()},getCurrentState:()=>({currentNeighborhood:x,revealedNeighborhoods:E,availableNeighborhoods:w,roundNumber:1,totalRounds:w.length,roundTimeLeft:30,isActive:!0,score:0,feedback:null}),getVisualFeedback:()=>({})})),null},Cw=({onPlaceChange:s,currentPlace:r,isGameActive:o,roundNumber:l=1,onRoundComplete:u,onStateChange:h,onFeedback:g,config:x={}})=>{const y=C.useRef(null);C.useEffect(()=>{if(o&&!y.current){console.log("[FamousPlacesManagerRefactored] Inicializando modo de lugares famosos");const S={startGame:()=>console.log("Mock startGame"),pauseGame:()=>console.log("Mock pauseGame"),resumeGame:()=>console.log("Mock resumeGame"),endGame:()=>console.log("Mock endGame"),advanceToNextPlace:()=>console.log("Mock advanceToNextPlace"),forceNextRound:()=>console.log("Mock forceNextRound"),selectPlaceFromRound:E=>console.log("Mock selectPlaceFromRound",E),getCurrentState:()=>({currentPlace:null,roundPlaces:[],usedPlaces:new Set,currentRoundIndex:0,roundNumber:1,totalRounds:10,roundTimeLeft:15,isActive:!1,score:0,feedback:null}),getVisualFeedback:()=>({}),getCurrentRound:()=>null,cleanup:()=>console.log("Mock cleanup")};y.current=S}},[o]),C.useEffect(()=>()=>{y.current&&(y.current.cleanup(),y.current=null)},[]);const w=mi.useRef(null);return mi.useImperativeHandle(w,()=>({startGame:()=>{y.current&&y.current.startGame()},pauseGame:()=>{y.current&&y.current.pauseGame()},resumeGame:()=>{y.current&&y.current.resumeGame()},endGame:()=>{y.current&&y.current.endGame()},advanceToNextPlace:()=>{y.current&&y.current.advanceToNextPlace()},forceNextRound:()=>{y.current&&y.current.forceNextRound()},selectPlaceFromRound:S=>{y.current&&y.current.selectPlaceFromRound(S)},getCurrentState:()=>y.current?y.current.getCurrentState():null,getVisualFeedback:()=>y.current?y.current.getVisualFeedback():null,getCurrentRound:()=>y.current?y.current.getCurrentRound():null})),null},Pw=({audioRef:s,successSoundRef:r,errorSoundRef:o,gameStartAudioRef:l,gameState:u,playSuccess:h,playError:g,showPhaseOneMessage:x})=>(C.useEffect(()=>{s.current&&(s.current.volume=u.isMuted?0:u.volume,s.current.loop=!0)},[u.volume,u.isMuted]),C.useEffect(()=>{s.current&&(u.gameStarted&&!u.gameOver?s.current.play():u.gameOver&&(s.current.pause(),s.current.currentTime=0))},[u.gameStarted,u.gameOver]),C.useEffect(()=>{h&&r.current&&(r.current.currentTime=0,r.current.volume=u.isMuted?0:Math.min(u.volume,.7),r.current.play().catch(y=>{console.log("Erro ao tocar som de sucesso:",y)}))},[h,u.volume,u.isMuted]),C.useEffect(()=>{g&&o.current&&(o.current.currentTime=0,o.current.volume=u.isMuted?0:Math.min(u.volume,.7),o.current.play().catch(y=>{console.log("Erro ao tocar som de erro:",y)}))},[g,u.volume,u.isMuted]),C.useEffect(()=>{x&&(l!=null&&l.current)&&!u.isMuted&&(l.current.currentTime=0,l.current.volume=Math.min(u.volume,.8),l.current.play().catch(y=>{console.log("Erro ao tocar música de início:",y)}))},[x,u.volume,u.isMuted,l]),null),Tw=({totalDistance:s,maxDistance:r})=>{const o=(s/1e3).toFixed(1),l=s/r*100,u=h=>h>=90?"var(--accent-red)":h>=70?"var(--accent-orange)":"var(--accent-green)";return f.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"2px",background:"var(--bg-secondary)",border:"none",padding:"4px 8px",borderRadius:"2px",color:"var(--text-primary)",fontFamily:"'VT323', monospace",fontSize:"14px",boxShadow:"var(--shadow-sm)"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[f.jsx(Vx,{size:16,color:"var(--accent-green)"}),f.jsxs("span",{children:[o,"km"]})]}),f.jsx("div",{style:{width:"100%",height:"2px",background:"rgba(255, 255, 255, 0.2)",borderRadius:"1px",overflow:"hidden"},children:f.jsx("div",{style:{width:`${Math.min(l,100)}%`,height:"100%",background:u(l),transition:"width 0.3s ease-in-out"}})})]})},Lw="_overlay_1h2y1_3",Mw="_modal_1h2y1_18",jw="_header_1h2y1_31",Rw="_title_1h2y1_36",Aw="_subtitle_1h2y1_47",Ow="_scoreContainer_1h2y1_55",Iw="_score_1h2y1_55",Nw="_scoreMessage_1h2y1_74",zw="_statsGrid_1h2y1_84",Dw="_statItem_1h2y1_91",Fw="_blue_1h2y1_99",Bw="_green_1h2y1_103",Uw="_orange_1h2y1_107",$w="_statValue_1h2y1_111",Gw="_formSection_1h2y1_119",Hw="_formTitle_1h2y1_123",Ww="_formRow_1h2y1_134",Zw="_nameInput_1h2y1_140",Vw="_saveButton_1h2y1_157",qw="_errorMessage_1h2y1_182",Kw="_successMessage_1h2y1_192",Jw="_successText_1h2y1_202",Yw="_rankingPosition_1h2y1_211",Qw="_rankingTitle_1h2y1_222",Xw="_rankingNumber_1h2y1_234",e1="_rankingStatus_1h2y1_244",t1="_topRanking_1h2y1_253",n1="_topRankingTitle_1h2y1_264",r1="_rankingEntry_1h2y1_274",o1="_emptyRanking_1h2y1_282",i1="_actionButtons_1h2y1_291",s1="_actionButton_1h2y1_291",a1="_primary_1h2y1_321",l1="_secondary_1h2y1_325",u1="_tertiary_1h2y1_329",c1="_confetti_1h2y1_334",d1="_confettiPiece_1h2y1_344",Ie={overlay:Lw,modal:Mw,header:jw,title:Rw,subtitle:Aw,scoreContainer:Ow,score:Iw,scoreMessage:Nw,statsGrid:zw,statItem:Dw,blue:Fw,green:Bw,orange:Uw,statValue:$w,formSection:Gw,formTitle:Hw,formRow:Ww,nameInput:Zw,saveButton:Vw,errorMessage:qw,successMessage:Kw,successText:Jw,rankingPosition:Yw,rankingTitle:Qw,rankingNumber:Xw,rankingStatus:e1,topRanking:t1,topRankingTitle:n1,rankingEntry:r1,emptyRanking:o1,actionButtons:i1,actionButton:s1,primary:a1,secondary:l1,tertiary:u1,confetti:c1,confettiPiece:d1},h1=[{min:1e5,message:"REI DA GEOGRAFIA! Você conhece Santos!",color:"#FFD700"},{min:8e4,message:"MITO SANTISTA! Até as ondas do mar te aplaudem!",color:"#FFA500"},{min:6e4,message:"LENDÁRIO! Você é um Pelé da geografia santista!",color:"#FF8C00"},{min:5e4,message:"MESTRE DOS BAIRROS! Você é um GPS ambulante!",color:"#FF6347"},{min:4e4,message:"IMPRESSIONANTE! Quase um GPS humano!!",color:"#32CD32"},{min:3e4,message:"VC É MAIS SANTISTA QUE PASTEL DE VENTO NA FEIRA!",color:"#00CED1"},{min:25e3,message:"SANTISTA DE CORAÇÃO! Você manja dos bairros!",color:"#9370DB"},{min:2e4,message:"MUITO BOM! Você deve ter ido em algumas aulas de geografia!",color:"#FF69B4"},{min:15e3,message:"BOM JOGO! Mas ainda precisa andar mais pela zona noroeste!",color:"#FFD700"},{min:12e3,message:"QUASE LÁ! Dá um role no bondinho pra pegar umas dicas!",color:"#98FB98"},{min:1e4,message:"MAIS PERDIDO QUE DOIDO NA PONTA DA PRAIA!",color:"#F0E68C"},{min:8e3,message:"Eita! Parece que você não sabe nada de Santos!",color:"#87CEEB"},{min:6e3,message:"Confundiu Santos com o interior do Mato Grosso!",color:"#DDA0DD"},{min:4e3,message:"Te colocaram pra jogar vendado?",color:"#FFB6C1"},{min:2e3,message:"Você achava que o Boqueirão era em Salvador?",color:"#F0E68C"},{min:1e3,message:"Eita! Parece que você não sabe nada de Santos!",color:"#FF6B6B"},{min:500,message:"Confundiu Santos com o interior do Mato Grosso!",color:"#FF4500"},{min:100,message:"Te colocaram pra jogar vendado?",color:"#8B0000"}],f1=s=>h1.find(r=>s>=r.min)||{message:"Eita! Parece que você não sabe nada de Santos!",color:"#FF6B6B"},p1=({score:s})=>{const{message:r,color:o}=f1(s);return f.jsxs("div",{className:Ie.scoreContainer,children:[f.jsxs("div",{className:Ie.score,style:{color:o},"data-testid":"score-display",children:[s.toLocaleString()," PONTOS"]}),f.jsx("p",{className:Ie.scoreMessage,"data-testid":"score-message",children:r})]})},m1=s=>{const r=Math.floor(s/60),o=s%60;return`${r}:${o.toString().padStart(2,"0")}`},g1=s=>`${Math.round(s*100)}%`,v1=({playTime:s,roundsPlayed:r,accuracy:o})=>f.jsxs("div",{className:Ie.statsGrid,children:[f.jsxs("div",{className:`${Ie.statItem} ${Ie.blue}`,"data-testid":"play-time-stat",children:[f.jsx(bm,{size:20,color:"var(--accent-blue)"}),f.jsx("div",{className:Ie.statValue,children:m1(s)})]}),f.jsxs("div",{className:`${Ie.statItem} ${Ie.green}`,"data-testid":"rounds-stat",children:[f.jsx(Ld,{size:20,color:"var(--accent-green)"}),f.jsxs("div",{className:Ie.statValue,children:[r," rodadas"]})]}),f.jsxs("div",{className:`${Ie.statItem} ${Ie.orange}`,"data-testid":"accuracy-stat",children:[f.jsx(Em,{size:20,color:"var(--accent-orange)"}),f.jsx("div",{className:Ie.statValue,children:g1(o)})]})]}),y1=s=>s.trim()?s.trim().length<2?"O nome deve ter pelo menos 2 caracteres!":s.trim().length>50?"O nome deve ter no máximo 50 caracteres!":s.replace(/[\u{1F600}-\u{1F64F}]|[\u{1F300}-\u{1F5FF}]|[\u{1F680}-\u{1F6FF}]|[\u{1F1E0}-\u{1F1FF}]|[\u{2600}-\u{26FF}]|[\u{2700}-\u{27BF}]/gu,"")!==s?"Não use emojis no nome!":/^[a-zA-ZÀ-ÿ0-9\s\-_\.]+$/.test(s.trim())?null:"Use apenas letras, números, espaços, hífens, pontos e underscores!":"Digite um nome para salvar sua pontuação!",_1=({currentPlayerName:s,score:r,playTime:o,roundsPlayed:l,accuracy:u,onScoreSaved:h})=>{const[g,x]=C.useState(s),[y,w]=C.useState(!1),[S,E]=C.useState(!1),[T,M]=C.useState(null),P=C.useRef(null);C.useEffect(()=>{P.current&&!S&&P.current.focus()},[S]);const j=async()=>{const V=y1(g);if(V){M(V);return}w(!0),M(null);try{await gi.addScore({player_name:g.trim(),score:r,play_time:o,rounds_played:l,accuracy:u})?(E(!0),h()):M("Erro ao salvar pontuação. Tente novamente!")}catch(J){M("Erro de conexão. Tente novamente!"),console.error("Erro ao salvar pontuação:",J)}finally{w(!1)}},z=V=>{V.key==="Enter"&&j()};return S?f.jsxs("div",{className:Ie.successMessage,role:"alert","aria-live":"polite",children:[f.jsx(ew,{size:24,color:"var(--text-primary)"}),f.jsx("p",{className:Ie.successText,children:"PONTUAÇÃO SALVA COM SUCESSO!"})]}):f.jsxs("div",{className:Ie.formSection,children:[f.jsx("h3",{className:Ie.formTitle,children:"SALVAR NO RANKING"}),f.jsxs("div",{className:Ie.formRow,children:[f.jsx("input",{ref:P,type:"text",value:g,onChange:V=>x(V.target.value),placeholder:"Seu nome",maxLength:50,className:Ie.nameInput,onKeyPress:z,"aria-label":"Digite seu nome para salvar no ranking","data-testid":"player-name-input"}),f.jsx("button",{onClick:j,disabled:y,className:Ie.saveButton,"aria-label":"Salvar pontuação no ranking","data-testid":"save-score-button",children:y?"SALVANDO...":"SALVAR"})]}),T&&f.jsx("p",{className:Ie.errorMessage,role:"alert","aria-live":"polite","data-testid":"error-message",children:T})]})},x1=s=>s===1?"🏆 CAMPEÃO ABSOLUTO! 🏆":s<=3?"🥇 TOP 3 - LENDÁRIO! 🥇":s<=10?"🥈 TOP 10 - IMPRESSIONANTE! 🥈":s<=50?"🥉 TOP 50 - MUITO BOM! 🥉":"🎯 NO RANKING! 🎯",w1=({position:s,isVisible:r})=>!r||s===null?null:f.jsxs("div",{className:Ie.rankingPosition,"data-testid":"ranking-position",children:[f.jsx("div",{className:Ie.rankingTitle,children:"POSIÇÃO NO RANKING"}),f.jsxs("div",{className:Ie.rankingNumber,"data-testid":"ranking-number",children:["#",s]}),f.jsx("div",{className:Ie.rankingStatus,children:x1(s)})]}),S1=({rankingData:s})=>s.length===0?f.jsxs("div",{className:Ie.topRanking,"data-testid":"top-ranking",children:[f.jsx("h3",{className:Ie.topRankingTitle,children:"TOP 3 DO RANKING"}),f.jsx("p",{className:Ie.emptyRanking,children:"Seja o primeiro a entrar para o ranking!"})]}):f.jsxs("div",{className:Ie.topRanking,"data-testid":"top-ranking",children:[f.jsx("h3",{className:Ie.topRankingTitle,children:"TOP 3 DO RANKING"}),s.map((r,o)=>f.jsxs("p",{className:Ie.rankingEntry,"data-testid":`ranking-entry-${o}`,children:[o+1,". ",r.player_name," - ",r.score.toLocaleString()," pontos"]},o))]}),Cp=["var(--accent-yellow)","var(--accent-green)","var(--accent-blue)","var(--accent-orange)","var(--accent-red)"],k1=({isVisible:s})=>s?f.jsx("div",{className:Ie.confetti,children:[...Array(50)].map((r,o)=>f.jsx("div",{className:Ie.confettiPiece,style:{left:`${Math.random()*100}%`,background:Cp[Math.floor(Math.random()*Cp.length)],animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*3}s`}},o))}):null,b1=s=>{var l;return`${((l=[{min:1e5,message:"REI DA GEOGRAFIA! Eu conheço Santos!"},{min:8e4,message:"MITO SANTISTA! Até as ondas do mar me aplaudem!"},{min:6e4,message:"LENDÁRIO! Eu sou um Pelé da geografia santista!"},{min:5e4,message:"MESTRE DOS BAIRROS! Eu sou um GPS ambulante!"},{min:4e4,message:"IMPRESSIONANTE! Quase um GPS humano!!"},{min:3e4,message:"SOU MAIS SANTISTA QUE PASTEL DE VENTO NA FEIRA!"},{min:25e3,message:"SANTISTA DE CORAÇÃO! Eu manjo dos bairros!"},{min:2e4,message:"MUITO BOM! Eu devo ter ido em algumas aulas de geografia!"},{min:15e3,message:"BOM JOGO! Mas ainda preciso andar mais pela zona noroeste!"},{min:12e3,message:"QUASE LÁ! Vou dar um rolê no bondinho pra pegar umas dicas!"},{min:1e4,message:"MAIS PERDIDO QUE DOIDO NA PONTA DA PRAIA!"},{min:8e3,message:"Eita! Parece que eu não sei nada de Santos!"},{min:6e3,message:"Confundi Santos com o interior do Mato Grosso!"},{min:4e3,message:"Me colocaram pra jogar vendado?"},{min:2e3,message:"Eu achava que o Boqueirão era em Salvador?"},{min:1e3,message:"Eita! Parece que eu não sei nada de Santos!"},{min:500,message:"Confundi Santos com o interior do Mato Grosso!"},{min:100,message:"Me colocaram pra jogar vendado?"}].find(u=>s>=u.min))==null?void 0:l.message)||"Eita! Parece que eu não sei nada de Santos!"} Joguei o Geosantos e fiz ${s} pontos! Jogue agora em https://hericmr.github.io/geosantos e veja quanto você consegue fazer!`},E1=async s=>{const r=b1(s);try{navigator.share?await navigator.share({text:r}):(await navigator.clipboard.writeText(r),alert("Texto copiado para a área de transferência! Desafie uma pessoa, compartilhe o jogo!"))}catch(o){console.error("Erro ao compartilhar:",o);try{await navigator.clipboard.writeText(r),alert("Texto copiado para a área de transferência! Desafie uma pessoa, compartilhe o jogo!")}catch(l){console.error("Erro no fallback:",l),alert("Erro ao compartilhar. Tente copiar manualmente o link do jogo.")}}},C1=({score:s,onPlayAgain:r,onClose:o})=>f.jsxs("div",{className:Ie.actionButtons,children:[f.jsxs("button",{onClick:r,className:`${Ie.actionButton} ${Ie.primary}`,"aria-label":"Jogar novamente","data-testid":"play-again-button",children:[f.jsx(Vd,{size:16,color:"var(--text-primary)"}),"JOGAR NOVAMENTE"]}),f.jsxs("button",{onClick:()=>E1(s),className:`${Ie.actionButton} ${Ie.secondary}`,"aria-label":"Compartilhar pontuação","data-testid":"share-button",children:[f.jsx(qx,{size:16,color:"var(--text-primary)"}),"COMPARTILHAR"]}),f.jsxs("button",{onClick:o,className:`${Ie.actionButton} ${Ie.tertiary}`,"aria-label":"Voltar ao menu principal","data-testid":"close-button",children:[f.jsx(Cm,{size:16,color:"var(--text-primary)"}),"MENU PRINCIPAL"]})]}),P1={"BOM JOGO! Mas ainda precisa andar mais pela zona noroeste!":"uau_bom_jogo.opus","Confundiu Santos com o interior do Mato Grosso!":"confundiu_santos_com_ointerior_do_mato_grosso.opus","Eita! Parece que você não sabe nada de Santos!":"eita_parece_que_voce_nao_sabe_nada_de_santos_mesmo.opus","Olha, confundiu Santos com":"olha_confundiu_santos_com.opus"},T1=({isOpen:s,onClose:r,onPlayAgain:o,score:l,playTime:u,roundsPlayed:h,accuracy:g,currentPlayerName:x})=>{const[y,w]=C.useState(!1),[S,E]=C.useState([]),[T,M]=C.useState(null),[P,j]=C.useState(!1),[z,V]=C.useState(""),J=C.useRef(null),Z=ge=>{const _e=[{min:1e5,message:"REI DA GEOGRAFIA! Você conhece Santos!"},{min:8e4,message:"MITO SANTISTA! Até as ondas do mar te aplaudem!"},{min:6e4,message:"LENDÁRIO! Você é um Pelé da geografia santista!"},{min:5e4,message:"MESTRE DOS BAIRROS! Você é um GPS ambulante!"},{min:4e4,message:"IMPRESSIONANTE! Quase um GPS humano!!"},{min:3e4,message:"VC É MAIS SANTISTA QUE PASTEL DE VENTO NA FEIRA!"},{min:25e3,message:"SANTISTA DE CORAÇÃO! Você manja dos bairros!"},{min:2e4,message:"MUITO BOM! Você deve ter ido em algumas aulas de geografia!"},{min:15e3,message:"BOM JOGO! Mas ainda precisa andar mais pela zona noroeste!"},{min:12e3,message:"QUASE LÁ! Dá um role no bondinho pra pegar umas dicas!"},{min:1e4,message:"MAIS PERDIDO QUE DOIDO NA PONTA DA PRAIA!"},{min:8e3,message:"Eita! Parece que você não sabe nada de Santos!"},{min:6e3,message:"Confundiu Santos com o interior do Mato Grosso!"},{min:4e3,message:"Te colocaram pra jogar vendado?"},{min:2e3,message:"Você achava que o Boqueirão era em Salvador?"},{min:1e3,message:"Eita! Parece que você não sabe nada de Santos!"},{min:500,message:"Confundiu Santos com o interior do Mato Grosso!"},{min:100,message:"Te colocaram pra jogar vendado?"}].find(ke=>ge>=ke.min);return _e?_e.message:"Eita! Parece que você não sabe nada de Santos!"},te=ge=>{const ne=P1[ge];ne&&J.current&&(J.current.src=k_(ne),J.current.volume=.7,J.current.play().catch(_e=>{console.log("Erro ao tocar áudio de game over:",_e)}))},he=async()=>{try{const ge=await gi.getTopPlayers(3);ge&&E(ge.slice(0,3))}catch(ge){console.error("Erro ao buscar ranking:",ge)}},le=async()=>{try{const ge=await gi.getPlayerPosition(x,l);M(ge),j(!0)}catch(ge){console.error("Erro ao buscar posição do jogador:",ge)}},K=async()=>{w(!0),await he(),await le(),setTimeout(()=>w(!1),3e3)};return C.useEffect(()=>{if(s){w(!1),j(!1),M(null);const ge=Z(l);V(ge),setTimeout(()=>{te(ge)},500)}},[s,l]),s?f.jsxs("div",{className:Ie.overlay,role:"dialog","aria-modal":"true","aria-labelledby":"game-over-title","data-testid":"game-over-modal",children:[f.jsx(k1,{isVisible:y}),f.jsx("audio",{ref:J,preload:"auto"}),f.jsxs("div",{className:Ie.modal,children:[f.jsxs("div",{className:Ie.header,children:[f.jsx("h1",{id:"game-over-title",className:Ie.title,"data-testid":"game-over-title",children:"GAME OVER"}),f.jsx("p",{className:Ie.subtitle,children:"DESAFIO GEOGRÁFICO DE SANTOS"})]}),f.jsx(p1,{score:l}),f.jsx(v1,{playTime:u,roundsPlayed:h,accuracy:g}),f.jsx(_1,{currentPlayerName:x,score:l,playTime:u,roundsPlayed:h,accuracy:g,onScoreSaved:K}),f.jsx(w1,{position:T,isVisible:P}),P&&f.jsx(S1,{rankingData:S}),f.jsx(C1,{score:l,onPlayAgain:o,onClose:r})]})]}):null},L1=({open:s,onClose:r,famousPlace:o,isCentered:l=!0,onTransitionComplete:u,timeProgress:h=0})=>{const[g,x]=C.useState(!1),[y,w]=C.useState(!1),[S,E]=C.useState(!1);if(C.useEffect(()=>{if(s)E(!0),x(!1),w(!1);else{const z=setTimeout(()=>E(!1),300);return()=>clearTimeout(z)}},[s]),!S||!o)return null;const T=()=>x(!0),M=()=>w(!0),P=z=>{z.target===z.currentTarget&&r()},j=l?{position:"fixed",top:"50%",left:"50%",transform:s?"translate(-50%, -50%) scale(1)":"translate(-50%, -50%) scale(0.95)",width:"min(400px, 90vw)",maxHeight:"85vh",zIndex:10010}:{position:"fixed",top:"20px",right:"20px",transform:"none",width:"min(320px, 85vw)",maxHeight:"75vh",zIndex:10010};return f.jsxs(f.Fragment,{children:[l&&f.jsx("div",{onClick:P,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",zIndex:10009,animation:s?"fadeIn 0.3s ease-out":"fadeOut 0.3s ease-out"}}),f.jsxs("div",{style:{...j,background:"var(--bg-secondary)",color:"var(--text-primary)",border:"none",borderRadius:"4px",boxShadow:"var(--shadow-xl)",overflow:"hidden",animation:s?"modalSlideIn 0.3s ease-out":"modalSlideOut 0.3s ease-out",transition:"all 0.3s ease-out",margin:l?"0":"10px"},children:[f.jsxs("div",{style:{position:"relative",padding:l?"12px 16px":"8px 12px",background:"var(--accent-green)",borderBottom:"2px solid var(--text-primary)",overflow:"hidden"},children:[l&&f.jsx("div",{style:{position:"absolute",top:0,left:0,width:`${h}%`,height:"100%",background:"rgba(255, 255, 255, 0.3)",transition:"width 0.1s linear",zIndex:1}}),f.jsx("h2",{style:{margin:0,fontFamily:"'LaCartoonerie', sans-serif",color:"#000000",fontSize:l?"clamp(2.1rem, 2.8vw, 1.4rem)":"clamp(0.9rem, 2.4vw, 1.1rem)",textAlign:"center",textTransform:"none",fontWeight:800,letterSpacing:"1px",textShadow:"none",lineHeight:1.2,position:"relative",zIndex:2},children:o.name})]}),f.jsxs("div",{style:{padding:l?"16px":"8px",maxHeight:l?"calc(85vh - 80px)":"calc(75vh - 60px)",overflowY:"auto",display:"flex",flexDirection:"column",gap:l?"12px":"8px"},children:[f.jsxs("div",{style:{position:"relative",border:"none",borderRadius:"2px",overflow:"hidden",background:"#f0f0f0",minHeight:"120px",display:"flex",alignItems:"center",justifyContent:"center"},children:[!g&&!y&&f.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",background:"#f0f0f0",color:"#666",fontSize:"14px",fontFamily:"'VT323', monospace"},children:"Carregando..."}),y?f.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"8px",color:"#666",fontSize:"14px",fontFamily:"'VT323', monospace"},children:[f.jsx(nw,{size:24,color:"#666"}),"Sem imagem"]}):f.jsx("img",{src:o.imageUrl,alt:o.name,onLoad:T,onError:M,style:{width:"100%",height:"100%",display:g?"block":"none",transition:"opacity 0.3s ease"}})]}),l&&f.jsx("div",{style:{padding:"8px 12px",background:"var(--bg-primary)",border:"none",borderRadius:"2px",textAlign:"center"},children:f.jsx("span",{style:{color:"var(--accent-green)",fontWeight:600,fontSize:"clamp(0.7rem, 1.8vw, 0.9rem)",fontFamily:"'LaCartoonerie', sans-serif",textTransform:"uppercase",letterSpacing:"0.5px",textShadow:"1px 1px 0px #000"},children:o.category})})]}),f.jsx("style",{children:`
          @keyframes fadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
          }
          
          @keyframes fadeOut {
            0% { opacity: 1; }
            100% { opacity: 0; }
          }
          
          @keyframes modalSlideIn {
            0% { 
              opacity: 0;
              transform: ${l?"translate(-50%, -50%) scale(0.9)":"translateX(100%)"};
            }
            100% { 
              opacity: 1;
              transform: ${l?"translate(-50%, -50%) scale(1)":"translateX(0)"};
            }
          }
          
          @keyframes modalSlideOut {
            0% { 
              opacity: 1;
              transform: ${l?"translate(-50%, -50%) scale(1)":"translateX(0)"};
            }
            100% { 
              opacity: 0;
              transform: ${l?"translate(-50%, -50%) scale(0.9)":"translateX(100%)"};
            }
          }
          
          /* Scrollbar simplificada */
          ::-webkit-scrollbar {
            width: 8px;
          }
          
          ::-webkit-scrollbar-track {
            background: var(--bg-primary);
          }
          
          ::-webkit-scrollbar-thumb {
            background: var(--accent-green);
            border: 'none';
          }
          
          ::-webkit-scrollbar-thumb:hover {
            background: #2d5a2d;
          }
        `})]})]})};function Lm(){const[s,r]=C.useState([]),[o,l]=C.useState(!0),[u,h]=C.useState(null);C.useEffect(()=>{(async()=>{try{l(!0);const y=await J0.getFamousPlaces();r(y),console.log("useFamousPlaces: Places after fetch:",y)}catch(y){console.error("Failed to fetch famous places:",y),h("Failed to load famous places.")}finally{l(!1)}})()},[]);function g(){if(s.length===0)return{id:"mock-id",name:"Placeholder",description:"No famous places loaded.",latitude:0,longitude:0,category:"unknown",address:"unknown",imageUrl:"https://via.placeholder.com/56"};const x=Math.floor(Math.random()*s.length);return s[x]}return{places:s,getRandomPlace:g,isLoading:o,error:u}}const M1=()=>{C.useEffect(()=>{const s=Oa("80.png"),r=document.createElement("canvas"),o=r.getContext("2d"),l=new Image;return l.onload=()=>{if(o){r.width=l.width*1.5,r.height=l.height*1.5,o.imageSmoothingEnabled=!1,o.drawImage(l,0,0,r.width,r.height);const h=r.toDataURL(),g=document.createElement("style");g.setAttribute("data-cursor-style","true"),g.textContent=`
          .leaflet-container,
          .leaflet-container *,
          .leaflet-interactive,
          .leaflet-interactive * {
            cursor: url("${h}") ${l.width*1.5/2} ${l.height*1.5/2}, crosshair !important;
            touch-action: none !important;
          }
        `,document.head.appendChild(g),r.remove()}},l.src=s,()=>{const u=document.querySelector("style[data-cursor-style]");u&&u.remove()}},[])};delete Et.Icon.Default.prototype._getIconUrl;Et.Icon.Default.mergeOptions({iconRetinaUrl:m_,iconUrl:g_,shadowUrl:v_});new Et.Icon({iconUrl:Oa("bandeira2.png"),iconSize:[70,70],iconAnchor:[30,60],popupAnchor:[0,-50],className:"bandeira-marker"});new Et.Icon({iconUrl:Oa("bandeira1.png"),iconSize:[70,70],iconAnchor:[30,60],popupAnchor:[0,-50],className:"bandeira-marker"});const j1=({position:s,gameState:r})=>{const[o,l]=C.useState(1),[u,h]=C.useState(!1),[g,x]=C.useState(!0),[y,w]=C.useState(!1),S=C.useRef("");if(C.useEffect(()=>{r.showFeedback||(console.log("🏁 showFeedback é false, removendo animação da bandeira correta"),x(!1))},[r.showFeedback]),C.useEffect(()=>{const T=M=>{console.log("📡 Evento markerClickAnimationComplete recebido, iniciando segunda animação em 0.5s"),setTimeout(()=>{console.log("🎬 Iniciando segunda animação (bandeira correta)"),w(!0),h(!0)},200)};return window.addEventListener("markerClickAnimationComplete",T),()=>{window.removeEventListener("markerClickAnimationComplete",T)}},[]),C.useEffect(()=>{if(!u||!g||!y)return;S.current=`bandeira-correta-${Date.now()}-${Math.random()}`;let T=1;const M=16,P=1e3/ut.fps,j=()=>{T<=M&&g&&(l(T),T++,T<=M?setTimeout(j,P):(console.log("🏁 Animação da bandeira correta terminou, último frame permanecerá até o fim do round"),h(!1)))};setTimeout(j,P)},[u,g,y]),!g)return null;const E=new Et.DivIcon({html:`
      <div class="bandeira-correta-marker" style="width: ${ut.size}px; height: ${ut.size}px; position: relative;">
        <img id="${S.current}" src="${_m(`${o}.png`)}"
             style="width: 100%; height: 100%; object-fit: contain; filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3)) drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2)) contrast(1.3) saturate(1.4);" />
      </div>
    `,className:"bandeira-correta-marker-icon",iconSize:[ut.size,ut.size],iconAnchor:[85,ut.anchorY]});return f.jsx(bs,{position:s,icon:E})},R1=({center:s,zoom:r})=>{M1(),C.useEffect(()=>{(()=>{const Be=new Image,Ye=new Image;Be.src=Oa("bandeira1.png"),Ye.src=Oa("bandeira2.png");const Ke=[];for(let Qe=1;Qe<=16;Qe++){const nt=new Image;nt.src=$r(`${Qe}.png`),Ke.push(nt)}console.log("🖼️ Pré-carregamento iniciado: 2 bandeiras + 16 sprites"),Promise.all([new Promise(Qe=>{Be.onload=()=>Qe("bandeira1"),Be.onerror=()=>console.warn("❌ Erro ao carregar bandeira1")}),new Promise(Qe=>{Ye.onload=()=>Qe("bandeira2"),Ye.onerror=()=>console.warn("❌ Erro ao carregar bandeira2")}),...Ke.map((Qe,nt)=>new Promise(dt=>{Qe.onload=()=>dt(`sprite${nt+1}`),Qe.onerror=()=>console.warn(`❌ Erro ao carregar sprite${nt+1}`)}))]).then(()=>{console.log("✅ Todas as imagens foram pré-carregadas com sucesso!")}).catch(Qe=>{console.error("❌ Erro durante o pré-carregamento:",Qe)})})()},[]);const[o,l]=C.useState(null),[u,h]=C.useState(!1),[g,x]=C.useState({playTime:0,roundsPlayed:0,accuracy:0}),{playerName:y,initializePlayerName:w}=Tm(),S=C.useRef(null),E=C.useRef(null),[T,M]=C.useState("neighborhoods"),[P,j]=C.useState(null),[z,V]=C.useState(!1),[J,Z]=C.useState(!0),[te,he]=C.useState(!1),[le,K]=C.useState(0),ge=C.useRef(""),{places:ne}=Lm(),_e=C.useRef(null),[ke,ie]=C.useState(r),[Ae,ue]=C.useState(s),me=C.useRef(null),{mapRef:fe,geoJsonRef:Le,audioRef:B,successSoundRef:oe,errorSoundRef:q,showPhaseOneMessage:A,distanceCircle:W,gameState:$,handleMapClick:de,handleVolumeChange:ae,handleToggleMute:se,handlePauseGame:be,handleNextRound:Ce,handleStartGame:Oe,setDistanceCircle:qe,updateGameState:tt}=S_(o,T,P,te),Pt=C.useCallback(Fe=>{console.log("🔍 [Map.tsx] handleMapClick chamado com:",Fe),console.log("🔍 [Map.tsx] Estado do jogo:",{gameStarted:$.gameStarted,isCountingDown:$.isCountingDown,showFeedback:$.showFeedback}),de(Fe)},[de,$.gameStarted,$.isCountingDown,$.showFeedback]),wt=C.useCallback(()=>{if(!ne||ne.length===0)return;let Fe=Math.floor(Math.random()*ne.length);if(ne.length>1&&P){let Be=0;for(;ne[Fe].id===P.id&&Be<10;)Fe=Math.floor(Math.random()*ne.length),Be++}console.log("[selectNextFamousPlace] currentFamousPlace antes:",P),j(ne[Fe]),setTimeout(()=>{console.log("[selectNextFamousPlace] currentFamousPlace depois:",ne[Fe])},0)},[ne,P]);C.useEffect(()=>{_e.current=(P==null?void 0:P.id)??null},[P]),C.useEffect(()=>{!$.clickedPosition&&me.current&&me.current.parentNode&&(console.log("🏁 clickedPosition é null, removendo sprite do clique"),me.current.parentNode.removeChild(me.current),me.current=null)},[$.clickedPosition]),C.useEffect(()=>{T==="famous_places"&&$.gameStarted&&ne.length>0&&!P&&wt(),T!=="famous_places"&&j(null)},[T,$.gameStarted,ne,wt]),C.useEffect(()=>{var Fe;if($.clickedPosition){console.log("🎯 Clique detectado! Posição:",$.clickedPosition),console.log("⚙️ Configuração do sprite:",ut),ge.current=`sprite-frame-${Date.now()}-${Math.random()}`,console.log("🆔 ID do sprite gerado:",ge.current);let Be=1;const Ye=16,Ke=document.createElement("div");Ke.id=ge.current,Ke.className="sprite-animation-container",me.current=Ke;const Qe=$.clickedPosition.lng,nt=$.clickedPosition.lat,dt=fe.current;if(dt){const Dt=dt.latLngToContainerPoint([nt,Qe]);Ke.style.cssText=`
          position: absolute;
          left: ${Dt.x-ut.anchorX}px;
          top: ${Dt.y-ut.anchorY}px;
          width: ${ut.size}px;
          height: ${ut.size}px;
          z-index: 10000;
          pointer-events: none;
          background: transparent;
        `,console.log(`📍 Posição do clique: ${Qe}, ${nt}`),console.log(`🖥️ Posição na tela: ${Dt.x}, ${Dt.y}`),console.log(`🎯 Posição final com ancoragem: ${Dt.x-ut.anchorX}, ${Dt.y-ut.anchorY}`)}else Ke.style.cssText=`
          position: fixed;
          left: 50%;
          top: 50%;
          transform: translate(-50%, -50%);
          width: ${ut.size}px;
          height: ${ut.size}px;
          z-index: 10000;
          pointer-events: none;
          background: transparent;
        `;const Rt=document.createElement("img");Rt.style.cssText=`
        width: 100%;
        height: 100%;
        object-fit: contain;
        display: block;
        filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3)) drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2)) contrast(1.3) saturate(1.4);
      `,Rt.src=$r("1.png"),Ke.appendChild(Rt);const dn=(Fe=fe.current)==null?void 0:Fe.getContainer();dn?(dn.appendChild(Ke),console.log("🖼️ Sprite adicionado ao container do mapa")):(document.body.appendChild(Ke),console.log("🖼️ Sprite adicionado ao body (fallback)")),console.log("🖼️ Elemento HTML do sprite criado e adicionado ao DOM"),console.log(`📏 Tamanho: ${ut.size}px`),console.log(`⏱️ Frame delay: ${ut.frameDelay}ms`),console.log(`🎬 FPS: ${ut.fps}`);const vt=()=>{if(console.log(`🖼️ Frame ${Be}:`,$r(`${Be}.png`)),Be<=Ye)if(Rt.src=$r(`${Be}.png`),Be++,Be<=Ye)console.log(`⏰ Próximo frame em ${ut.frameDelay}ms`),setTimeout(vt,ut.frameDelay);else{console.log("🏁 Animação do clique terminou, último frame permanecerá até o fim do round");const Dt=new CustomEvent("markerClickAnimationComplete",{detail:{timestamp:Date.now(),position:$.clickedPosition}});window.dispatchEvent(Dt),console.log("📡 Evento markerClickAnimationComplete disparado")}else console.log("❌ Animação finalizada")};console.log(`⏰ Iniciando animação em ${ut.frameDelay}ms...`),setTimeout(vt,ut.frameDelay)}},[$.clickedPosition]),C.useEffect(()=>{const Fe=Be=>{if(!$.gameStarted||!fe.current)return;Be.preventDefault();const Ye=fe.current,Ke=Ye.getZoom(),Qe=Ye.getCenter();switch(Be.key.toLowerCase()){case"z":Ke<18&&(Ye.setZoom(Ke+1),ie(Ke+1));break;case"x":Ke>10&&(Ye.setZoom(Ke-1),ie(Ke-1));break;case"arrowup":case"arrowdown":case"arrowleft":case"arrowright":const nt=.01;let dt=Qe.lat,Rt=Qe.lng;switch(Be.key.toLowerCase()){case"arrowup":dt+=nt;break;case"arrowdown":dt-=nt;break;case"arrowleft":Rt-=nt;break;case"arrowright":Rt+=nt;break}const dn=Et.latLng(Math.max(-24.1,Math.min(-23.8,dt)),Math.max(-46.5,Math.min(-46.2,Rt)));Ye.panTo(dn,{animate:!0}),ue([dn.lat,dn.lng]);break}};return window.addEventListener("keydown",Fe),()=>{window.removeEventListener("keydown",Fe)}},[$.gameStarted]),C.useEffect(()=>{if(T==="famous_places"&&P&&$.gameStarted){console.log("[useEffect] Iniciando sequência do modal do lugar famoso:",P),Z(!0),V(!0),he(!0),K(0);const Fe=Date.now(),Be=2e3,Ye=setInterval(()=>{const nt=Date.now()-Fe,dt=Math.min(nt/Be*100,100);K(dt)},50),Ke=setTimeout(()=>{console.log("[Modal] Movendo para o canto após 2 segundos"),Z(!1),K(0),clearInterval(Ye)},2e3),Qe=setTimeout(()=>{console.log("[Modal] Iniciando timer após transição"),he(!1)},2300);return()=>{clearTimeout(Ke),clearTimeout(Qe),clearInterval(Ye)}}else T!=="famous_places"&&(V(!1),Z(!0),he(!1),K(0))},[T,P,$.gameStarted]),C.useEffect(()=>{(async()=>{try{const Be=await fetch("/geosantos//data/bairros.geojson");if(!Be.ok)throw new Error(`HTTP error! status: ${Be.status}`);const Ye=await Be.json();l(Ye)}catch(Be){console.error("Error fetching geojson data:",Be),l(null)}})()},[]),C.useEffect(()=>{fe.current&&(window.mapInstance=fe.current)},[fe.current]),C.useEffect(()=>{E.current&&($.gameStarted&&!$.gameOver&&!$.isMuted?(E.current.volume=$.volume*.3,E.current.play().catch(Fe=>{console.log("Erro ao tocar música de fundo:",Fe)})):($.gameOver||$.isMuted)&&E.current.pause())},[$.gameStarted,$.gameOver,$.isMuted,$.volume]),C.useEffect(()=>{E.current&&(E.current.volume=$.volume*.3)},[$.volume]),C.useEffect(()=>{if($.gameOver&&!u){const Fe=Date.now(),Be=Math.floor((Fe-($.lastClickTime||Fe))/1e3),Ye=Math.max(0,Math.min(1,1-$.totalDistance/6e3));x({playTime:Math.max(1,Be),roundsPlayed:$.roundNumber,accuracy:Ye}),h(!0)}},[$.gameOver,u,$.lastClickTime,$.totalDistance,$.roundNumber]);const St=C.useCallback(Fe=>{console.log("[handleNextRoundWithFamousPlaceReset] chamada. currentFamousPlace:",P),Ce(Fe),T==="famous_places"&&setTimeout(()=>{console.log("[handleNextRoundWithFamousPlaceReset] chamando selectNextFamousPlace"),wt()},0)},[T,Ce,wt,P]);return f.jsxs("div",{style:{margin:0,padding:0,width:"100vw",height:"100vh",overflow:"hidden"},children:[f.jsx("audio",{ref:B,preload:"auto"}),f.jsx("audio",{ref:oe,src:"/geosantos//assets/audio/sucess.mp3",preload:"auto"}),f.jsx("audio",{ref:q,src:"/geosantos//assets/audio/error.mp3",preload:"auto"}),f.jsx("audio",{ref:S,src:"/geosantos//assets/audio/game-start.mp3",preload:"auto"}),f.jsx("audio",{ref:E,src:"/geosantos//assets/audio/game_music.mp3",preload:"auto",loop:!0,onError:Fe=>{console.error("Erro ao carregar game_music.mp3:",Fe)},onLoadStart:()=>{console.log("Iniciando carregamento de game_music.mp3")},onCanPlay:()=>{console.log("game_music.mp3 carregado com sucesso")}}),f.jsx("style",{children:`
          .bandeira-marker {
            animation: plantBandeira 0.3s ease-out;
            transform-origin: bottom center;
            z-index: 2000;
          }

          @keyframes plantBandeira {
            0% {
              transform: scale(0.1) translateY(50px);
              opacity: 0;
            }
            50% {
              transform: scale(1.2) translateY(-5px);
              opacity: 1;
            }
            100% {
              transform: scale(1) translateY(0);
              opacity: 1;
            }
          }

          @keyframes plantSprite {
            0% {
              transform: scale(0.1) translateY(50px);
              opacity: 0;
            }
            50% {
              transform: scale(1.2) translateY(-5px);
              opacity: 1;
            }
            100% {
              transform: scale(1) translateY(0);
              opacity: 1;
            }
          }




          /* Ajustes para dispositivos móveis */
          @media (max-width: 768px) {
            .leaflet-container {
              touch-action: none !important;
            }

            .leaflet-control-container {
              display: none;
            }
          }

          /* Melhorias de acessibilidade */
          @media (prefers-reduced-motion: reduce) {
            * {
              animation-duration: 0.01ms !important;
              animation-iteration-count: 1 !important;
              transition-duration: 0.01ms !important;
              scroll-behavior: auto !important;
            }
          }

          /* Melhor contraste para textos */
          .game-text {
            text-shadow: 2px 2px 0px rgba(0, 0, 0, 0.8);
            font-family: 'VT323', monospace;
          }

          /* Indicador de foco melhorado */
          *:focus {
            outline: 3px solid var(--accent-green);
            outline-offset: 2px;
          }

          /* Loading spinner */
          .loading-spinner {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 2000;
            background: var(--bg-secondary);
            border: 2px solid var(--text-primary);
            padding: 20px;
            border-radius: 2px;
            color: var(--text-primary);
            text-align: center;
            box-shadow: var(--shadow-md);
            font-family: 'VT323', monospace;
          }

          @keyframes fadeInOut {
            0% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
            10% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
            80% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
            100% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
          }

          @keyframes fadeInOut {
            0% { opacity: 0; }
            10% { opacity: 1; }
            80% { opacity: 1; }
            100% { opacity: 0; }
          }

          @keyframes slideInUp {
            0% {
              opacity: 0;
              transform: translateY(30px);
            }
            100% {
              opacity: 1;
              transform: translateY(0);
            }
          }

          @keyframes bounceIn {
            0% {
              opacity: 0;
              transform: scale(0.3);
            }
            50% {
              opacity: 1;
              transform: scale(1.05);
            }
            70% {
              transform: scale(0.9);
            }
            100% {
              opacity: 1;
              transform: scale(1);
            }
          }

          @keyframes pulseText {
            0% {
              transform: scale(1);
            }
            50% {
              transform: scale(1.03);
            }
            100% {
              transform: scale(1);
            }
          }
        `}),f.jsx(Pw,{audioRef:B,successSoundRef:oe,errorSoundRef:q,gameStartAudioRef:S,gameState:$,playSuccess:!1,playError:!1,showPhaseOneMessage:A}),$.gameStarted&&f.jsxs(f.Fragment,{children:[f.jsx("div",{style:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",display:"flex",gap:"20px",alignItems:"center",zIndex:1e3},children:f.jsx(Md,{icon:"target",value:$.score,unit:"pts"})}),f.jsx("div",{style:{position:"fixed",top:"20px",right:"20px",zIndex:1e3},children:f.jsx(Tw,{totalDistance:$.totalDistance,maxDistance:4e3})})]}),$.gameStarted&&f.jsxs(ks,{center:Ae,zoom:ke,style:{width:"100%",height:"100%",zIndex:1},zoomControl:!1,attributionControl:!1,ref:fe,children:[f.jsx(Zd,{onClick:Pt}),f.jsx(Es,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"}),T==="famous_places"&&$.showFeedback&&P&&f.jsx(j1,{position:[P.latitude,P.longitude],gameState:$}),$.arrowPath&&f.jsx(f_,{positions:$.arrowPath,color:"#FF0000",weight:3,opacity:.8,dashArray:"10, 10",className:"arrow-path"}),o&&f.jsx(kw,{geoJsonData:o,revealedNeighborhoods:$.revealedNeighborhoods,currentNeighborhood:$.currentNeighborhood,onMapClick:Pt,geoJsonRef:Le}),T==="neighborhoods"?f.jsx(Ew,{geoJsonData:o,geoJsonRef:Le,updateGameState:tt}):f.jsx(Cw,{onPlaceChange:j,currentPlace:P,isGameActive:$.gameStarted}),fe.current&&W&&f.jsx(bw,{map:fe.current,distanceCircle:W,onAnimationComplete:()=>qe(null)})]}),$.gameStarted&&f.jsx(rw,{isMuted:$.isMuted,volume:$.volume,onVolumeChange:ae,onToggleMute:se}),f.jsx(cw,{gameStarted:$.gameStarted,currentNeighborhood:$.currentNeighborhood,globalTimeLeft:$.globalTimeLeft,roundTimeLeft:$.roundTimeLeft,roundNumber:$.roundNumber,roundInitialTime:$.roundInitialTime,score:$.score,onStartGame:()=>Oe(),getProgressBarColor:vp,currentMode:T,onModeChange:M,currentFamousPlace:P||void 0}),$.gameStarted&&f.jsxs("div",{style:{position:"fixed",bottom:"20px",right:"20px",background:"rgba(0, 0, 0, 0.8)",color:"var(--text-primary)",padding:"8px 12px",borderRadius:"4px",fontSize:"0.8rem",fontFamily:"'LaCartoonerie', sans-serif",zIndex:1e3,display:"flex",flexDirection:"column",gap:"4px",backdropFilter:"blur(4px)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx("span",{style:{color:"var(--accent-green)"},children:"Z"}),f.jsx("span",{children:"Zoom In"}),f.jsx("span",{style:{marginLeft:"8px",color:"var(--accent-green)"},children:"X"}),f.jsx("span",{children:"Zoom Out"})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx("span",{style:{color:"var(--accent-blue)"},children:"↑↓←→"}),f.jsx("span",{children:"Mover Mapa"})]})]}),$.showFeedback&&!u&&f.jsx(Sw,{showFeedback:$.showFeedback,clickedPosition:$.clickedPosition,arrowPath:$.arrowPath,clickTime:$.clickTime,feedbackProgress:$.feedbackProgress,onNextRound:St,calculateDistance:Td,calculateScore:vm,getProgressBarColor:vp,geoJsonData:o,gameOver:$.gameOver,onPauseGame:be,score:$.score,currentNeighborhood:$.currentNeighborhood,currentMode:T,currentFamousPlace:P||void 0}),A&&f.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.95)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",animation:"fadeInOut 3s forwards",zIndex:2e3},children:f.jsxs("div",{style:{textAlign:"center",maxWidth:"90%",animation:"slideInUp 0.8s ease-out 0.3s both"},children:[f.jsx("div",{style:{fontSize:window.innerWidth<768?"3rem":"4rem",marginBottom:"20px",animation:"bounceIn 1s ease-out 0.5s both"},children:T==="neighborhoods"?f.jsx(wm,{size:window.innerWidth<768?48:64,color:"var(--accent-green)"}):f.jsx(Sm,{size:window.innerWidth<768?48:64,color:"var(--accent-green)"})}),f.jsx("h1",{style:{fontSize:window.innerWidth<768?"2rem":"3rem",color:"var(--accent-green)",marginBottom:"15px",fontWeight:800,textTransform:"uppercase",letterSpacing:"2px",animation:"slideInUp 0.8s ease-out 0.7s both",fontFamily:"'LaCartoonerie', cursive"},children:T==="neighborhoods"?"Nível 1: Bairros Conhecidos":"Lugares Famosos"}),f.jsx("p",{style:{fontSize:window.innerWidth<768?"1rem":"1.3rem",color:"var(--text-primary)",marginBottom:"25px",fontWeight:600,animation:"slideInUp 0.8s ease-out 0.9s both",fontFamily:"'LaCartoonerie', cursive"},children:T==="neighborhoods"?"Clique no mapa onde você acha que está o bairro!":"Encontre o lugar famoso no mapa!"})]})}),f.jsx(T1,{isOpen:u,onClose:()=>{h(!1),window.location.reload()},onPlayAgain:()=>{h(!1),window.location.reload()},score:$.score,playTime:g.playTime,roundsPlayed:g.roundsPlayed,accuracy:g.accuracy,currentPlayerName:y||w()}),f.jsx(L1,{open:z,onClose:()=>V(!1),famousPlace:P,isCentered:J,timeProgress:le})]})},A1=()=>{const{places:s,isLoading:r,error:o}=Lm(),[l,u]=C.useState(null),[h,g]=C.useState(!1),x=new bu.Icon({iconUrl:"https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/images/marker-icon.png",iconSize:[32,48],iconAnchor:[16,48],popupAnchor:[0,-48]}),y=E=>{u(E)},w=()=>{g(!0)},S=()=>{g(!1)};return f.jsxs("div",{style:{maxWidth:1400,minWidth:320,width:"100%",margin:"40px auto",background:"var(--bg-secondary)",border:"4px solid var(--accent-green)",borderRadius:0,boxShadow:"8px 8px 0 #222, 0 0 0 4px #fff",padding:24,fontFamily:"'Press Start 2P', monospace",color:"var(--text-primary)",minHeight:"calc(100vh - 80px)",display:"flex",flexDirection:"row",gap:32,flexWrap:"wrap"},children:[f.jsx(ws,{to:"/",style:{position:"absolute",top:"20px",left:"20px",zIndex:10,background:"#1a4d2e",color:"#fff",border:"none",borderRadius:"6px",padding:"12px 20px",fontSize:"1rem",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",transition:"all 0.2s ease",textDecoration:"none"},children:"← Voltar ao Jogo"}),f.jsxs("div",{style:{flex:"1 1 300px",minWidth:280,maxWidth:400,display:"flex",flexDirection:"column",gap:0,height:"calc(100vh - 120px)",overflowY:"auto",background:"#fff",border:"2px solid #222",borderRadius:0,boxShadow:"4px 4px 0 #222",padding:16},children:[f.jsx("h2",{style:{fontSize:"1.2rem",color:"#222",marginBottom:16,fontFamily:"'Press Start 2P', monospace",textTransform:"uppercase",textAlign:"center",fontWeight:700,textShadow:"2px 2px 0 #ccc"},children:"Lugares Famosos"}),r&&f.jsx("div",{style:{color:"#888",fontSize:"0.9rem",textAlign:"center",fontFamily:"'VT323', monospace"},children:"Carregando lugares..."}),o&&f.jsxs("div",{style:{color:"red",fontSize:"0.9rem",textAlign:"center",fontFamily:"'VT323', monospace"},children:["Erro ao carregar lugares: ",o]}),s.length===0&&!r&&f.jsx("div",{style:{color:"#888",fontSize:"0.9rem",textAlign:"center",fontFamily:"'VT323', monospace"},children:"Nenhum lugar encontrado."}),s.map(E=>f.jsxs("div",{onClick:()=>y(E),style:{display:"flex",alignItems:"center",gap:12,borderBottom:"1px dashed #ccc",padding:"12px 8px",cursor:"pointer",background:(l==null?void 0:l.id)===E.id?"#f0f8f0":"transparent",border:(l==null?void 0:l.id)===E.id?"2px solid var(--accent-green)":"none",borderRadius:(l==null?void 0:l.id)===E.id?"4px":"0",transition:"all 0.2s ease"},onMouseEnter:T=>{(l==null?void 0:l.id)!==E.id&&(T.currentTarget.style.background="#f5f5f5")},onMouseLeave:T=>{(l==null?void 0:l.id)!==E.id&&(T.currentTarget.style.background="transparent")},children:[f.jsx("img",{src:E.imageUrl||"https://via.placeholder.com/48x48?text=?",alt:E.name,style:{width:48,height:48,objectFit:"cover",border:"2px solid #222",background:"#fff",borderRadius:0}}),f.jsxs("div",{style:{flex:1},children:[f.jsx("div",{style:{fontWeight:700,fontSize:"0.8rem",color:"#222",fontFamily:"'Press Start 2P', monospace",lineHeight:1.2,marginBottom:"4px"},children:E.name}),f.jsx("div",{style:{fontSize:"0.7rem",color:"#444",fontFamily:"'VT323', monospace",fontStyle:"italic"},children:E.category})]})]},E.id))]}),f.jsx("div",{style:{flex:"2 1 500px",minWidth:320,maxWidth:900,display:"flex",flexDirection:"column",gap:0,background:"#fff",border:"2px solid #222",borderRadius:0,boxShadow:"4px 4px 0 #222",padding:24,height:"calc(100vh - 120px)",overflowY:"auto",overflowX:"hidden"},children:l?f.jsxs(f.Fragment,{children:[f.jsx("h1",{style:{fontFamily:"'Press Start 2P', monospace",color:"var(--accent-green)",fontSize:"1.4rem",textAlign:"center",textTransform:"uppercase",fontWeight:700,letterSpacing:"1px",textShadow:"2px 2px 0 #222",marginBottom:16},children:l.name}),f.jsx("div",{style:{fontSize:"1rem",color:"#444",textAlign:"center",fontFamily:"'VT323', monospace",fontStyle:"italic",marginBottom:20,padding:"8px 16px",background:"#f0f0f0",border:"1px solid #ccc",borderRadius:"4px"},children:l.category}),f.jsx("img",{src:l.imageUrl||"https://via.placeholder.com/400x250?text=Sem+Imagem",alt:l.name,style:{width:"100%",maxWidth:400,height:250,objectFit:"cover",borderRadius:"8px",margin:"0 auto 20px auto",border:"3px solid #222",boxShadow:"4px 4px 0 #222",background:"#eee"}}),f.jsx("div",{style:{fontSize:"1rem",color:"#222",lineHeight:1.6,textAlign:"justify",fontFamily:"'Georgia', serif",marginBottom:20,padding:"16px",background:"#f9f9f9",border:"1px solid #ddd",borderRadius:"4px"},children:l.description}),f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",padding:"16px",background:"#f0f8f0",border:"1px solid var(--accent-green)",borderRadius:"4px"},children:[f.jsxs("div",{style:{fontSize:"0.9rem",color:"#222",fontFamily:"'VT323', monospace"},children:[f.jsx("strong",{children:"📍 Endereço:"})," ",l.address]}),f.jsxs("div",{style:{fontSize:"0.9rem",color:"#222",fontFamily:"'VT323', monospace"},children:[f.jsx("strong",{children:"🌍 Coordenadas:"})," ",l.latitude,", ",l.longitude]})]}),f.jsx("div",{style:{width:"100%",minHeight:350,height:"auto",marginTop:"20px",border:"3px solid #222",borderRadius:"8px",overflow:"hidden",boxShadow:"4px 4px 0 #222",flexShrink:0},children:f.jsxs(ks,{center:[l.latitude,l.longitude],zoom:15,style:{width:"100%",height:"100%"},scrollWheelZoom:!0,children:[f.jsx(Es,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© OpenStreetMap contributors"}),f.jsx(bs,{position:[l.latitude,l.longitude],icon:x,children:f.jsx(gp,{children:f.jsxs("div",{style:{fontFamily:"'Press Start 2P', monospace",fontSize:"0.8rem",textAlign:"center"},children:[f.jsx("strong",{children:l.name}),f.jsx("br",{}),f.jsx("span",{style:{fontFamily:"'VT323', monospace",fontSize:"0.9rem",fontStyle:"italic"},children:l.category})]})})})]})})]}):f.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"#888",fontFamily:"'VT323', monospace",fontSize:"1.2rem",textAlign:"center"},children:[f.jsx("div",{style:{fontSize:"3rem",marginBottom:"16px"},children:"📍"}),f.jsx("div",{style:{marginBottom:"8px",fontFamily:"'Press Start 2P', monospace",fontSize:"1rem",color:"#222"},children:"Selecione um lugar"}),f.jsx("div",{style:{marginBottom:"20px"},children:"Clique em um lugar na lista ao lado para ver seus detalhes"}),f.jsx("div",{style:{width:"100%",minHeight:450,height:"auto",border:"3px solid #222",borderRadius:"8px",overflow:"hidden",boxShadow:"4px 4px 0 #222",flexShrink:0},children:f.jsxs(ks,{center:[-23.9618,-46.3322],zoom:12,style:{width:"100%",height:"100%"},scrollWheelZoom:!0,children:[f.jsx(Es,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© OpenStreetMap contributors"}),s.map(E=>f.jsx(bs,{position:[E.latitude,E.longitude],icon:x,children:f.jsx(gp,{children:f.jsxs("div",{style:{fontFamily:"'Press Start 2P', monospace",fontSize:"0.7rem",textAlign:"center",maxWidth:"200px"},children:[f.jsx("strong",{children:E.name}),f.jsx("br",{}),f.jsx("span",{style:{fontFamily:"'VT323', monospace",fontSize:"0.8rem",fontStyle:"italic"},children:E.category}),f.jsx("br",{}),f.jsx("span",{style:{fontFamily:"'VT323', monospace",fontSize:"0.7rem",color:"#666"},children:E.address})]})})},E.id))]})}),f.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:f.jsx("button",{onClick:w,style:{background:"var(--accent-green)",color:"var(--bg-primary)",border:"3px solid #222",borderRadius:"4px",padding:"12px 20px",fontSize:"0.9rem",fontFamily:"'Press Start 2P', monospace",fontWeight:700,cursor:"pointer",textTransform:"uppercase",letterSpacing:"1px",boxShadow:"4px 4px 0 #222",transition:"all 0.1s ease"},onMouseEnter:E=>{E.currentTarget.style.transform="translate(-2px, -2px)",E.currentTarget.style.boxShadow="6px 6px 0 #222"},onMouseLeave:E=>{E.currentTarget.style.transform="translate(0, 0)",E.currentTarget.style.boxShadow="4px 4px 0 #222"},children:"💡 Sentiu falta de algum lugar? Envie uma sugestão!"})})]})}),h&&f.jsx(Pm,{onClose:S})]})},O1=()=>{const[s,r]=C.useState(null),[o,l]=C.useState("markerclick"),u=P=>({...{size:ut.size,anchorY:ut.anchorY,fps:ut.fps},anchorX:P==="bandeira_correta"?85:25}),[h,g]=C.useState(()=>u(o)),[x,y]=C.useState(!1),w=C.useRef(""),S=()=>(gm({click:P=>{x||r([P.latlng.lat,P.latlng.lng])}}),null),E=(P,j)=>{let z;return j==="bandeira_correta"?(z=_m(`${P}.png`),console.log("🏁 Bandeira Correta - Frame:",P,"URL:",z)):(z=$r(`${P}.png`),console.log("🎯 Marker Click - Frame:",P,"URL:",z)),z},T=P=>{if(x)return;console.log("🎬 Iniciando animação:",{position:P,type:o}),y(!0),w.current=`sprite-frame-${Date.now()}-${Math.random()}`;let j=1;const z=16,V=1e3/h.fps,J=()=>{const Z=document.getElementById(w.current);if(Z&&j<=z){const te=E(j,o);if(console.log(`🖼️ Frame ${j}:`,te),Z.setAttribute("src",te),j++,j<=z)setTimeout(J,V);else{const he=o==="bandeira_correta"?yp.bandeira_correta:yp.markerclick;console.log(`🎯 Animação terminou! Sprite final permanecerá por ${he}ms`),setTimeout(()=>{console.log("🗑️ Removendo sprite final"),y(!1),r(null)},he)}}else console.log("❌ Sprite não encontrado ou frame inválido"),y(!1),r(null)};setTimeout(J,V)};C.useEffect(()=>{console.log("🔄 useEffect chamado:",{clickedPosition:s,selectedAnimation:o}),s&&(console.log("🎯 Posição clicada, iniciando animação..."),T(s))},[s,o]),C.useEffect(()=>{console.log("🔄 Mudando tipo de animação para:",o);const P=u(o);g(P),console.log("⚙️ Novas configurações aplicadas:",P)},[o]);const M=(P,j)=>{g(z=>({...z,[P]:j}))};return f.jsxs("div",{style:{width:"100vw",height:"100vh",position:"relative"},children:[f.jsxs("div",{style:{position:"absolute",top:"20px",left:"20px",zIndex:1e3,backgroundColor:"rgba(255, 255, 255, 0.95)",padding:"20px",borderRadius:"10px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",minWidth:"300px"},children:[f.jsx("h2",{style:{margin:"0 0 20px 0",color:"#333"},children:"🎮 Configurações da Animação"}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("label",{style:{display:"block",marginBottom:"10px",fontWeight:"bold",color:"#333"},children:"🎬 Tipo de Animação:"}),f.jsxs("div",{style:{display:"flex",gap:"10px"},children:[f.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"5px",cursor:"pointer"},children:[f.jsx("input",{type:"radio",name:"animationType",value:"markerclick",checked:o==="markerclick",onChange:P=>{console.log("🎯 Mudando para Marker Click"),l(P.target.value)}}),f.jsx("span",{style:{fontSize:"14px"},children:"🎯 Marker Click"})]}),f.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"5px",cursor:"pointer"},children:[f.jsx("input",{type:"radio",name:"animationType",value:"bandeira_correta",checked:o==="bandeira_correta",onChange:P=>{console.log("🏁 Mudando para Bandeira Correta"),l(P.target.value)}}),f.jsx("span",{style:{fontSize:"14px"},children:"🏁 Bandeira Correta"})]})]})]}),f.jsxs("div",{style:{marginBottom:"15px"},children:[f.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:["Tamanho: ",h.size,"px"]}),f.jsx("input",{type:"range",min:"30",max:"150",value:h.size,onChange:P=>M("size",parseInt(P.target.value)),style:{width:"100%"}})]}),f.jsxs("div",{style:{marginBottom:"15px"},children:[f.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:["Âncora X: ",h.anchorX,"px"]}),f.jsx("input",{type:"range",min:"0",max:h.size,value:h.anchorX,onChange:P=>M("anchorX",parseInt(P.target.value)),style:{width:"100%"}})]}),f.jsxs("div",{style:{marginBottom:"15px"},children:[f.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:["Âncora Y: ",h.anchorY,"px"]}),f.jsx("input",{type:"range",min:"0",max:h.size,value:h.anchorY,onChange:P=>M("anchorY",parseInt(P.target.value)),style:{width:"100%"}})]}),f.jsxs("div",{style:{marginBottom:"15px"},children:[f.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:["FPS: ",h.fps]}),f.jsx("input",{type:"range",min:"5",max:"30",value:h.fps,onChange:P=>M("fps",parseInt(P.target.value)),style:{width:"100%"}})]}),f.jsx("div",{style:{padding:"10px",backgroundColor:x?"#ffeb3b":"#e8f5e8",borderRadius:"5px",textAlign:"center",fontWeight:"bold"},children:x?"🎬 Animando...":"✅ Pronto para clicar"}),f.jsxs("div",{style:{marginTop:"15px",fontSize:"12px",color:"#666"},children:[f.jsx("p",{children:f.jsx("strong",{children:"Instruções:"})}),f.jsx("p",{children:"• Escolha o tipo de animação acima"}),f.jsx("p",{children:"• Clique em qualquer lugar do mapa para ativar"}),f.jsx("p",{children:"• Ajuste as configurações para personalizar"}),f.jsx("p",{children:"• A animação só funciona quando não está rodando"})]})]}),f.jsxs("div",{style:{position:"absolute",top:"20px",right:"20px",zIndex:1e3,backgroundColor:"rgba(0, 0, 0, 0.9)",color:"white",padding:"20px",borderRadius:"10px",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",minWidth:"280px",fontFamily:"monospace"},children:[f.jsx("h3",{style:{margin:"0 0 15px 0",color:"#00ff88",textAlign:"center"},children:"📊 Dados em Tempo Real"}),f.jsxs("div",{style:{marginBottom:"10px"},children:[f.jsx("span",{style:{color:"#ffaa00"},children:"🎬 Tipo:"}),f.jsx("span",{style:{float:"right",color:"#00ff88"},children:o==="markerclick"?"🎯 Marker Click":"🏁 Bandeira Correta"})]}),f.jsxs("div",{style:{marginBottom:"10px"},children:[f.jsx("span",{style:{color:"#ffaa00"},children:"🎯 Tamanho:"}),f.jsxs("span",{style:{float:"right",color:"#00ff88"},children:[h.size,"px"]})]}),f.jsxs("div",{style:{marginBottom:"10px"},children:[f.jsx("span",{style:{color:"#ffaa00"},children:"📍 Âncora X:"}),f.jsxs("span",{style:{float:"right",color:"#00ff88"},children:[h.anchorX,"px"]})]}),f.jsxs("div",{style:{marginBottom:"10px"},children:[f.jsx("span",{style:{color:"#ffaa00"},children:"📍 Âncora Y:"}),f.jsxs("span",{style:{float:"right",color:"#00ff88"},children:[h.anchorY,"px"]})]}),f.jsxs("div",{style:{marginBottom:"10px"},children:[f.jsx("span",{style:{color:"#ffaa00"},children:"🎬 FPS:"}),f.jsx("span",{style:{float:"right",color:"#00ff88"},children:h.fps})]}),f.jsxs("div",{style:{marginBottom:"10px"},children:[f.jsx("span",{style:{color:"#ffaa00"},children:"⏱️ Delay:"}),f.jsxs("span",{style:{float:"right",color:"#00ff88"},children:[Math.round(1e3/h.fps),"ms"]})]}),f.jsxs("div",{style:{marginBottom:"10px"},children:[f.jsx("span",{style:{color:"#ffaa00"},children:"🔄 Duração Total:"}),f.jsxs("span",{style:{float:"right",color:"#00ff88"},children:[Math.round(16*1e3/h.fps),"ms"]})]}),f.jsx("div",{style:{marginTop:"15px",padding:"8px",backgroundColor:x?"#ff4444":"#00aa44",borderRadius:"5px",textAlign:"center",fontSize:"12px",fontWeight:"bold"},children:x?"🎬 ANIMANDO":"✅ PRONTO"}),s&&f.jsxs("div",{style:{marginTop:"10px",padding:"8px",backgroundColor:"#4444ff",borderRadius:"5px",fontSize:"11px",textAlign:"center"},children:["📍 Lat: ",s[0].toFixed(6),f.jsx("br",{}),"📍 Lng: ",s[1].toFixed(6)]})]}),f.jsxs(ks,{center:[-23.9618,-46.3322],zoom:13,style:{width:"100%",height:"100%"},zoomControl:!0,children:[f.jsx(Es,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),f.jsx(S,{}),s&&f.jsx(bs,{position:s,icon:new bu.DivIcon({html:`
                <div class="sprite-marker" style="width: ${h.size}px; height: ${h.size}px; position: relative;">
                  <img id="${w.current}" src="${E(1,o)}" 
                       style="width: 100%; height: 100%; object-fit: contain; animation: plantSprite 0.3s ease-out; filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3)) drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2)) contrast(1.3) saturate(1.4);" />
                </div>
              `,className:"sprite-marker-icon",iconSize:[h.size,h.size],iconAnchor:[h.anchorX,h.anchorY]})})]}),f.jsx("style",{children:`
        .sprite-marker-icon {
          background: transparent !important;
          border: none !important;
        }
        
        @keyframes plantSprite {
          0% {
            transform: scale(0) rotate(0deg);
            opacity: 0;
          }
          50% {
            transform: scale(1.2) rotate(180deg);
            opacity: 0.8;
          }
          100% {
            transform: scale(1) rotate(360deg);
            opacity: 1;
          }
        }
        
        .leaflet-control-zoom {
          margin-right: 20px !important;
        }
      `})]})},I1=()=>{const s=$r("1.png");return console.log("🧪 SpriteDebug - URL gerada:",s),f.jsxs("div",{style:{padding:"20px",border:"2px solid red",margin:"20px",backgroundColor:"#fff"},children:[f.jsx("h2",{children:"🧪 Debug dos Sprites"}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h3",{children:"URLs de teste:"}),f.jsxs("p",{children:[f.jsx("strong",{children:"getSpriteUrl('1.png'):"})," ",s]}),f.jsxs("p",{children:[f.jsx("strong",{children:"getSpriteUrl('2.png'):"})," ",$r("2.png")]}),f.jsxs("p",{children:[f.jsx("strong",{children:"getSpriteUrl('16.png'):"})," ",$r("16.png")]})]}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h3",{children:"Teste de carregamento:"}),f.jsx("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16].map(r=>f.jsxs("div",{style:{border:"1px solid #ccc",padding:"5px",textAlign:"center",width:"80px"},children:[f.jsxs("p",{style:{margin:"0 0 5px 0",fontSize:"12px"},children:["Frame ",r]}),f.jsx("img",{src:$r(`${r}.png`),alt:`Frame ${r}`,style:{width:"60px",height:"60px",objectFit:"contain",border:"1px solid #ddd"},onLoad:()=>console.log(`✅ Frame ${r} carregado com sucesso`),onError:o=>console.error(`❌ Erro ao carregar frame ${r}:`,o)})]},r))})]}),f.jsxs("div",{style:{marginTop:"20px",padding:"10px",backgroundColor:"#f0f0f0"},children:[f.jsx("h3",{children:"Console Logs:"}),f.jsx("p",{children:"Abra o console do navegador (F12) para ver os logs detalhados"}),f.jsx("p",{children:"Verifique se as URLs estão sendo geradas corretamente"}),f.jsx("p",{children:"Verifique se as imagens estão sendo carregadas"})]})]})},st={useRefactoredModules:!0,neighborhood:{useRefactored:!0},famousPlaces:{useRefactored:!0},common:{useRefactored:!0},gameMode:{useRefactored:!0}},yu=s=>{const r=st;return r.useRefactoredModules?s.includes("neighborhood")?r.neighborhood.useRefactored:s.includes("famousPlaces")||s.includes("famous_places")?r.famousPlaces.useRefactored:s.includes("common")||s.includes("BaseGameMode")?r.common.useRefactored:s.includes("useGameMode")?r.gameMode.useRefactored:!1:!1},N1=s=>{var r;if(yu(s)){const o=s.replace(/\.(ts|tsx)$/,""),l=((r=s.match(/\.(ts|tsx)$/))==null?void 0:r[1])||"ts";return`${o}-refactored.${l}`}return s},z1=s=>{s.includes("neighborhood")?st.neighborhood.useRefactored=!st.neighborhood.useRefactored:s.includes("famousPlaces")||s.includes("famous_places")?st.famousPlaces.useRefactored=!st.famousPlaces.useRefactored:s.includes("common")||s.includes("BaseGameMode")?st.common.useRefactored=!st.common.useRefactored:s.includes("useGameMode")&&(st.gameMode.useRefactored=!st.gameMode.useRefactored),console.log(`[GameModeConfig] Alternado versão para ${s}:`,yu(s))},D1=()=>{st.useRefactoredModules=!st.useRefactoredModules,st.useRefactoredModules?(st.neighborhood.useRefactored=!0,st.famousPlaces.useRefactored=!0,st.common.useRefactored=!0,st.gameMode.useRefactored=!0):(st.neighborhood.useRefactored=!1,st.famousPlaces.useRefactored=!1,st.common.useRefactored=!1,st.gameMode.useRefactored=!1),console.log("[GameModeConfig] Todas as versões alternadas para:",st.useRefactoredModules)},jd=()=>({global:st.useRefactoredModules,neighborhood:st.neighborhood.useRefactored,famousPlaces:st.famousPlaces.useRefactored,common:st.common.useRefactored,gameMode:st.gameMode.useRefactored});console.log("[GameModeConfig] Configuração carregada:",jd());class kn{static async loadModule(r){const o=r;if(this.moduleCache.has(o))return this.moduleCache.get(o);try{let l=r;yu(r)?(l=N1(r),console.log(`[GameModeFactory] Carregando versão refatorada: ${l}`)):console.log(`[GameModeFactory] Carregando versão original: ${l}`);const u=await import(l);return this.moduleCache.set(o,u),u}catch(l){if(console.error(`[GameModeFactory] Erro ao carregar módulo ${r}:`,l),yu(r)){console.log(`[GameModeFactory] Fallback para versão original: ${r}`);try{const u=await import(r);return this.moduleCache.set(o,u),u}catch(u){throw console.error("[GameModeFactory] Fallback também falhou:",u),u}}throw l}}static async createMode(r,o={}){try{let l,u;r==="neighborhoods"?(l="../components/game/modes/NeighborhoodMode/NeighborhoodMode",u="NeighborhoodMode"):(l="../components/game/modes/FamousPlacesMode/FamousPlacesMode",u="FamousPlacesMode");const g=(await this.loadModule(l))[u];if(!g)throw new Error(`Componente ${u} não encontrado no módulo`);return console.log(`[GameModeFactory] Modo ${r} criado com sucesso`),new g(o)}catch(l){throw console.error(`[GameModeFactory] Erro ao criar modo ${r}:`,l),l}}static async createHook(r,o={}){try{let l,u;r==="neighborhoods"?(l="../hooks/modes/useNeighborhoodGame",u="useNeighborhoodGame"):(l="../hooks/modes/useFamousPlacesGame",u="useFamousPlacesGame");const g=(await this.loadModule(l))[u];if(!g)throw new Error(`Hook ${u} não encontrado no módulo`);return console.log(`[GameModeFactory] Hook ${r} criado com sucesso`),g(o)}catch(l){throw console.error(`[GameModeFactory] Erro ao criar hook ${r}:`,l),l}}static async createGameModeHook(r={}){try{const o="../hooks/modes/useGameMode",l="useGameMode",h=(await this.loadModule(o))[l];if(!h)throw new Error(`Hook ${l} não encontrado no módulo`);return console.log("[GameModeFactory] Hook principal criado com sucesso"),h(r)}catch(o){throw console.error("[GameModeFactory] Erro ao criar hook principal:",o),o}}static async loadValidationUtils(r){try{let o;r==="neighborhoods"?o="../utils/modes/neighborhood/validation":o="../utils/modes/famousPlaces/validation";const l=await this.loadModule(o);return console.log(`[GameModeFactory] Utilitários de validação ${r} carregados`),l}catch(o){throw console.error(`[GameModeFactory] Erro ao carregar utilitários de validação ${r}:`,o),o}}static async loadScoringUtils(r){try{let o;r==="neighborhoods"?o="../utils/modes/neighborhood/scoring":o="../utils/modes/famousPlaces/scoring";const l=await this.loadModule(o);return console.log(`[GameModeFactory] Utilitários de pontuação ${r} carregados`),l}catch(o){throw console.error(`[GameModeFactory] Erro ao carregar utilitários de pontuação ${r}:`,o),o}}static clearCache(){this.moduleCache.clear(),console.log("[GameModeFactory] Cache limpo")}static getCacheStatus(){return{size:this.moduleCache.size,keys:Array.from(this.moduleCache.keys())}}}hr(kn,"moduleCache",new Map);console.log("[GameModeFactory] Factory inicializado");const F1=()=>{const[s,r]=C.useState(!1),[o,l]=C.useState(null),[u,h]=C.useState(jd()),g=C.useCallback(()=>{h(jd())},[]),x=C.useCallback(async()=>{try{r(!0),l(null),kn.clearCache(),D1(),g(),console.log("[useGameModeLoader] Todas as versões alternadas")}catch(M){l(M instanceof Error?M.message:"Erro desconhecido"),console.error("[useGameModeLoader] Erro ao alternar versões:",M)}finally{r(!1)}},[g]),y=C.useCallback(async M=>{try{r(!0),l(null),kn.clearCache(),z1(M),g(),console.log(`[useGameModeLoader] Versão alternada para ${M}`)}catch(P){l(P instanceof Error?P.message:"Erro desconhecido"),console.error("[useGameModeLoader] Erro ao alternar módulo:",P)}finally{r(!1)}},[g]),w=C.useCallback(async M=>{try{r(!0),l(null),console.log(`[useGameModeLoader] Testando carregamento do modo ${M}`);const P=await kn.createMode(M);console.log(`[useGameModeLoader] Modo ${M} criado:`,P.mode);const j=await kn.createHook(M);console.log(`[useGameModeLoader] Hook ${M} criado`);const z=await kn.loadValidationUtils(M);console.log(`[useGameModeLoader] Utilitários de validação ${M} carregados`);const V=await kn.loadScoringUtils(M);return console.log(`[useGameModeLoader] Utilitários de pontuação ${M} carregados`),console.log(`[useGameModeLoader] Teste do modo ${M} concluído com sucesso`),{mode:P,hook:j,validation:z,scoring:V}}catch(P){const j=P instanceof Error?P.message:"Erro desconhecido";throw l(j),console.error(`[useGameModeLoader] Erro ao testar modo ${M}:`,P),P}finally{r(!1)}},[]),S=C.useCallback(async()=>{try{r(!0),l(null),console.log("[useGameModeLoader] Testando carregamento do hook principal");const M=await kn.createGameModeHook();return console.log("[useGameModeLoader] Hook principal criado com sucesso"),M}catch(M){const P=M instanceof Error?M.message:"Erro desconhecido";throw l(P),console.error("[useGameModeLoader] Erro ao testar hook principal:",M),M}finally{r(!1)}},[]),E=C.useCallback(()=>{try{kn.clearCache(),console.log("[useGameModeLoader] Cache limpo");const M=kn.getCacheStatus();console.log("[useGameModeLoader] Status do cache:",M)}catch(M){console.error("[useGameModeLoader] Erro ao limpar cache:",M)}},[]),T=C.useCallback(()=>kn.getCacheStatus(),[]);return C.useEffect(()=>{const M=setInterval(g,1e3);return()=>clearInterval(M)},[g]),{isLoading:s,error:o,moduleStatus:u,toggleAllVersions:x,toggleModule:y,testModeLoading:w,testGameModeHook:S,clearCache:E,getCacheStatus:T,updateModuleStatus:g}},B1=()=>{const{isLoading:s,error:r,moduleStatus:o,toggleAllVersions:l,toggleModule:u,testModeLoading:h,testGameModeHook:g,clearCache:x,getCacheStatus:y}=F1(),w=async P=>{try{console.log(`[GameModeLoaderTest] Testando modo ${P}`);const j=await h(P);console.log(`[GameModeLoaderTest] Resultado do teste ${P}:`,j),alert(`Modo ${P} testado com sucesso!`)}catch(j){console.error(`[GameModeLoaderTest] Erro no teste ${P}:`,j),alert(`Erro ao testar modo ${P}: ${j instanceof Error?j.message:"Erro desconhecido"}`)}},S=async()=>{try{console.log("[GameModeLoaderTest] Testando hook principal");const P=await g();console.log("[GameModeLoaderTest] Resultado do teste hook principal:",P),alert("Hook principal testado com sucesso!")}catch(P){console.error("[GameModeLoaderTest] Erro no teste hook principal:",P),alert(`Erro ao testar hook principal: ${P instanceof Error?P.message:"Erro desconhecido"}`)}},E=async()=>{try{console.log("[GameModeLoaderTest] Alternando todas as versões"),await l(),alert("Todas as versões alternadas!")}catch(P){console.error("[GameModeLoaderTest] Erro ao alternar versões:",P),alert(`Erro ao alternar versões: ${P instanceof Error?P.message:"Erro desconhecido"}`)}},T=async P=>{try{console.log(`[GameModeLoaderTest] Alternando módulo ${P}`),await u(P),alert(`Módulo ${P} alternado!`)}catch(j){console.error(`[GameModeLoaderTest] Erro ao alternar módulo ${P}:`,j),alert(`Erro ao alternar módulo ${P}: ${j instanceof Error?j.message:"Erro desconhecido"}`)}},M=()=>{try{x();const P=y();console.log("[GameModeLoaderTest] Cache limpo:",P),alert("Cache limpo com sucesso!")}catch(P){console.error("[GameModeLoaderTest] Erro ao limpar cache:",P),alert(`Erro ao limpar cache: ${P instanceof Error?P.message:"Erro desconhecido"}`)}};return f.jsxs("div",{className:"game-mode-loader-test",style:{padding:"20px",border:"2px solid #007bff",borderRadius:"8px",margin:"20px",backgroundColor:"#f8f9fa"},children:[f.jsx("h3",{style:{color:"#007bff",marginBottom:"20px"},children:"🧪 Teste do Sistema de Carregamento de Módulos"}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"📊 Status dos Módulos:"}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px"},children:[f.jsxs("div",{style:{padding:"10px",backgroundColor:o.global?"#d4edda":"#f8d7da",borderRadius:"4px"},children:[f.jsx("strong",{children:"Global:"})," ",o.global?"✅ Refatorado":"❌ Original"]}),f.jsxs("div",{style:{padding:"10px",backgroundColor:o.neighborhood?"#d4edda":"#f8d7da",borderRadius:"4px"},children:[f.jsx("strong",{children:"Bairros:"})," ",o.neighborhood?"✅ Refatorado":"❌ Original"]}),f.jsxs("div",{style:{padding:"10px",backgroundColor:o.famousPlaces?"#d4edda":"#f8d7da",borderRadius:"4px"},children:[f.jsx("strong",{children:"Lugares Famosos:"})," ",o.famousPlaces?"✅ Refatorado":"❌ Original"]}),f.jsxs("div",{style:{padding:"10px",backgroundColor:o.common?"#d4edda":"#f8d7da",borderRadius:"4px"},children:[f.jsx("strong",{children:"Comum:"})," ",o.common?"✅ Refatorado":"❌ Original"]}),f.jsxs("div",{style:{padding:"10px",backgroundColor:o.gameMode?"#d4edda":"#f8d7da",borderRadius:"4px"},children:[f.jsx("strong",{children:"Game Mode:"})," ",o.gameMode?"✅ Refatorado":"❌ Original"]})]})]}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"🎮 Controles Principais:"}),f.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[f.jsx("button",{onClick:E,disabled:s,style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer"},children:s?"⏳ Processando...":"🔄 Alternar Todas as Versões"}),f.jsx("button",{onClick:M,style:{padding:"10px 20px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"🗑️ Limpar Cache"})]})]}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"🧪 Testes de Módulos:"}),f.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[f.jsx("button",{onClick:()=>w("neighborhoods"),disabled:s,style:{padding:"10px 20px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer"},children:s?"⏳ Testando...":"🏘️ Testar Modo Bairros"}),f.jsx("button",{onClick:()=>w("famous_places"),disabled:s,style:{padding:"10px 20px",backgroundColor:"#ffc107",color:"black",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer"},children:s?"⏳ Testando...":"🏛️ Testar Modo Lugares Famosos"}),f.jsx("button",{onClick:S,disabled:s,style:{padding:"10px 20px",backgroundColor:"#17a2b8",color:"white",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer"},children:s?"⏳ Testando...":"🎯 Testar Hook Principal"})]})]}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"⚙️ Controles Individuais:"}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"10px"},children:[f.jsx("button",{onClick:()=>T("neighborhood"),style:{padding:"8px 16px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"🔄 Alternar Bairros"}),f.jsx("button",{onClick:()=>T("famousPlaces"),style:{padding:"8px 16px",backgroundColor:"#ffc107",color:"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:"🔄 Alternar Lugares Famosos"}),f.jsx("button",{onClick:()=>T("common"),style:{padding:"8px 16px",backgroundColor:"#6f42c1",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"🔄 Alternar Comum"}),f.jsx("button",{onClick:()=>T("useGameMode"),style:{padding:"8px 16px",backgroundColor:"#17a2b8",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"🔄 Alternar Game Mode"})]})]}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"💾 Status do Cache:"}),f.jsx("button",{onClick:()=>{const P=y();console.log("[GameModeLoaderTest] Status do cache:",P),alert(`Cache: ${P.size} módulos em cache
Chaves: ${P.keys.join(", ")}`)},style:{padding:"8px 16px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"📊 Ver Status do Cache"})]}),r&&f.jsxs("div",{style:{padding:"15px",backgroundColor:"#f8d7da",color:"#721c24",border:"1px solid #f5c6cb",borderRadius:"4px",marginTop:"20px"},children:[f.jsx("strong",{children:"❌ Erro:"})," ",r]}),f.jsxs("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#d1ecf1",color:"#0c5460",border:"1px solid #bee5eb",borderRadius:"4px"},children:[f.jsx("h5",{children:"📋 Instruções de Uso:"}),f.jsxs("ol",{style:{margin:"10px 0",paddingLeft:"20px"},children:[f.jsx("li",{children:'Use "Alternar Todas as Versões" para testar o sistema completo'}),f.jsx("li",{children:"Use os testes individuais para validar cada modo"}),f.jsx("li",{children:"Monitore o console para logs detalhados"}),f.jsx("li",{children:'Use "Limpar Cache" se houver problemas de carregamento'}),f.jsx("li",{children:"Verifique o status dos módulos para confirmar mudanças"})]})]})]})};var Gr=(s=>(s.NEIGHBORHOODS="neighborhoods",s.FAMOUS_PLACES="famous_places",s))(Gr||{});class U1{constructor(){hr(this,"listeners",new Map);hr(this,"eventHistory",[]);hr(this,"maxHistorySize",100);console.log("[GameEventSystem] Sistema de eventos inicializado")}emit(r){try{r.timestamp||(r.timestamp=Date.now()),this.addToHistory(r);const o=this.listeners.get(r.type);o&&o.forEach(l=>{try{l(r)}catch(u){console.error(`[GameEventSystem] Erro no callback do evento ${r.type}:`,u)}}),console.log("[GameEventSystem] Evento emitido:",{type:r.type,mode:r.mode,timestamp:new Date(r.timestamp).toISOString(),data:r.data})}catch(o){console.error("[GameEventSystem] Erro ao emitir evento:",o)}}on(r,o){try{this.listeners.has(r)||this.listeners.set(r,new Set),this.listeners.get(r).add(o),console.log(`[GameEventSystem] Listener adicionado para evento ${r}`)}catch(l){console.error(`[GameEventSystem] Erro ao adicionar listener para ${r}:`,l)}}off(r,o){try{const l=this.listeners.get(r);l&&(l.delete(o),l.size===0&&this.listeners.delete(r),console.log(`[GameEventSystem] Listener removido para evento ${r}`))}catch(l){console.error(`[GameEventSystem] Erro ao remover listener para ${r}:`,l)}}clear(){try{this.listeners.clear(),this.eventHistory=[],console.log("[GameEventSystem] Todos os listeners e histórico limpos")}catch(r){console.error("[GameEventSystem] Erro ao limpar sistema:",r)}}addToHistory(r){this.eventHistory.push(r),this.eventHistory.length>this.maxHistorySize&&(this.eventHistory=this.eventHistory.slice(-this.maxHistorySize))}getEventHistory(){return[...this.eventHistory]}getEventsByType(r){return this.eventHistory.filter(o=>o.type===r)}getEventsByMode(r){return this.eventHistory.filter(o=>o.mode===r)}getStats(){return{totalListeners:Array.from(this.listeners.values()).reduce((o,l)=>o+l.size,0),eventTypes:Array.from(this.listeners.keys()),totalEvents:this.eventHistory.length,recentEvents:this.eventHistory.slice(-10).length}}emitGameStart(r,o={}){this.emit({type:"gameStart",mode:r,data:o,timestamp:Date.now()})}emitGamePause(r,o={}){this.emit({type:"gamePause",mode:r,data:o,timestamp:Date.now()})}emitGameResume(r,o={}){this.emit({type:"gameResume",mode:r,data:o,timestamp:Date.now()})}emitGameEnd(r,o={}){this.emit({type:"gameEnd",mode:r,data:o,timestamp:Date.now()})}emitRoundComplete(r,o={}){this.emit({type:"roundComplete",mode:r,data:o,timestamp:Date.now()})}emitScoreUpdate(r,o={}){this.emit({type:"scoreUpdate",mode:r,data:o,timestamp:Date.now()})}emitFeedback(r,o={}){this.emit({type:"feedback",mode:r,data:o,timestamp:Date.now()})}hasListeners(r){const o=this.listeners.get(r);return o?o.size>0:!1}getListenerCount(r){const o=this.listeners.get(r);return o?o.size:0}destroy(){try{this.clear(),console.log("[GameEventSystem] Sistema destruído")}catch(r){console.error("[GameEventSystem] Erro ao destruir sistema:",r)}}}const Mm=new U1;console.log("[GameEventSystem] Instância singleton criada");class $1{constructor(r){hr(this,"config");hr(this,"activeMode");hr(this,"neighborhoodHook",null);hr(this,"famousPlacesHook",null);hr(this,"eventSystem",Mm);this.config=r,this.activeMode=r.mode,console.log("[GameModeManager] Gerenciador inicializado com configuração:",{mode:this.activeMode,hasNeighborhoodConfig:!!r.neighborhood,hasFamousPlacesConfig:!!r.famousPlaces})}async initialize(){try{console.log("[GameModeManager] Inicializando gerenciador..."),await this.loadAllHooks(),this.setupEventListeners(),console.log("[GameModeManager] Gerenciador inicializado com sucesso")}catch(r){throw console.error("[GameModeManager] Erro na inicialização:",r),r}}async loadAllHooks(){try{this.config.neighborhood&&(this.neighborhoodHook=await kn.createHook("neighborhoods",this.config.neighborhood),console.log("[GameModeManager] Hook de bairros carregado")),this.config.famousPlaces&&(this.famousPlacesHook=await kn.createHook("famous_places",this.config.famousPlaces),console.log("[GameModeManager] Hook de lugares famosos carregado"))}catch(r){throw console.error("[GameModeManager] Erro ao carregar hooks:",r),r}}setupEventListeners(){this.eventSystem.on("gameStart",r=>{console.log(`[GameModeManager] Jogo iniciado no modo ${r.mode}`)}),this.eventSystem.on("gameEnd",r=>{console.log(`[GameModeManager] Jogo finalizado no modo ${r.mode}`)}),this.eventSystem.on("roundComplete",r=>{console.log(`[GameModeManager] Rodada completada no modo ${r.mode}`)}),this.eventSystem.on("scoreUpdate",r=>{console.log(`[GameModeManager] Pontuação atualizada no modo ${r.mode}:`,r.data)}),this.eventSystem.on("feedback",r=>{console.log(`[GameModeManager] Feedback recebido no modo ${r.mode}:`,r.data)})}async switchMode(r){try{console.log(`[GameModeManager] Trocando para modo ${r}`),this.activeMode!==r&&await this.pauseCurrentMode(),this.activeMode=r,this.eventSystem.emit({type:"gameStart",mode:r,data:{previousMode:this.activeMode},timestamp:Date.now()}),console.log(`[GameModeManager] Modo alterado para ${r}`)}catch(o){throw console.error(`[GameModeManager] Erro ao trocar para modo ${r}:`,o),o}}getActiveHook(){switch(this.activeMode){case Gr.NEIGHBORHOODS:return this.neighborhoodHook;case Gr.FAMOUS_PLACES:return this.famousPlacesHook;default:return console.warn(`[GameModeManager] Modo desconhecido: ${this.activeMode}`),null}}getModeStats(){try{const r=this.getActiveHook();if(!r)return console.warn("[GameModeManager] Nenhum hook ativo para obter estatísticas"),null;const o=r.getCurrentState(),l={mode:this.activeMode,score:o.score||0,roundNumber:o.roundNumber||1,totalRounds:o.totalRounds||10,isActive:o.isActive||!1};if(this.activeMode===Gr.NEIGHBORHOODS&&this.neighborhoodHook){const u=this.neighborhoodHook.getCurrentState();l.neighborhoodStats={currentNeighborhood:u.currentNeighborhood||"",revealedNeighborhoods:u.revealedNeighborhoods||new Set}}else if(this.activeMode===Gr.FAMOUS_PLACES&&this.famousPlacesHook){const u=this.famousPlacesHook.getCurrentState();l.famousPlacesStats={currentPlace:u.currentPlace||null,roundPlaces:u.roundPlaces||[],usedPlaces:u.usedPlaces||new Set}}return l}catch(r){return console.error("[GameModeManager] Erro ao obter estatísticas:",r),null}}async pauseCurrentMode(){try{const r=this.getActiveHook();r&&(r.pauseGame(),this.eventSystem.emitGamePause(this.activeMode),console.log(`[GameModeManager] Modo ${this.activeMode} pausado`))}catch(r){console.error("[GameModeManager] Erro ao pausar modo atual:",r)}}async resumeCurrentMode(){try{const r=this.getActiveHook();r&&(r.resumeGame(),this.eventSystem.emitGameResume(this.activeMode),console.log(`[GameModeManager] Modo ${this.activeMode} retomado`))}catch(r){console.error("[GameModeManager] Erro ao retomar modo atual:",r)}}async endCurrentMode(){try{const r=this.getActiveHook();r&&(r.endGame(),this.eventSystem.emitGameEnd(this.activeMode),console.log(`[GameModeManager] Modo ${this.activeMode} finalizado`))}catch(r){console.error("[GameModeManager] Erro ao finalizar modo atual:",r)}}async executeAction(r,o={}){try{const l=this.getActiveHook();if(!l)throw new Error(`Nenhum hook ativo para executar ação ${r}`);switch(console.log(`[GameModeManager] Executando ação ${r} no modo ${this.activeMode}`),r){case"startGame":l.startGame(),this.eventSystem.emitGameStart(this.activeMode,o);break;case"pauseGame":l.pauseGame(),this.eventSystem.emitGamePause(this.activeMode,o);break;case"resumeGame":l.resumeGame(),this.eventSystem.emitGameResume(this.activeMode,o);break;case"endGame":l.endGame(),this.eventSystem.emitGameEnd(this.activeMode,o);break;case"handleMapClick":l.handleMapClick(o.latlng);break;case"updateTimer":l.updateTimer(o.timeLeft);break;case"startNewRound":l.startNewRound();break;case"selectRandomTarget":l.selectRandomTarget();break;default:throw new Error(`Ação desconhecida: ${r}`)}return{success:!0,action:r,mode:this.activeMode}}catch(l){throw console.error(`[GameModeManager] Erro ao executar ação ${r}:`,l),l}}getDebugInfo(){var r;return{activeMode:this.activeMode,config:this.config,hooks:{neighborhood:!!this.neighborhoodHook,famousPlaces:!!this.famousPlacesHook},eventSystem:this.eventSystem.getStats(),activeHookState:((r=this.getActiveHook())==null?void 0:r.getCurrentState())||null}}cleanup(){try{console.log("[GameModeManager] Limpando recursos..."),this.endCurrentMode(),this.eventSystem.clear(),this.neighborhoodHook=null,this.famousPlacesHook=null,console.log("[GameModeManager] Recursos limpos")}catch(r){console.error("[GameModeManager] Erro na limpeza:",r)}}destroy(){try{this.cleanup(),console.log("[GameModeManager] Gerenciador destruído")}catch(r){console.error("[GameModeManager] Erro ao destruir gerenciador:",r)}}}const G1=new $1({mode:Gr.NEIGHBORHOODS,neighborhood:{roundTime:10,maxRounds:10,autoAdvance:!0,showDistanceCircle:!0,showArrow:!0,soundEffects:!0,perfectScoreThreshold:3e3,timeBonusThreshold:2,distancePenaltyFactor:10},famousPlaces:{roundTime:15,maxRounds:10,autoAdvance:!1,showDistanceCircle:!0,showArrow:!0,soundEffects:!0,distanceThreshold:100,precisionBonusThreshold:100,timeBonusThreshold:5,maxPlacesPerRound:5}});console.log("[GameModeManager] Instância singleton criada");const H1=()=>{const[s,r]=C.useState(!0),[o,l]=C.useState(null),[u,h]=C.useState(Gr.NEIGHBORHOODS),[g,x]=C.useState(null),[y,w]=C.useState(!1),S=C.useRef(G1),E=C.useRef(Mm);C.useEffect(()=>((async()=>{try{r(!0),l(null),console.log("[useUnifiedGameMode] Inicializando gerenciador..."),await S.current.initialize(),T(),M(),r(!1),console.log("[useUnifiedGameMode] Gerenciador inicializado com sucesso")}catch(me){const fe=me instanceof Error?me.message:"Erro desconhecido";l(fe),r(!1),console.error("[useUnifiedGameMode] Erro na inicialização:",fe)}})(),()=>{console.log("[useUnifiedGameMode] Cleanup do hook")}),[]);const T=C.useCallback(()=>{const ue=E.current;ue.on("gameStart",me=>{console.log("[useUnifiedGameMode] Jogo iniciado:",me),w(!0),M()}),ue.on("gameEnd",me=>{console.log("[useUnifiedGameMode] Jogo finalizado:",me),w(!1),M()}),ue.on("gamePause",me=>{console.log("[useUnifiedGameMode] Jogo pausado:",me),w(!1)}),ue.on("gameResume",me=>{console.log("[useUnifiedGameMode] Jogo retomado:",me),w(!0)}),ue.on("roundComplete",me=>{console.log("[useUnifiedGameMode] Rodada completada:",me),M()}),ue.on("scoreUpdate",me=>{console.log("[useUnifiedGameMode] Pontuação atualizada:",me),M()}),ue.on("feedback",me=>{console.log("[useUnifiedGameMode] Feedback recebido:",me)})},[]),M=C.useCallback(async()=>{try{const ue=S.current.getModeStats();x(ue),ue&&(h(ue.mode),w(ue.isActive))}catch(ue){console.error("[useUnifiedGameMode] Erro ao atualizar estatísticas:",ue)}},[]),P=C.useCallback(async ue=>{try{r(!0),l(null),console.log(`[useUnifiedGameMode] Trocando para modo ${ue}`),await S.current.switchMode(ue),M(),console.log(`[useUnifiedGameMode] Modo alterado para ${ue}`)}catch(me){const fe=me instanceof Error?me.message:"Erro desconhecido";l(fe),console.error(`[useUnifiedGameMode] Erro ao trocar para modo ${ue}:`,fe)}finally{r(!1)}},[M]),j=C.useCallback(async(ue,me={})=>{try{console.log(`[useUnifiedGameMode] Executando ação ${ue}`);const fe=await S.current.executeAction(ue,me);return M(),fe}catch(fe){const Le=fe instanceof Error?fe.message:"Erro desconhecido";throw l(Le),console.error(`[useUnifiedGameMode] Erro ao executar ação ${ue}:`,Le),fe}},[M]),z=C.useCallback(async()=>j("startGame"),[j]),V=C.useCallback(async()=>j("pauseGame"),[j]),J=C.useCallback(async()=>j("resumeGame"),[j]),Z=C.useCallback(async()=>j("endGame"),[j]),te=C.useCallback(async ue=>j("handleMapClick",{latlng:ue}),[j]),he=C.useCallback(async ue=>j("updateTimer",{timeLeft:ue}),[j]),le=C.useCallback(async()=>j("startNewRound"),[j]),K=C.useCallback(async()=>j("selectRandomTarget"),[j]),ge=C.useCallback(()=>S.current.getDebugInfo(),[]),ne=C.useCallback(()=>{try{console.log("[useUnifiedGameMode] Limpando recursos..."),S.current.cleanup()}catch(ue){console.error("[useUnifiedGameMode] Erro na limpeza:",ue)}},[]),_e=C.useCallback(()=>E.current.getStats(),[]),ke=C.useCallback(()=>E.current.getEventHistory(),[]),ie=C.useCallback(ue=>E.current.getEventsByType(ue),[]),Ae=C.useCallback(ue=>E.current.getEventsByMode(ue),[]);return{isLoading:s,error:o,activeMode:u,gameStats:g,isGameActive:y,switchMode:P,startGame:z,pauseGame:V,resumeGame:J,endGame:Z,handleMapClick:te,updateTimer:he,startNewRound:le,selectRandomTarget:K,getDebugInfo:ge,getEventSystemStats:_e,getEventHistory:ke,getEventsByType:ie,getEventsByMode:Ae,cleanup:ne,updateGameStats:M}},W1=()=>{const{isLoading:s,error:r,activeMode:o,gameStats:l,isGameActive:u,switchMode:h,startGame:g,pauseGame:x,resumeGame:y,endGame:w,handleMapClick:S,updateTimer:E,startNewRound:T,selectRandomTarget:M,getDebugInfo:P,getEventSystemStats:j,getEventHistory:z,getEventsByType:V,getEventsByMode:J,cleanup:Z}=H1(),[te,he]=C.useState(null),[le,K]=C.useState(null),[ge,ne]=C.useState([]),[_e,ke]=C.useState("all"),[ie,Ae]=C.useState("all"),ue=async A=>{try{await h(A)}catch(W){console.error("Erro ao trocar modo:",W)}},me=async(A,W={})=>{try{let $;switch(A){case"startGame":$=await g();break;case"pauseGame":$=await x();break;case"resumeGame":$=await y();break;case"endGame":$=await w();break;case"handleMapClick":$=await S({lat:-23.9618,lng:-46.3322});break;case"updateTimer":$=await E(10);break;case"startNewRound":$=await T();break;case"selectRandomTarget":$=await M();break;default:console.warn("Ação desconhecida:",A);return}console.log(`Ação ${A} executada:`,$)}catch($){console.error(`Erro ao executar ação ${A}:`,$)}},fe=()=>{const A=P();he(A),console.log("Debug info:",A)},Le=()=>{const A=j();K(A),console.log("Event stats:",A)},B=()=>{const A=z();ne(A),console.log("Event history:",A)},oe=()=>{if(_e==="all")B();else{const A=V(_e);ne(A),console.log(`Events by type ${_e}:`,A)}},q=()=>{if(ie==="all")B();else{const A=J(ie);ne(A),console.log(`Events by mode ${ie}:`,A)}};return f.jsxs("div",{className:"unified-game-mode-test",style:{padding:"20px",border:"2px solid #28a745",borderRadius:"8px",margin:"20px",backgroundColor:"#f8f9fa"},children:[f.jsx("h3",{style:{color:"#28a745",marginBottom:"20px"},children:"🎮 Teste do Sistema Unificado de Modos"}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"📊 Status do Sistema:"}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px"},children:[f.jsxs("div",{style:{padding:"10px",backgroundColor:s?"#fff3cd":"#d4edda",borderRadius:"4px"},children:[f.jsx("strong",{children:"Carregando:"})," ",s?"⏳ Sim":"✅ Não"]}),f.jsxs("div",{style:{padding:"10px",backgroundColor:r?"#f8d7da":"#d4edda",borderRadius:"4px"},children:[f.jsx("strong",{children:"Erro:"})," ",r?`❌ ${r}`:"✅ Nenhum"]}),f.jsxs("div",{style:{padding:"10px",backgroundColor:u?"#d4edda":"#f8d7da",borderRadius:"4px"},children:[f.jsx("strong",{children:"Jogo Ativo:"})," ",u?"✅ Sim":"❌ Não"]}),f.jsxs("div",{style:{padding:"10px",backgroundColor:"#e2e3e5",borderRadius:"4px"},children:[f.jsx("strong",{children:"Modo Ativo:"})," ",o]})]})]}),l&&f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"🎯 Estatísticas do Jogo:"}),f.jsx("div",{style:{padding:"15px",backgroundColor:"#e2e3e5",borderRadius:"4px"},children:f.jsx("pre",{style:{margin:0,fontSize:"12px"},children:JSON.stringify(l,null,2)})})]}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"🔄 Controles de Modo:"}),f.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[f.jsx("button",{onClick:()=>ue(Gr.NEIGHBORHOODS),disabled:s,style:{padding:"10px 20px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer"},children:"🏘️ Modo Bairros"}),f.jsx("button",{onClick:()=>ue(Gr.FAMOUS_PLACES),disabled:s,style:{padding:"10px 20px",backgroundColor:"#ffc107",color:"black",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer"},children:"🏛️ Modo Lugares Famosos"})]})]}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"🎮 Controles de Jogo:"}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"10px"},children:[f.jsx("button",{onClick:()=>me("startGame"),disabled:s||u,style:{padding:"8px 16px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:s||u?"not-allowed":"pointer"},children:"▶️ Iniciar"}),f.jsx("button",{onClick:()=>me("pauseGame"),disabled:s||!u,style:{padding:"8px 16px",backgroundColor:"#ffc107",color:"black",border:"none",borderRadius:"4px",cursor:s||!u?"not-allowed":"pointer"},children:"⏸️ Pausar"}),f.jsx("button",{onClick:()=>me("resumeGame"),disabled:s||u,style:{padding:"8px 16px",backgroundColor:"#17a2b8",color:"white",border:"none",borderRadius:"4px",cursor:s||u?"not-allowed":"pointer"},children:"▶️ Retomar"}),f.jsx("button",{onClick:()=>me("endGame"),disabled:s||!u,style:{padding:"8px 16px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:s||!u?"not-allowed":"pointer"},children:"⏹️ Finalizar"})]})]}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"🎯 Ações de Jogo:"}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"10px"},children:[f.jsx("button",{onClick:()=>me("handleMapClick"),disabled:s,style:{padding:"8px 16px",backgroundColor:"#6f42c1",color:"white",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer"},children:"🖱️ Clique no Mapa"}),f.jsx("button",{onClick:()=>me("updateTimer"),disabled:s,style:{padding:"8px 16px",backgroundColor:"#fd7e14",color:"white",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer"},children:"⏰ Atualizar Timer"}),f.jsx("button",{onClick:()=>me("startNewRound"),disabled:s,style:{padding:"8px 16px",backgroundColor:"#20c997",color:"white",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer"},children:"🔄 Nova Rodada"}),f.jsx("button",{onClick:()=>me("selectRandomTarget"),disabled:s,style:{padding:"8px 16px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer"},children:"🎯 Alvo Aleatório"})]})]}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"🐛 Informações de Debug:"}),f.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[f.jsx("button",{onClick:fe,style:{padding:"8px 16px",backgroundColor:"#6f42c1",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"📊 Debug Info"}),f.jsx("button",{onClick:Le,style:{padding:"8px 16px",backgroundColor:"#17a2b8",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"📈 Event Stats"}),f.jsx("button",{onClick:B,style:{padding:"8px 16px",backgroundColor:"#20c997",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"📜 Event History"}),f.jsx("button",{onClick:Z,style:{padding:"8px 16px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"🗑️ Cleanup"})]})]}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"🔍 Filtros de Eventos:"}),f.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",flexWrap:"wrap"},children:[f.jsxs("label",{children:["Tipo de Evento:",f.jsxs("select",{value:_e,onChange:A=>ke(A.target.value),style:{marginLeft:"5px",padding:"5px"},children:[f.jsx("option",{value:"all",children:"Todos"}),f.jsx("option",{value:"gameStart",children:"Início de Jogo"}),f.jsx("option",{value:"gameEnd",children:"Fim de Jogo"}),f.jsx("option",{value:"gamePause",children:"Pausa"}),f.jsx("option",{value:"gameResume",children:"Retomada"}),f.jsx("option",{value:"roundComplete",children:"Rodada Completa"}),f.jsx("option",{value:"scoreUpdate",children:"Atualização de Pontuação"}),f.jsx("option",{value:"feedback",children:"Feedback"})]})]}),f.jsx("button",{onClick:oe,style:{padding:"8px 16px",backgroundColor:"#6f42c1",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"🔍 Filtrar por Tipo"}),f.jsxs("label",{children:["Modo:",f.jsxs("select",{value:ie,onChange:A=>Ae(A.target.value),style:{marginLeft:"5px",padding:"5px"},children:[f.jsx("option",{value:"all",children:"Todos"}),f.jsx("option",{value:"neighborhoods",children:"Bairros"}),f.jsx("option",{value:"famous_places",children:"Lugares Famosos"})]})]}),f.jsx("button",{onClick:q,style:{padding:"8px 16px",backgroundColor:"#17a2b8",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"🔍 Filtrar por Modo"})]})]}),te&&f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"🐛 Debug Info:"}),f.jsx("div",{style:{padding:"15px",backgroundColor:"#e2e3e5",borderRadius:"4px"},children:f.jsx("pre",{style:{margin:0,fontSize:"12px"},children:JSON.stringify(te,null,2)})})]}),le&&f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"📈 Event Stats:"}),f.jsx("div",{style:{padding:"15px",backgroundColor:"#e2e3e5",borderRadius:"4px"},children:f.jsx("pre",{style:{margin:0,fontSize:"12px"},children:JSON.stringify(le,null,2)})})]}),ge.length>0&&f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"📜 Event History:"}),f.jsx("div",{style:{padding:"15px",backgroundColor:"#e2e3e5",borderRadius:"4px",maxHeight:"300px",overflow:"auto"},children:ge.map((A,W)=>f.jsxs("div",{style:{marginBottom:"10px",padding:"10px",backgroundColor:"white",borderRadius:"4px"},children:[f.jsx("strong",{children:A.type})," - ",A.mode," - ",new Date(A.timestamp).toLocaleTimeString(),f.jsx("pre",{style:{margin:"5px 0 0 0",fontSize:"10px"},children:JSON.stringify(A.data,null,2)})]},W))})]}),r&&f.jsxs("div",{style:{padding:"15px",backgroundColor:"#f8d7da",color:"#721c24",border:"1px solid #f5c6cb",borderRadius:"4px",marginTop:"20px"},children:[f.jsx("strong",{children:"❌ Erro:"})," ",r]}),f.jsxs("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#d1ecf1",color:"#0c5460",border:"1px solid #bee5eb",borderRadius:"4px"},children:[f.jsx("h5",{children:"📋 Instruções de Uso:"}),f.jsxs("ol",{style:{margin:"10px 0",paddingLeft:"20px"},children:[f.jsx("li",{children:"Use os controles de modo para alternar entre Bairros e Lugares Famosos"}),f.jsx("li",{children:"Use os controles de jogo para gerenciar o estado do jogo"}),f.jsx("li",{children:"Use as ações de jogo para simular interações do usuário"}),f.jsx("li",{children:"Monitore o console para logs detalhados"}),f.jsx("li",{children:"Use as informações de debug para análise do sistema"})]})]})]})};function Z1(){return f.jsx(Nv,{basename:"/geosantos",children:f.jsxs(fv,{children:[f.jsx(Mo,{path:"/admin/famous-places",element:f.jsx(p_,{})}),f.jsx(Mo,{path:"/lugares-famosos",element:f.jsx(A1,{})}),f.jsx(Mo,{path:"/teste-sprites",element:f.jsx(O1,{})}),f.jsx(Mo,{path:"/debug-sprites",element:f.jsx(I1,{})}),f.jsx(Mo,{path:"/teste-carregamento",element:f.jsx(B1,{})}),f.jsx(Mo,{path:"/teste-unificado",element:f.jsx(W1,{})}),f.jsx(Mo,{path:"/",element:f.jsx("div",{style:{margin:0,padding:0,width:"100vw",height:"100vh",overflow:"hidden"},children:f.jsx(R1,{center:[-23.9618,-46.3322],zoom:13})})})]})})}Sg.createRoot(document.getElementById("root")).render(f.jsx(C.StrictMode,{children:f.jsx(Z1,{})}));
//# sourceMappingURL=index-CJwh6xYw.js.map
