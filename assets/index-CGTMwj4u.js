var mg=Object.defineProperty;var gg=(s,r,o)=>r in s?mg(s,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[r]=o;var pr=(s,r,o)=>gg(s,typeof r!="symbol"?r+"":r,o);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&l(g)}).observe(document,{childList:!0,subtree:!0});function o(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(u){if(u.ep)return;u.ep=!0;const h=o(u);fetch(u.href,h)}})();function Id(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function vg(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var r=s.default;if(typeof r=="function"){var o=function l(){return this instanceof l?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};o.prototype=r.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(s).forEach(function(l){var u=Object.getOwnPropertyDescriptor(s,l);Object.defineProperty(o,l,u.get?u:{enumerable:!0,get:function(){return s[l]}})}),o}var Qc={exports:{}},Ea={},Xc={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mf;function yg(){if(Mf)return Ue;Mf=1;var s=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),g=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),E=Symbol.iterator;function M(j){return j===null||typeof j!="object"?null:(j=E&&j[E]||j["@@iterator"],typeof j=="function"?j:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,R={};function z(j,B,se){this.props=j,this.context=B,this.refs=R,this.updater=se||T}z.prototype.isReactComponent={},z.prototype.setState=function(j,B){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,B,"setState")},z.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function V(){}V.prototype=z.prototype;function Y(j,B,se){this.props=j,this.context=B,this.refs=R,this.updater=se||T}var G=Y.prototype=new V;G.constructor=Y,P(G,z.prototype),G.isPureReactComponent=!0;var ee=Array.isArray,oe=Object.prototype.hasOwnProperty,ae={current:null},ge={key:!0,ref:!0,__self:!0,__source:!0};function q(j,B,se){var U,ue={},de=null,Me=null;if(B!=null)for(U in B.ref!==void 0&&(Me=B.ref),B.key!==void 0&&(de=""+B.key),B)oe.call(B,U)&&!ge.hasOwnProperty(U)&&(ue[U]=B[U]);var Ee=arguments.length-2;if(Ee===1)ue.children=se;else if(1<Ee){for(var Ie=Array(Ee),Ge=0;Ge<Ee;Ge++)Ie[Ge]=arguments[Ge+2];ue.children=Ie}if(j&&j.defaultProps)for(U in Ee=j.defaultProps,Ee)ue[U]===void 0&&(ue[U]=Ee[U]);return{$$typeof:s,type:j,key:de,ref:Me,props:ue,_owner:ae.current}}function J(j,B){return{$$typeof:s,type:j.type,key:B,ref:j.ref,props:j.props,_owner:j._owner}}function xe(j){return typeof j=="object"&&j!==null&&j.$$typeof===s}function ve(j){var B={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(se){return B[se]})}var ne=/\/+/g;function je(j,B){return typeof j=="object"&&j!==null&&j.key!=null?ve(""+j.key):B.toString(36)}function ce(j,B,se,U,ue){var de=typeof j;(de==="undefined"||de==="boolean")&&(j=null);var Me=!1;if(j===null)Me=!0;else switch(de){case"string":case"number":Me=!0;break;case"object":switch(j.$$typeof){case s:case r:Me=!0}}if(Me)return Me=j,ue=ue(Me),j=U===""?"."+je(Me,0):U,ee(ue)?(se="",j!=null&&(se=j.replace(ne,"$&/")+"/"),ce(ue,B,se,"",function(Ge){return Ge})):ue!=null&&(xe(ue)&&(ue=J(ue,se+(!ue.key||Me&&Me.key===ue.key?"":(""+ue.key).replace(ne,"$&/")+"/")+j)),B.push(ue)),1;if(Me=0,U=U===""?".":U+":",ee(j))for(var Ee=0;Ee<j.length;Ee++){de=j[Ee];var Ie=U+je(de,Ee);Me+=ce(de,B,se,Ie,ue)}else if(Ie=M(j),typeof Ie=="function")for(j=Ie.call(j),Ee=0;!(de=j.next()).done;)de=de.value,Ie=U+je(de,Ee++),Me+=ce(de,B,se,Ie,ue);else if(de==="object")throw B=String(j),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return Me}function he(j,B,se){if(j==null)return j;var U=[],ue=0;return ce(j,U,"","",function(de){return B.call(se,de,ue++)}),U}function fe(j){if(j._status===-1){var B=j._result;B=B(),B.then(function(se){(j._status===0||j._status===-1)&&(j._status=1,j._result=se)},function(se){(j._status===0||j._status===-1)&&(j._status=2,j._result=se)}),j._status===-1&&(j._status=0,j._result=B)}if(j._status===1)return j._result.default;throw j._result}var Ce={current:null},Z={transition:null},le={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:Z,ReactCurrentOwner:ae};function K(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:he,forEach:function(j,B,se){he(j,function(){B.apply(this,arguments)},se)},count:function(j){var B=0;return he(j,function(){B++}),B},toArray:function(j){return he(j,function(B){return B})||[]},only:function(j){if(!xe(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Ue.Component=z,Ue.Fragment=o,Ue.Profiler=u,Ue.PureComponent=Y,Ue.StrictMode=l,Ue.Suspense=y,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Ue.act=K,Ue.cloneElement=function(j,B,se){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var U=P({},j.props),ue=j.key,de=j.ref,Me=j._owner;if(B!=null){if(B.ref!==void 0&&(de=B.ref,Me=ae.current),B.key!==void 0&&(ue=""+B.key),j.type&&j.type.defaultProps)var Ee=j.type.defaultProps;for(Ie in B)oe.call(B,Ie)&&!ge.hasOwnProperty(Ie)&&(U[Ie]=B[Ie]===void 0&&Ee!==void 0?Ee[Ie]:B[Ie])}var Ie=arguments.length-2;if(Ie===1)U.children=se;else if(1<Ie){Ee=Array(Ie);for(var Ge=0;Ge<Ie;Ge++)Ee[Ge]=arguments[Ge+2];U.children=Ee}return{$$typeof:s,type:j.type,key:ue,ref:de,props:U,_owner:Me}},Ue.createContext=function(j){return j={$$typeof:g,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:h,_context:j},j.Consumer=j},Ue.createElement=q,Ue.createFactory=function(j){var B=q.bind(null,j);return B.type=j,B},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(j){return{$$typeof:x,render:j}},Ue.isValidElement=xe,Ue.lazy=function(j){return{$$typeof:b,_payload:{_status:-1,_result:j},_init:fe}},Ue.memo=function(j,B){return{$$typeof:w,type:j,compare:B===void 0?null:B}},Ue.startTransition=function(j){var B=Z.transition;Z.transition={};try{j()}finally{Z.transition=B}},Ue.unstable_act=K,Ue.useCallback=function(j,B){return Ce.current.useCallback(j,B)},Ue.useContext=function(j){return Ce.current.useContext(j)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(j){return Ce.current.useDeferredValue(j)},Ue.useEffect=function(j,B){return Ce.current.useEffect(j,B)},Ue.useId=function(){return Ce.current.useId()},Ue.useImperativeHandle=function(j,B,se){return Ce.current.useImperativeHandle(j,B,se)},Ue.useInsertionEffect=function(j,B){return Ce.current.useInsertionEffect(j,B)},Ue.useLayoutEffect=function(j,B){return Ce.current.useLayoutEffect(j,B)},Ue.useMemo=function(j,B){return Ce.current.useMemo(j,B)},Ue.useReducer=function(j,B,se){return Ce.current.useReducer(j,B,se)},Ue.useRef=function(j){return Ce.current.useRef(j)},Ue.useState=function(j){return Ce.current.useState(j)},Ue.useSyncExternalStore=function(j,B,se){return Ce.current.useSyncExternalStore(j,B,se)},Ue.useTransition=function(){return Ce.current.useTransition()},Ue.version="18.3.1",Ue}var jf;function Nd(){return jf||(jf=1,Xc.exports=yg()),Xc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rf;function _g(){if(Rf)return Ea;Rf=1;var s=Nd(),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,u=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h={key:!0,ref:!0,__self:!0,__source:!0};function g(x,y,w){var b,E={},M=null,T=null;w!==void 0&&(M=""+w),y.key!==void 0&&(M=""+y.key),y.ref!==void 0&&(T=y.ref);for(b in y)l.call(y,b)&&!h.hasOwnProperty(b)&&(E[b]=y[b]);if(x&&x.defaultProps)for(b in y=x.defaultProps,y)E[b]===void 0&&(E[b]=y[b]);return{$$typeof:r,type:x,key:M,ref:T,props:E,_owner:u.current}}return Ea.Fragment=o,Ea.jsx=g,Ea.jsxs=g,Ea}var Of;function xg(){return Of||(Of=1,Qc.exports=_g()),Qc.exports}var f=xg(),k=Nd();const mi=Id(k);var lu={},ed={exports:{}},cn={},td={exports:{}},nd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Af;function wg(){return Af||(Af=1,function(s){function r(Z,le){var K=Z.length;Z.push(le);e:for(;0<K;){var j=K-1>>>1,B=Z[j];if(0<u(B,le))Z[j]=le,Z[K]=B,K=j;else break e}}function o(Z){return Z.length===0?null:Z[0]}function l(Z){if(Z.length===0)return null;var le=Z[0],K=Z.pop();if(K!==le){Z[0]=K;e:for(var j=0,B=Z.length,se=B>>>1;j<se;){var U=2*(j+1)-1,ue=Z[U],de=U+1,Me=Z[de];if(0>u(ue,K))de<B&&0>u(Me,ue)?(Z[j]=Me,Z[de]=K,j=de):(Z[j]=ue,Z[U]=K,j=U);else if(de<B&&0>u(Me,K))Z[j]=Me,Z[de]=K,j=de;else break e}}return le}function u(Z,le){var K=Z.sortIndex-le.sortIndex;return K!==0?K:Z.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var g=Date,x=g.now();s.unstable_now=function(){return g.now()-x}}var y=[],w=[],b=1,E=null,M=3,T=!1,P=!1,R=!1,z=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(Z){for(var le=o(w);le!==null;){if(le.callback===null)l(w);else if(le.startTime<=Z)l(w),le.sortIndex=le.expirationTime,r(y,le);else break;le=o(w)}}function ee(Z){if(R=!1,G(Z),!P)if(o(y)!==null)P=!0,fe(oe);else{var le=o(w);le!==null&&Ce(ee,le.startTime-Z)}}function oe(Z,le){P=!1,R&&(R=!1,V(q),q=-1),T=!0;var K=M;try{for(G(le),E=o(y);E!==null&&(!(E.expirationTime>le)||Z&&!ve());){var j=E.callback;if(typeof j=="function"){E.callback=null,M=E.priorityLevel;var B=j(E.expirationTime<=le);le=s.unstable_now(),typeof B=="function"?E.callback=B:E===o(y)&&l(y),G(le)}else l(y);E=o(y)}if(E!==null)var se=!0;else{var U=o(w);U!==null&&Ce(ee,U.startTime-le),se=!1}return se}finally{E=null,M=K,T=!1}}var ae=!1,ge=null,q=-1,J=5,xe=-1;function ve(){return!(s.unstable_now()-xe<J)}function ne(){if(ge!==null){var Z=s.unstable_now();xe=Z;var le=!0;try{le=ge(!0,Z)}finally{le?je():(ae=!1,ge=null)}}else ae=!1}var je;if(typeof Y=="function")je=function(){Y(ne)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,he=ce.port2;ce.port1.onmessage=ne,je=function(){he.postMessage(null)}}else je=function(){z(ne,0)};function fe(Z){ge=Z,ae||(ae=!0,je())}function Ce(Z,le){q=z(function(){Z(s.unstable_now())},le)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Z){Z.callback=null},s.unstable_continueExecution=function(){P||T||(P=!0,fe(oe))},s.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<Z?Math.floor(1e3/Z):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_getFirstCallbackNode=function(){return o(y)},s.unstable_next=function(Z){switch(M){case 1:case 2:case 3:var le=3;break;default:le=M}var K=M;M=le;try{return Z()}finally{M=K}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(Z,le){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var K=M;M=Z;try{return le()}finally{M=K}},s.unstable_scheduleCallback=function(Z,le,K){var j=s.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?j+K:j):K=j,Z){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=K+B,Z={id:b++,callback:le,priorityLevel:Z,startTime:K,expirationTime:B,sortIndex:-1},K>j?(Z.sortIndex=K,r(w,Z),o(y)===null&&Z===o(w)&&(R?(V(q),q=-1):R=!0,Ce(ee,K-j))):(Z.sortIndex=B,r(y,Z),P||T||(P=!0,fe(oe))),Z},s.unstable_shouldYield=ve,s.unstable_wrapCallback=function(Z){var le=M;return function(){var K=M;M=le;try{return Z.apply(this,arguments)}finally{M=K}}}}(nd)),nd}var If;function bg(){return If||(If=1,td.exports=wg()),td.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nf;function Sg(){if(Nf)return cn;Nf=1;var s=Nd(),r=bg();function o(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,u={};function h(e,n){g(e,n),g(e+"Capture",n)}function g(e,n){for(u[e]=n,e=0;e<n.length;e++)l.add(n[e])}var x=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},E={};function M(e){return y.call(E,e)?!0:y.call(b,e)?!1:w.test(e)?E[e]=!0:(b[e]=!0,!1)}function T(e,n,a,d){if(a!==null&&a.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return d?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function P(e,n,a,d){if(n===null||typeof n>"u"||T(e,n,a,d))return!0;if(d)return!1;if(a!==null)switch(a.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function R(e,n,a,d,m,v,S){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=a,this.propertyName=e,this.type=n,this.sanitizeURL=v,this.removeEmptyString=S}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new R(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];z[n]=new R(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new R(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new R(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new R(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){z[e]=new R(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){z[e]=new R(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){z[e]=new R(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){z[e]=new R(e,5,!1,e.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function Y(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(V,Y);z[n]=new R(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(V,Y);z[n]=new R(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(V,Y);z[n]=new R(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){z[e]=new R(e,1,!1,e.toLowerCase(),null,!1,!1)}),z.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){z[e]=new R(e,1,!1,e.toLowerCase(),null,!0,!0)});function G(e,n,a,d){var m=z.hasOwnProperty(n)?z[n]:null;(m!==null?m.type!==0:d||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(P(n,a,m,d)&&(a=null),d||m===null?M(n)&&(a===null?e.removeAttribute(n):e.setAttribute(n,""+a)):m.mustUseProperty?e[m.propertyName]=a===null?m.type===3?!1:"":a:(n=m.attributeName,d=m.attributeNamespace,a===null?e.removeAttribute(n):(m=m.type,a=m===3||m===4&&a===!0?"":""+a,d?e.setAttributeNS(d,n,a):e.setAttribute(n,a))))}var ee=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oe=Symbol.for("react.element"),ae=Symbol.for("react.portal"),ge=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),xe=Symbol.for("react.provider"),ve=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),je=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),Z=Symbol.iterator;function le(e){return e===null||typeof e!="object"?null:(e=Z&&e[Z]||e["@@iterator"],typeof e=="function"?e:null)}var K=Object.assign,j;function B(e){if(j===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);j=n&&n[1]||""}return`
`+j+e}var se=!1;function U(e,n){if(!e||se)return"";se=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(W){var d=W}Reflect.construct(e,[],n)}else{try{n.call()}catch(W){d=W}e.call(n.prototype)}else{try{throw Error()}catch(W){d=W}e()}}catch(W){if(W&&d&&typeof W.stack=="string"){for(var m=W.stack.split(`
`),v=d.stack.split(`
`),S=m.length-1,O=v.length-1;1<=S&&0<=O&&m[S]!==v[O];)O--;for(;1<=S&&0<=O;S--,O--)if(m[S]!==v[O]){if(S!==1||O!==1)do if(S--,O--,0>O||m[S]!==v[O]){var I=`
`+m[S].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=S&&0<=O);break}}}finally{se=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?B(e):""}function ue(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1),e;case 11:return e=U(e.type.render,!1),e;case 1:return e=U(e.type,!0),e;default:return""}}function de(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ge:return"Fragment";case ae:return"Portal";case J:return"Profiler";case q:return"StrictMode";case je:return"Suspense";case ce:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ve:return(e.displayName||"Context")+".Consumer";case xe:return(e._context.displayName||"Context")+".Provider";case ne:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case he:return n=e.displayName||null,n!==null?n:de(e.type)||"Memo";case fe:n=e._payload,e=e._init;try{return de(e(n))}catch{}}return null}function Me(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(n);case 8:return n===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Ee(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ie(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ge(e){var n=Ie(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),d=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var m=a.get,v=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return m.call(this)},set:function(S){d=""+S,v.call(this,S)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function wt(e){e._valueTracker||(e._valueTracker=Ge(e))}function nt(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),d="";return e&&(d=Ie(e)?e.checked?"true":"false":e.value),e=d,e!==a?(n.setValue(e),!0):!1}function rt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function lt(e,n){var a=n.checked;return K({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function jt(e,n){var a=n.defaultValue==null?"":n.defaultValue,d=n.checked!=null?n.checked:n.defaultChecked;a=Ee(n.value!=null?n.value:a),e._wrapperState={initialChecked:d,initialValue:a,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function kn(e,n){n=n.checked,n!=null&&G(e,"checked",n,!1)}function we(e,n){kn(e,n);var a=Ee(n.value),d=n.type;if(a!=null)d==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(d==="submit"||d==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Xe(e,n.type,a):n.hasOwnProperty("defaultValue")&&Xe(e,n.type,Ee(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Re(e,n,a){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var d=n.type;if(!(d!=="submit"&&d!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,a||n===e.value||(e.value=n),e.defaultValue=n}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function Xe(e,n,a){(n!=="number"||rt(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var Je=Array.isArray;function Ve(e,n,a,d){if(e=e.options,n){n={};for(var m=0;m<a.length;m++)n["$"+a[m]]=!0;for(a=0;a<e.length;a++)m=n.hasOwnProperty("$"+e[a].value),e[a].selected!==m&&(e[a].selected=m),m&&d&&(e[a].defaultSelected=!0)}else{for(a=""+Ee(a),n=null,m=0;m<e.length;m++){if(e[m].value===a){e[m].selected=!0,d&&(e[m].defaultSelected=!0);return}n!==null||e[m].disabled||(n=e[m])}n!==null&&(n.selected=!0)}}function ut(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(o(91));return K({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Rt(e,n){var a=n.value;if(a==null){if(a=n.children,n=n.defaultValue,a!=null){if(n!=null)throw Error(o(92));if(Je(a)){if(1<a.length)throw Error(o(93));a=a[0]}n=a}n==null&&(n=""),a=n}e._wrapperState={initialValue:Ee(a)}}function Kt(e,n){var a=Ee(n.value),d=Ee(n.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),n.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),d!=null&&(e.defaultValue=""+d)}function tn(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function tr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ye(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?tr(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fn,_i=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,a,d,m){MSApp.execUnsafeLocalFunction(function(){return e(n,a,d,m)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Fn=Fn||document.createElement("div"),Fn.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Fn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Dn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Bn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tu=["Webkit","ms","Moz","O"];Object.keys(Bn).forEach(function(e){Tu.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Bn[n]=Bn[e]})});function Ms(e,n,a){return n==null||typeof n=="boolean"||n===""?"":a||typeof n!="number"||n===0||Bn.hasOwnProperty(e)&&Bn[e]?(""+n).trim():n+"px"}function xi(e,n){e=e.style;for(var a in n)if(n.hasOwnProperty(a)){var d=a.indexOf("--")===0,m=Ms(a,n[a],d);a==="float"&&(a="cssFloat"),d?e.setProperty(a,m):e[a]=m}}var Ga=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function js(e,n){if(n){if(Ga[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(o(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(o(61))}if(n.style!=null&&typeof n.style!="object")throw Error(o(62))}}function yr(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rs=null;function Os(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wi=null,_r=null,xr=null;function Ha(e){if(e=Rr(e)){if(typeof wi!="function")throw Error(o(280));var n=e.stateNode;n&&(n=qi(n),wi(e.stateNode,e.type,n))}}function Wa(e){_r?xr?xr.push(e):xr=[e]:_r=e}function Za(){if(_r){var e=_r,n=xr;if(xr=_r=null,Ha(e),n)for(e=0;e<n.length;e++)Ha(n[e])}}function Va(e,n){return e(n)}function qa(){}var As=!1;function bi(e,n,a){if(As)return e(n,a);As=!0;try{return Va(e,n,a)}finally{As=!1,(_r!==null||xr!==null)&&(qa(),Za())}}function Ao(e,n){var a=e.stateNode;if(a===null)return null;var d=qi(a);if(d===null)return null;a=d[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(e=e.type,d=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!d;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,n,typeof a));return a}var Is=!1;if(x)try{var Io={};Object.defineProperty(Io,"passive",{get:function(){Is=!0}}),window.addEventListener("test",Io,Io),window.removeEventListener("test",Io,Io)}catch{Is=!1}function Lu(e,n,a,d,m,v,S,O,I){var W=Array.prototype.slice.call(arguments,3);try{n.apply(a,W)}catch(te){this.onError(te)}}var Bt=!1,Se=null,No=!1,Si=null,Ka={onError:function(e){Bt=!0,Se=e}};function Ja(e,n,a,d,m,v,S,O,I){Bt=!1,Se=null,Lu.apply(Ka,arguments)}function Ns(e,n,a,d,m,v,S,O,I){if(Ja.apply(this,arguments),Bt){if(Bt){var W=Se;Bt=!1,Se=null}else throw Error(o(198));No||(No=!0,Si=W)}}function nr(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function wr(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function zs(e){if(nr(e)!==e)throw Error(o(188))}function Mu(e){var n=e.alternate;if(!n){if(n=nr(e),n===null)throw Error(o(188));return n!==e?null:e}for(var a=e,d=n;;){var m=a.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){a=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===a)return zs(m),e;if(v===d)return zs(m),n;v=v.sibling}throw Error(o(188))}if(a.return!==d.return)a=m,d=v;else{for(var S=!1,O=m.child;O;){if(O===a){S=!0,a=m,d=v;break}if(O===d){S=!0,d=m,a=v;break}O=O.sibling}if(!S){for(O=v.child;O;){if(O===a){S=!0,a=v,d=m;break}if(O===d){S=!0,d=v,a=m;break}O=O.sibling}if(!S)throw Error(o(189))}}if(a.alternate!==d)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:n}function Ya(e){return e=Mu(e),e!==null?Qa(e):null}function Qa(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Qa(e);if(n!==null)return n;e=e.sibling}return null}var Xa=r.unstable_scheduleCallback,Fs=r.unstable_cancelCallback,ju=r.unstable_shouldYield,ki=r.unstable_requestPaint,pt=r.unstable_now,Ru=r.unstable_getCurrentPriorityLevel,Ds=r.unstable_ImmediatePriority,el=r.unstable_UserBlockingPriority,Ei=r.unstable_NormalPriority,Bs=r.unstable_LowPriority,qr=r.unstable_IdlePriority,zo=null,hn=null;function Fo(e){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(zo,e,void 0,(e.current.flags&128)===128)}catch{}}var Fe=Math.clz32?Math.clz32:Kr,ct=Math.log,Ci=Math.LN2;function Kr(e){return e>>>=0,e===0?32:31-(ct(e)/Ci|0)|0}var Un=64,Jr=4194304;function Ne(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ot(e,n){var a=e.pendingLanes;if(a===0)return 0;var d=0,m=e.suspendedLanes,v=e.pingedLanes,S=a&268435455;if(S!==0){var O=S&~m;O!==0?d=Ne(O):(v&=S,v!==0&&(d=Ne(v)))}else S=a&~m,S!==0?d=Ne(S):v!==0&&(d=Ne(v));if(d===0)return 0;if(n!==0&&n!==d&&(n&m)===0&&(m=d&-d,v=n&-n,m>=v||m===16&&(v&4194240)!==0))return n;if((d&4)!==0&&(d|=a&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=d;0<n;)a=31-Fe(n),m=1<<a,d|=e[a],n&=~m;return d}function Us(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pi(e,n){for(var a=e.suspendedLanes,d=e.pingedLanes,m=e.expirationTimes,v=e.pendingLanes;0<v;){var S=31-Fe(v),O=1<<S,I=m[S];I===-1?((O&a)===0||(O&d)!==0)&&(m[S]=Us(O,n)):I<=n&&(e.expiredLanes|=O),v&=~O}}function Ut(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tl(){var e=Un;return Un<<=1,(Un&4194240)===0&&(Un=64),e}function Yr(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function fn(e,n,a){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Fe(n),e[n]=a}function _t(e,n){var a=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var d=e.eventTimes;for(e=e.expirationTimes;0<a;){var m=31-Fe(a),v=1<<m;n[m]=0,d[m]=-1,e[m]=-1,a&=~v}}function $n(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var d=31-Fe(a),m=1<<d;m&n|e[d]&n&&(e[d]|=n),a&=~m}}var Ze=0;function Qr(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ti,br,Li,Mi,Do,Bo=!1,Xr=[],pn=null,Gn=null,En=null,Uo=new Map,Oe=new Map,Pt=[],et="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $s(e,n){switch(e){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":Uo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oe.delete(n.pointerId)}}function Sr(e,n,a,d,m,v){return e===null||e.nativeEvent!==v?(e={blockedOn:n,domEventName:a,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},n!==null&&(n=Rr(n),n!==null&&br(n)),e):(e.eventSystemFlags|=d,n=e.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),e)}function Gs(e,n,a,d,m){switch(n){case"focusin":return pn=Sr(pn,e,n,a,d,m),!0;case"dragenter":return Gn=Sr(Gn,e,n,a,d,m),!0;case"mouseover":return En=Sr(En,e,n,a,d,m),!0;case"pointerover":var v=m.pointerId;return Uo.set(v,Sr(Uo.get(v)||null,e,n,a,d,m)),!0;case"gotpointercapture":return v=m.pointerId,Oe.set(v,Sr(Oe.get(v)||null,e,n,a,d,m)),!0}return!1}function ji(e){var n=jr(e.target);if(n!==null){var a=nr(n);if(a!==null){if(n=a.tag,n===13){if(n=wr(a),n!==null){e.blockedOn=n,Do(e.priority,function(){Li(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cn(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Ai(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var d=new a.constructor(a.type,a);Rs=d,a.target.dispatchEvent(d),Rs=null}else return n=Rr(a),n!==null&&br(n),e.blockedOn=a,!1;n.shift()}return!0}function Ri(e,n,a){Cn(e)&&a.delete(n)}function $o(){Bo=!1,pn!==null&&Cn(pn)&&(pn=null),Gn!==null&&Cn(Gn)&&(Gn=null),En!==null&&Cn(En)&&(En=null),Uo.forEach(Ri),Oe.forEach(Ri)}function mt(e,n){e.blockedOn===n&&(e.blockedOn=null,Bo||(Bo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,$o)))}function mn(e){function n(m){return mt(m,e)}if(0<Xr.length){mt(Xr[0],e);for(var a=1;a<Xr.length;a++){var d=Xr[a];d.blockedOn===e&&(d.blockedOn=null)}}for(pn!==null&&mt(pn,e),Gn!==null&&mt(Gn,e),En!==null&&mt(En,e),Uo.forEach(n),Oe.forEach(n),a=0;a<Pt.length;a++)d=Pt[a],d.blockedOn===e&&(d.blockedOn=null);for(;0<Pt.length&&(a=Pt[0],a.blockedOn===null);)ji(a),a.blockedOn===null&&Pt.shift()}var kr=ee.ReactCurrentBatchConfig,Go=!0;function Ou(e,n,a,d){var m=Ze,v=kr.transition;kr.transition=null;try{Ze=1,Ho(e,n,a,d)}finally{Ze=m,kr.transition=v}}function nl(e,n,a,d){var m=Ze,v=kr.transition;kr.transition=null;try{Ze=4,Ho(e,n,a,d)}finally{Ze=m,kr.transition=v}}function Ho(e,n,a,d){if(Go){var m=Ai(e,n,a,d);if(m===null)t(e,n,d,Oi,a),$s(e,d);else if(Gs(m,e,n,a,d))d.stopPropagation();else if($s(e,d),n&4&&-1<et.indexOf(e)){for(;m!==null;){var v=Rr(m);if(v!==null&&Ti(v),v=Ai(e,n,a,d),v===null&&t(e,n,d,Oi,a),v===m)break;m=v}m!==null&&d.stopPropagation()}else t(e,n,d,null,a)}}var Oi=null;function Ai(e,n,a,d){if(Oi=null,e=Os(d),e=jr(e),e!==null)if(n=nr(e),n===null)e=null;else if(a=n.tag,a===13){if(e=wr(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Oi=e,null}function He(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ru()){case Ds:return 1;case el:return 4;case Ei:case Bs:return 16;case qr:return 536870912;default:return 16}default:return 16}}var rr=null,Jt=null,or=null;function Hs(){if(or)return or;var e,n=Jt,a=n.length,d,m="value"in rr?rr.value:rr.textContent,v=m.length;for(e=0;e<a&&n[e]===m[e];e++);var S=a-e;for(d=1;d<=S&&n[a-d]===m[v-d];d++);return or=m.slice(e,1<d?1-d:void 0)}function Ii(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function eo(){return!0}function rl(){return!1}function $t(e){function n(a,d,m,v,S){this._reactName=a,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var O in e)e.hasOwnProperty(O)&&(a=e[O],this[O]=a?a(v):v[O]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?eo:rl,this.isPropagationStopped=rl,this}return K(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=eo)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=eo)},persist:function(){},isPersistent:eo}),n}var to={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ws=$t(to),Er=K({},to,{view:0,detail:0}),Au=$t(Er),nn,Zs,no,gn=K({},Er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==no&&(no&&e.type==="mousemove"?(nn=e.screenX-no.screenX,Zs=e.screenY-no.screenY):Zs=nn=0,no=e),nn)},movementY:function(e){return"movementY"in e?e.movementY:Zs}}),Vs=$t(gn),ol=K({},gn,{dataTransfer:0}),qs=$t(ol),Iu=K({},Er,{relatedTarget:0}),Ni=$t(Iu),il=K({},to,{animationName:0,elapsedTime:0,pseudoElement:0}),Nu=$t(il),zu=K({},to,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ks=$t(zu),Fu=K({},to,{data:0}),Js=$t(Fu),sl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Cr[e])?!!n[e]:!1}function Pr(){return Du}var rn=K({},Er,{key:function(e){if(e.key){var n=sl[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ii(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zi[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pr,charCode:function(e){return e.type==="keypress"?Ii(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ii(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),al=$t(rn),ll=K({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ul=$t(ll),Ys=K({},Er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pr}),Qs=$t(Ys),Bu=K({},to,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uu=$t(Bu),cl=K({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$u=$t(cl),vn=[9,13,27,32],ir=x&&"CompositionEvent"in window,Wo=null;x&&"documentMode"in document&&(Wo=document.documentMode);var Hn=x&&"TextEvent"in window&&!Wo,dl=x&&(!ir||Wo&&8<Wo&&11>=Wo),Tr=" ",hl=!1;function ro(e,n){switch(e){case"keyup":return vn.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xs(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wn=!1;function Gu(e,n){switch(e){case"compositionend":return Xs(n);case"keypress":return n.which!==32?null:(hl=!0,Tr);case"textInput":return e=n.data,e===Tr&&hl?null:e;default:return null}}function sr(e,n){if(Wn)return e==="compositionend"||!ir&&ro(e,n)?(e=Hs(),or=Jt=rr=null,Wn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return dl&&n.locale!=="ko"?null:n.data;default:return null}}var Fi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Fi[e.type]:n==="textarea"}function Di(e,n,a,d){Wa(d),n=c(n,"onChange"),0<n.length&&(a=new Ws("onChange","change",null,a,d),e.push({event:a,listeners:n}))}var Zo=null,Yt=null;function Hu(e){la(e,0)}function Zn(e){var n=Or(e);if(nt(n))return e}function Wu(e,n){if(e==="change")return n}var Pn=!1;if(x){var oo;if(x){var Bi="oninput"in document;if(!Bi){var Ui=document.createElement("div");Ui.setAttribute("oninput","return;"),Bi=typeof Ui.oninput=="function"}oo=Bi}else oo=!1;Pn=oo&&(!document.documentMode||9<document.documentMode)}function Vo(){Zo&&(Zo.detachEvent("onpropertychange",$i),Yt=Zo=null)}function $i(e){if(e.propertyName==="value"&&Zn(Yt)){var n=[];Di(n,Yt,e,Os(e)),bi(Hu,n)}}function Gi(e,n,a){e==="focusin"?(Vo(),Zo=n,Yt=a,Zo.attachEvent("onpropertychange",$i)):e==="focusout"&&Vo()}function io(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zn(Yt)}function Hi(e,n){if(e==="click")return Zn(n)}function ea(e,n){if(e==="input"||e==="change")return Zn(n)}function pl(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var yn=typeof Object.is=="function"?Object.is:pl;function ar(e,n){if(yn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),d=Object.keys(n);if(a.length!==d.length)return!1;for(d=0;d<a.length;d++){var m=a[d];if(!y.call(n,m)||!yn(e[m],n[m]))return!1}return!0}function ml(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ta(e,n){var a=ml(e);e=0;for(var d;a;){if(a.nodeType===3){if(d=e+a.textContent.length,e<=n&&d>=n)return{node:a,offset:n-e};e=d}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ml(a)}}function gl(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?gl(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function na(){for(var e=window,n=rt();n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=rt(e.document)}return n}function ra(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Tn(e){var n=na(),a=e.focusedElem,d=e.selectionRange;if(n!==a&&a&&a.ownerDocument&&gl(a.ownerDocument.documentElement,a)){if(d!==null&&ra(a)){if(n=d.start,e=d.end,e===void 0&&(e=n),"selectionStart"in a)a.selectionStart=n,a.selectionEnd=Math.min(e,a.value.length);else if(e=(n=a.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var m=a.textContent.length,v=Math.min(d.start,m);d=d.end===void 0?v:Math.min(d.end,m),!e.extend&&v>d&&(m=d,d=v,v=m),m=ta(a,v);var S=ta(a,d);m&&S&&(e.rangeCount!==1||e.anchorNode!==m.node||e.anchorOffset!==m.offset||e.focusNode!==S.node||e.focusOffset!==S.offset)&&(n=n.createRange(),n.setStart(m.node,m.offset),e.removeAllRanges(),v>d?(e.addRange(n),e.extend(S.node,S.offset)):(n.setEnd(S.node,S.offset),e.addRange(n)))}}for(n=[],e=a;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<n.length;a++)e=n[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Wi=x&&"documentMode"in document&&11>=document.documentMode,so=null,ao=null,qo=null,Zi=!1;function vl(e,n,a){var d=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zi||so==null||so!==rt(d)||(d=so,"selectionStart"in d&&ra(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),qo&&ar(qo,d)||(qo=d,d=c(ao,"onSelect"),0<d.length&&(n=new Ws("onSelect","select",null,n,a),e.push({event:n,listeners:d}),n.target=so)))}function lr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var lo={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionend:lr("Transition","TransitionEnd")},ur={},oa={};x&&(oa=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function Ko(e){if(ur[e])return ur[e];if(!lo[e])return e;var n=lo[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in oa)return ur[e]=n[a];return e}var yl=Ko("animationend"),Ln=Ko("animationiteration"),ia=Ko("animationstart"),sa=Ko("transitionend"),uo=new Map,_l="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _n(e,n){uo.set(e,n),h(n,[e])}for(var Lr=0;Lr<_l.length;Lr++){var Vi=_l[Lr],xl=Vi.toLowerCase(),Zu=Vi[0].toUpperCase()+Vi.slice(1);_n(xl,"on"+Zu)}_n(yl,"onAnimationEnd"),_n(Ln,"onAnimationIteration"),_n(ia,"onAnimationStart"),_n("dblclick","onDoubleClick"),_n("focusin","onFocus"),_n("focusout","onBlur"),_n(sa,"onTransitionEnd"),g("onMouseEnter",["mouseout","mouseover"]),g("onMouseLeave",["mouseout","mouseover"]),g("onPointerEnter",["pointerout","pointerover"]),g("onPointerLeave",["pointerout","pointerover"]),h("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),h("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),h("onBeforeInput",["compositionend","keypress","textInput","paste"]),h("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wl=new Set("cancel close invalid load scroll toggle".split(" ").concat(co));function aa(e,n,a){var d=e.type||"unknown-event";e.currentTarget=a,Ns(d,n,void 0,e),e.currentTarget=null}function la(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var d=e[a],m=d.event;d=d.listeners;e:{var v=void 0;if(n)for(var S=d.length-1;0<=S;S--){var O=d[S],I=O.instance,W=O.currentTarget;if(O=O.listener,I!==v&&m.isPropagationStopped())break e;aa(m,O,W),v=I}else for(S=0;S<d.length;S++){if(O=d[S],I=O.instance,W=O.currentTarget,O=O.listener,I!==v&&m.isPropagationStopped())break e;aa(m,O,W),v=I}}}if(No)throw e=Si,No=!1,Si=null,e}function tt(e,n){var a=n[mo];a===void 0&&(a=n[mo]=new Set);var d=e+"__bubble";a.has(d)||(bl(n,e,2,!1),a.add(d))}function ua(e,n,a){var d=0;n&&(d|=4),bl(a,e,d,n)}var Jo="_reactListening"+Math.random().toString(36).slice(2);function ho(e){if(!e[Jo]){e[Jo]=!0,l.forEach(function(a){a!=="selectionchange"&&(wl.has(a)||ua(a,!1,e),ua(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Jo]||(n[Jo]=!0,ua("selectionchange",!1,n))}}function bl(e,n,a,d){switch(He(n)){case 1:var m=Ou;break;case 4:m=nl;break;default:m=Ho}a=m.bind(null,n,a,e),m=void 0,!Is||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),d?m!==void 0?e.addEventListener(n,a,{capture:!0,passive:m}):e.addEventListener(n,a,!0):m!==void 0?e.addEventListener(n,a,{passive:m}):e.addEventListener(n,a,!1)}function t(e,n,a,d,m){var v=d;if((n&1)===0&&(n&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var O=d.stateNode.containerInfo;if(O===m||O.nodeType===8&&O.parentNode===m)break;if(S===4)for(S=d.return;S!==null;){var I=S.tag;if((I===3||I===4)&&(I=S.stateNode.containerInfo,I===m||I.nodeType===8&&I.parentNode===m))return;S=S.return}for(;O!==null;){if(S=jr(O),S===null)return;if(I=S.tag,I===5||I===6){d=v=S;continue e}O=O.parentNode}}d=d.return}bi(function(){var W=v,te=Os(a),re=[];e:{var X=uo.get(e);if(X!==void 0){var me=Ws,_e=e;switch(e){case"keypress":if(Ii(a)===0)break e;case"keydown":case"keyup":me=al;break;case"focusin":_e="focus",me=Ni;break;case"focusout":_e="blur",me=Ni;break;case"beforeblur":case"afterblur":me=Ni;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Vs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=qs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=Qs;break;case yl:case Ln:case ia:me=Nu;break;case sa:me=Uu;break;case"scroll":me=Au;break;case"wheel":me=$u;break;case"copy":case"cut":case"paste":me=Ks;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=ul}var be=(n&4)!==0,bt=!be&&e==="scroll",D=be?X!==null?X+"Capture":null:X;be=[];for(var N=W,$;N!==null;){$=N;var ie=$.stateNode;if($.tag===5&&ie!==null&&($=ie,D!==null&&(ie=Ao(N,D),ie!=null&&be.push(i(N,ie,$)))),bt)break;N=N.return}0<be.length&&(X=new me(X,_e,null,a,te),re.push({event:X,listeners:be}))}}if((n&7)===0){e:{if(X=e==="mouseover"||e==="pointerover",me=e==="mouseout"||e==="pointerout",X&&a!==Rs&&(_e=a.relatedTarget||a.fromElement)&&(jr(_e)||_e[Qe]))break e;if((me||X)&&(X=te.window===te?te:(X=te.ownerDocument)?X.defaultView||X.parentWindow:window,me?(_e=a.relatedTarget||a.toElement,me=W,_e=_e?jr(_e):null,_e!==null&&(bt=nr(_e),_e!==bt||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(me=null,_e=W),me!==_e)){if(be=Vs,ie="onMouseLeave",D="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(be=ul,ie="onPointerLeave",D="onPointerEnter",N="pointer"),bt=me==null?X:Or(me),$=_e==null?X:Or(_e),X=new be(ie,N+"leave",me,a,te),X.target=bt,X.relatedTarget=$,ie=null,jr(te)===W&&(be=new be(D,N+"enter",_e,a,te),be.target=$,be.relatedTarget=bt,ie=be),bt=ie,me&&_e)t:{for(be=me,D=_e,N=0,$=be;$;$=p($))N++;for($=0,ie=D;ie;ie=p(ie))$++;for(;0<N-$;)be=p(be),N--;for(;0<$-N;)D=p(D),$--;for(;N--;){if(be===D||D!==null&&be===D.alternate)break t;be=p(be),D=p(D)}be=null}else be=null;me!==null&&_(re,X,me,be,!1),_e!==null&&bt!==null&&_(re,bt,_e,be,!0)}}e:{if(X=W?Or(W):window,me=X.nodeName&&X.nodeName.toLowerCase(),me==="select"||me==="input"&&X.type==="file")var ke=Wu;else if(fl(X))if(Pn)ke=ea;else{ke=io;var Te=Gi}else(me=X.nodeName)&&me.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(ke=Hi);if(ke&&(ke=ke(e,W))){Di(re,ke,a,te);break e}Te&&Te(e,X,W),e==="focusout"&&(Te=X._wrapperState)&&Te.controlled&&X.type==="number"&&Xe(X,"number",X.value)}switch(Te=W?Or(W):window,e){case"focusin":(fl(Te)||Te.contentEditable==="true")&&(so=Te,ao=W,qo=null);break;case"focusout":qo=ao=so=null;break;case"mousedown":Zi=!0;break;case"contextmenu":case"mouseup":case"dragend":Zi=!1,vl(re,a,te);break;case"selectionchange":if(Wi)break;case"keydown":case"keyup":vl(re,a,te)}var Le;if(ir)e:{switch(e){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Wn?ro(e,a)&&(Ae="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ae="onCompositionStart");Ae&&(dl&&a.locale!=="ko"&&(Wn||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Wn&&(Le=Hs()):(rr=te,Jt="value"in rr?rr.value:rr.textContent,Wn=!0)),Te=c(W,Ae),0<Te.length&&(Ae=new Js(Ae,e,null,a,te),re.push({event:Ae,listeners:Te}),Le?Ae.data=Le:(Le=Xs(a),Le!==null&&(Ae.data=Le)))),(Le=Hn?Gu(e,a):sr(e,a))&&(W=c(W,"onBeforeInput"),0<W.length&&(te=new Js("onBeforeInput","beforeinput",null,a,te),re.push({event:te,listeners:W}),te.data=Le))}la(re,n)})}function i(e,n,a){return{instance:e,listener:n,currentTarget:a}}function c(e,n){for(var a=n+"Capture",d=[];e!==null;){var m=e,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=Ao(e,a),v!=null&&d.unshift(i(e,v,m)),v=Ao(e,n),v!=null&&d.push(i(e,v,m))),e=e.return}return d}function p(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _(e,n,a,d,m){for(var v=n._reactName,S=[];a!==null&&a!==d;){var O=a,I=O.alternate,W=O.stateNode;if(I!==null&&I===d)break;O.tag===5&&W!==null&&(O=W,m?(I=Ao(a,v),I!=null&&S.unshift(i(a,I,O))):m||(I=Ao(a,v),I!=null&&S.push(i(a,I,O)))),a=a.return}S.length!==0&&e.push({event:n,listeners:S})}var C=/\r\n?/g,A=/\u0000|\uFFFD/g;function F(e){return(typeof e=="string"?e:""+e).replace(C,`
`).replace(A,"")}function H(e,n,a){if(n=F(n),F(e)!==n&&a)throw Error(o(425))}function Q(){}var pe=null,Pe=null;function De(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Tt=typeof setTimeout=="function"?setTimeout:void 0,kt=typeof clearTimeout=="function"?clearTimeout:void 0,Qt=typeof Promise=="function"?Promise:void 0,Gt=typeof queueMicrotask=="function"?queueMicrotask:typeof Qt<"u"?function(e){return Qt.resolve(null).then(e).catch(fo)}:Tt;function fo(e){setTimeout(function(){throw e})}function ca(e,n){var a=n,d=0;do{var m=a.nextSibling;if(e.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(d===0){e.removeChild(m),mn(n);return}d--}else a!=="$"&&a!=="$?"&&a!=="$!"||d++;a=m}while(a);mn(n)}function cr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Sl(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}var Mr=Math.random().toString(36).slice(2),Mn="__reactFiber$"+Mr,po="__reactProps$"+Mr,Qe="__reactContainer$"+Mr,mo="__reactEvents$"+Mr,Vu="__reactListeners$"+Mr,qu="__reactHandles$"+Mr;function jr(e){var n=e[Mn];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Qe]||a[Mn]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Sl(e);e!==null;){if(a=e[Mn])return a;e=Sl(e)}return n}e=a,a=e.parentNode}return null}function Rr(e){return e=e[Mn]||e[Qe],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Or(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function qi(e){return e[po]||null}var Ku=[],Ki=-1;function go(e){return{current:e}}function dt(e){0>Ki||(e.current=Ku[Ki],Ku[Ki]=null,Ki--)}function it(e,n){Ki++,Ku[Ki]=e.current,e.current=n}var vo={},Ht=go(vo),on=go(!1),Yo=vo;function Ji(e,n){var a=e.type.contextTypes;if(!a)return vo;var d=e.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===n)return d.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in a)m[v]=n[v];return d&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=m),m}function sn(e){return e=e.childContextTypes,e!=null}function kl(){dt(on),dt(Ht)}function Yd(e,n,a){if(Ht.current!==vo)throw Error(o(168));it(Ht,n),it(on,a)}function Qd(e,n,a){var d=e.stateNode;if(n=n.childContextTypes,typeof d.getChildContext!="function")return a;d=d.getChildContext();for(var m in d)if(!(m in n))throw Error(o(108,Me(e)||"Unknown",m));return K({},a,d)}function El(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vo,Yo=Ht.current,it(Ht,e),it(on,on.current),!0}function Xd(e,n,a){var d=e.stateNode;if(!d)throw Error(o(169));a?(e=Qd(e,n,Yo),d.__reactInternalMemoizedMergedChildContext=e,dt(on),dt(Ht),it(Ht,e)):dt(on),it(on,a)}var Ar=null,Cl=!1,Ju=!1;function eh(e){Ar===null?Ar=[e]:Ar.push(e)}function Am(e){Cl=!0,eh(e)}function yo(){if(!Ju&&Ar!==null){Ju=!0;var e=0,n=Ze;try{var a=Ar;for(Ze=1;e<a.length;e++){var d=a[e];do d=d(!0);while(d!==null)}Ar=null,Cl=!1}catch(m){throw Ar!==null&&(Ar=Ar.slice(e+1)),Xa(Ds,yo),m}finally{Ze=n,Ju=!1}}return null}var Yi=[],Qi=0,Pl=null,Tl=0,jn=[],Rn=0,Qo=null,Ir=1,Nr="";function Xo(e,n){Yi[Qi++]=Tl,Yi[Qi++]=Pl,Pl=e,Tl=n}function th(e,n,a){jn[Rn++]=Ir,jn[Rn++]=Nr,jn[Rn++]=Qo,Qo=e;var d=Ir;e=Nr;var m=32-Fe(d)-1;d&=~(1<<m),a+=1;var v=32-Fe(n)+m;if(30<v){var S=m-m%5;v=(d&(1<<S)-1).toString(32),d>>=S,m-=S,Ir=1<<32-Fe(n)+m|a<<m|d,Nr=v+e}else Ir=1<<v|a<<m|d,Nr=e}function Yu(e){e.return!==null&&(Xo(e,1),th(e,1,0))}function Qu(e){for(;e===Pl;)Pl=Yi[--Qi],Yi[Qi]=null,Tl=Yi[--Qi],Yi[Qi]=null;for(;e===Qo;)Qo=jn[--Rn],jn[Rn]=null,Nr=jn[--Rn],jn[Rn]=null,Ir=jn[--Rn],jn[Rn]=null}var xn=null,wn=null,ft=!1,Vn=null;function nh(e,n){var a=Nn(5,null,null,0);a.elementType="DELETED",a.stateNode=n,a.return=e,n=e.deletions,n===null?(e.deletions=[a],e.flags|=16):n.push(a)}function rh(e,n){switch(e.tag){case 5:var a=e.type;return n=n.nodeType!==1||a.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,xn=e,wn=cr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,xn=e,wn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(a=Qo!==null?{id:Ir,overflow:Nr}:null,e.memoizedState={dehydrated:n,treeContext:a,retryLane:1073741824},a=Nn(18,null,null,0),a.stateNode=n,a.return=e,e.child=a,xn=e,wn=null,!0):!1;default:return!1}}function Xu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ec(e){if(ft){var n=wn;if(n){var a=n;if(!rh(e,n)){if(Xu(e))throw Error(o(418));n=cr(a.nextSibling);var d=xn;n&&rh(e,n)?nh(d,a):(e.flags=e.flags&-4097|2,ft=!1,xn=e)}}else{if(Xu(e))throw Error(o(418));e.flags=e.flags&-4097|2,ft=!1,xn=e}}}function oh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xn=e}function Ll(e){if(e!==xn)return!1;if(!ft)return oh(e),ft=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!De(e.type,e.memoizedProps)),n&&(n=wn)){if(Xu(e))throw ih(),Error(o(418));for(;n;)nh(e,n),n=cr(n.nextSibling)}if(oh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(n===0){wn=cr(e.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++}e=e.nextSibling}wn=null}}else wn=xn?cr(e.stateNode.nextSibling):null;return!0}function ih(){for(var e=wn;e;)e=cr(e.nextSibling)}function Xi(){wn=xn=null,ft=!1}function tc(e){Vn===null?Vn=[e]:Vn.push(e)}var Im=ee.ReactCurrentBatchConfig;function da(e,n,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(o(309));var d=a.stateNode}if(!d)throw Error(o(147,e));var m=d,v=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===v?n.ref:(n=function(S){var O=m.refs;S===null?delete O[v]:O[v]=S},n._stringRef=v,n)}if(typeof e!="string")throw Error(o(284));if(!a._owner)throw Error(o(290,e))}return e}function Ml(e,n){throw e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function sh(e){var n=e._init;return n(e._payload)}function ah(e){function n(D,N){if(e){var $=D.deletions;$===null?(D.deletions=[N],D.flags|=16):$.push(N)}}function a(D,N){if(!e)return null;for(;N!==null;)n(D,N),N=N.sibling;return null}function d(D,N){for(D=new Map;N!==null;)N.key!==null?D.set(N.key,N):D.set(N.index,N),N=N.sibling;return D}function m(D,N){return D=Co(D,N),D.index=0,D.sibling=null,D}function v(D,N,$){return D.index=$,e?($=D.alternate,$!==null?($=$.index,$<N?(D.flags|=2,N):$):(D.flags|=2,N)):(D.flags|=1048576,N)}function S(D){return e&&D.alternate===null&&(D.flags|=2),D}function O(D,N,$,ie){return N===null||N.tag!==6?(N=Zc($,D.mode,ie),N.return=D,N):(N=m(N,$),N.return=D,N)}function I(D,N,$,ie){var ke=$.type;return ke===ge?te(D,N,$.props.children,ie,$.key):N!==null&&(N.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===fe&&sh(ke)===N.type)?(ie=m(N,$.props),ie.ref=da(D,N,$),ie.return=D,ie):(ie=eu($.type,$.key,$.props,null,D.mode,ie),ie.ref=da(D,N,$),ie.return=D,ie)}function W(D,N,$,ie){return N===null||N.tag!==4||N.stateNode.containerInfo!==$.containerInfo||N.stateNode.implementation!==$.implementation?(N=Vc($,D.mode,ie),N.return=D,N):(N=m(N,$.children||[]),N.return=D,N)}function te(D,N,$,ie,ke){return N===null||N.tag!==7?(N=ai($,D.mode,ie,ke),N.return=D,N):(N=m(N,$),N.return=D,N)}function re(D,N,$){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Zc(""+N,D.mode,$),N.return=D,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case oe:return $=eu(N.type,N.key,N.props,null,D.mode,$),$.ref=da(D,null,N),$.return=D,$;case ae:return N=Vc(N,D.mode,$),N.return=D,N;case fe:var ie=N._init;return re(D,ie(N._payload),$)}if(Je(N)||le(N))return N=ai(N,D.mode,$,null),N.return=D,N;Ml(D,N)}return null}function X(D,N,$,ie){var ke=N!==null?N.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return ke!==null?null:O(D,N,""+$,ie);if(typeof $=="object"&&$!==null){switch($.$$typeof){case oe:return $.key===ke?I(D,N,$,ie):null;case ae:return $.key===ke?W(D,N,$,ie):null;case fe:return ke=$._init,X(D,N,ke($._payload),ie)}if(Je($)||le($))return ke!==null?null:te(D,N,$,ie,null);Ml(D,$)}return null}function me(D,N,$,ie,ke){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return D=D.get($)||null,O(N,D,""+ie,ke);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case oe:return D=D.get(ie.key===null?$:ie.key)||null,I(N,D,ie,ke);case ae:return D=D.get(ie.key===null?$:ie.key)||null,W(N,D,ie,ke);case fe:var Te=ie._init;return me(D,N,$,Te(ie._payload),ke)}if(Je(ie)||le(ie))return D=D.get($)||null,te(N,D,ie,ke,null);Ml(N,ie)}return null}function _e(D,N,$,ie){for(var ke=null,Te=null,Le=N,Ae=N=0,It=null;Le!==null&&Ae<$.length;Ae++){Le.index>Ae?(It=Le,Le=null):It=Le.sibling;var Ke=X(D,Le,$[Ae],ie);if(Ke===null){Le===null&&(Le=It);break}e&&Le&&Ke.alternate===null&&n(D,Le),N=v(Ke,N,Ae),Te===null?ke=Ke:Te.sibling=Ke,Te=Ke,Le=It}if(Ae===$.length)return a(D,Le),ft&&Xo(D,Ae),ke;if(Le===null){for(;Ae<$.length;Ae++)Le=re(D,$[Ae],ie),Le!==null&&(N=v(Le,N,Ae),Te===null?ke=Le:Te.sibling=Le,Te=Le);return ft&&Xo(D,Ae),ke}for(Le=d(D,Le);Ae<$.length;Ae++)It=me(Le,D,Ae,$[Ae],ie),It!==null&&(e&&It.alternate!==null&&Le.delete(It.key===null?Ae:It.key),N=v(It,N,Ae),Te===null?ke=It:Te.sibling=It,Te=It);return e&&Le.forEach(function(Po){return n(D,Po)}),ft&&Xo(D,Ae),ke}function be(D,N,$,ie){var ke=le($);if(typeof ke!="function")throw Error(o(150));if($=ke.call($),$==null)throw Error(o(151));for(var Te=ke=null,Le=N,Ae=N=0,It=null,Ke=$.next();Le!==null&&!Ke.done;Ae++,Ke=$.next()){Le.index>Ae?(It=Le,Le=null):It=Le.sibling;var Po=X(D,Le,Ke.value,ie);if(Po===null){Le===null&&(Le=It);break}e&&Le&&Po.alternate===null&&n(D,Le),N=v(Po,N,Ae),Te===null?ke=Po:Te.sibling=Po,Te=Po,Le=It}if(Ke.done)return a(D,Le),ft&&Xo(D,Ae),ke;if(Le===null){for(;!Ke.done;Ae++,Ke=$.next())Ke=re(D,Ke.value,ie),Ke!==null&&(N=v(Ke,N,Ae),Te===null?ke=Ke:Te.sibling=Ke,Te=Ke);return ft&&Xo(D,Ae),ke}for(Le=d(D,Le);!Ke.done;Ae++,Ke=$.next())Ke=me(Le,D,Ae,Ke.value,ie),Ke!==null&&(e&&Ke.alternate!==null&&Le.delete(Ke.key===null?Ae:Ke.key),N=v(Ke,N,Ae),Te===null?ke=Ke:Te.sibling=Ke,Te=Ke);return e&&Le.forEach(function(pg){return n(D,pg)}),ft&&Xo(D,Ae),ke}function bt(D,N,$,ie){if(typeof $=="object"&&$!==null&&$.type===ge&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case oe:e:{for(var ke=$.key,Te=N;Te!==null;){if(Te.key===ke){if(ke=$.type,ke===ge){if(Te.tag===7){a(D,Te.sibling),N=m(Te,$.props.children),N.return=D,D=N;break e}}else if(Te.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===fe&&sh(ke)===Te.type){a(D,Te.sibling),N=m(Te,$.props),N.ref=da(D,Te,$),N.return=D,D=N;break e}a(D,Te);break}else n(D,Te);Te=Te.sibling}$.type===ge?(N=ai($.props.children,D.mode,ie,$.key),N.return=D,D=N):(ie=eu($.type,$.key,$.props,null,D.mode,ie),ie.ref=da(D,N,$),ie.return=D,D=ie)}return S(D);case ae:e:{for(Te=$.key;N!==null;){if(N.key===Te)if(N.tag===4&&N.stateNode.containerInfo===$.containerInfo&&N.stateNode.implementation===$.implementation){a(D,N.sibling),N=m(N,$.children||[]),N.return=D,D=N;break e}else{a(D,N);break}else n(D,N);N=N.sibling}N=Vc($,D.mode,ie),N.return=D,D=N}return S(D);case fe:return Te=$._init,bt(D,N,Te($._payload),ie)}if(Je($))return _e(D,N,$,ie);if(le($))return be(D,N,$,ie);Ml(D,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,N!==null&&N.tag===6?(a(D,N.sibling),N=m(N,$),N.return=D,D=N):(a(D,N),N=Zc($,D.mode,ie),N.return=D,D=N),S(D)):a(D,N)}return bt}var es=ah(!0),lh=ah(!1),jl=go(null),Rl=null,ts=null,nc=null;function rc(){nc=ts=Rl=null}function oc(e){var n=jl.current;dt(jl),e._currentValue=n}function ic(e,n,a){for(;e!==null;){var d=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,d!==null&&(d.childLanes|=n)):d!==null&&(d.childLanes&n)!==n&&(d.childLanes|=n),e===a)break;e=e.return}}function ns(e,n){Rl=e,nc=ts=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(an=!0),e.firstContext=null)}function On(e){var n=e._currentValue;if(nc!==e)if(e={context:e,memoizedValue:n,next:null},ts===null){if(Rl===null)throw Error(o(308));ts=e,Rl.dependencies={lanes:0,firstContext:e}}else ts=ts.next=e;return n}var ei=null;function sc(e){ei===null?ei=[e]:ei.push(e)}function uh(e,n,a,d){var m=n.interleaved;return m===null?(a.next=a,sc(n)):(a.next=m.next,m.next=a),n.interleaved=a,zr(e,d)}function zr(e,n){e.lanes|=n;var a=e.alternate;for(a!==null&&(a.lanes|=n),a=e,e=e.return;e!==null;)e.childLanes|=n,a=e.alternate,a!==null&&(a.childLanes|=n),a=e,e=e.return;return a.tag===3?a.stateNode:null}var _o=!1;function ac(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ch(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fr(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function xo(e,n,a){var d=e.updateQueue;if(d===null)return null;if(d=d.shared,(qe&2)!==0){var m=d.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),d.pending=n,zr(e,a)}return m=d.interleaved,m===null?(n.next=n,sc(d)):(n.next=m.next,m.next=n),d.interleaved=n,zr(e,a)}function Ol(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194240)!==0)){var d=n.lanes;d&=e.pendingLanes,a|=d,n.lanes=a,$n(e,a)}}function dh(e,n){var a=e.updateQueue,d=e.alternate;if(d!==null&&(d=d.updateQueue,a===d)){var m=null,v=null;if(a=a.firstBaseUpdate,a!==null){do{var S={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};v===null?m=v=S:v=v.next=S,a=a.next}while(a!==null);v===null?m=v=n:v=v.next=n}else m=v=n;a={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,effects:d.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}function Al(e,n,a,d){var m=e.updateQueue;_o=!1;var v=m.firstBaseUpdate,S=m.lastBaseUpdate,O=m.shared.pending;if(O!==null){m.shared.pending=null;var I=O,W=I.next;I.next=null,S===null?v=W:S.next=W,S=I;var te=e.alternate;te!==null&&(te=te.updateQueue,O=te.lastBaseUpdate,O!==S&&(O===null?te.firstBaseUpdate=W:O.next=W,te.lastBaseUpdate=I))}if(v!==null){var re=m.baseState;S=0,te=W=I=null,O=v;do{var X=O.lane,me=O.eventTime;if((d&X)===X){te!==null&&(te=te.next={eventTime:me,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var _e=e,be=O;switch(X=n,me=a,be.tag){case 1:if(_e=be.payload,typeof _e=="function"){re=_e.call(me,re,X);break e}re=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=be.payload,X=typeof _e=="function"?_e.call(me,re,X):_e,X==null)break e;re=K({},re,X);break e;case 2:_o=!0}}O.callback!==null&&O.lane!==0&&(e.flags|=64,X=m.effects,X===null?m.effects=[O]:X.push(O))}else me={eventTime:me,lane:X,tag:O.tag,payload:O.payload,callback:O.callback,next:null},te===null?(W=te=me,I=re):te=te.next=me,S|=X;if(O=O.next,O===null){if(O=m.shared.pending,O===null)break;X=O,O=X.next,X.next=null,m.lastBaseUpdate=X,m.shared.pending=null}}while(!0);if(te===null&&(I=re),m.baseState=I,m.firstBaseUpdate=W,m.lastBaseUpdate=te,n=m.shared.interleaved,n!==null){m=n;do S|=m.lane,m=m.next;while(m!==n)}else v===null&&(m.shared.lanes=0);ri|=S,e.lanes=S,e.memoizedState=re}}function hh(e,n,a){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var d=e[n],m=d.callback;if(m!==null){if(d.callback=null,d=a,typeof m!="function")throw Error(o(191,m));m.call(d)}}}var ha={},dr=go(ha),fa=go(ha),pa=go(ha);function ti(e){if(e===ha)throw Error(o(174));return e}function lc(e,n){switch(it(pa,n),it(fa,e),it(dr,ha),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Ye(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Ye(n,e)}dt(dr),it(dr,n)}function rs(){dt(dr),dt(fa),dt(pa)}function fh(e){ti(pa.current);var n=ti(dr.current),a=Ye(n,e.type);n!==a&&(it(fa,e),it(dr,a))}function uc(e){fa.current===e&&(dt(dr),dt(fa))}var gt=go(0);function Il(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var cc=[];function dc(){for(var e=0;e<cc.length;e++)cc[e]._workInProgressVersionPrimary=null;cc.length=0}var Nl=ee.ReactCurrentDispatcher,hc=ee.ReactCurrentBatchConfig,ni=0,vt=null,Lt=null,Ot=null,zl=!1,ma=!1,ga=0,Nm=0;function Wt(){throw Error(o(321))}function fc(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!yn(e[a],n[a]))return!1;return!0}function pc(e,n,a,d,m,v){if(ni=v,vt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Nl.current=e===null||e.memoizedState===null?Bm:Um,e=a(d,m),ma){v=0;do{if(ma=!1,ga=0,25<=v)throw Error(o(301));v+=1,Ot=Lt=null,n.updateQueue=null,Nl.current=$m,e=a(d,m)}while(ma)}if(Nl.current=Bl,n=Lt!==null&&Lt.next!==null,ni=0,Ot=Lt=vt=null,zl=!1,n)throw Error(o(300));return e}function mc(){var e=ga!==0;return ga=0,e}function hr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?vt.memoizedState=Ot=e:Ot=Ot.next=e,Ot}function An(){if(Lt===null){var e=vt.alternate;e=e!==null?e.memoizedState:null}else e=Lt.next;var n=Ot===null?vt.memoizedState:Ot.next;if(n!==null)Ot=n,Lt=e;else{if(e===null)throw Error(o(310));Lt=e,e={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Ot===null?vt.memoizedState=Ot=e:Ot=Ot.next=e}return Ot}function va(e,n){return typeof n=="function"?n(e):n}function gc(e){var n=An(),a=n.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var d=Lt,m=d.baseQueue,v=a.pending;if(v!==null){if(m!==null){var S=m.next;m.next=v.next,v.next=S}d.baseQueue=m=v,a.pending=null}if(m!==null){v=m.next,d=d.baseState;var O=S=null,I=null,W=v;do{var te=W.lane;if((ni&te)===te)I!==null&&(I=I.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),d=W.hasEagerState?W.eagerState:e(d,W.action);else{var re={lane:te,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};I===null?(O=I=re,S=d):I=I.next=re,vt.lanes|=te,ri|=te}W=W.next}while(W!==null&&W!==v);I===null?S=d:I.next=O,yn(d,n.memoizedState)||(an=!0),n.memoizedState=d,n.baseState=S,n.baseQueue=I,a.lastRenderedState=d}if(e=a.interleaved,e!==null){m=e;do v=m.lane,vt.lanes|=v,ri|=v,m=m.next;while(m!==e)}else m===null&&(a.lanes=0);return[n.memoizedState,a.dispatch]}function vc(e){var n=An(),a=n.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var d=a.dispatch,m=a.pending,v=n.memoizedState;if(m!==null){a.pending=null;var S=m=m.next;do v=e(v,S.action),S=S.next;while(S!==m);yn(v,n.memoizedState)||(an=!0),n.memoizedState=v,n.baseQueue===null&&(n.baseState=v),a.lastRenderedState=v}return[v,d]}function ph(){}function mh(e,n){var a=vt,d=An(),m=n(),v=!yn(d.memoizedState,m);if(v&&(d.memoizedState=m,an=!0),d=d.queue,yc(yh.bind(null,a,d,e),[e]),d.getSnapshot!==n||v||Ot!==null&&Ot.memoizedState.tag&1){if(a.flags|=2048,ya(9,vh.bind(null,a,d,m,n),void 0,null),At===null)throw Error(o(349));(ni&30)!==0||gh(a,n,m)}return m}function gh(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=vt.updateQueue,n===null?(n={lastEffect:null,stores:null},vt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function vh(e,n,a,d){n.value=a,n.getSnapshot=d,_h(n)&&xh(e)}function yh(e,n,a){return a(function(){_h(n)&&xh(e)})}function _h(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!yn(e,a)}catch{return!0}}function xh(e){var n=zr(e,1);n!==null&&Yn(n,e,1,-1)}function wh(e){var n=hr();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:e},n.queue=e,e=e.dispatch=Dm.bind(null,vt,e),[n.memoizedState,e]}function ya(e,n,a,d){return e={tag:e,create:n,destroy:a,deps:d,next:null},n=vt.updateQueue,n===null?(n={lastEffect:null,stores:null},vt.updateQueue=n,n.lastEffect=e.next=e):(a=n.lastEffect,a===null?n.lastEffect=e.next=e:(d=a.next,a.next=e,e.next=d,n.lastEffect=e)),e}function bh(){return An().memoizedState}function Fl(e,n,a,d){var m=hr();vt.flags|=e,m.memoizedState=ya(1|n,a,void 0,d===void 0?null:d)}function Dl(e,n,a,d){var m=An();d=d===void 0?null:d;var v=void 0;if(Lt!==null){var S=Lt.memoizedState;if(v=S.destroy,d!==null&&fc(d,S.deps)){m.memoizedState=ya(n,a,v,d);return}}vt.flags|=e,m.memoizedState=ya(1|n,a,v,d)}function Sh(e,n){return Fl(8390656,8,e,n)}function yc(e,n){return Dl(2048,8,e,n)}function kh(e,n){return Dl(4,2,e,n)}function Eh(e,n){return Dl(4,4,e,n)}function Ch(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ph(e,n,a){return a=a!=null?a.concat([e]):null,Dl(4,4,Ch.bind(null,n,e),a)}function _c(){}function Th(e,n){var a=An();n=n===void 0?null:n;var d=a.memoizedState;return d!==null&&n!==null&&fc(n,d[1])?d[0]:(a.memoizedState=[e,n],e)}function Lh(e,n){var a=An();n=n===void 0?null:n;var d=a.memoizedState;return d!==null&&n!==null&&fc(n,d[1])?d[0]:(e=e(),a.memoizedState=[e,n],e)}function Mh(e,n,a){return(ni&21)===0?(e.baseState&&(e.baseState=!1,an=!0),e.memoizedState=a):(yn(a,n)||(a=tl(),vt.lanes|=a,ri|=a,e.baseState=!0),n)}function zm(e,n){var a=Ze;Ze=a!==0&&4>a?a:4,e(!0);var d=hc.transition;hc.transition={};try{e(!1),n()}finally{Ze=a,hc.transition=d}}function jh(){return An().memoizedState}function Fm(e,n,a){var d=ko(e);if(a={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null},Rh(e))Oh(n,a);else if(a=uh(e,n,a,d),a!==null){var m=en();Yn(a,e,d,m),Ah(a,n,d)}}function Dm(e,n,a){var d=ko(e),m={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null};if(Rh(e))Oh(n,m);else{var v=e.alternate;if(e.lanes===0&&(v===null||v.lanes===0)&&(v=n.lastRenderedReducer,v!==null))try{var S=n.lastRenderedState,O=v(S,a);if(m.hasEagerState=!0,m.eagerState=O,yn(O,S)){var I=n.interleaved;I===null?(m.next=m,sc(n)):(m.next=I.next,I.next=m),n.interleaved=m;return}}catch{}finally{}a=uh(e,n,m,d),a!==null&&(m=en(),Yn(a,e,d,m),Ah(a,n,d))}}function Rh(e){var n=e.alternate;return e===vt||n!==null&&n===vt}function Oh(e,n){ma=zl=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Ah(e,n,a){if((a&4194240)!==0){var d=n.lanes;d&=e.pendingLanes,a|=d,n.lanes=a,$n(e,a)}}var Bl={readContext:On,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},Bm={readContext:On,useCallback:function(e,n){return hr().memoizedState=[e,n===void 0?null:n],e},useContext:On,useEffect:Sh,useImperativeHandle:function(e,n,a){return a=a!=null?a.concat([e]):null,Fl(4194308,4,Ch.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Fl(4194308,4,e,n)},useInsertionEffect:function(e,n){return Fl(4,2,e,n)},useMemo:function(e,n){var a=hr();return n=n===void 0?null:n,e=e(),a.memoizedState=[e,n],e},useReducer:function(e,n,a){var d=hr();return n=a!==void 0?a(n):n,d.memoizedState=d.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},d.queue=e,e=e.dispatch=Fm.bind(null,vt,e),[d.memoizedState,e]},useRef:function(e){var n=hr();return e={current:e},n.memoizedState=e},useState:wh,useDebugValue:_c,useDeferredValue:function(e){return hr().memoizedState=e},useTransition:function(){var e=wh(!1),n=e[0];return e=zm.bind(null,e[1]),hr().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,a){var d=vt,m=hr();if(ft){if(a===void 0)throw Error(o(407));a=a()}else{if(a=n(),At===null)throw Error(o(349));(ni&30)!==0||gh(d,n,a)}m.memoizedState=a;var v={value:a,getSnapshot:n};return m.queue=v,Sh(yh.bind(null,d,v,e),[e]),d.flags|=2048,ya(9,vh.bind(null,d,v,a,n),void 0,null),a},useId:function(){var e=hr(),n=At.identifierPrefix;if(ft){var a=Nr,d=Ir;a=(d&~(1<<32-Fe(d)-1)).toString(32)+a,n=":"+n+"R"+a,a=ga++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=Nm++,n=":"+n+"r"+a.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Um={readContext:On,useCallback:Th,useContext:On,useEffect:yc,useImperativeHandle:Ph,useInsertionEffect:kh,useLayoutEffect:Eh,useMemo:Lh,useReducer:gc,useRef:bh,useState:function(){return gc(va)},useDebugValue:_c,useDeferredValue:function(e){var n=An();return Mh(n,Lt.memoizedState,e)},useTransition:function(){var e=gc(va)[0],n=An().memoizedState;return[e,n]},useMutableSource:ph,useSyncExternalStore:mh,useId:jh,unstable_isNewReconciler:!1},$m={readContext:On,useCallback:Th,useContext:On,useEffect:yc,useImperativeHandle:Ph,useInsertionEffect:kh,useLayoutEffect:Eh,useMemo:Lh,useReducer:vc,useRef:bh,useState:function(){return vc(va)},useDebugValue:_c,useDeferredValue:function(e){var n=An();return Lt===null?n.memoizedState=e:Mh(n,Lt.memoizedState,e)},useTransition:function(){var e=vc(va)[0],n=An().memoizedState;return[e,n]},useMutableSource:ph,useSyncExternalStore:mh,useId:jh,unstable_isNewReconciler:!1};function qn(e,n){if(e&&e.defaultProps){n=K({},n),e=e.defaultProps;for(var a in e)n[a]===void 0&&(n[a]=e[a]);return n}return n}function xc(e,n,a,d){n=e.memoizedState,a=a(d,n),a=a==null?n:K({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ul={isMounted:function(e){return(e=e._reactInternals)?nr(e)===e:!1},enqueueSetState:function(e,n,a){e=e._reactInternals;var d=en(),m=ko(e),v=Fr(d,m);v.payload=n,a!=null&&(v.callback=a),n=xo(e,v,m),n!==null&&(Yn(n,e,m,d),Ol(n,e,m))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var d=en(),m=ko(e),v=Fr(d,m);v.tag=1,v.payload=n,a!=null&&(v.callback=a),n=xo(e,v,m),n!==null&&(Yn(n,e,m,d),Ol(n,e,m))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=en(),d=ko(e),m=Fr(a,d);m.tag=2,n!=null&&(m.callback=n),n=xo(e,m,d),n!==null&&(Yn(n,e,d,a),Ol(n,e,d))}};function Ih(e,n,a,d,m,v,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(d,v,S):n.prototype&&n.prototype.isPureReactComponent?!ar(a,d)||!ar(m,v):!0}function Nh(e,n,a){var d=!1,m=vo,v=n.contextType;return typeof v=="object"&&v!==null?v=On(v):(m=sn(n)?Yo:Ht.current,d=n.contextTypes,v=(d=d!=null)?Ji(e,m):vo),n=new n(a,v),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Ul,e.stateNode=n,n._reactInternals=e,d&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=m,e.__reactInternalMemoizedMaskedChildContext=v),n}function zh(e,n,a,d){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,d),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,d),n.state!==e&&Ul.enqueueReplaceState(n,n.state,null)}function wc(e,n,a,d){var m=e.stateNode;m.props=a,m.state=e.memoizedState,m.refs={},ac(e);var v=n.contextType;typeof v=="object"&&v!==null?m.context=On(v):(v=sn(n)?Yo:Ht.current,m.context=Ji(e,v)),m.state=e.memoizedState,v=n.getDerivedStateFromProps,typeof v=="function"&&(xc(e,n,v,a),m.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(n=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),n!==m.state&&Ul.enqueueReplaceState(m,m.state,null),Al(e,a,m,d),m.state=e.memoizedState),typeof m.componentDidMount=="function"&&(e.flags|=4194308)}function os(e,n){try{var a="",d=n;do a+=ue(d),d=d.return;while(d);var m=a}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:e,source:n,stack:m,digest:null}}function bc(e,n,a){return{value:e,source:null,stack:a??null,digest:n??null}}function Sc(e,n){try{console.error(n.value)}catch(a){setTimeout(function(){throw a})}}var Gm=typeof WeakMap=="function"?WeakMap:Map;function Fh(e,n,a){a=Fr(-1,a),a.tag=3,a.payload={element:null};var d=n.value;return a.callback=function(){ql||(ql=!0,Fc=d),Sc(e,n)},a}function Dh(e,n,a){a=Fr(-1,a),a.tag=3;var d=e.type.getDerivedStateFromError;if(typeof d=="function"){var m=n.value;a.payload=function(){return d(m)},a.callback=function(){Sc(e,n)}}var v=e.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(a.callback=function(){Sc(e,n),typeof d!="function"&&(bo===null?bo=new Set([this]):bo.add(this));var S=n.stack;this.componentDidCatch(n.value,{componentStack:S!==null?S:""})}),a}function Bh(e,n,a){var d=e.pingCache;if(d===null){d=e.pingCache=new Gm;var m=new Set;d.set(n,m)}else m=d.get(n),m===void 0&&(m=new Set,d.set(n,m));m.has(a)||(m.add(a),e=rg.bind(null,e,n,a),n.then(e,e))}function Uh(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function $h(e,n,a,d,m){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(n=Fr(-1,1),n.tag=2,xo(a,n,1))),a.lanes|=1),e):(e.flags|=65536,e.lanes=m,e)}var Hm=ee.ReactCurrentOwner,an=!1;function Xt(e,n,a,d){n.child=e===null?lh(n,null,a,d):es(n,e.child,a,d)}function Gh(e,n,a,d,m){a=a.render;var v=n.ref;return ns(n,m),d=pc(e,n,a,d,v,m),a=mc(),e!==null&&!an?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~m,Dr(e,n,m)):(ft&&a&&Yu(n),n.flags|=1,Xt(e,n,d,m),n.child)}function Hh(e,n,a,d,m){if(e===null){var v=a.type;return typeof v=="function"&&!Wc(v)&&v.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(n.tag=15,n.type=v,Wh(e,n,v,d,m)):(e=eu(a.type,null,d,n,n.mode,m),e.ref=n.ref,e.return=n,n.child=e)}if(v=e.child,(e.lanes&m)===0){var S=v.memoizedProps;if(a=a.compare,a=a!==null?a:ar,a(S,d)&&e.ref===n.ref)return Dr(e,n,m)}return n.flags|=1,e=Co(v,d),e.ref=n.ref,e.return=n,n.child=e}function Wh(e,n,a,d,m){if(e!==null){var v=e.memoizedProps;if(ar(v,d)&&e.ref===n.ref)if(an=!1,n.pendingProps=d=v,(e.lanes&m)!==0)(e.flags&131072)!==0&&(an=!0);else return n.lanes=e.lanes,Dr(e,n,m)}return kc(e,n,a,d,m)}function Zh(e,n,a){var d=n.pendingProps,m=d.children,v=e!==null?e.memoizedState:null;if(d.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(ss,bn),bn|=a;else{if((a&1073741824)===0)return e=v!==null?v.baseLanes|a:a,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,it(ss,bn),bn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:a,it(ss,bn),bn|=d}else v!==null?(d=v.baseLanes|a,n.memoizedState=null):d=a,it(ss,bn),bn|=d;return Xt(e,n,m,a),n.child}function Vh(e,n){var a=n.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(n.flags|=512,n.flags|=2097152)}function kc(e,n,a,d,m){var v=sn(a)?Yo:Ht.current;return v=Ji(n,v),ns(n,m),a=pc(e,n,a,d,v,m),d=mc(),e!==null&&!an?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~m,Dr(e,n,m)):(ft&&d&&Yu(n),n.flags|=1,Xt(e,n,a,m),n.child)}function qh(e,n,a,d,m){if(sn(a)){var v=!0;El(n)}else v=!1;if(ns(n,m),n.stateNode===null)Gl(e,n),Nh(n,a,d),wc(n,a,d,m),d=!0;else if(e===null){var S=n.stateNode,O=n.memoizedProps;S.props=O;var I=S.context,W=a.contextType;typeof W=="object"&&W!==null?W=On(W):(W=sn(a)?Yo:Ht.current,W=Ji(n,W));var te=a.getDerivedStateFromProps,re=typeof te=="function"||typeof S.getSnapshotBeforeUpdate=="function";re||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O!==d||I!==W)&&zh(n,S,d,W),_o=!1;var X=n.memoizedState;S.state=X,Al(n,d,S,m),I=n.memoizedState,O!==d||X!==I||on.current||_o?(typeof te=="function"&&(xc(n,a,te,d),I=n.memoizedState),(O=_o||Ih(n,a,O,d,X,I,W))?(re||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(n.flags|=4194308)):(typeof S.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=d,n.memoizedState=I),S.props=d,S.state=I,S.context=W,d=O):(typeof S.componentDidMount=="function"&&(n.flags|=4194308),d=!1)}else{S=n.stateNode,ch(e,n),O=n.memoizedProps,W=n.type===n.elementType?O:qn(n.type,O),S.props=W,re=n.pendingProps,X=S.context,I=a.contextType,typeof I=="object"&&I!==null?I=On(I):(I=sn(a)?Yo:Ht.current,I=Ji(n,I));var me=a.getDerivedStateFromProps;(te=typeof me=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O!==re||X!==I)&&zh(n,S,d,I),_o=!1,X=n.memoizedState,S.state=X,Al(n,d,S,m);var _e=n.memoizedState;O!==re||X!==_e||on.current||_o?(typeof me=="function"&&(xc(n,a,me,d),_e=n.memoizedState),(W=_o||Ih(n,a,W,d,X,_e,I)||!1)?(te||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(d,_e,I),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(d,_e,I)),typeof S.componentDidUpdate=="function"&&(n.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof S.componentDidUpdate!="function"||O===e.memoizedProps&&X===e.memoizedState||(n.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===e.memoizedProps&&X===e.memoizedState||(n.flags|=1024),n.memoizedProps=d,n.memoizedState=_e),S.props=d,S.state=_e,S.context=I,d=W):(typeof S.componentDidUpdate!="function"||O===e.memoizedProps&&X===e.memoizedState||(n.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===e.memoizedProps&&X===e.memoizedState||(n.flags|=1024),d=!1)}return Ec(e,n,a,d,v,m)}function Ec(e,n,a,d,m,v){Vh(e,n);var S=(n.flags&128)!==0;if(!d&&!S)return m&&Xd(n,a,!1),Dr(e,n,v);d=n.stateNode,Hm.current=n;var O=S&&typeof a.getDerivedStateFromError!="function"?null:d.render();return n.flags|=1,e!==null&&S?(n.child=es(n,e.child,null,v),n.child=es(n,null,O,v)):Xt(e,n,O,v),n.memoizedState=d.state,m&&Xd(n,a,!0),n.child}function Kh(e){var n=e.stateNode;n.pendingContext?Yd(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Yd(e,n.context,!1),lc(e,n.containerInfo)}function Jh(e,n,a,d,m){return Xi(),tc(m),n.flags|=256,Xt(e,n,a,d),n.child}var Cc={dehydrated:null,treeContext:null,retryLane:0};function Pc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Yh(e,n,a){var d=n.pendingProps,m=gt.current,v=!1,S=(n.flags&128)!==0,O;if((O=S)||(O=e!==null&&e.memoizedState===null?!1:(m&2)!==0),O?(v=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(m|=1),it(gt,m&1),e===null)return ec(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(S=d.children,e=d.fallback,v?(d=n.mode,v=n.child,S={mode:"hidden",children:S},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=S):v=tu(S,d,0,null),e=ai(e,d,a,null),v.return=n,e.return=n,v.sibling=e,n.child=v,n.child.memoizedState=Pc(a),n.memoizedState=Cc,e):Tc(n,S));if(m=e.memoizedState,m!==null&&(O=m.dehydrated,O!==null))return Wm(e,n,S,d,O,m,a);if(v){v=d.fallback,S=n.mode,m=e.child,O=m.sibling;var I={mode:"hidden",children:d.children};return(S&1)===0&&n.child!==m?(d=n.child,d.childLanes=0,d.pendingProps=I,n.deletions=null):(d=Co(m,I),d.subtreeFlags=m.subtreeFlags&14680064),O!==null?v=Co(O,v):(v=ai(v,S,a,null),v.flags|=2),v.return=n,d.return=n,d.sibling=v,n.child=d,d=v,v=n.child,S=e.child.memoizedState,S=S===null?Pc(a):{baseLanes:S.baseLanes|a,cachePool:null,transitions:S.transitions},v.memoizedState=S,v.childLanes=e.childLanes&~a,n.memoizedState=Cc,d}return v=e.child,e=v.sibling,d=Co(v,{mode:"visible",children:d.children}),(n.mode&1)===0&&(d.lanes=a),d.return=n,d.sibling=null,e!==null&&(a=n.deletions,a===null?(n.deletions=[e],n.flags|=16):a.push(e)),n.child=d,n.memoizedState=null,d}function Tc(e,n){return n=tu({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function $l(e,n,a,d){return d!==null&&tc(d),es(n,e.child,null,a),e=Tc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Wm(e,n,a,d,m,v,S){if(a)return n.flags&256?(n.flags&=-257,d=bc(Error(o(422))),$l(e,n,S,d)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(v=d.fallback,m=n.mode,d=tu({mode:"visible",children:d.children},m,0,null),v=ai(v,m,S,null),v.flags|=2,d.return=n,v.return=n,d.sibling=v,n.child=d,(n.mode&1)!==0&&es(n,e.child,null,S),n.child.memoizedState=Pc(S),n.memoizedState=Cc,v);if((n.mode&1)===0)return $l(e,n,S,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var O=d.dgst;return d=O,v=Error(o(419)),d=bc(v,d,void 0),$l(e,n,S,d)}if(O=(S&e.childLanes)!==0,an||O){if(d=At,d!==null){switch(S&-S){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|S))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,zr(e,m),Yn(d,e,m,-1))}return Hc(),d=bc(Error(o(421))),$l(e,n,S,d)}return m.data==="$?"?(n.flags|=128,n.child=e.child,n=og.bind(null,e),m._reactRetry=n,null):(e=v.treeContext,wn=cr(m.nextSibling),xn=n,ft=!0,Vn=null,e!==null&&(jn[Rn++]=Ir,jn[Rn++]=Nr,jn[Rn++]=Qo,Ir=e.id,Nr=e.overflow,Qo=n),n=Tc(n,d.children),n.flags|=4096,n)}function Qh(e,n,a){e.lanes|=n;var d=e.alternate;d!==null&&(d.lanes|=n),ic(e.return,n,a)}function Lc(e,n,a,d,m){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:d,tail:a,tailMode:m}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=a,v.tailMode=m)}function Xh(e,n,a){var d=n.pendingProps,m=d.revealOrder,v=d.tail;if(Xt(e,n,d.children,a),d=gt.current,(d&2)!==0)d=d&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qh(e,a,n);else if(e.tag===19)Qh(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}d&=1}if(it(gt,d),(n.mode&1)===0)n.memoizedState=null;else switch(m){case"forwards":for(a=n.child,m=null;a!==null;)e=a.alternate,e!==null&&Il(e)===null&&(m=a),a=a.sibling;a=m,a===null?(m=n.child,n.child=null):(m=a.sibling,a.sibling=null),Lc(n,!1,m,a,v);break;case"backwards":for(a=null,m=n.child,n.child=null;m!==null;){if(e=m.alternate,e!==null&&Il(e)===null){n.child=m;break}e=m.sibling,m.sibling=a,a=m,m=e}Lc(n,!0,a,null,v);break;case"together":Lc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Gl(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Dr(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),ri|=n.lanes,(a&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,a=Co(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Co(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Zm(e,n,a){switch(n.tag){case 3:Kh(n),Xi();break;case 5:fh(n);break;case 1:sn(n.type)&&El(n);break;case 4:lc(n,n.stateNode.containerInfo);break;case 10:var d=n.type._context,m=n.memoizedProps.value;it(jl,d._currentValue),d._currentValue=m;break;case 13:if(d=n.memoizedState,d!==null)return d.dehydrated!==null?(it(gt,gt.current&1),n.flags|=128,null):(a&n.child.childLanes)!==0?Yh(e,n,a):(it(gt,gt.current&1),e=Dr(e,n,a),e!==null?e.sibling:null);it(gt,gt.current&1);break;case 19:if(d=(a&n.childLanes)!==0,(e.flags&128)!==0){if(d)return Xh(e,n,a);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),it(gt,gt.current),d)break;return null;case 22:case 23:return n.lanes=0,Zh(e,n,a)}return Dr(e,n,a)}var ef,Mc,tf,nf;ef=function(e,n){for(var a=n.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Mc=function(){},tf=function(e,n,a,d){var m=e.memoizedProps;if(m!==d){e=n.stateNode,ti(dr.current);var v=null;switch(a){case"input":m=lt(e,m),d=lt(e,d),v=[];break;case"select":m=K({},m,{value:void 0}),d=K({},d,{value:void 0}),v=[];break;case"textarea":m=ut(e,m),d=ut(e,d),v=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(e.onclick=Q)}js(a,d);var S;a=null;for(W in m)if(!d.hasOwnProperty(W)&&m.hasOwnProperty(W)&&m[W]!=null)if(W==="style"){var O=m[W];for(S in O)O.hasOwnProperty(S)&&(a||(a={}),a[S]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(u.hasOwnProperty(W)?v||(v=[]):(v=v||[]).push(W,null));for(W in d){var I=d[W];if(O=m!=null?m[W]:void 0,d.hasOwnProperty(W)&&I!==O&&(I!=null||O!=null))if(W==="style")if(O){for(S in O)!O.hasOwnProperty(S)||I&&I.hasOwnProperty(S)||(a||(a={}),a[S]="");for(S in I)I.hasOwnProperty(S)&&O[S]!==I[S]&&(a||(a={}),a[S]=I[S])}else a||(v||(v=[]),v.push(W,a)),a=I;else W==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,O=O?O.__html:void 0,I!=null&&O!==I&&(v=v||[]).push(W,I)):W==="children"?typeof I!="string"&&typeof I!="number"||(v=v||[]).push(W,""+I):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(u.hasOwnProperty(W)?(I!=null&&W==="onScroll"&&tt("scroll",e),v||O===I||(v=[])):(v=v||[]).push(W,I))}a&&(v=v||[]).push("style",a);var W=v;(n.updateQueue=W)&&(n.flags|=4)}},nf=function(e,n,a,d){a!==d&&(n.flags|=4)};function _a(e,n){if(!ft)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:d.sibling=null}}function Zt(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,d=0;if(n)for(var m=e.child;m!==null;)a|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)a|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=d,e.childLanes=a,n}function Vm(e,n,a){var d=n.pendingProps;switch(Qu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(n),null;case 1:return sn(n.type)&&kl(),Zt(n),null;case 3:return d=n.stateNode,rs(),dt(on),dt(Ht),dc(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(e===null||e.child===null)&&(Ll(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Vn!==null&&(Uc(Vn),Vn=null))),Mc(e,n),Zt(n),null;case 5:uc(n);var m=ti(pa.current);if(a=n.type,e!==null&&n.stateNode!=null)tf(e,n,a,d,m),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!d){if(n.stateNode===null)throw Error(o(166));return Zt(n),null}if(e=ti(dr.current),Ll(n)){d=n.stateNode,a=n.type;var v=n.memoizedProps;switch(d[Mn]=n,d[po]=v,e=(n.mode&1)!==0,a){case"dialog":tt("cancel",d),tt("close",d);break;case"iframe":case"object":case"embed":tt("load",d);break;case"video":case"audio":for(m=0;m<co.length;m++)tt(co[m],d);break;case"source":tt("error",d);break;case"img":case"image":case"link":tt("error",d),tt("load",d);break;case"details":tt("toggle",d);break;case"input":jt(d,v),tt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},tt("invalid",d);break;case"textarea":Rt(d,v),tt("invalid",d)}js(a,v),m=null;for(var S in v)if(v.hasOwnProperty(S)){var O=v[S];S==="children"?typeof O=="string"?d.textContent!==O&&(v.suppressHydrationWarning!==!0&&H(d.textContent,O,e),m=["children",O]):typeof O=="number"&&d.textContent!==""+O&&(v.suppressHydrationWarning!==!0&&H(d.textContent,O,e),m=["children",""+O]):u.hasOwnProperty(S)&&O!=null&&S==="onScroll"&&tt("scroll",d)}switch(a){case"input":wt(d),Re(d,v,!0);break;case"textarea":wt(d),tn(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=Q)}d=m,n.updateQueue=d,d!==null&&(n.flags|=4)}else{S=m.nodeType===9?m:m.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tr(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=S.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof d.is=="string"?e=S.createElement(a,{is:d.is}):(e=S.createElement(a),a==="select"&&(S=e,d.multiple?S.multiple=!0:d.size&&(S.size=d.size))):e=S.createElementNS(e,a),e[Mn]=n,e[po]=d,ef(e,n,!1,!1),n.stateNode=e;e:{switch(S=yr(a,d),a){case"dialog":tt("cancel",e),tt("close",e),m=d;break;case"iframe":case"object":case"embed":tt("load",e),m=d;break;case"video":case"audio":for(m=0;m<co.length;m++)tt(co[m],e);m=d;break;case"source":tt("error",e),m=d;break;case"img":case"image":case"link":tt("error",e),tt("load",e),m=d;break;case"details":tt("toggle",e),m=d;break;case"input":jt(e,d),m=lt(e,d),tt("invalid",e);break;case"option":m=d;break;case"select":e._wrapperState={wasMultiple:!!d.multiple},m=K({},d,{value:void 0}),tt("invalid",e);break;case"textarea":Rt(e,d),m=ut(e,d),tt("invalid",e);break;default:m=d}js(a,m),O=m;for(v in O)if(O.hasOwnProperty(v)){var I=O[v];v==="style"?xi(e,I):v==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&_i(e,I)):v==="children"?typeof I=="string"?(a!=="textarea"||I!=="")&&Dn(e,I):typeof I=="number"&&Dn(e,""+I):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(u.hasOwnProperty(v)?I!=null&&v==="onScroll"&&tt("scroll",e):I!=null&&G(e,v,I,S))}switch(a){case"input":wt(e),Re(e,d,!1);break;case"textarea":wt(e),tn(e);break;case"option":d.value!=null&&e.setAttribute("value",""+Ee(d.value));break;case"select":e.multiple=!!d.multiple,v=d.value,v!=null?Ve(e,!!d.multiple,v,!1):d.defaultValue!=null&&Ve(e,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(e.onclick=Q)}switch(a){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Zt(n),null;case 6:if(e&&n.stateNode!=null)nf(e,n,e.memoizedProps,d);else{if(typeof d!="string"&&n.stateNode===null)throw Error(o(166));if(a=ti(pa.current),ti(dr.current),Ll(n)){if(d=n.stateNode,a=n.memoizedProps,d[Mn]=n,(v=d.nodeValue!==a)&&(e=xn,e!==null))switch(e.tag){case 3:H(d.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&H(d.nodeValue,a,(e.mode&1)!==0)}v&&(n.flags|=4)}else d=(a.nodeType===9?a:a.ownerDocument).createTextNode(d),d[Mn]=n,n.stateNode=d}return Zt(n),null;case 13:if(dt(gt),d=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ft&&wn!==null&&(n.mode&1)!==0&&(n.flags&128)===0)ih(),Xi(),n.flags|=98560,v=!1;else if(v=Ll(n),d!==null&&d.dehydrated!==null){if(e===null){if(!v)throw Error(o(318));if(v=n.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(o(317));v[Mn]=n}else Xi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Zt(n),v=!1}else Vn!==null&&(Uc(Vn),Vn=null),v=!0;if(!v)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=a,n):(d=d!==null,d!==(e!==null&&e.memoizedState!==null)&&d&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(gt.current&1)!==0?Mt===0&&(Mt=3):Hc())),n.updateQueue!==null&&(n.flags|=4),Zt(n),null);case 4:return rs(),Mc(e,n),e===null&&ho(n.stateNode.containerInfo),Zt(n),null;case 10:return oc(n.type._context),Zt(n),null;case 17:return sn(n.type)&&kl(),Zt(n),null;case 19:if(dt(gt),v=n.memoizedState,v===null)return Zt(n),null;if(d=(n.flags&128)!==0,S=v.rendering,S===null)if(d)_a(v,!1);else{if(Mt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(S=Il(e),S!==null){for(n.flags|=128,_a(v,!1),d=S.updateQueue,d!==null&&(n.updateQueue=d,n.flags|=4),n.subtreeFlags=0,d=a,a=n.child;a!==null;)v=a,e=d,v.flags&=14680066,S=v.alternate,S===null?(v.childLanes=0,v.lanes=e,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=S.childLanes,v.lanes=S.lanes,v.child=S.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=S.memoizedProps,v.memoizedState=S.memoizedState,v.updateQueue=S.updateQueue,v.type=S.type,e=S.dependencies,v.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return it(gt,gt.current&1|2),n.child}e=e.sibling}v.tail!==null&&pt()>as&&(n.flags|=128,d=!0,_a(v,!1),n.lanes=4194304)}else{if(!d)if(e=Il(S),e!==null){if(n.flags|=128,d=!0,a=e.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),_a(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!ft)return Zt(n),null}else 2*pt()-v.renderingStartTime>as&&a!==1073741824&&(n.flags|=128,d=!0,_a(v,!1),n.lanes=4194304);v.isBackwards?(S.sibling=n.child,n.child=S):(a=v.last,a!==null?a.sibling=S:n.child=S,v.last=S)}return v.tail!==null?(n=v.tail,v.rendering=n,v.tail=n.sibling,v.renderingStartTime=pt(),n.sibling=null,a=gt.current,it(gt,d?a&1|2:a&1),n):(Zt(n),null);case 22:case 23:return Gc(),d=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==d&&(n.flags|=8192),d&&(n.mode&1)!==0?(bn&1073741824)!==0&&(Zt(n),n.subtreeFlags&6&&(n.flags|=8192)):Zt(n),null;case 24:return null;case 25:return null}throw Error(o(156,n.tag))}function qm(e,n){switch(Qu(n),n.tag){case 1:return sn(n.type)&&kl(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return rs(),dt(on),dt(Ht),dc(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return uc(n),null;case 13:if(dt(gt),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));Xi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return dt(gt),null;case 4:return rs(),null;case 10:return oc(n.type._context),null;case 22:case 23:return Gc(),null;case 24:return null;default:return null}}var Hl=!1,Vt=!1,Km=typeof WeakSet=="function"?WeakSet:Set,ye=null;function is(e,n){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(d){xt(e,n,d)}else a.current=null}function jc(e,n,a){try{a()}catch(d){xt(e,n,d)}}var rf=!1;function Jm(e,n){if(pe=Go,e=na(),ra(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var d=a.getSelection&&a.getSelection();if(d&&d.rangeCount!==0){a=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{a.nodeType,v.nodeType}catch{a=null;break e}var S=0,O=-1,I=-1,W=0,te=0,re=e,X=null;t:for(;;){for(var me;re!==a||m!==0&&re.nodeType!==3||(O=S+m),re!==v||d!==0&&re.nodeType!==3||(I=S+d),re.nodeType===3&&(S+=re.nodeValue.length),(me=re.firstChild)!==null;)X=re,re=me;for(;;){if(re===e)break t;if(X===a&&++W===m&&(O=S),X===v&&++te===d&&(I=S),(me=re.nextSibling)!==null)break;re=X,X=re.parentNode}re=me}a=O===-1||I===-1?null:{start:O,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Pe={focusedElem:e,selectionRange:a},Go=!1,ye=n;ye!==null;)if(n=ye,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ye=e;else for(;ye!==null;){n=ye;try{var _e=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var be=_e.memoizedProps,bt=_e.memoizedState,D=n.stateNode,N=D.getSnapshotBeforeUpdate(n.elementType===n.type?be:qn(n.type,be),bt);D.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var $=n.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ie){xt(n,n.return,ie)}if(e=n.sibling,e!==null){e.return=n.return,ye=e;break}ye=n.return}return _e=rf,rf=!1,_e}function xa(e,n,a){var d=n.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&e)===e){var v=m.destroy;m.destroy=void 0,v!==void 0&&jc(n,a,v)}m=m.next}while(m!==d)}}function Wl(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var d=a.create;a.destroy=d()}a=a.next}while(a!==n)}}function Rc(e){var n=e.ref;if(n!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof n=="function"?n(e):n.current=e}}function of(e){var n=e.alternate;n!==null&&(e.alternate=null,of(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Mn],delete n[po],delete n[mo],delete n[Vu],delete n[qu])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sf(e){return e.tag===5||e.tag===3||e.tag===4}function af(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Oc(e,n,a){var d=e.tag;if(d===5||d===6)e=e.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(e,n):a.insertBefore(e,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(e,a)):(n=a,n.appendChild(e)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Q));else if(d!==4&&(e=e.child,e!==null))for(Oc(e,n,a),e=e.sibling;e!==null;)Oc(e,n,a),e=e.sibling}function Ac(e,n,a){var d=e.tag;if(d===5||d===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(d!==4&&(e=e.child,e!==null))for(Ac(e,n,a),e=e.sibling;e!==null;)Ac(e,n,a),e=e.sibling}var Ft=null,Kn=!1;function wo(e,n,a){for(a=a.child;a!==null;)lf(e,n,a),a=a.sibling}function lf(e,n,a){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(zo,a)}catch{}switch(a.tag){case 5:Vt||is(a,n);case 6:var d=Ft,m=Kn;Ft=null,wo(e,n,a),Ft=d,Kn=m,Ft!==null&&(Kn?(e=Ft,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):Ft.removeChild(a.stateNode));break;case 18:Ft!==null&&(Kn?(e=Ft,a=a.stateNode,e.nodeType===8?ca(e.parentNode,a):e.nodeType===1&&ca(e,a),mn(e)):ca(Ft,a.stateNode));break;case 4:d=Ft,m=Kn,Ft=a.stateNode.containerInfo,Kn=!0,wo(e,n,a),Ft=d,Kn=m;break;case 0:case 11:case 14:case 15:if(!Vt&&(d=a.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var v=m,S=v.destroy;v=v.tag,S!==void 0&&((v&2)!==0||(v&4)!==0)&&jc(a,n,S),m=m.next}while(m!==d)}wo(e,n,a);break;case 1:if(!Vt&&(is(a,n),d=a.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=a.memoizedProps,d.state=a.memoizedState,d.componentWillUnmount()}catch(O){xt(a,n,O)}wo(e,n,a);break;case 21:wo(e,n,a);break;case 22:a.mode&1?(Vt=(d=Vt)||a.memoizedState!==null,wo(e,n,a),Vt=d):wo(e,n,a);break;default:wo(e,n,a)}}function uf(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new Km),n.forEach(function(d){var m=ig.bind(null,e,d);a.has(d)||(a.add(d),d.then(m,m))})}}function Jn(e,n){var a=n.deletions;if(a!==null)for(var d=0;d<a.length;d++){var m=a[d];try{var v=e,S=n,O=S;e:for(;O!==null;){switch(O.tag){case 5:Ft=O.stateNode,Kn=!1;break e;case 3:Ft=O.stateNode.containerInfo,Kn=!0;break e;case 4:Ft=O.stateNode.containerInfo,Kn=!0;break e}O=O.return}if(Ft===null)throw Error(o(160));lf(v,S,m),Ft=null,Kn=!1;var I=m.alternate;I!==null&&(I.return=null),m.return=null}catch(W){xt(m,n,W)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)cf(n,e),n=n.sibling}function cf(e,n){var a=e.alternate,d=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Jn(n,e),fr(e),d&4){try{xa(3,e,e.return),Wl(3,e)}catch(be){xt(e,e.return,be)}try{xa(5,e,e.return)}catch(be){xt(e,e.return,be)}}break;case 1:Jn(n,e),fr(e),d&512&&a!==null&&is(a,a.return);break;case 5:if(Jn(n,e),fr(e),d&512&&a!==null&&is(a,a.return),e.flags&32){var m=e.stateNode;try{Dn(m,"")}catch(be){xt(e,e.return,be)}}if(d&4&&(m=e.stateNode,m!=null)){var v=e.memoizedProps,S=a!==null?a.memoizedProps:v,O=e.type,I=e.updateQueue;if(e.updateQueue=null,I!==null)try{O==="input"&&v.type==="radio"&&v.name!=null&&kn(m,v),yr(O,S);var W=yr(O,v);for(S=0;S<I.length;S+=2){var te=I[S],re=I[S+1];te==="style"?xi(m,re):te==="dangerouslySetInnerHTML"?_i(m,re):te==="children"?Dn(m,re):G(m,te,re,W)}switch(O){case"input":we(m,v);break;case"textarea":Kt(m,v);break;case"select":var X=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var me=v.value;me!=null?Ve(m,!!v.multiple,me,!1):X!==!!v.multiple&&(v.defaultValue!=null?Ve(m,!!v.multiple,v.defaultValue,!0):Ve(m,!!v.multiple,v.multiple?[]:"",!1))}m[po]=v}catch(be){xt(e,e.return,be)}}break;case 6:if(Jn(n,e),fr(e),d&4){if(e.stateNode===null)throw Error(o(162));m=e.stateNode,v=e.memoizedProps;try{m.nodeValue=v}catch(be){xt(e,e.return,be)}}break;case 3:if(Jn(n,e),fr(e),d&4&&a!==null&&a.memoizedState.isDehydrated)try{mn(n.containerInfo)}catch(be){xt(e,e.return,be)}break;case 4:Jn(n,e),fr(e);break;case 13:Jn(n,e),fr(e),m=e.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(zc=pt())),d&4&&uf(e);break;case 22:if(te=a!==null&&a.memoizedState!==null,e.mode&1?(Vt=(W=Vt)||te,Jn(n,e),Vt=W):Jn(n,e),fr(e),d&8192){if(W=e.memoizedState!==null,(e.stateNode.isHidden=W)&&!te&&(e.mode&1)!==0)for(ye=e,te=e.child;te!==null;){for(re=ye=te;ye!==null;){switch(X=ye,me=X.child,X.tag){case 0:case 11:case 14:case 15:xa(4,X,X.return);break;case 1:is(X,X.return);var _e=X.stateNode;if(typeof _e.componentWillUnmount=="function"){d=X,a=X.return;try{n=d,_e.props=n.memoizedProps,_e.state=n.memoizedState,_e.componentWillUnmount()}catch(be){xt(d,a,be)}}break;case 5:is(X,X.return);break;case 22:if(X.memoizedState!==null){ff(re);continue}}me!==null?(me.return=X,ye=me):ff(re)}te=te.sibling}e:for(te=null,re=e;;){if(re.tag===5){if(te===null){te=re;try{m=re.stateNode,W?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(O=re.stateNode,I=re.memoizedProps.style,S=I!=null&&I.hasOwnProperty("display")?I.display:null,O.style.display=Ms("display",S))}catch(be){xt(e,e.return,be)}}}else if(re.tag===6){if(te===null)try{re.stateNode.nodeValue=W?"":re.memoizedProps}catch(be){xt(e,e.return,be)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===e)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===e)break e;for(;re.sibling===null;){if(re.return===null||re.return===e)break e;te===re&&(te=null),re=re.return}te===re&&(te=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Jn(n,e),fr(e),d&4&&uf(e);break;case 21:break;default:Jn(n,e),fr(e)}}function fr(e){var n=e.flags;if(n&2){try{e:{for(var a=e.return;a!==null;){if(sf(a)){var d=a;break e}a=a.return}throw Error(o(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(Dn(m,""),d.flags&=-33);var v=af(e);Ac(e,v,m);break;case 3:case 4:var S=d.stateNode.containerInfo,O=af(e);Oc(e,O,S);break;default:throw Error(o(161))}}catch(I){xt(e,e.return,I)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ym(e,n,a){ye=e,df(e)}function df(e,n,a){for(var d=(e.mode&1)!==0;ye!==null;){var m=ye,v=m.child;if(m.tag===22&&d){var S=m.memoizedState!==null||Hl;if(!S){var O=m.alternate,I=O!==null&&O.memoizedState!==null||Vt;O=Hl;var W=Vt;if(Hl=S,(Vt=I)&&!W)for(ye=m;ye!==null;)S=ye,I=S.child,S.tag===22&&S.memoizedState!==null?pf(m):I!==null?(I.return=S,ye=I):pf(m);for(;v!==null;)ye=v,df(v),v=v.sibling;ye=m,Hl=O,Vt=W}hf(e)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,ye=v):hf(e)}}function hf(e){for(;ye!==null;){var n=ye;if((n.flags&8772)!==0){var a=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Vt||Wl(5,n);break;case 1:var d=n.stateNode;if(n.flags&4&&!Vt)if(a===null)d.componentDidMount();else{var m=n.elementType===n.type?a.memoizedProps:qn(n.type,a.memoizedProps);d.componentDidUpdate(m,a.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=n.updateQueue;v!==null&&hh(n,v,d);break;case 3:var S=n.updateQueue;if(S!==null){if(a=null,n.child!==null)switch(n.child.tag){case 5:a=n.child.stateNode;break;case 1:a=n.child.stateNode}hh(n,S,a)}break;case 5:var O=n.stateNode;if(a===null&&n.flags&4){a=O;var I=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&a.focus();break;case"img":I.src&&(a.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var W=n.alternate;if(W!==null){var te=W.memoizedState;if(te!==null){var re=te.dehydrated;re!==null&&mn(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}Vt||n.flags&512&&Rc(n)}catch(X){xt(n,n.return,X)}}if(n===e){ye=null;break}if(a=n.sibling,a!==null){a.return=n.return,ye=a;break}ye=n.return}}function ff(e){for(;ye!==null;){var n=ye;if(n===e){ye=null;break}var a=n.sibling;if(a!==null){a.return=n.return,ye=a;break}ye=n.return}}function pf(e){for(;ye!==null;){var n=ye;try{switch(n.tag){case 0:case 11:case 15:var a=n.return;try{Wl(4,n)}catch(I){xt(n,a,I)}break;case 1:var d=n.stateNode;if(typeof d.componentDidMount=="function"){var m=n.return;try{d.componentDidMount()}catch(I){xt(n,m,I)}}var v=n.return;try{Rc(n)}catch(I){xt(n,v,I)}break;case 5:var S=n.return;try{Rc(n)}catch(I){xt(n,S,I)}}}catch(I){xt(n,n.return,I)}if(n===e){ye=null;break}var O=n.sibling;if(O!==null){O.return=n.return,ye=O;break}ye=n.return}}var Qm=Math.ceil,Zl=ee.ReactCurrentDispatcher,Ic=ee.ReactCurrentOwner,In=ee.ReactCurrentBatchConfig,qe=0,At=null,Et=null,Dt=0,bn=0,ss=go(0),Mt=0,wa=null,ri=0,Vl=0,Nc=0,ba=null,ln=null,zc=0,as=1/0,Br=null,ql=!1,Fc=null,bo=null,Kl=!1,So=null,Jl=0,Sa=0,Dc=null,Yl=-1,Ql=0;function en(){return(qe&6)!==0?pt():Yl!==-1?Yl:Yl=pt()}function ko(e){return(e.mode&1)===0?1:(qe&2)!==0&&Dt!==0?Dt&-Dt:Im.transition!==null?(Ql===0&&(Ql=tl()),Ql):(e=Ze,e!==0||(e=window.event,e=e===void 0?16:He(e.type)),e)}function Yn(e,n,a,d){if(50<Sa)throw Sa=0,Dc=null,Error(o(185));fn(e,a,d),((qe&2)===0||e!==At)&&(e===At&&((qe&2)===0&&(Vl|=a),Mt===4&&Eo(e,Dt)),un(e,d),a===1&&qe===0&&(n.mode&1)===0&&(as=pt()+500,Cl&&yo()))}function un(e,n){var a=e.callbackNode;Pi(e,n);var d=ot(e,e===At?Dt:0);if(d===0)a!==null&&Fs(a),e.callbackNode=null,e.callbackPriority=0;else if(n=d&-d,e.callbackPriority!==n){if(a!=null&&Fs(a),n===1)e.tag===0?Am(gf.bind(null,e)):eh(gf.bind(null,e)),Gt(function(){(qe&6)===0&&yo()}),a=null;else{switch(Qr(d)){case 1:a=Ds;break;case 4:a=el;break;case 16:a=Ei;break;case 536870912:a=qr;break;default:a=Ei}a=kf(a,mf.bind(null,e))}e.callbackPriority=n,e.callbackNode=a}}function mf(e,n){if(Yl=-1,Ql=0,(qe&6)!==0)throw Error(o(327));var a=e.callbackNode;if(ls()&&e.callbackNode!==a)return null;var d=ot(e,e===At?Dt:0);if(d===0)return null;if((d&30)!==0||(d&e.expiredLanes)!==0||n)n=Xl(e,d);else{n=d;var m=qe;qe|=2;var v=yf();(At!==e||Dt!==n)&&(Br=null,as=pt()+500,ii(e,n));do try{tg();break}catch(O){vf(e,O)}while(!0);rc(),Zl.current=v,qe=m,Et!==null?n=0:(At=null,Dt=0,n=Mt)}if(n!==0){if(n===2&&(m=Ut(e),m!==0&&(d=m,n=Bc(e,m))),n===1)throw a=wa,ii(e,0),Eo(e,d),un(e,pt()),a;if(n===6)Eo(e,d);else{if(m=e.current.alternate,(d&30)===0&&!Xm(m)&&(n=Xl(e,d),n===2&&(v=Ut(e),v!==0&&(d=v,n=Bc(e,v))),n===1))throw a=wa,ii(e,0),Eo(e,d),un(e,pt()),a;switch(e.finishedWork=m,e.finishedLanes=d,n){case 0:case 1:throw Error(o(345));case 2:si(e,ln,Br);break;case 3:if(Eo(e,d),(d&130023424)===d&&(n=zc+500-pt(),10<n)){if(ot(e,0)!==0)break;if(m=e.suspendedLanes,(m&d)!==d){en(),e.pingedLanes|=e.suspendedLanes&m;break}e.timeoutHandle=Tt(si.bind(null,e,ln,Br),n);break}si(e,ln,Br);break;case 4:if(Eo(e,d),(d&4194240)===d)break;for(n=e.eventTimes,m=-1;0<d;){var S=31-Fe(d);v=1<<S,S=n[S],S>m&&(m=S),d&=~v}if(d=m,d=pt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Qm(d/1960))-d,10<d){e.timeoutHandle=Tt(si.bind(null,e,ln,Br),d);break}si(e,ln,Br);break;case 5:si(e,ln,Br);break;default:throw Error(o(329))}}}return un(e,pt()),e.callbackNode===a?mf.bind(null,e):null}function Bc(e,n){var a=ba;return e.current.memoizedState.isDehydrated&&(ii(e,n).flags|=256),e=Xl(e,n),e!==2&&(n=ln,ln=a,n!==null&&Uc(n)),e}function Uc(e){ln===null?ln=e:ln.push.apply(ln,e)}function Xm(e){for(var n=e;;){if(n.flags&16384){var a=n.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var d=0;d<a.length;d++){var m=a[d],v=m.getSnapshot;m=m.value;try{if(!yn(v(),m))return!1}catch{return!1}}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Eo(e,n){for(n&=~Nc,n&=~Vl,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var a=31-Fe(n),d=1<<a;e[a]=-1,n&=~d}}function gf(e){if((qe&6)!==0)throw Error(o(327));ls();var n=ot(e,0);if((n&1)===0)return un(e,pt()),null;var a=Xl(e,n);if(e.tag!==0&&a===2){var d=Ut(e);d!==0&&(n=d,a=Bc(e,d))}if(a===1)throw a=wa,ii(e,0),Eo(e,n),un(e,pt()),a;if(a===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,si(e,ln,Br),un(e,pt()),null}function $c(e,n){var a=qe;qe|=1;try{return e(n)}finally{qe=a,qe===0&&(as=pt()+500,Cl&&yo())}}function oi(e){So!==null&&So.tag===0&&(qe&6)===0&&ls();var n=qe;qe|=1;var a=In.transition,d=Ze;try{if(In.transition=null,Ze=1,e)return e()}finally{Ze=d,In.transition=a,qe=n,(qe&6)===0&&yo()}}function Gc(){bn=ss.current,dt(ss)}function ii(e,n){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,kt(a)),Et!==null)for(a=Et.return;a!==null;){var d=a;switch(Qu(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&kl();break;case 3:rs(),dt(on),dt(Ht),dc();break;case 5:uc(d);break;case 4:rs();break;case 13:dt(gt);break;case 19:dt(gt);break;case 10:oc(d.type._context);break;case 22:case 23:Gc()}a=a.return}if(At=e,Et=e=Co(e.current,null),Dt=bn=n,Mt=0,wa=null,Nc=Vl=ri=0,ln=ba=null,ei!==null){for(n=0;n<ei.length;n++)if(a=ei[n],d=a.interleaved,d!==null){a.interleaved=null;var m=d.next,v=a.pending;if(v!==null){var S=v.next;v.next=m,d.next=S}a.pending=d}ei=null}return e}function vf(e,n){do{var a=Et;try{if(rc(),Nl.current=Bl,zl){for(var d=vt.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}zl=!1}if(ni=0,Ot=Lt=vt=null,ma=!1,ga=0,Ic.current=null,a===null||a.return===null){Mt=1,wa=n,Et=null;break}e:{var v=e,S=a.return,O=a,I=n;if(n=Dt,O.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=I,te=O,re=te.tag;if((te.mode&1)===0&&(re===0||re===11||re===15)){var X=te.alternate;X?(te.updateQueue=X.updateQueue,te.memoizedState=X.memoizedState,te.lanes=X.lanes):(te.updateQueue=null,te.memoizedState=null)}var me=Uh(S);if(me!==null){me.flags&=-257,$h(me,S,O,v,n),me.mode&1&&Bh(v,W,n),n=me,I=W;var _e=n.updateQueue;if(_e===null){var be=new Set;be.add(I),n.updateQueue=be}else _e.add(I);break e}else{if((n&1)===0){Bh(v,W,n),Hc();break e}I=Error(o(426))}}else if(ft&&O.mode&1){var bt=Uh(S);if(bt!==null){(bt.flags&65536)===0&&(bt.flags|=256),$h(bt,S,O,v,n),tc(os(I,O));break e}}v=I=os(I,O),Mt!==4&&(Mt=2),ba===null?ba=[v]:ba.push(v),v=S;do{switch(v.tag){case 3:v.flags|=65536,n&=-n,v.lanes|=n;var D=Fh(v,I,n);dh(v,D);break e;case 1:O=I;var N=v.type,$=v.stateNode;if((v.flags&128)===0&&(typeof N.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(bo===null||!bo.has($)))){v.flags|=65536,n&=-n,v.lanes|=n;var ie=Dh(v,O,n);dh(v,ie);break e}}v=v.return}while(v!==null)}xf(a)}catch(ke){n=ke,Et===a&&a!==null&&(Et=a=a.return);continue}break}while(!0)}function yf(){var e=Zl.current;return Zl.current=Bl,e===null?Bl:e}function Hc(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),At===null||(ri&268435455)===0&&(Vl&268435455)===0||Eo(At,Dt)}function Xl(e,n){var a=qe;qe|=2;var d=yf();(At!==e||Dt!==n)&&(Br=null,ii(e,n));do try{eg();break}catch(m){vf(e,m)}while(!0);if(rc(),qe=a,Zl.current=d,Et!==null)throw Error(o(261));return At=null,Dt=0,Mt}function eg(){for(;Et!==null;)_f(Et)}function tg(){for(;Et!==null&&!ju();)_f(Et)}function _f(e){var n=Sf(e.alternate,e,bn);e.memoizedProps=e.pendingProps,n===null?xf(e):Et=n,Ic.current=null}function xf(e){var n=e;do{var a=n.alternate;if(e=n.return,(n.flags&32768)===0){if(a=Vm(a,n,bn),a!==null){Et=a;return}}else{if(a=qm(a,n),a!==null){a.flags&=32767,Et=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Mt=6,Et=null;return}}if(n=n.sibling,n!==null){Et=n;return}Et=n=e}while(n!==null);Mt===0&&(Mt=5)}function si(e,n,a){var d=Ze,m=In.transition;try{In.transition=null,Ze=1,ng(e,n,a,d)}finally{In.transition=m,Ze=d}return null}function ng(e,n,a,d){do ls();while(So!==null);if((qe&6)!==0)throw Error(o(327));a=e.finishedWork;var m=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var v=a.lanes|a.childLanes;if(_t(e,v),e===At&&(Et=At=null,Dt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Kl||(Kl=!0,kf(Ei,function(){return ls(),null})),v=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||v){v=In.transition,In.transition=null;var S=Ze;Ze=1;var O=qe;qe|=4,Ic.current=null,Jm(e,a),cf(a,e),Tn(Pe),Go=!!pe,Pe=pe=null,e.current=a,Ym(a),ki(),qe=O,Ze=S,In.transition=v}else e.current=a;if(Kl&&(Kl=!1,So=e,Jl=m),v=e.pendingLanes,v===0&&(bo=null),Fo(a.stateNode),un(e,pt()),n!==null)for(d=e.onRecoverableError,a=0;a<n.length;a++)m=n[a],d(m.value,{componentStack:m.stack,digest:m.digest});if(ql)throw ql=!1,e=Fc,Fc=null,e;return(Jl&1)!==0&&e.tag!==0&&ls(),v=e.pendingLanes,(v&1)!==0?e===Dc?Sa++:(Sa=0,Dc=e):Sa=0,yo(),null}function ls(){if(So!==null){var e=Qr(Jl),n=In.transition,a=Ze;try{if(In.transition=null,Ze=16>e?16:e,So===null)var d=!1;else{if(e=So,So=null,Jl=0,(qe&6)!==0)throw Error(o(331));var m=qe;for(qe|=4,ye=e.current;ye!==null;){var v=ye,S=v.child;if((ye.flags&16)!==0){var O=v.deletions;if(O!==null){for(var I=0;I<O.length;I++){var W=O[I];for(ye=W;ye!==null;){var te=ye;switch(te.tag){case 0:case 11:case 15:xa(8,te,v)}var re=te.child;if(re!==null)re.return=te,ye=re;else for(;ye!==null;){te=ye;var X=te.sibling,me=te.return;if(of(te),te===W){ye=null;break}if(X!==null){X.return=me,ye=X;break}ye=me}}}var _e=v.alternate;if(_e!==null){var be=_e.child;if(be!==null){_e.child=null;do{var bt=be.sibling;be.sibling=null,be=bt}while(be!==null)}}ye=v}}if((v.subtreeFlags&2064)!==0&&S!==null)S.return=v,ye=S;else e:for(;ye!==null;){if(v=ye,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:xa(9,v,v.return)}var D=v.sibling;if(D!==null){D.return=v.return,ye=D;break e}ye=v.return}}var N=e.current;for(ye=N;ye!==null;){S=ye;var $=S.child;if((S.subtreeFlags&2064)!==0&&$!==null)$.return=S,ye=$;else e:for(S=N;ye!==null;){if(O=ye,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:Wl(9,O)}}catch(ke){xt(O,O.return,ke)}if(O===S){ye=null;break e}var ie=O.sibling;if(ie!==null){ie.return=O.return,ye=ie;break e}ye=O.return}}if(qe=m,yo(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(zo,e)}catch{}d=!0}return d}finally{Ze=a,In.transition=n}}return!1}function wf(e,n,a){n=os(a,n),n=Fh(e,n,1),e=xo(e,n,1),n=en(),e!==null&&(fn(e,1,n),un(e,n))}function xt(e,n,a){if(e.tag===3)wf(e,e,a);else for(;n!==null;){if(n.tag===3){wf(n,e,a);break}else if(n.tag===1){var d=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(bo===null||!bo.has(d))){e=os(a,e),e=Dh(n,e,1),n=xo(n,e,1),e=en(),n!==null&&(fn(n,1,e),un(n,e));break}}n=n.return}}function rg(e,n,a){var d=e.pingCache;d!==null&&d.delete(n),n=en(),e.pingedLanes|=e.suspendedLanes&a,At===e&&(Dt&a)===a&&(Mt===4||Mt===3&&(Dt&130023424)===Dt&&500>pt()-zc?ii(e,0):Nc|=a),un(e,n)}function bf(e,n){n===0&&((e.mode&1)===0?n=1:(n=Jr,Jr<<=1,(Jr&130023424)===0&&(Jr=4194304)));var a=en();e=zr(e,n),e!==null&&(fn(e,n,a),un(e,a))}function og(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),bf(e,a)}function ig(e,n){var a=0;switch(e.tag){case 13:var d=e.stateNode,m=e.memoizedState;m!==null&&(a=m.retryLane);break;case 19:d=e.stateNode;break;default:throw Error(o(314))}d!==null&&d.delete(n),bf(e,a)}var Sf;Sf=function(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps||on.current)an=!0;else{if((e.lanes&a)===0&&(n.flags&128)===0)return an=!1,Zm(e,n,a);an=(e.flags&131072)!==0}else an=!1,ft&&(n.flags&1048576)!==0&&th(n,Tl,n.index);switch(n.lanes=0,n.tag){case 2:var d=n.type;Gl(e,n),e=n.pendingProps;var m=Ji(n,Ht.current);ns(n,a),m=pc(null,n,d,e,m,a);var v=mc();return n.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,sn(d)?(v=!0,El(n)):v=!1,n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,ac(n),m.updater=Ul,n.stateNode=m,m._reactInternals=n,wc(n,d,e,a),n=Ec(null,n,d,!0,v,a)):(n.tag=0,ft&&v&&Yu(n),Xt(null,n,m,a),n=n.child),n;case 16:d=n.elementType;e:{switch(Gl(e,n),e=n.pendingProps,m=d._init,d=m(d._payload),n.type=d,m=n.tag=ag(d),e=qn(d,e),m){case 0:n=kc(null,n,d,e,a);break e;case 1:n=qh(null,n,d,e,a);break e;case 11:n=Gh(null,n,d,e,a);break e;case 14:n=Hh(null,n,d,qn(d.type,e),a);break e}throw Error(o(306,d,""))}return n;case 0:return d=n.type,m=n.pendingProps,m=n.elementType===d?m:qn(d,m),kc(e,n,d,m,a);case 1:return d=n.type,m=n.pendingProps,m=n.elementType===d?m:qn(d,m),qh(e,n,d,m,a);case 3:e:{if(Kh(n),e===null)throw Error(o(387));d=n.pendingProps,v=n.memoizedState,m=v.element,ch(e,n),Al(n,d,null,a);var S=n.memoizedState;if(d=S.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},n.updateQueue.baseState=v,n.memoizedState=v,n.flags&256){m=os(Error(o(423)),n),n=Jh(e,n,d,a,m);break e}else if(d!==m){m=os(Error(o(424)),n),n=Jh(e,n,d,a,m);break e}else for(wn=cr(n.stateNode.containerInfo.firstChild),xn=n,ft=!0,Vn=null,a=lh(n,null,d,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Xi(),d===m){n=Dr(e,n,a);break e}Xt(e,n,d,a)}n=n.child}return n;case 5:return fh(n),e===null&&ec(n),d=n.type,m=n.pendingProps,v=e!==null?e.memoizedProps:null,S=m.children,De(d,m)?S=null:v!==null&&De(d,v)&&(n.flags|=32),Vh(e,n),Xt(e,n,S,a),n.child;case 6:return e===null&&ec(n),null;case 13:return Yh(e,n,a);case 4:return lc(n,n.stateNode.containerInfo),d=n.pendingProps,e===null?n.child=es(n,null,d,a):Xt(e,n,d,a),n.child;case 11:return d=n.type,m=n.pendingProps,m=n.elementType===d?m:qn(d,m),Gh(e,n,d,m,a);case 7:return Xt(e,n,n.pendingProps,a),n.child;case 8:return Xt(e,n,n.pendingProps.children,a),n.child;case 12:return Xt(e,n,n.pendingProps.children,a),n.child;case 10:e:{if(d=n.type._context,m=n.pendingProps,v=n.memoizedProps,S=m.value,it(jl,d._currentValue),d._currentValue=S,v!==null)if(yn(v.value,S)){if(v.children===m.children&&!on.current){n=Dr(e,n,a);break e}}else for(v=n.child,v!==null&&(v.return=n);v!==null;){var O=v.dependencies;if(O!==null){S=v.child;for(var I=O.firstContext;I!==null;){if(I.context===d){if(v.tag===1){I=Fr(-1,a&-a),I.tag=2;var W=v.updateQueue;if(W!==null){W=W.shared;var te=W.pending;te===null?I.next=I:(I.next=te.next,te.next=I),W.pending=I}}v.lanes|=a,I=v.alternate,I!==null&&(I.lanes|=a),ic(v.return,a,n),O.lanes|=a;break}I=I.next}}else if(v.tag===10)S=v.type===n.type?null:v.child;else if(v.tag===18){if(S=v.return,S===null)throw Error(o(341));S.lanes|=a,O=S.alternate,O!==null&&(O.lanes|=a),ic(S,a,n),S=v.sibling}else S=v.child;if(S!==null)S.return=v;else for(S=v;S!==null;){if(S===n){S=null;break}if(v=S.sibling,v!==null){v.return=S.return,S=v;break}S=S.return}v=S}Xt(e,n,m.children,a),n=n.child}return n;case 9:return m=n.type,d=n.pendingProps.children,ns(n,a),m=On(m),d=d(m),n.flags|=1,Xt(e,n,d,a),n.child;case 14:return d=n.type,m=qn(d,n.pendingProps),m=qn(d.type,m),Hh(e,n,d,m,a);case 15:return Wh(e,n,n.type,n.pendingProps,a);case 17:return d=n.type,m=n.pendingProps,m=n.elementType===d?m:qn(d,m),Gl(e,n),n.tag=1,sn(d)?(e=!0,El(n)):e=!1,ns(n,a),Nh(n,d,m),wc(n,d,m,a),Ec(null,n,d,!0,e,a);case 19:return Xh(e,n,a);case 22:return Zh(e,n,a)}throw Error(o(156,n.tag))};function kf(e,n){return Xa(e,n)}function sg(e,n,a,d){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(e,n,a,d){return new sg(e,n,a,d)}function Wc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ag(e){if(typeof e=="function")return Wc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ne)return 11;if(e===he)return 14}return 2}function Co(e,n){var a=e.alternate;return a===null?(a=Nn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function eu(e,n,a,d,m,v){var S=2;if(d=e,typeof e=="function")Wc(e)&&(S=1);else if(typeof e=="string")S=5;else e:switch(e){case ge:return ai(a.children,m,v,n);case q:S=8,m|=8;break;case J:return e=Nn(12,a,n,m|2),e.elementType=J,e.lanes=v,e;case je:return e=Nn(13,a,n,m),e.elementType=je,e.lanes=v,e;case ce:return e=Nn(19,a,n,m),e.elementType=ce,e.lanes=v,e;case Ce:return tu(a,m,v,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xe:S=10;break e;case ve:S=9;break e;case ne:S=11;break e;case he:S=14;break e;case fe:S=16,d=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return n=Nn(S,a,n,m),n.elementType=e,n.type=d,n.lanes=v,n}function ai(e,n,a,d){return e=Nn(7,e,d,n),e.lanes=a,e}function tu(e,n,a,d){return e=Nn(22,e,d,n),e.elementType=Ce,e.lanes=a,e.stateNode={isHidden:!1},e}function Zc(e,n,a){return e=Nn(6,e,null,n),e.lanes=a,e}function Vc(e,n,a){return n=Nn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function lg(e,n,a,d,m){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yr(0),this.expirationTimes=Yr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yr(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function qc(e,n,a,d,m,v,S,O,I){return e=new lg(e,n,a,O,I),n===1?(n=1,v===!0&&(n|=8)):n=0,v=Nn(3,null,null,n),e.current=v,v.stateNode=e,v.memoizedState={element:d,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},ac(v),e}function ug(e,n,a){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:d==null?null:""+d,children:e,containerInfo:n,implementation:a}}function Ef(e){if(!e)return vo;e=e._reactInternals;e:{if(nr(e)!==e||e.tag!==1)throw Error(o(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(sn(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(o(171))}if(e.tag===1){var a=e.type;if(sn(a))return Qd(e,a,n)}return n}function Cf(e,n,a,d,m,v,S,O,I){return e=qc(a,d,!0,e,m,v,S,O,I),e.context=Ef(null),a=e.current,d=en(),m=ko(a),v=Fr(d,m),v.callback=n??null,xo(a,v,m),e.current.lanes=m,fn(e,m,d),un(e,d),e}function nu(e,n,a,d){var m=n.current,v=en(),S=ko(m);return a=Ef(a),n.context===null?n.context=a:n.pendingContext=a,n=Fr(v,S),n.payload={element:e},d=d===void 0?null:d,d!==null&&(n.callback=d),e=xo(m,n,S),e!==null&&(Yn(e,m,S,v),Ol(e,m,S)),S}function ru(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pf(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Kc(e,n){Pf(e,n),(e=e.alternate)&&Pf(e,n)}function cg(){return null}var Tf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}ou.prototype.render=Jc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));nu(e,n,null,null)},ou.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;oi(function(){nu(null,e,null,null)}),n[Qe]=null}};function ou(e){this._internalRoot=e}ou.prototype.unstable_scheduleHydration=function(e){if(e){var n=Mi();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Pt.length&&n!==0&&n<Pt[a].priority;a++);Pt.splice(a,0,e),a===0&&ji(e)}};function Yc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function iu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Lf(){}function dg(e,n,a,d,m){if(m){if(typeof d=="function"){var v=d;d=function(){var W=ru(S);v.call(W)}}var S=Cf(n,d,e,0,null,!1,!1,"",Lf);return e._reactRootContainer=S,e[Qe]=S.current,ho(e.nodeType===8?e.parentNode:e),oi(),S}for(;m=e.lastChild;)e.removeChild(m);if(typeof d=="function"){var O=d;d=function(){var W=ru(I);O.call(W)}}var I=qc(e,0,!1,null,null,!1,!1,"",Lf);return e._reactRootContainer=I,e[Qe]=I.current,ho(e.nodeType===8?e.parentNode:e),oi(function(){nu(n,I,a,d)}),I}function su(e,n,a,d,m){var v=a._reactRootContainer;if(v){var S=v;if(typeof m=="function"){var O=m;m=function(){var I=ru(S);O.call(I)}}nu(n,S,e,m)}else S=dg(a,n,e,m,d);return ru(S)}Ti=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var a=Ne(n.pendingLanes);a!==0&&($n(n,a|1),un(n,pt()),(qe&6)===0&&(as=pt()+500,yo()))}break;case 13:oi(function(){var d=zr(e,1);if(d!==null){var m=en();Yn(d,e,1,m)}}),Kc(e,1)}},br=function(e){if(e.tag===13){var n=zr(e,134217728);if(n!==null){var a=en();Yn(n,e,134217728,a)}Kc(e,134217728)}},Li=function(e){if(e.tag===13){var n=ko(e),a=zr(e,n);if(a!==null){var d=en();Yn(a,e,n,d)}Kc(e,n)}},Mi=function(){return Ze},Do=function(e,n){var a=Ze;try{return Ze=e,n()}finally{Ze=a}},wi=function(e,n,a){switch(n){case"input":if(we(e,a),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<a.length;n++){var d=a[n];if(d!==e&&d.form===e.form){var m=qi(d);if(!m)throw Error(o(90));nt(d),we(d,m)}}}break;case"textarea":Kt(e,a);break;case"select":n=a.value,n!=null&&Ve(e,!!a.multiple,n,!1)}},Va=$c,qa=oi;var hg={usingClientEntryPoint:!1,Events:[Rr,Or,qi,Wa,Za,$c]},ka={findFiberByHostInstance:jr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fg={bundleType:ka.bundleType,version:ka.version,rendererPackageName:ka.rendererPackageName,rendererConfig:ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ya(e),e===null?null:e.stateNode},findFiberByHostInstance:ka.findFiberByHostInstance||cg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{zo=au.inject(fg),hn=au}catch{}}return cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hg,cn.createPortal=function(e,n){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yc(n))throw Error(o(200));return ug(e,n,null,a)},cn.createRoot=function(e,n){if(!Yc(e))throw Error(o(299));var a=!1,d="",m=Tf;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(d=n.identifierPrefix),n.onRecoverableError!==void 0&&(m=n.onRecoverableError)),n=qc(e,1,!1,null,null,a,!1,d,m),e[Qe]=n.current,ho(e.nodeType===8?e.parentNode:e),new Jc(n)},cn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=Ya(n),e=e===null?null:e.stateNode,e},cn.flushSync=function(e){return oi(e)},cn.hydrate=function(e,n,a){if(!iu(n))throw Error(o(200));return su(null,e,n,!0,a)},cn.hydrateRoot=function(e,n,a){if(!Yc(e))throw Error(o(405));var d=a!=null&&a.hydratedSources||null,m=!1,v="",S=Tf;if(a!=null&&(a.unstable_strictMode===!0&&(m=!0),a.identifierPrefix!==void 0&&(v=a.identifierPrefix),a.onRecoverableError!==void 0&&(S=a.onRecoverableError)),n=Cf(n,null,e,1,a??null,m,!1,v,S),e[Qe]=n.current,ho(e),d)for(e=0;e<d.length;e++)a=d[e],m=a._getVersion,m=m(a._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[a,m]:n.mutableSourceEagerHydrationData.push(a,m);return new ou(n)},cn.render=function(e,n,a){if(!iu(n))throw Error(o(200));return su(null,e,n,!1,a)},cn.unmountComponentAtNode=function(e){if(!iu(e))throw Error(o(40));return e._reactRootContainer?(oi(function(){su(null,null,e,!1,function(){e._reactRootContainer=null,e[Qe]=null})}),!0):!1},cn.unstable_batchedUpdates=$c,cn.unstable_renderSubtreeIntoContainer=function(e,n,a,d){if(!iu(a))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return su(e,n,a,!1,d)},cn.version="18.3.1-next-f1338f8080-20240426",cn}var zf;function Mp(){if(zf)return ed.exports;zf=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),ed.exports=Sg(),ed.exports}var Ff;function kg(){if(Ff)return lu;Ff=1;var s=Mp();return lu.createRoot=s.createRoot,lu.hydrateRoot=s.hydrateRoot,lu}var Eg=kg();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Df="popstate";function Cg(s={}){function r(l,u){let{pathname:h,search:g,hash:x}=l.location;return _d("",{pathname:h,search:g,hash:x},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function o(l,u){return typeof u=="string"?u:Aa(u)}return Tg(r,o,null,s)}function yt(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function gr(s,r){if(!s){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Pg(){return Math.random().toString(36).substring(2,10)}function Bf(s,r){return{usr:s.state,key:s.key,idx:r}}function _d(s,r,o=null,l){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof r=="string"?Ps(r):r,state:o,key:r&&r.key||l||Pg()}}function Aa({pathname:s="/",search:r="",hash:o=""}){return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(s+=o.charAt(0)==="#"?o:"#"+o),s}function Ps(s){let r={};if(s){let o=s.indexOf("#");o>=0&&(r.hash=s.substring(o),s=s.substring(0,o));let l=s.indexOf("?");l>=0&&(r.search=s.substring(l),s=s.substring(0,l)),s&&(r.pathname=s)}return r}function Tg(s,r,o,l={}){let{window:u=document.defaultView,v5Compat:h=!1}=l,g=u.history,x="POP",y=null,w=b();w==null&&(w=0,g.replaceState({...g.state,idx:w},""));function b(){return(g.state||{idx:null}).idx}function E(){x="POP";let z=b(),V=z==null?null:z-w;w=z,y&&y({action:x,location:R.location,delta:V})}function M(z,V){x="PUSH";let Y=_d(R.location,z,V);w=b()+1;let G=Bf(Y,w),ee=R.createHref(Y);try{g.pushState(G,"",ee)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;u.location.assign(ee)}h&&y&&y({action:x,location:R.location,delta:1})}function T(z,V){x="REPLACE";let Y=_d(R.location,z,V);w=b();let G=Bf(Y,w),ee=R.createHref(Y);g.replaceState(G,"",ee),h&&y&&y({action:x,location:R.location,delta:0})}function P(z){return Lg(z)}let R={get action(){return x},get location(){return s(u,g)},listen(z){if(y)throw new Error("A history only accepts one active listener");return u.addEventListener(Df,E),y=z,()=>{u.removeEventListener(Df,E),y=null}},createHref(z){return r(u,z)},createURL:P,encodeLocation(z){let V=P(z);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:M,replace:T,go(z){return g.go(z)}};return R}function Lg(s,r=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),yt(o,"No window.location.(origin|href) available to create URL");let l=typeof s=="string"?s:Aa(s);return l=l.replace(/ $/,"%20"),!r&&l.startsWith("//")&&(l=o+l),new URL(l,o)}function jp(s,r,o="/"){return Mg(s,r,o,!1)}function Mg(s,r,o,l){let u=typeof r=="string"?Ps(r):r,h=Zr(u.pathname||"/",o);if(h==null)return null;let g=Rp(s);jg(g);let x=null;for(let y=0;x==null&&y<g.length;++y){let w=$g(h);x=Bg(g[y],w,l)}return x}function Rp(s,r=[],o=[],l=""){let u=(h,g,x)=>{let y={relativePath:x===void 0?h.path||"":x,caseSensitive:h.caseSensitive===!0,childrenIndex:g,route:h};y.relativePath.startsWith("/")&&(yt(y.relativePath.startsWith(l),`Absolute route path "${y.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(l.length));let w=Wr([l,y.relativePath]),b=o.concat(y);h.children&&h.children.length>0&&(yt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),Rp(h.children,r,b,w)),!(h.path==null&&!h.index)&&r.push({path:w,score:Fg(w,h.index),routesMeta:b})};return s.forEach((h,g)=>{var x;if(h.path===""||!((x=h.path)!=null&&x.includes("?")))u(h,g);else for(let y of Op(h.path))u(h,g,y)}),r}function Op(s){let r=s.split("/");if(r.length===0)return[];let[o,...l]=r,u=o.endsWith("?"),h=o.replace(/\?$/,"");if(l.length===0)return u?[h,""]:[h];let g=Op(l.join("/")),x=[];return x.push(...g.map(y=>y===""?h:[h,y].join("/"))),u&&x.push(...g),x.map(y=>s.startsWith("/")&&y===""?"/":y)}function jg(s){s.sort((r,o)=>r.score!==o.score?o.score-r.score:Dg(r.routesMeta.map(l=>l.childrenIndex),o.routesMeta.map(l=>l.childrenIndex)))}var Rg=/^:[\w-]+$/,Og=3,Ag=2,Ig=1,Ng=10,zg=-2,Uf=s=>s==="*";function Fg(s,r){let o=s.split("/"),l=o.length;return o.some(Uf)&&(l+=zg),r&&(l+=Ag),o.filter(u=>!Uf(u)).reduce((u,h)=>u+(Rg.test(h)?Og:h===""?Ig:Ng),l)}function Dg(s,r){return s.length===r.length&&s.slice(0,-1).every((l,u)=>l===r[u])?s[s.length-1]-r[r.length-1]:0}function Bg(s,r,o=!1){let{routesMeta:l}=s,u={},h="/",g=[];for(let x=0;x<l.length;++x){let y=l[x],w=x===l.length-1,b=h==="/"?r:r.slice(h.length)||"/",E=gu({path:y.relativePath,caseSensitive:y.caseSensitive,end:w},b),M=y.route;if(!E&&w&&o&&!l[l.length-1].route.index&&(E=gu({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},b)),!E)return null;Object.assign(u,E.params),g.push({params:u,pathname:Wr([h,E.pathname]),pathnameBase:Zg(Wr([h,E.pathnameBase])),route:M}),E.pathnameBase!=="/"&&(h=Wr([h,E.pathnameBase]))}return g}function gu(s,r){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[o,l]=Ug(s.path,s.caseSensitive,s.end),u=r.match(o);if(!u)return null;let h=u[0],g=h.replace(/(.)\/+$/,"$1"),x=u.slice(1);return{params:l.reduce((w,{paramName:b,isOptional:E},M)=>{if(b==="*"){let P=x[M]||"";g=h.slice(0,h.length-P.length).replace(/(.)\/+$/,"$1")}const T=x[M];return E&&!T?w[b]=void 0:w[b]=(T||"").replace(/%2F/g,"/"),w},{}),pathname:h,pathnameBase:g,pattern:s}}function Ug(s,r=!1,o=!0){gr(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let l=[],u="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,x,y)=>(l.push({paramName:x,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(l.push({paramName:"*"}),u+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?u+="\\/*$":s!==""&&s!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,r?void 0:"i"),l]}function $g(s){try{return s.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return gr(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),s}}function Zr(s,r){if(r==="/")return s;if(!s.toLowerCase().startsWith(r.toLowerCase()))return null;let o=r.endsWith("/")?r.length-1:r.length,l=s.charAt(o);return l&&l!=="/"?null:s.slice(o)||"/"}function Gg(s,r="/"){let{pathname:o,search:l="",hash:u=""}=typeof s=="string"?Ps(s):s;return{pathname:o?o.startsWith("/")?o:Hg(o,r):r,search:Vg(l),hash:qg(u)}}function Hg(s,r){let o=r.replace(/\/+$/,"").split("/");return s.split("/").forEach(u=>{u===".."?o.length>1&&o.pop():u!=="."&&o.push(u)}),o.length>1?o.join("/"):"/"}function rd(s,r,o,l){return`Cannot include a '${s}' character in a manually specified \`to.${r}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Wg(s){return s.filter((r,o)=>o===0||r.route.path&&r.route.path.length>0)}function Ap(s){let r=Wg(s);return r.map((o,l)=>l===r.length-1?o.pathname:o.pathnameBase)}function Ip(s,r,o,l=!1){let u;typeof s=="string"?u=Ps(s):(u={...s},yt(!u.pathname||!u.pathname.includes("?"),rd("?","pathname","search",u)),yt(!u.pathname||!u.pathname.includes("#"),rd("#","pathname","hash",u)),yt(!u.search||!u.search.includes("#"),rd("#","search","hash",u)));let h=s===""||u.pathname==="",g=h?"/":u.pathname,x;if(g==null)x=o;else{let E=r.length-1;if(!l&&g.startsWith("..")){let M=g.split("/");for(;M[0]==="..";)M.shift(),E-=1;u.pathname=M.join("/")}x=E>=0?r[E]:"/"}let y=Gg(u,x),w=g&&g!=="/"&&g.endsWith("/"),b=(h||g===".")&&o.endsWith("/");return!y.pathname.endsWith("/")&&(w||b)&&(y.pathname+="/"),y}var Wr=s=>s.join("/").replace(/\/\/+/g,"/"),Zg=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Vg=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,qg=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Kg(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var Np=["POST","PUT","PATCH","DELETE"];new Set(Np);var Jg=["GET",...Np];new Set(Jg);var Ts=k.createContext(null);Ts.displayName="DataRouter";var xu=k.createContext(null);xu.displayName="DataRouterState";k.createContext(!1);var zp=k.createContext({isTransitioning:!1});zp.displayName="ViewTransition";var Yg=k.createContext(new Map);Yg.displayName="Fetchers";var Qg=k.createContext(null);Qg.displayName="Await";var vr=k.createContext(null);vr.displayName="Navigation";var za=k.createContext(null);za.displayName="Location";var Vr=k.createContext({outlet:null,matches:[],isDataRoute:!1});Vr.displayName="Route";var zd=k.createContext(null);zd.displayName="RouteError";function Xg(s,{relative:r}={}){yt(Fa(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:l}=k.useContext(vr),{hash:u,pathname:h,search:g}=Da(s,{relative:r}),x=h;return o!=="/"&&(x=h==="/"?o:Wr([o,h])),l.createHref({pathname:x,search:g,hash:u})}function Fa(){return k.useContext(za)!=null}function vi(){return yt(Fa(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(za).location}var Fp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Dp(s){k.useContext(vr).static||k.useLayoutEffect(s)}function ev(){let{isDataRoute:s}=k.useContext(Vr);return s?fv():tv()}function tv(){yt(Fa(),"useNavigate() may be used only in the context of a <Router> component.");let s=k.useContext(Ts),{basename:r,navigator:o}=k.useContext(vr),{matches:l}=k.useContext(Vr),{pathname:u}=vi(),h=JSON.stringify(Ap(l)),g=k.useRef(!1);return Dp(()=>{g.current=!0}),k.useCallback((y,w={})=>{if(gr(g.current,Fp),!g.current)return;if(typeof y=="number"){o.go(y);return}let b=Ip(y,JSON.parse(h),u,w.relative==="path");s==null&&r!=="/"&&(b.pathname=b.pathname==="/"?r:Wr([r,b.pathname])),(w.replace?o.replace:o.push)(b,w.state,w)},[r,o,h,u,s])}k.createContext(null);function Da(s,{relative:r}={}){let{matches:o}=k.useContext(Vr),{pathname:l}=vi(),u=JSON.stringify(Ap(o));return k.useMemo(()=>Ip(s,JSON.parse(u),l,r==="path"),[s,u,l,r])}function nv(s,r){return Bp(s,r)}function Bp(s,r,o,l){var V;yt(Fa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=k.useContext(vr),{matches:h}=k.useContext(Vr),g=h[h.length-1],x=g?g.params:{},y=g?g.pathname:"/",w=g?g.pathnameBase:"/",b=g&&g.route;{let Y=b&&b.path||"";Up(y,!b||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let E=vi(),M;if(r){let Y=typeof r=="string"?Ps(r):r;yt(w==="/"||((V=Y.pathname)==null?void 0:V.startsWith(w)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),M=Y}else M=E;let T=M.pathname||"/",P=T;if(w!=="/"){let Y=w.replace(/^\//,"").split("/");P="/"+T.replace(/^\//,"").split("/").slice(Y.length).join("/")}let R=jp(s,{pathname:P});gr(b||R!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),gr(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=av(R&&R.map(Y=>Object.assign({},Y,{params:Object.assign({},x,Y.params),pathname:Wr([w,u.encodeLocation?u.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?w:Wr([w,u.encodeLocation?u.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),h,o,l);return r&&z?k.createElement(za.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},z):z}function rv(){let s=hv(),r=Kg(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),o=s instanceof Error?s.stack:null,l="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:l},h={padding:"2px 4px",backgroundColor:l},g=null;return console.error("Error handled by React Router default ErrorBoundary:",s),g=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:h},"ErrorBoundary")," or"," ",k.createElement("code",{style:h},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},r),o?k.createElement("pre",{style:u},o):null,g)}var ov=k.createElement(rv,null),iv=class extends k.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?k.createElement(Vr.Provider,{value:this.props.routeContext},k.createElement(zd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sv({routeContext:s,match:r,children:o}){let l=k.useContext(Ts);return l&&l.static&&l.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(Vr.Provider,{value:s},o)}function av(s,r=[],o=null,l=null){if(s==null){if(!o)return null;if(o.errors)s=o.matches;else if(r.length===0&&!o.initialized&&o.matches.length>0)s=o.matches;else return null}let u=s,h=o==null?void 0:o.errors;if(h!=null){let y=u.findIndex(w=>w.route.id&&(h==null?void 0:h[w.route.id])!==void 0);yt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let g=!1,x=-1;if(o)for(let y=0;y<u.length;y++){let w=u[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(x=y),w.route.id){let{loaderData:b,errors:E}=o,M=w.route.loader&&!b.hasOwnProperty(w.route.id)&&(!E||E[w.route.id]===void 0);if(w.route.lazy||M){g=!0,x>=0?u=u.slice(0,x+1):u=[u[0]];break}}}return u.reduceRight((y,w,b)=>{let E,M=!1,T=null,P=null;o&&(E=h&&w.route.id?h[w.route.id]:void 0,T=w.route.errorElement||ov,g&&(x<0&&b===0?(Up("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,P=null):x===b&&(M=!0,P=w.route.hydrateFallbackElement||null)));let R=r.concat(u.slice(0,b+1)),z=()=>{let V;return E?V=T:M?V=P:w.route.Component?V=k.createElement(w.route.Component,null):w.route.element?V=w.route.element:V=y,k.createElement(sv,{match:w,routeContext:{outlet:y,matches:R,isDataRoute:o!=null},children:V})};return o&&(w.route.ErrorBoundary||w.route.errorElement||b===0)?k.createElement(iv,{location:o.location,revalidation:o.revalidation,component:T,error:E,children:z(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):z()},null)}function Fd(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lv(s){let r=k.useContext(Ts);return yt(r,Fd(s)),r}function uv(s){let r=k.useContext(xu);return yt(r,Fd(s)),r}function cv(s){let r=k.useContext(Vr);return yt(r,Fd(s)),r}function Dd(s){let r=cv(s),o=r.matches[r.matches.length-1];return yt(o.route.id,`${s} can only be used on routes that contain a unique "id"`),o.route.id}function dv(){return Dd("useRouteId")}function hv(){var l;let s=k.useContext(zd),r=uv("useRouteError"),o=Dd("useRouteError");return s!==void 0?s:(l=r.errors)==null?void 0:l[o]}function fv(){let{router:s}=lv("useNavigate"),r=Dd("useNavigate"),o=k.useRef(!1);return Dp(()=>{o.current=!0}),k.useCallback(async(u,h={})=>{gr(o.current,Fp),o.current&&(typeof u=="number"?s.navigate(u):await s.navigate(u,{fromRouteId:r,...h}))},[s,r])}var $f={};function Up(s,r,o){!r&&!$f[s]&&($f[s]=!0,gr(!1,o))}k.memo(pv);function pv({routes:s,future:r,state:o}){return Bp(s,void 0,o,r)}function Lo(s){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mv({basename:s="/",children:r=null,location:o,navigationType:l="POP",navigator:u,static:h=!1}){yt(!Fa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=s.replace(/^\/*/,"/"),x=k.useMemo(()=>({basename:g,navigator:u,static:h,future:{}}),[g,u,h]);typeof o=="string"&&(o=Ps(o));let{pathname:y="/",search:w="",hash:b="",state:E=null,key:M="default"}=o,T=k.useMemo(()=>{let P=Zr(y,g);return P==null?null:{location:{pathname:P,search:w,hash:b,state:E,key:M},navigationType:l}},[g,y,w,b,E,M,l]);return gr(T!=null,`<Router basename="${g}"> is not able to match the URL "${y}${w}${b}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:k.createElement(vr.Provider,{value:x},k.createElement(za.Provider,{children:r,value:T}))}function gv({children:s,location:r}){return nv(xd(s),r)}function xd(s,r=[]){let o=[];return k.Children.forEach(s,(l,u)=>{if(!k.isValidElement(l))return;let h=[...r,u];if(l.type===k.Fragment){o.push.apply(o,xd(l.props.children,h));return}yt(l.type===Lo,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!l.props.index||!l.props.children,"An index route cannot have child routes.");let g={id:l.props.id||h.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(g.children=xd(l.props.children,h)),o.push(g)}),o}var pu="get",mu="application/x-www-form-urlencoded";function wu(s){return s!=null&&typeof s.tagName=="string"}function vv(s){return wu(s)&&s.tagName.toLowerCase()==="button"}function yv(s){return wu(s)&&s.tagName.toLowerCase()==="form"}function _v(s){return wu(s)&&s.tagName.toLowerCase()==="input"}function xv(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function wv(s,r){return s.button===0&&(!r||r==="_self")&&!xv(s)}var uu=null;function bv(){if(uu===null)try{new FormData(document.createElement("form"),0),uu=!1}catch{uu=!0}return uu}var Sv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function od(s){return s!=null&&!Sv.has(s)?(gr(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mu}"`),null):s}function kv(s,r){let o,l,u,h,g;if(yv(s)){let x=s.getAttribute("action");l=x?Zr(x,r):null,o=s.getAttribute("method")||pu,u=od(s.getAttribute("enctype"))||mu,h=new FormData(s)}else if(vv(s)||_v(s)&&(s.type==="submit"||s.type==="image")){let x=s.form;if(x==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=s.getAttribute("formaction")||x.getAttribute("action");if(l=y?Zr(y,r):null,o=s.getAttribute("formmethod")||x.getAttribute("method")||pu,u=od(s.getAttribute("formenctype"))||od(x.getAttribute("enctype"))||mu,h=new FormData(x,s),!bv()){let{name:w,type:b,value:E}=s;if(b==="image"){let M=w?`${w}.`:"";h.append(`${M}x`,"0"),h.append(`${M}y`,"0")}else w&&h.append(w,E)}}else{if(wu(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=pu,l=null,u=mu,g=s}return h&&u==="text/plain"&&(g=h,h=void 0),{action:l,method:o.toLowerCase(),encType:u,formData:h,body:g}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Bd(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function Ev(s,r,o){let l=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return l.pathname==="/"?l.pathname=`_root.${o}`:r&&Zr(l.pathname,r)==="/"?l.pathname=`${r.replace(/\/$/,"")}/_root.${o}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${o}`,l}async function Cv(s,r){if(s.id in r)return r[s.id];try{let o=await import(s.module);return r[s.id]=o,o}catch(o){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Pv(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Tv(s,r,o){let l=await Promise.all(s.map(async u=>{let h=r.routes[u.route.id];if(h){let g=await Cv(h,o);return g.links?g.links():[]}return[]}));return Rv(l.flat(1).filter(Pv).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function Gf(s,r,o,l,u,h){let g=(y,w)=>o[w]?y.route.id!==o[w].route.id:!0,x=(y,w)=>{var b;return o[w].pathname!==y.pathname||((b=o[w].route.path)==null?void 0:b.endsWith("*"))&&o[w].params["*"]!==y.params["*"]};return h==="assets"?r.filter((y,w)=>g(y,w)||x(y,w)):h==="data"?r.filter((y,w)=>{var E;let b=l.routes[y.route.id];if(!b||!b.hasLoader)return!1;if(g(y,w)||x(y,w))return!0;if(y.route.shouldRevalidate){let M=y.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:((E=o[0])==null?void 0:E.params)||{},nextUrl:new URL(s,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof M=="boolean")return M}return!0}):[]}function Lv(s,r,{includeHydrateFallback:o}={}){return Mv(s.map(l=>{let u=r.routes[l.route.id];if(!u)return[];let h=[u.module];return u.clientActionModule&&(h=h.concat(u.clientActionModule)),u.clientLoaderModule&&(h=h.concat(u.clientLoaderModule)),o&&u.hydrateFallbackModule&&(h=h.concat(u.hydrateFallbackModule)),u.imports&&(h=h.concat(u.imports)),h}).flat(1))}function Mv(s){return[...new Set(s)]}function jv(s){let r={},o=Object.keys(s).sort();for(let l of o)r[l]=s[l];return r}function Rv(s,r){let o=new Set;return new Set(r),s.reduce((l,u)=>{let h=JSON.stringify(jv(u));return o.has(h)||(o.add(h),l.push({key:h,link:u})),l},[])}function $p(){let s=k.useContext(Ts);return Bd(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Ov(){let s=k.useContext(xu);return Bd(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Ud=k.createContext(void 0);Ud.displayName="FrameworkContext";function Gp(){let s=k.useContext(Ud);return Bd(s,"You must render this element inside a <HydratedRouter> element"),s}function Av(s,r){let o=k.useContext(Ud),[l,u]=k.useState(!1),[h,g]=k.useState(!1),{onFocus:x,onBlur:y,onMouseEnter:w,onMouseLeave:b,onTouchStart:E}=r,M=k.useRef(null);k.useEffect(()=>{if(s==="render"&&g(!0),s==="viewport"){let R=V=>{V.forEach(Y=>{g(Y.isIntersecting)})},z=new IntersectionObserver(R,{threshold:.5});return M.current&&z.observe(M.current),()=>{z.disconnect()}}},[s]),k.useEffect(()=>{if(l){let R=setTimeout(()=>{g(!0)},100);return()=>{clearTimeout(R)}}},[l]);let T=()=>{u(!0)},P=()=>{u(!1),g(!1)};return o?s!=="intent"?[h,M,{}]:[h,M,{onFocus:Ca(x,T),onBlur:Ca(y,P),onMouseEnter:Ca(w,T),onMouseLeave:Ca(b,P),onTouchStart:Ca(E,T)}]:[!1,M,{}]}function Ca(s,r){return o=>{s&&s(o),o.defaultPrevented||r(o)}}function Iv({page:s,...r}){let{router:o}=$p(),l=k.useMemo(()=>jp(o.routes,s,o.basename),[o.routes,s,o.basename]);return l?k.createElement(zv,{page:s,matches:l,...r}):null}function Nv(s){let{manifest:r,routeModules:o}=Gp(),[l,u]=k.useState([]);return k.useEffect(()=>{let h=!1;return Tv(s,r,o).then(g=>{h||u(g)}),()=>{h=!0}},[s,r,o]),l}function zv({page:s,matches:r,...o}){let l=vi(),{manifest:u,routeModules:h}=Gp(),{basename:g}=$p(),{loaderData:x,matches:y}=Ov(),w=k.useMemo(()=>Gf(s,r,y,u,l,"data"),[s,r,y,u,l]),b=k.useMemo(()=>Gf(s,r,y,u,l,"assets"),[s,r,y,u,l]),E=k.useMemo(()=>{if(s===l.pathname+l.search+l.hash)return[];let P=new Set,R=!1;if(r.forEach(V=>{var G;let Y=u.routes[V.route.id];!Y||!Y.hasLoader||(!w.some(ee=>ee.route.id===V.route.id)&&V.route.id in x&&((G=h[V.route.id])!=null&&G.shouldRevalidate)||Y.hasClientLoader?R=!0:P.add(V.route.id))}),P.size===0)return[];let z=Ev(s,g,"data");return R&&P.size>0&&z.searchParams.set("_routes",r.filter(V=>P.has(V.route.id)).map(V=>V.route.id).join(",")),[z.pathname+z.search]},[g,x,l,u,w,r,s,h]),M=k.useMemo(()=>Lv(b,u),[b,u]),T=Nv(b);return k.createElement(k.Fragment,null,E.map(P=>k.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...o})),M.map(P=>k.createElement("link",{key:P,rel:"modulepreload",href:P,...o})),T.map(({key:P,link:R})=>k.createElement("link",{key:P,...R})))}function Fv(...s){return r=>{s.forEach(o=>{typeof o=="function"?o(r):o!=null&&(o.current=r)})}}var Hp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Hp&&(window.__reactRouterVersion="7.7.0")}catch{}function Dv({basename:s,children:r,window:o}){let l=k.useRef();l.current==null&&(l.current=Cg({window:o,v5Compat:!0}));let u=l.current,[h,g]=k.useState({action:u.action,location:u.location}),x=k.useCallback(y=>{k.startTransition(()=>g(y))},[g]);return k.useLayoutEffect(()=>u.listen(x),[u,x]),k.createElement(mv,{basename:s,children:r,location:h.location,navigationType:h.action,navigator:u})}var Wp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bs=k.forwardRef(function({onClick:r,discover:o="render",prefetch:l="none",relative:u,reloadDocument:h,replace:g,state:x,target:y,to:w,preventScrollReset:b,viewTransition:E,...M},T){let{basename:P}=k.useContext(vr),R=typeof w=="string"&&Wp.test(w),z,V=!1;if(typeof w=="string"&&R&&(z=w,Hp))try{let J=new URL(window.location.href),xe=w.startsWith("//")?new URL(J.protocol+w):new URL(w),ve=Zr(xe.pathname,P);xe.origin===J.origin&&ve!=null?w=ve+xe.search+xe.hash:V=!0}catch{gr(!1,`<Link to="${w}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=Xg(w,{relative:u}),[G,ee,oe]=Av(l,M),ae=Gv(w,{replace:g,state:x,target:y,preventScrollReset:b,relative:u,viewTransition:E});function ge(J){r&&r(J),J.defaultPrevented||ae(J)}let q=k.createElement("a",{...M,...oe,href:z||Y,onClick:V||h?r:ge,ref:Fv(T,ee),target:y,"data-discover":!R&&o==="render"?"true":void 0});return G&&!R?k.createElement(k.Fragment,null,q,k.createElement(Iv,{page:Y})):q});bs.displayName="Link";var Bv=k.forwardRef(function({"aria-current":r="page",caseSensitive:o=!1,className:l="",end:u=!1,style:h,to:g,viewTransition:x,children:y,...w},b){let E=Da(g,{relative:w.relative}),M=vi(),T=k.useContext(xu),{navigator:P,basename:R}=k.useContext(vr),z=T!=null&&qv(E)&&x===!0,V=P.encodeLocation?P.encodeLocation(E).pathname:E.pathname,Y=M.pathname,G=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;o||(Y=Y.toLowerCase(),G=G?G.toLowerCase():null,V=V.toLowerCase()),G&&R&&(G=Zr(G,R)||G);const ee=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let oe=Y===V||!u&&Y.startsWith(V)&&Y.charAt(ee)==="/",ae=G!=null&&(G===V||!u&&G.startsWith(V)&&G.charAt(V.length)==="/"),ge={isActive:oe,isPending:ae,isTransitioning:z},q=oe?r:void 0,J;typeof l=="function"?J=l(ge):J=[l,oe?"active":null,ae?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let xe=typeof h=="function"?h(ge):h;return k.createElement(bs,{...w,"aria-current":q,className:J,ref:b,style:xe,to:g,viewTransition:x},typeof y=="function"?y(ge):y)});Bv.displayName="NavLink";var Uv=k.forwardRef(({discover:s="render",fetcherKey:r,navigate:o,reloadDocument:l,replace:u,state:h,method:g=pu,action:x,onSubmit:y,relative:w,preventScrollReset:b,viewTransition:E,...M},T)=>{let P=Zv(),R=Vv(x,{relative:w}),z=g.toLowerCase()==="get"?"get":"post",V=typeof x=="string"&&Wp.test(x),Y=G=>{if(y&&y(G),G.defaultPrevented)return;G.preventDefault();let ee=G.nativeEvent.submitter,oe=(ee==null?void 0:ee.getAttribute("formmethod"))||g;P(ee||G.currentTarget,{fetcherKey:r,method:oe,navigate:o,replace:u,state:h,relative:w,preventScrollReset:b,viewTransition:E})};return k.createElement("form",{ref:T,method:z,action:R,onSubmit:l?y:Y,...M,"data-discover":!V&&s==="render"?"true":void 0})});Uv.displayName="Form";function $v(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zp(s){let r=k.useContext(Ts);return yt(r,$v(s)),r}function Gv(s,{target:r,replace:o,state:l,preventScrollReset:u,relative:h,viewTransition:g}={}){let x=ev(),y=vi(),w=Da(s,{relative:h});return k.useCallback(b=>{if(wv(b,r)){b.preventDefault();let E=o!==void 0?o:Aa(y)===Aa(w);x(s,{replace:E,state:l,preventScrollReset:u,relative:h,viewTransition:g})}},[y,x,w,o,l,r,s,u,h,g])}var Hv=0,Wv=()=>`__${String(++Hv)}__`;function Zv(){let{router:s}=Zp("useSubmit"),{basename:r}=k.useContext(vr),o=dv();return k.useCallback(async(l,u={})=>{let{action:h,method:g,encType:x,formData:y,body:w}=kv(l,r);if(u.navigate===!1){let b=u.fetcherKey||Wv();await s.fetch(b,o,u.action||h,{preventScrollReset:u.preventScrollReset,formData:y,body:w,formMethod:u.method||g,formEncType:u.encType||x,flushSync:u.flushSync})}else await s.navigate(u.action||h,{preventScrollReset:u.preventScrollReset,formData:y,body:w,formMethod:u.method||g,formEncType:u.encType||x,replace:u.replace,state:u.state,fromRouteId:o,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,r,o])}function Vv(s,{relative:r}={}){let{basename:o}=k.useContext(vr),l=k.useContext(Vr);yt(l,"useFormAction must be used inside a RouteContext");let[u]=l.matches.slice(-1),h={...Da(s||".",{relative:r})},g=vi();if(s==null){h.search=g.search;let x=new URLSearchParams(h.search),y=x.getAll("index");if(y.some(b=>b==="")){x.delete("index"),y.filter(E=>E).forEach(E=>x.append("index",E));let b=x.toString();h.search=b?`?${b}`:""}}return(!s||s===".")&&u.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(h.pathname=h.pathname==="/"?o:Wr([o,h.pathname])),Aa(h)}function qv(s,r={}){let o=k.useContext(zp);yt(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Zp("useViewTransitionState"),u=Da(s,{relative:r.relative});if(!o.isTransitioning)return!1;let h=Zr(o.currentLocation.pathname,l)||o.currentLocation.pathname,g=Zr(o.nextLocation.pathname,l)||o.nextLocation.pathname;return gu(u.pathname,g)!=null||gu(u.pathname,h)!=null}var Kv=Mp();const Jv="modulepreload",Yv=function(s){return"/geosantos/"+s},Hf={},Ba=function(r,o,l){let u=Promise.resolve();if(o&&o.length>0){let g=function(w){return Promise.all(w.map(b=>Promise.resolve(b).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};document.getElementsByTagName("link");const x=document.querySelector("meta[property=csp-nonce]"),y=(x==null?void 0:x.nonce)||(x==null?void 0:x.getAttribute("nonce"));u=g(o.map(w=>{if(w=Yv(w),w in Hf)return;Hf[w]=!0;const b=w.endsWith(".css"),E=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${w}"]${E}`))return;const M=document.createElement("link");if(M.rel=b?"stylesheet":Jv,b||(M.as="script"),M.crossOrigin="",M.href=w,y&&M.setAttribute("nonce",y),document.head.appendChild(M),b)return new Promise((T,P)=>{M.addEventListener("load",T),M.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${w}`)))})}))}function h(g){const x=new Event("vite:preloadError",{cancelable:!0});if(x.payload=g,window.dispatchEvent(x),!x.defaultPrevented)throw g}return u.then(g=>{for(const x of g||[])x.status==="rejected"&&h(x.reason);return r().catch(h)})},Qv=s=>{let r;return s?r=s:typeof fetch>"u"?r=(...o)=>Ba(async()=>{const{default:l}=await Promise.resolve().then(()=>Ls);return{default:l}},[]).then(({default:l})=>l(...o)):r=fetch,(...o)=>r(...o)};class $d extends Error{constructor(r,o="FunctionsError",l){super(r),this.name=o,this.context=l}}class Xv extends $d{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class Wf extends $d{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Zf extends $d{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var wd;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(wd||(wd={}));var ey=function(s,r,o,l){function u(h){return h instanceof o?h:new o(function(g){g(h)})}return new(o||(o=Promise))(function(h,g){function x(b){try{w(l.next(b))}catch(E){g(E)}}function y(b){try{w(l.throw(b))}catch(E){g(E)}}function w(b){b.done?h(b.value):u(b.value).then(x,y)}w((l=l.apply(s,r||[])).next())})};class ty{constructor(r,{headers:o={},customFetch:l,region:u=wd.Any}={}){this.url=r,this.headers=o,this.region=u,this.fetch=Qv(l)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,o={}){var l;return ey(this,void 0,void 0,function*(){try{const{headers:u,method:h,body:g}=o;let x={},{region:y}=o;y||(y=this.region);const w=new URL(`${this.url}/${r}`);y&&y!=="any"&&(x["x-region"]=y,w.searchParams.set("forceFunctionRegion",y));let b;g&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)&&(typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",b=g):typeof g=="string"?(x["Content-Type"]="text/plain",b=g):typeof FormData<"u"&&g instanceof FormData?b=g:(x["Content-Type"]="application/json",b=JSON.stringify(g)));const E=yield this.fetch(w.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),u),body:b}).catch(R=>{throw new Xv(R)}),M=E.headers.get("x-relay-error");if(M&&M==="true")throw new Wf(E);if(!E.ok)throw new Zf(E);let T=((l=E.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),P;return T==="application/json"?P=yield E.json():T==="application/octet-stream"?P=yield E.blob():T==="text/event-stream"?P=E:T==="multipart/form-data"?P=yield E.formData():P=yield E.text(),{data:P,error:null,response:E}}catch(u){return{data:null,error:u,response:u instanceof Zf||u instanceof Wf?u.context:void 0}}})}}var Nt={},us={},cs={},ds={},hs={},fs={},ny=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ss=ny();const ry=Ss.fetch,Vp=Ss.fetch.bind(Ss),qp=Ss.Headers,oy=Ss.Request,iy=Ss.Response,Ls=Object.freeze(Object.defineProperty({__proto__:null,Headers:qp,Request:oy,Response:iy,default:Vp,fetch:ry},Symbol.toStringTag,{value:"Module"})),sy=vg(Ls);var cu={},Vf;function Kp(){if(Vf)return cu;Vf=1,Object.defineProperty(cu,"__esModule",{value:!0});class s extends Error{constructor(o){super(o.message),this.name="PostgrestError",this.details=o.details,this.hint=o.hint,this.code=o.code}}return cu.default=s,cu}var qf;function Jp(){if(qf)return fs;qf=1;var s=fs&&fs.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(fs,"__esModule",{value:!0});const r=s(sy),o=s(Kp());class l{constructor(h){this.shouldThrowOnError=!1,this.method=h.method,this.url=h.url,this.headers=h.headers,this.schema=h.schema,this.body=h.body,this.shouldThrowOnError=h.shouldThrowOnError,this.signal=h.signal,this.isMaybeSingle=h.isMaybeSingle,h.fetch?this.fetch=h.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(h,g){return this.headers=Object.assign({},this.headers),this.headers[h]=g,this}then(h,g){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const x=this.fetch;let y=x(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async w=>{var b,E,M;let T=null,P=null,R=null,z=w.status,V=w.statusText;if(w.ok){if(this.method!=="HEAD"){const oe=await w.text();oe===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?P=oe:P=JSON.parse(oe))}const G=(b=this.headers.Prefer)===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),ee=(E=w.headers.get("content-range"))===null||E===void 0?void 0:E.split("/");G&&ee&&ee.length>1&&(R=parseInt(ee[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(P)&&(P.length>1?(T={code:"PGRST116",details:`Results contain ${P.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},P=null,R=null,z=406,V="Not Acceptable"):P.length===1?P=P[0]:P=null)}else{const G=await w.text();try{T=JSON.parse(G),Array.isArray(T)&&w.status===404&&(P=[],T=null,z=200,V="OK")}catch{w.status===404&&G===""?(z=204,V="No Content"):T={message:G}}if(T&&this.isMaybeSingle&&(!((M=T==null?void 0:T.details)===null||M===void 0)&&M.includes("0 rows"))&&(T=null,z=200,V="OK"),T&&this.shouldThrowOnError)throw new o.default(T)}return{error:T,data:P,count:R,status:z,statusText:V}});return this.shouldThrowOnError||(y=y.catch(w=>{var b,E,M;return{error:{message:`${(b=w==null?void 0:w.name)!==null&&b!==void 0?b:"FetchError"}: ${w==null?void 0:w.message}`,details:`${(E=w==null?void 0:w.stack)!==null&&E!==void 0?E:""}`,hint:"",code:`${(M=w==null?void 0:w.code)!==null&&M!==void 0?M:""}`},data:null,count:null,status:0,statusText:""}})),y.then(h,g)}returns(){return this}overrideTypes(){return this}}return fs.default=l,fs}var Kf;function Yp(){if(Kf)return hs;Kf=1;var s=hs&&hs.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(hs,"__esModule",{value:!0});const r=s(Jp());class o extends r.default{select(u){let h=!1;const g=(u??"*").split("").map(x=>/\s/.test(x)&&!h?"":(x==='"'&&(h=!h),x)).join("");return this.url.searchParams.set("select",g),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(u,{ascending:h=!0,nullsFirst:g,foreignTable:x,referencedTable:y=x}={}){const w=y?`${y}.order`:"order",b=this.url.searchParams.get(w);return this.url.searchParams.set(w,`${b?`${b},`:""}${u}.${h?"asc":"desc"}${g===void 0?"":g?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:h,referencedTable:g=h}={}){const x=typeof g>"u"?"limit":`${g}.limit`;return this.url.searchParams.set(x,`${u}`),this}range(u,h,{foreignTable:g,referencedTable:x=g}={}){const y=typeof x>"u"?"offset":`${x}.offset`,w=typeof x>"u"?"limit":`${x}.limit`;return this.url.searchParams.set(y,`${u}`),this.url.searchParams.set(w,`${h-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:u=!1,verbose:h=!1,settings:g=!1,buffers:x=!1,wal:y=!1,format:w="text"}={}){var b;const E=[u?"analyze":null,h?"verbose":null,g?"settings":null,x?"buffers":null,y?"wal":null].filter(Boolean).join("|"),M=(b=this.headers.Accept)!==null&&b!==void 0?b:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${w}; for="${M}"; options=${E};`,w==="json"?this:this}rollback(){var u;return((u=this.headers.Prefer)!==null&&u!==void 0?u:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return hs.default=o,hs}var Jf;function Gd(){if(Jf)return ds;Jf=1;var s=ds&&ds.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ds,"__esModule",{value:!0});const r=s(Yp());class o extends r.default{eq(u,h){return this.url.searchParams.append(u,`eq.${h}`),this}neq(u,h){return this.url.searchParams.append(u,`neq.${h}`),this}gt(u,h){return this.url.searchParams.append(u,`gt.${h}`),this}gte(u,h){return this.url.searchParams.append(u,`gte.${h}`),this}lt(u,h){return this.url.searchParams.append(u,`lt.${h}`),this}lte(u,h){return this.url.searchParams.append(u,`lte.${h}`),this}like(u,h){return this.url.searchParams.append(u,`like.${h}`),this}likeAllOf(u,h){return this.url.searchParams.append(u,`like(all).{${h.join(",")}}`),this}likeAnyOf(u,h){return this.url.searchParams.append(u,`like(any).{${h.join(",")}}`),this}ilike(u,h){return this.url.searchParams.append(u,`ilike.${h}`),this}ilikeAllOf(u,h){return this.url.searchParams.append(u,`ilike(all).{${h.join(",")}}`),this}ilikeAnyOf(u,h){return this.url.searchParams.append(u,`ilike(any).{${h.join(",")}}`),this}is(u,h){return this.url.searchParams.append(u,`is.${h}`),this}in(u,h){const g=Array.from(new Set(h)).map(x=>typeof x=="string"&&new RegExp("[,()]").test(x)?`"${x}"`:`${x}`).join(",");return this.url.searchParams.append(u,`in.(${g})`),this}contains(u,h){return typeof h=="string"?this.url.searchParams.append(u,`cs.${h}`):Array.isArray(h)?this.url.searchParams.append(u,`cs.{${h.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(h)}`),this}containedBy(u,h){return typeof h=="string"?this.url.searchParams.append(u,`cd.${h}`):Array.isArray(h)?this.url.searchParams.append(u,`cd.{${h.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(h)}`),this}rangeGt(u,h){return this.url.searchParams.append(u,`sr.${h}`),this}rangeGte(u,h){return this.url.searchParams.append(u,`nxl.${h}`),this}rangeLt(u,h){return this.url.searchParams.append(u,`sl.${h}`),this}rangeLte(u,h){return this.url.searchParams.append(u,`nxr.${h}`),this}rangeAdjacent(u,h){return this.url.searchParams.append(u,`adj.${h}`),this}overlaps(u,h){return typeof h=="string"?this.url.searchParams.append(u,`ov.${h}`):this.url.searchParams.append(u,`ov.{${h.join(",")}}`),this}textSearch(u,h,{config:g,type:x}={}){let y="";x==="plain"?y="pl":x==="phrase"?y="ph":x==="websearch"&&(y="w");const w=g===void 0?"":`(${g})`;return this.url.searchParams.append(u,`${y}fts${w}.${h}`),this}match(u){return Object.entries(u).forEach(([h,g])=>{this.url.searchParams.append(h,`eq.${g}`)}),this}not(u,h,g){return this.url.searchParams.append(u,`not.${h}.${g}`),this}or(u,{foreignTable:h,referencedTable:g=h}={}){const x=g?`${g}.or`:"or";return this.url.searchParams.append(x,`(${u})`),this}filter(u,h,g){return this.url.searchParams.append(u,`${h}.${g}`),this}}return ds.default=o,ds}var Yf;function Qp(){if(Yf)return cs;Yf=1;var s=cs&&cs.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(cs,"__esModule",{value:!0});const r=s(Gd());class o{constructor(u,{headers:h={},schema:g,fetch:x}){this.url=u,this.headers=h,this.schema=g,this.fetch=x}select(u,{head:h=!1,count:g}={}){const x=h?"HEAD":"GET";let y=!1;const w=(u??"*").split("").map(b=>/\s/.test(b)&&!y?"":(b==='"'&&(y=!y),b)).join("");return this.url.searchParams.set("select",w),g&&(this.headers.Prefer=`count=${g}`),new r.default({method:x,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(u,{count:h,defaultToNull:g=!0}={}){const x="POST",y=[];if(this.headers.Prefer&&y.push(this.headers.Prefer),h&&y.push(`count=${h}`),g||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(u)){const w=u.reduce((b,E)=>b.concat(Object.keys(E)),[]);if(w.length>0){const b=[...new Set(w)].map(E=>`"${E}"`);this.url.searchParams.set("columns",b.join(","))}}return new r.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:this.fetch,allowEmpty:!1})}upsert(u,{onConflict:h,ignoreDuplicates:g=!1,count:x,defaultToNull:y=!0}={}){const w="POST",b=[`resolution=${g?"ignore":"merge"}-duplicates`];if(h!==void 0&&this.url.searchParams.set("on_conflict",h),this.headers.Prefer&&b.push(this.headers.Prefer),x&&b.push(`count=${x}`),y||b.push("missing=default"),this.headers.Prefer=b.join(","),Array.isArray(u)){const E=u.reduce((M,T)=>M.concat(Object.keys(T)),[]);if(E.length>0){const M=[...new Set(E)].map(T=>`"${T}"`);this.url.searchParams.set("columns",M.join(","))}}return new r.default({method:w,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:this.fetch,allowEmpty:!1})}update(u,{count:h}={}){const g="PATCH",x=[];return this.headers.Prefer&&x.push(this.headers.Prefer),h&&x.push(`count=${h}`),this.headers.Prefer=x.join(","),new r.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:this.fetch,allowEmpty:!1})}delete({count:u}={}){const h="DELETE",g=[];return u&&g.push(`count=${u}`),this.headers.Prefer&&g.unshift(this.headers.Prefer),this.headers.Prefer=g.join(","),new r.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return cs.default=o,cs}var Pa={},Ta={},Qf;function ay(){return Qf||(Qf=1,Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.version=void 0,Ta.version="0.0.0-automated"),Ta}var Xf;function ly(){if(Xf)return Pa;Xf=1,Object.defineProperty(Pa,"__esModule",{value:!0}),Pa.DEFAULT_HEADERS=void 0;const s=ay();return Pa.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${s.version}`},Pa}var ep;function uy(){if(ep)return us;ep=1;var s=us&&us.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(us,"__esModule",{value:!0});const r=s(Qp()),o=s(Gd()),l=ly();class u{constructor(g,{headers:x={},schema:y,fetch:w}={}){this.url=g,this.headers=Object.assign(Object.assign({},l.DEFAULT_HEADERS),x),this.schemaName=y,this.fetch=w}from(g){const x=new URL(`${this.url}/${g}`);return new r.default(x,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(g){return new u(this.url,{headers:this.headers,schema:g,fetch:this.fetch})}rpc(g,x={},{head:y=!1,get:w=!1,count:b}={}){let E;const M=new URL(`${this.url}/rpc/${g}`);let T;y||w?(E=y?"HEAD":"GET",Object.entries(x).filter(([R,z])=>z!==void 0).map(([R,z])=>[R,Array.isArray(z)?`{${z.join(",")}}`:`${z}`]).forEach(([R,z])=>{M.searchParams.append(R,z)})):(E="POST",T=x);const P=Object.assign({},this.headers);return b&&(P.Prefer=`count=${b}`),new o.default({method:E,url:M,headers:P,schema:this.schemaName,body:T,fetch:this.fetch,allowEmpty:!1})}}return us.default=u,us}var tp;function cy(){if(tp)return Nt;tp=1;var s=Nt&&Nt.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.PostgrestError=Nt.PostgrestBuilder=Nt.PostgrestTransformBuilder=Nt.PostgrestFilterBuilder=Nt.PostgrestQueryBuilder=Nt.PostgrestClient=void 0;const r=s(uy());Nt.PostgrestClient=r.default;const o=s(Qp());Nt.PostgrestQueryBuilder=o.default;const l=s(Gd());Nt.PostgrestFilterBuilder=l.default;const u=s(Yp());Nt.PostgrestTransformBuilder=u.default;const h=s(Jp());Nt.PostgrestBuilder=h.default;const g=s(Kp());return Nt.PostgrestError=g.default,Nt.default={PostgrestClient:r.default,PostgrestQueryBuilder:o.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:h.default,PostgrestError:g.default},Nt}var dy=cy();const hy=Id(dy),{PostgrestClient:fy,PostgrestQueryBuilder:X1,PostgrestFilterBuilder:eb,PostgrestTransformBuilder:tb,PostgrestBuilder:nb,PostgrestError:rb}=hy;function py(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const my=py(),gy="2.11.15",vy=`realtime-js/${gy}`,yy="1.0.0",Xp=1e4,_y=1e3;var ja;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(ja||(ja={}));var qt;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(qt||(qt={}));var Xn;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Xn||(Xn={}));var bd;(function(s){s.websocket="websocket"})(bd||(bd={}));var pi;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(pi||(pi={}));class xy{constructor(){this.HEADER_LENGTH=1}decode(r,o){return r.constructor===ArrayBuffer?o(this._binaryDecode(r)):o(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const o=new DataView(r),l=new TextDecoder;return this._decodeBroadcast(r,o,l)}_decodeBroadcast(r,o,l){const u=o.getUint8(1),h=o.getUint8(2);let g=this.HEADER_LENGTH+2;const x=l.decode(r.slice(g,g+u));g=g+u;const y=l.decode(r.slice(g,g+h));g=g+h;const w=JSON.parse(l.decode(r.slice(g,r.byteLength)));return{ref:null,topic:x,event:y,payload:w}}}class em{constructor(r,o){this.callback=r,this.timerCalc=o,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=o}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var st;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(st||(st={}));const np=(s,r,o={})=>{var l;const u=(l=o.skipTypes)!==null&&l!==void 0?l:[];return Object.keys(r).reduce((h,g)=>(h[g]=wy(g,s,r,u),h),{})},wy=(s,r,o,l)=>{const u=r.find(x=>x.name===s),h=u==null?void 0:u.type,g=o[s];return h&&!l.includes(h)?tm(h,g):Sd(g)},tm=(s,r)=>{if(s.charAt(0)==="_"){const o=s.slice(1,s.length);return Ey(r,o)}switch(s){case st.bool:return by(r);case st.float4:case st.float8:case st.int2:case st.int4:case st.int8:case st.numeric:case st.oid:return Sy(r);case st.json:case st.jsonb:return ky(r);case st.timestamp:return Cy(r);case st.abstime:case st.date:case st.daterange:case st.int4range:case st.int8range:case st.money:case st.reltime:case st.text:case st.time:case st.timestamptz:case st.timetz:case st.tsrange:case st.tstzrange:return Sd(r);default:return Sd(r)}},Sd=s=>s,by=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},Sy=s=>{if(typeof s=="string"){const r=parseFloat(s);if(!Number.isNaN(r))return r}return s},ky=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(r){return console.log(`JSON parse error: ${r}`),s}return s},Ey=(s,r)=>{if(typeof s!="string")return s;const o=s.length-1,l=s[o];if(s[0]==="{"&&l==="}"){let h;const g=s.slice(1,o);try{h=JSON.parse("["+g+"]")}catch{h=g?g.split(","):[]}return h.map(x=>tm(r,x))}return s},Cy=s=>typeof s=="string"?s.replace(" ","T"):s,nm=s=>{let r=s;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")};class id{constructor(r,o,l={},u=Xp){this.channel=r,this.event=o,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,o){var l;return this._hasReceived(r)&&o((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:r,callback:o}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=o=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=o,this._matchReceive(o)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,o){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:o})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:o}){this.recHooks.filter(l=>l.status===r).forEach(l=>l.callback(o))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var rp;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(rp||(rp={}));class Ra{constructor(r,o){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(o==null?void 0:o.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:h,onLeave:g,onSync:x}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ra.syncState(this.state,u,h,g),this.pendingDiffs.forEach(y=>{this.state=Ra.syncDiff(this.state,y,h,g)}),this.pendingDiffs=[],x()}),this.channel._on(l.diff,{},u=>{const{onJoin:h,onLeave:g,onSync:x}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Ra.syncDiff(this.state,u,h,g),x())}),this.onJoin((u,h,g)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:h,newPresences:g})}),this.onLeave((u,h,g)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:h,leftPresences:g})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,o,l,u){const h=this.cloneDeep(r),g=this.transformState(o),x={},y={};return this.map(h,(w,b)=>{g[w]||(y[w]=b)}),this.map(g,(w,b)=>{const E=h[w];if(E){const M=b.map(z=>z.presence_ref),T=E.map(z=>z.presence_ref),P=b.filter(z=>T.indexOf(z.presence_ref)<0),R=E.filter(z=>M.indexOf(z.presence_ref)<0);P.length>0&&(x[w]=P),R.length>0&&(y[w]=R)}else x[w]=b}),this.syncDiff(h,{joins:x,leaves:y},l,u)}static syncDiff(r,o,l,u){const{joins:h,leaves:g}={joins:this.transformState(o.joins),leaves:this.transformState(o.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(h,(x,y)=>{var w;const b=(w=r[x])!==null&&w!==void 0?w:[];if(r[x]=this.cloneDeep(y),b.length>0){const E=r[x].map(T=>T.presence_ref),M=b.filter(T=>E.indexOf(T.presence_ref)<0);r[x].unshift(...M)}l(x,b,y)}),this.map(g,(x,y)=>{let w=r[x];if(!w)return;const b=y.map(E=>E.presence_ref);w=w.filter(E=>b.indexOf(E.presence_ref)<0),r[x]=w,u(x,w,y),w.length===0&&delete r[x]}),r}static map(r,o){return Object.getOwnPropertyNames(r).map(l=>o(l,r[l]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((o,l)=>{const u=r[l];return"metas"in u?o[l]=u.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):o[l]=u,o},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var op;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(op||(op={}));var ip;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(ip||(ip={}));var $r;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})($r||($r={}));class Hd{constructor(r,o={config:{}},l){this.topic=r,this.params=o,this.socket=l,this.bindings={},this.state=qt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},o.config),this.timeout=this.socket.timeout,this.joinPush=new id(this,Xn.join,this.params,this.timeout),this.rejoinTimer=new em(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xn.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new Ra(this),this.broadcastEndpointURL=nm(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(r,o=this.timeout){var l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==qt.closed){const{config:{broadcast:h,presence:g,private:x}}=this.params;this._onError(b=>r==null?void 0:r($r.CHANNEL_ERROR,b)),this._onClose(()=>r==null?void 0:r($r.CLOSED));const y={},w={broadcast:h,presence:g,postgres_changes:(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(b=>b.filter))!==null&&u!==void 0?u:[],private:x};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:w},y)),this.joinedOnce=!0,this._rejoin(o),this.joinPush.receive("ok",async({postgres_changes:b})=>{var E;if(this.socket.setAuth(),b===void 0){r==null||r($r.SUBSCRIBED);return}else{const M=this.bindings.postgres_changes,T=(E=M==null?void 0:M.length)!==null&&E!==void 0?E:0,P=[];for(let R=0;R<T;R++){const z=M[R],{filter:{event:V,schema:Y,table:G,filter:ee}}=z,oe=b&&b[R];if(oe&&oe.event===V&&oe.schema===Y&&oe.table===G&&oe.filter===ee)P.push(Object.assign(Object.assign({},z),{id:oe.id}));else{this.unsubscribe(),this.state=qt.errored,r==null||r($r.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,r&&r($r.SUBSCRIBED);return}}).receive("error",b=>{this.state=qt.errored,r==null||r($r.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{r==null||r($r.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,o={}){return await this.send({type:"presence",event:"track",payload:r},o.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,o,l){return this._on(r,o,l)}async send(r,o={}){var l,u;if(!this._canPush()&&r.type==="broadcast"){const{event:h,payload:g}=r,y={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:g,private:this.private}]})};try{const w=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(l=o.timeout)!==null&&l!==void 0?l:this.timeout);return await((u=w.body)===null||u===void 0?void 0:u.cancel()),w.ok?"ok":"error"}catch(w){return w.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var g,x,y;const w=this._push(r.type,r,o.timeout||this.timeout);r.type==="broadcast"&&!(!((y=(x=(g=this.params)===null||g===void 0?void 0:g.config)===null||x===void 0?void 0:x.broadcast)===null||y===void 0)&&y.ack)&&h("ok"),w.receive("ok",()=>h("ok")),w.receive("error",()=>h("error")),w.receive("timeout",()=>h("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=qt.leaving;const o=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xn.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(u=>{l=new id(this,Xn.leave,{},r),l.receive("ok",()=>{o(),u("ok")}).receive("timeout",()=>{o(),u("timed out")}).receive("error",()=>{u("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l==null||l.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(r,o,l){const u=new AbortController,h=setTimeout(()=>u.abort(),l),g=await this.socket.fetch(r,Object.assign(Object.assign({},o),{signal:u.signal}));return clearTimeout(h),g}_push(r,o,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new id(this,r,o,l);return this._canPush()?u.send():(u.startTimeout(),this.pushBuffer.push(u)),u}_onMessage(r,o,l){return o}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,o,l){var u,h;const g=r.toLocaleLowerCase(),{close:x,error:y,leave:w,join:b}=Xn;if(l&&[x,y,w,b].indexOf(g)>=0&&l!==this._joinRef())return;let M=this._onMessage(g,o,l);if(o&&!M)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(g)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(T=>{var P,R,z;return((P=T.filter)===null||P===void 0?void 0:P.event)==="*"||((z=(R=T.filter)===null||R===void 0?void 0:R.event)===null||z===void 0?void 0:z.toLocaleLowerCase())===g}).map(T=>T.callback(M,l)):(h=this.bindings[g])===null||h===void 0||h.filter(T=>{var P,R,z,V,Y,G;if(["broadcast","presence","postgres_changes"].includes(g))if("id"in T){const ee=T.id,oe=(P=T.filter)===null||P===void 0?void 0:P.event;return ee&&((R=o.ids)===null||R===void 0?void 0:R.includes(ee))&&(oe==="*"||(oe==null?void 0:oe.toLocaleLowerCase())===((z=o.data)===null||z===void 0?void 0:z.type.toLocaleLowerCase()))}else{const ee=(Y=(V=T==null?void 0:T.filter)===null||V===void 0?void 0:V.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase();return ee==="*"||ee===((G=o==null?void 0:o.event)===null||G===void 0?void 0:G.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===g}).map(T=>{if(typeof M=="object"&&"ids"in M){const P=M.data,{schema:R,table:z,commit_timestamp:V,type:Y,errors:G}=P;M=Object.assign(Object.assign({},{schema:R,table:z,commit_timestamp:V,eventType:Y,new:{},old:{},errors:G}),this._getPayloadRecords(P))}T.callback(M,l)})}_isClosed(){return this.state===qt.closed}_isJoined(){return this.state===qt.joined}_isJoining(){return this.state===qt.joining}_isLeaving(){return this.state===qt.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,o,l){const u=r.toLocaleLowerCase(),h={type:u,filter:o,callback:l};return this.bindings[u]?this.bindings[u].push(h):this.bindings[u]=[h],this}_off(r,o){const l=r.toLocaleLowerCase();return this.bindings[l]=this.bindings[l].filter(u=>{var h;return!(((h=u.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===l&&Hd.isEqual(u.filter,o))}),this}static isEqual(r,o){if(Object.keys(r).length!==Object.keys(o).length)return!1;for(const l in r)if(r[l]!==o[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Xn.close,{},r)}_onError(r){this._on(Xn.error,{},o=>r(o))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qt.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const o={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(o.new=np(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(o.old=np(r.columns,r.old_record)),o}}const sp=()=>{},Py=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ty{constructor(r,o){var l;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xp,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=sp,this.ref=0,this.logger=sp,this.conn=null,this.sendBuffer=[],this.serializer=new xy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=h=>{let g;return h?g=h:typeof fetch>"u"?g=(...x)=>Ba(async()=>{const{default:y}=await Promise.resolve().then(()=>Ls);return{default:y}},void 0).then(({default:y})=>y(...x)):g=fetch,(...x)=>g(...x)},this.endPoint=`${r}/${bd.websocket}`,this.httpEndpoint=nm(r),o!=null&&o.transport?this.transport=o.transport:this.transport=null,o!=null&&o.params&&(this.params=o.params),o!=null&&o.timeout&&(this.timeout=o.timeout),o!=null&&o.logger&&(this.logger=o.logger),(o!=null&&o.logLevel||o!=null&&o.log_level)&&(this.logLevel=o.logLevel||o.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),o!=null&&o.heartbeatIntervalMs&&(this.heartbeatIntervalMs=o.heartbeatIntervalMs);const u=(l=o==null?void 0:o.params)===null||l===void 0?void 0:l.apikey;if(u&&(this.accessTokenValue=u,this.apiKey=u),this.reconnectAfterMs=o!=null&&o.reconnectAfterMs?o.reconnectAfterMs:h=>[1e3,2e3,5e3,1e4][h-1]||1e4,this.encode=o!=null&&o.encode?o.encode:(h,g)=>g(JSON.stringify(h)),this.decode=o!=null&&o.decode?o.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new em(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(o==null?void 0:o.fetch),o!=null&&o.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(o==null?void 0:o.worker)||!1,this.workerUrl=o==null?void 0:o.workerUrl}this.accessToken=(o==null?void 0:o.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=my),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:yy}))}disconnect(r,o){this.conn&&(this.conn.onclose=function(){},r?this.conn.close(r,o??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(l=>l.teardown()))}getChannels(){return this.channels}async removeChannel(r){const o=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),o}async removeAllChannels(){const r=await Promise.all(this.channels.map(o=>o.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,o,l){this.logger(r,o,l)}connectionState(){switch(this.conn&&this.conn.readyState){case ja.connecting:return pi.Connecting;case ja.open:return pi.Open;case ja.closing:return pi.Closing;default:return pi.Closed}}isConnected(){return this.connectionState()===pi.Open}channel(r,o={config:{}}){const l=`realtime:${r}`,u=this.getChannels().find(h=>h.topic===l);if(u)return u;{const h=new Hd(`realtime:${r}`,o,this);return this.channels.push(h),h}}push(r){const{topic:o,event:l,payload:u,ref:h}=r,g=()=>{this.encode(r,x=>{var y;(y=this.conn)===null||y===void 0||y.send(x)})};this.log("push",`${o} ${l} (${h})`,u),this.isConnected()?g():this.sendBuffer.push(g)}async setAuth(r=null){let o=r||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=o&&(this.accessTokenValue=o,this.channels.forEach(l=>{const u={access_token:o,version:vy};o&&l.updateJoinPayload(u),l.joinedOnce&&l._isJoined()&&l._push(Xn.access_token,{access_token:o})}))}async sendHeartbeat(){var r;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(r=this.conn)===null||r===void 0||r.close(_y,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let o=this.channels.find(l=>l.topic===r&&(l._isJoined()||l._isJoining()));o&&(this.log("transport",`leaving duplicate topic "${r}"`),o.unsubscribe())}_remove(r){this.channels=this.channels.filter(o=>o.topic!==r.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_onConnMessage(r){this.decode(r.data,o=>{let{topic:l,event:u,payload:h,ref:g}=o;l==="phoenix"&&u==="phx_reply"&&this.heartbeatCallback(o.payload.status=="ok"?"ok":"error"),g&&g===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${h.status||""} ${l} ${u} ${g&&"("+g+")"||""}`,h),Array.from(this.channels).filter(x=>x._isMember(l)).forEach(x=>x._trigger(u,h,g)),this.stateChangeCallbacks.message.forEach(x=>x(o))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(r=>r())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=o=>{this.log("worker","worker error",o.message),this.workerRef.terminate()},this.workerRef.onmessage=o=>{o.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){this.log("transport","close",r),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(o=>o(r))}_onConnError(r){this.log("transport",`${r}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(o=>o(r))}_triggerChanError(){this.channels.forEach(r=>r._trigger(Xn.error))}_appendParams(r,o){if(Object.keys(o).length===0)return r;const l=r.match(/\?/)?"&":"?",u=new URLSearchParams(o);return`${r}${l}${u}`}_workerObjectUrl(r){let o;if(r)o=r;else{const l=new Blob([Py],{type:"application/javascript"});o=URL.createObjectURL(l)}return o}}class Wd extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function zt(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class Ly extends Wd{constructor(r,o){super(r),this.name="StorageApiError",this.status=o}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class kd extends Wd{constructor(r,o){super(r),this.name="StorageUnknownError",this.originalError=o}}var My=function(s,r,o,l){function u(h){return h instanceof o?h:new o(function(g){g(h)})}return new(o||(o=Promise))(function(h,g){function x(b){try{w(l.next(b))}catch(E){g(E)}}function y(b){try{w(l.throw(b))}catch(E){g(E)}}function w(b){b.done?h(b.value):u(b.value).then(x,y)}w((l=l.apply(s,r||[])).next())})};const rm=s=>{let r;return s?r=s:typeof fetch>"u"?r=(...o)=>Ba(async()=>{const{default:l}=await Promise.resolve().then(()=>Ls);return{default:l}},void 0).then(({default:l})=>l(...o)):r=fetch,(...o)=>r(...o)},jy=()=>My(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ba(()=>Promise.resolve().then(()=>Ls),void 0)).Response:Response}),Ed=s=>{if(Array.isArray(s))return s.map(o=>Ed(o));if(typeof s=="function"||s!==Object(s))return s;const r={};return Object.entries(s).forEach(([o,l])=>{const u=o.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));r[u]=Ed(l)}),r};var yi=function(s,r,o,l){function u(h){return h instanceof o?h:new o(function(g){g(h)})}return new(o||(o=Promise))(function(h,g){function x(b){try{w(l.next(b))}catch(E){g(E)}}function y(b){try{w(l.throw(b))}catch(E){g(E)}}function w(b){b.done?h(b.value):u(b.value).then(x,y)}w((l=l.apply(s,r||[])).next())})};const sd=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Ry=(s,r,o)=>yi(void 0,void 0,void 0,function*(){const l=yield jy();s instanceof l&&!(o!=null&&o.noResolveJson)?s.json().then(u=>{r(new Ly(sd(u),s.status||500))}).catch(u=>{r(new kd(sd(u),u))}):r(new kd(sd(s),s))}),Oy=(s,r,o,l)=>{const u={method:s,headers:(r==null?void 0:r.headers)||{}};return s==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),l&&(u.body=JSON.stringify(l)),Object.assign(Object.assign({},u),o))};function Ua(s,r,o,l,u,h){return yi(this,void 0,void 0,function*(){return new Promise((g,x)=>{s(o,Oy(r,l,u,h)).then(y=>{if(!y.ok)throw y;return l!=null&&l.noResolveJson?y:y.json()}).then(y=>g(y)).catch(y=>Ry(y,x,l))})})}function vu(s,r,o,l){return yi(this,void 0,void 0,function*(){return Ua(s,"GET",r,o,l)})}function jo(s,r,o,l,u){return yi(this,void 0,void 0,function*(){return Ua(s,"POST",r,l,u,o)})}function Ay(s,r,o,l,u){return yi(this,void 0,void 0,function*(){return Ua(s,"PUT",r,l,u,o)})}function Iy(s,r,o,l){return yi(this,void 0,void 0,function*(){return Ua(s,"HEAD",r,Object.assign(Object.assign({},o),{noResolveJson:!0}),l)})}function om(s,r,o,l,u){return yi(this,void 0,void 0,function*(){return Ua(s,"DELETE",r,l,u,o)})}var dn=function(s,r,o,l){function u(h){return h instanceof o?h:new o(function(g){g(h)})}return new(o||(o=Promise))(function(h,g){function x(b){try{w(l.next(b))}catch(E){g(E)}}function y(b){try{w(l.throw(b))}catch(E){g(E)}}function w(b){b.done?h(b.value):u(b.value).then(x,y)}w((l=l.apply(s,r||[])).next())})};const Ny={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ap={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class zy{constructor(r,o={},l,u){this.url=r,this.headers=o,this.bucketId=l,this.fetch=rm(u)}uploadOrUpdate(r,o,l,u){return dn(this,void 0,void 0,function*(){try{let h;const g=Object.assign(Object.assign({},ap),u);let x=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(g.upsert)});const y=g.metadata;typeof Blob<"u"&&l instanceof Blob?(h=new FormData,h.append("cacheControl",g.cacheControl),y&&h.append("metadata",this.encodeMetadata(y)),h.append("",l)):typeof FormData<"u"&&l instanceof FormData?(h=l,h.append("cacheControl",g.cacheControl),y&&h.append("metadata",this.encodeMetadata(y))):(h=l,x["cache-control"]=`max-age=${g.cacheControl}`,x["content-type"]=g.contentType,y&&(x["x-metadata"]=this.toBase64(this.encodeMetadata(y)))),u!=null&&u.headers&&(x=Object.assign(Object.assign({},x),u.headers));const w=this._removeEmptyFolders(o),b=this._getFinalPath(w),E=yield this.fetch(`${this.url}/object/${b}`,Object.assign({method:r,body:h,headers:x},g!=null&&g.duplex?{duplex:g.duplex}:{})),M=yield E.json();return E.ok?{data:{path:w,id:M.Id,fullPath:M.Key},error:null}:{data:null,error:M}}catch(h){if(zt(h))return{data:null,error:h};throw h}})}upload(r,o,l){return dn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,o,l)})}uploadToSignedUrl(r,o,l,u){return dn(this,void 0,void 0,function*(){const h=this._removeEmptyFolders(r),g=this._getFinalPath(h),x=new URL(this.url+`/object/upload/sign/${g}`);x.searchParams.set("token",o);try{let y;const w=Object.assign({upsert:ap.upsert},u),b=Object.assign(Object.assign({},this.headers),{"x-upsert":String(w.upsert)});typeof Blob<"u"&&l instanceof Blob?(y=new FormData,y.append("cacheControl",w.cacheControl),y.append("",l)):typeof FormData<"u"&&l instanceof FormData?(y=l,y.append("cacheControl",w.cacheControl)):(y=l,b["cache-control"]=`max-age=${w.cacheControl}`,b["content-type"]=w.contentType);const E=yield this.fetch(x.toString(),{method:"PUT",body:y,headers:b}),M=yield E.json();return E.ok?{data:{path:h,fullPath:M.Key},error:null}:{data:null,error:M}}catch(y){if(zt(y))return{data:null,error:y};throw y}})}createSignedUploadUrl(r,o){return dn(this,void 0,void 0,function*(){try{let l=this._getFinalPath(r);const u=Object.assign({},this.headers);o!=null&&o.upsert&&(u["x-upsert"]="true");const h=yield jo(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:u}),g=new URL(this.url+h.url),x=g.searchParams.get("token");if(!x)throw new Wd("No token returned by API");return{data:{signedUrl:g.toString(),path:r,token:x},error:null}}catch(l){if(zt(l))return{data:null,error:l};throw l}})}update(r,o,l){return dn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,o,l)})}move(r,o,l){return dn(this,void 0,void 0,function*(){try{return{data:yield jo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:o,destinationBucket:l==null?void 0:l.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(zt(u))return{data:null,error:u};throw u}})}copy(r,o,l){return dn(this,void 0,void 0,function*(){try{return{data:{path:(yield jo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:o,destinationBucket:l==null?void 0:l.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(zt(u))return{data:null,error:u};throw u}})}createSignedUrl(r,o,l){return dn(this,void 0,void 0,function*(){try{let u=this._getFinalPath(r),h=yield jo(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:o},l!=null&&l.transform?{transform:l.transform}:{}),{headers:this.headers});const g=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return h={signedUrl:encodeURI(`${this.url}${h.signedURL}${g}`)},{data:h,error:null}}catch(u){if(zt(u))return{data:null,error:u};throw u}})}createSignedUrls(r,o,l){return dn(this,void 0,void 0,function*(){try{const u=yield jo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:o,paths:r},{headers:this.headers}),h=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return{data:u.map(g=>Object.assign(Object.assign({},g),{signedUrl:g.signedURL?encodeURI(`${this.url}${g.signedURL}${h}`):null})),error:null}}catch(u){if(zt(u))return{data:null,error:u};throw u}})}download(r,o){return dn(this,void 0,void 0,function*(){const u=typeof(o==null?void 0:o.transform)<"u"?"render/image/authenticated":"object",h=this.transformOptsToQueryString((o==null?void 0:o.transform)||{}),g=h?`?${h}`:"";try{const x=this._getFinalPath(r);return{data:yield(yield vu(this.fetch,`${this.url}/${u}/${x}${g}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(x){if(zt(x))return{data:null,error:x};throw x}})}info(r){return dn(this,void 0,void 0,function*(){const o=this._getFinalPath(r);try{const l=yield vu(this.fetch,`${this.url}/object/info/${o}`,{headers:this.headers});return{data:Ed(l),error:null}}catch(l){if(zt(l))return{data:null,error:l};throw l}})}exists(r){return dn(this,void 0,void 0,function*(){const o=this._getFinalPath(r);try{return yield Iy(this.fetch,`${this.url}/object/${o}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(zt(l)&&l instanceof kd){const u=l.originalError;if([400,404].includes(u==null?void 0:u.status))return{data:!1,error:l}}throw l}})}getPublicUrl(r,o){const l=this._getFinalPath(r),u=[],h=o!=null&&o.download?`download=${o.download===!0?"":o.download}`:"";h!==""&&u.push(h);const x=typeof(o==null?void 0:o.transform)<"u"?"render/image":"object",y=this.transformOptsToQueryString((o==null?void 0:o.transform)||{});y!==""&&u.push(y);let w=u.join("&");return w!==""&&(w=`?${w}`),{data:{publicUrl:encodeURI(`${this.url}/${x}/public/${l}${w}`)}}}remove(r){return dn(this,void 0,void 0,function*(){try{return{data:yield om(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(o){if(zt(o))return{data:null,error:o};throw o}})}list(r,o,l){return dn(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},Ny),o),{prefix:r||""});return{data:yield jo(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},l),error:null}}catch(u){if(zt(u))return{data:null,error:u};throw u}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const o=[];return r.width&&o.push(`width=${r.width}`),r.height&&o.push(`height=${r.height}`),r.resize&&o.push(`resize=${r.resize}`),r.format&&o.push(`format=${r.format}`),r.quality&&o.push(`quality=${r.quality}`),o.join("&")}}const Fy="2.7.1",Dy={"X-Client-Info":`storage-js/${Fy}`};var ps=function(s,r,o,l){function u(h){return h instanceof o?h:new o(function(g){g(h)})}return new(o||(o=Promise))(function(h,g){function x(b){try{w(l.next(b))}catch(E){g(E)}}function y(b){try{w(l.throw(b))}catch(E){g(E)}}function w(b){b.done?h(b.value):u(b.value).then(x,y)}w((l=l.apply(s,r||[])).next())})};class By{constructor(r,o={},l){this.url=r,this.headers=Object.assign(Object.assign({},Dy),o),this.fetch=rm(l)}listBuckets(){return ps(this,void 0,void 0,function*(){try{return{data:yield vu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}})}getBucket(r){return ps(this,void 0,void 0,function*(){try{return{data:yield vu(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(o){if(zt(o))return{data:null,error:o};throw o}})}createBucket(r,o={public:!1}){return ps(this,void 0,void 0,function*(){try{return{data:yield jo(this.fetch,`${this.url}/bucket`,{id:r,name:r,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(zt(l))return{data:null,error:l};throw l}})}updateBucket(r,o){return ps(this,void 0,void 0,function*(){try{return{data:yield Ay(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(zt(l))return{data:null,error:l};throw l}})}emptyBucket(r){return ps(this,void 0,void 0,function*(){try{return{data:yield jo(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(o){if(zt(o))return{data:null,error:o};throw o}})}deleteBucket(r){return ps(this,void 0,void 0,function*(){try{return{data:yield om(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(o){if(zt(o))return{data:null,error:o};throw o}})}}class Uy extends By{constructor(r,o={},l){super(r,o,l)}from(r){return new zy(this.url,this.headers,r,this.fetch)}}const $y="2.52.0";let La="";typeof Deno<"u"?La="deno":typeof document<"u"?La="web":typeof navigator<"u"&&navigator.product==="ReactNative"?La="react-native":La="node";const Gy={"X-Client-Info":`supabase-js-${La}/${$y}`},Hy={headers:Gy},Wy={schema:"public"},Zy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Vy={};var qy=function(s,r,o,l){function u(h){return h instanceof o?h:new o(function(g){g(h)})}return new(o||(o=Promise))(function(h,g){function x(b){try{w(l.next(b))}catch(E){g(E)}}function y(b){try{w(l.throw(b))}catch(E){g(E)}}function w(b){b.done?h(b.value):u(b.value).then(x,y)}w((l=l.apply(s,r||[])).next())})};const Ky=s=>{let r;return s?r=s:typeof fetch>"u"?r=Vp:r=fetch,(...o)=>r(...o)},Jy=()=>typeof Headers>"u"?qp:Headers,Yy=(s,r,o)=>{const l=Ky(o),u=Jy();return(h,g)=>qy(void 0,void 0,void 0,function*(){var x;const y=(x=yield r())!==null&&x!==void 0?x:s;let w=new u(g==null?void 0:g.headers);return w.has("apikey")||w.set("apikey",s),w.has("Authorization")||w.set("Authorization",`Bearer ${y}`),l(h,Object.assign(Object.assign({},g),{headers:w}))})};var Qy=function(s,r,o,l){function u(h){return h instanceof o?h:new o(function(g){g(h)})}return new(o||(o=Promise))(function(h,g){function x(b){try{w(l.next(b))}catch(E){g(E)}}function y(b){try{w(l.throw(b))}catch(E){g(E)}}function w(b){b.done?h(b.value):u(b.value).then(x,y)}w((l=l.apply(s,r||[])).next())})};function Xy(s){return s.endsWith("/")?s:s+"/"}function e0(s,r){var o,l;const{db:u,auth:h,realtime:g,global:x}=s,{db:y,auth:w,realtime:b,global:E}=r,M={db:Object.assign(Object.assign({},y),u),auth:Object.assign(Object.assign({},w),h),realtime:Object.assign(Object.assign({},b),g),global:Object.assign(Object.assign(Object.assign({},E),x),{headers:Object.assign(Object.assign({},(o=E==null?void 0:E.headers)!==null&&o!==void 0?o:{}),(l=x==null?void 0:x.headers)!==null&&l!==void 0?l:{})}),accessToken:()=>Qy(this,void 0,void 0,function*(){return""})};return s.accessToken?M.accessToken=s.accessToken:delete M.accessToken,M}const im="2.71.1",xs=30*1e3,Cd=3,ad=Cd*xs,t0="http://localhost:9999",n0="supabase.auth.token",r0={"X-Client-Info":`gotrue-js/${im}`},Pd="X-Supabase-Api-Version",sm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},o0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,i0=10*60*1e3;class Zd extends Error{constructor(r,o,l){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=o,this.code=l}}function Be(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class s0 extends Zd{constructor(r,o,l){super(r,o,l),this.name="AuthApiError",this.status=o,this.code=l}}function a0(s){return Be(s)&&s.name==="AuthApiError"}class am extends Zd{constructor(r,o){super(r),this.name="AuthUnknownError",this.originalError=o}}class Oo extends Zd{constructor(r,o,l,u){super(r,l,u),this.name=o,this.status=l}}class Mo extends Oo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function l0(s){return Be(s)&&s.name==="AuthSessionMissingError"}class du extends Oo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class hu extends Oo{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class fu extends Oo{constructor(r,o=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function u0(s){return Be(s)&&s.name==="AuthImplicitGrantRedirectError"}class lp extends Oo{constructor(r,o=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Td extends Oo{constructor(r,o){super(r,"AuthRetryableFetchError",o,void 0)}}function ld(s){return Be(s)&&s.name==="AuthRetryableFetchError"}class up extends Oo{constructor(r,o,l){super(r,"AuthWeakPasswordError",o,"weak_password"),this.reasons=l}}class Ld extends Oo{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const yu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),cp=` 	
\r=`.split(""),c0=(()=>{const s=new Array(128);for(let r=0;r<s.length;r+=1)s[r]=-1;for(let r=0;r<cp.length;r+=1)s[cp[r].charCodeAt(0)]=-2;for(let r=0;r<yu.length;r+=1)s[yu[r].charCodeAt(0)]=r;return s})();function dp(s,r,o){if(s!==null)for(r.queue=r.queue<<8|s,r.queuedBits+=8;r.queuedBits>=6;){const l=r.queue>>r.queuedBits-6&63;o(yu[l]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const l=r.queue>>r.queuedBits-6&63;o(yu[l]),r.queuedBits-=6}}function lm(s,r,o){const l=c0[s];if(l>-1)for(r.queue=r.queue<<6|l,r.queuedBits+=6;r.queuedBits>=8;)o(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function hp(s){const r=[],o=g=>{r.push(String.fromCodePoint(g))},l={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},h=g=>{f0(g,l,o)};for(let g=0;g<s.length;g+=1)lm(s.charCodeAt(g),u,h);return r.join("")}function d0(s,r){if(s<=127){r(s);return}else if(s<=2047){r(192|s>>6),r(128|s&63);return}else if(s<=65535){r(224|s>>12),r(128|s>>6&63),r(128|s&63);return}else if(s<=1114111){r(240|s>>18),r(128|s>>12&63),r(128|s>>6&63),r(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function h0(s,r){for(let o=0;o<s.length;o+=1){let l=s.charCodeAt(o);if(l>55295&&l<=56319){const u=(l-55296)*1024&65535;l=(s.charCodeAt(o+1)-56320&65535|u)+65536,o+=1}d0(l,r)}}function f0(s,r,o){if(r.utf8seq===0){if(s<=127){o(s);return}for(let l=1;l<6;l+=1)if((s>>7-l&1)===0){r.utf8seq=l;break}if(r.utf8seq===2)r.codepoint=s&31;else if(r.utf8seq===3)r.codepoint=s&15;else if(r.utf8seq===4)r.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|s&63,r.utf8seq-=1,r.utf8seq===0&&o(r.codepoint)}}function p0(s){const r=[],o={queue:0,queuedBits:0},l=u=>{r.push(u)};for(let u=0;u<s.length;u+=1)lm(s.charCodeAt(u),o,l);return new Uint8Array(r)}function m0(s){const r=[];return h0(s,o=>r.push(o)),new Uint8Array(r)}function g0(s){const r=[],o={queue:0,queuedBits:0},l=u=>{r.push(u)};return s.forEach(u=>dp(u,o,l)),dp(null,o,l),r.join("")}function v0(s){return Math.round(Date.now()/1e3)+s}function y0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const r=Math.random()*16|0;return(s=="x"?r:r&3|8).toString(16)})}const Qn=()=>typeof window<"u"&&typeof document<"u",li={tested:!1,writable:!1},um=()=>{if(!Qn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(li.tested)return li.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),li.tested=!0,li.writable=!0}catch{li.tested=!0,li.writable=!1}return li.writable};function _0(s){const r={},o=new URL(s);if(o.hash&&o.hash[0]==="#")try{new URLSearchParams(o.hash.substring(1)).forEach((u,h)=>{r[h]=u})}catch{}return o.searchParams.forEach((l,u)=>{r[u]=l}),r}const cm=s=>{let r;return s?r=s:typeof fetch>"u"?r=(...o)=>Ba(async()=>{const{default:l}=await Promise.resolve().then(()=>Ls);return{default:l}},void 0).then(({default:l})=>l(...o)):r=fetch,(...o)=>r(...o)},x0=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",ws=async(s,r,o)=>{await s.setItem(r,JSON.stringify(o))},ui=async(s,r)=>{const o=await s.getItem(r);if(!o)return null;try{return JSON.parse(o)}catch{return o}},To=async(s,r)=>{await s.removeItem(r)};class bu{constructor(){this.promise=new bu.promiseConstructor((r,o)=>{this.resolve=r,this.reject=o})}}bu.promiseConstructor=Promise;function ud(s){const r=s.split(".");if(r.length!==3)throw new Ld("Invalid JWT structure");for(let l=0;l<r.length;l++)if(!o0.test(r[l]))throw new Ld("JWT not in base64url format");return{header:JSON.parse(hp(r[0])),payload:JSON.parse(hp(r[1])),signature:p0(r[2]),raw:{header:r[0],payload:r[1]}}}async function w0(s){return await new Promise(r=>{setTimeout(()=>r(null),s)})}function b0(s,r){return new Promise((l,u)=>{(async()=>{for(let h=0;h<1/0;h++)try{const g=await s(h);if(!r(h,null,g)){l(g);return}}catch(g){if(!r(h,g)){u(g);return}}})()})}function S0(s){return("0"+s.toString(16)).substr(-2)}function k0(){const r=new Uint32Array(56);if(typeof crypto>"u"){const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=o.length;let u="";for(let h=0;h<56;h++)u+=o.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(r),Array.from(r,S0).join("")}async function E0(s){const o=new TextEncoder().encode(s),l=await crypto.subtle.digest("SHA-256",o),u=new Uint8Array(l);return Array.from(u).map(h=>String.fromCharCode(h)).join("")}async function C0(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const o=await E0(s);return btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ms(s,r,o=!1){const l=k0();let u=l;o&&(u+="/PASSWORD_RECOVERY"),await ws(s,`${r}-code-verifier`,u);const h=await C0(l);return[h,l===h?"plain":"s256"]}const P0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function T0(s){const r=s.headers.get(Pd);if(!r||!r.match(P0))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function L0(s){if(!s)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(s<=r)throw new Error("JWT has expired")}function M0(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const j0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gs(s){if(!j0.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function cd(){const s={};return new Proxy(s,{get:(r,o)=>{if(o==="__isUserNotAvailableProxy")return!0;if(typeof o=="symbol"){const l=o.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${o}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function fp(s){return JSON.parse(JSON.stringify(s))}var R0=function(s,r){var o={};for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&r.indexOf(l)<0&&(o[l]=s[l]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(s);u<l.length;u++)r.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(s,l[u])&&(o[l[u]]=s[l[u]]);return o};const fi=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),O0=[502,503,504];async function pp(s){var r;if(!x0(s))throw new Td(fi(s),0);if(O0.includes(s.status))throw new Td(fi(s),s.status);let o;try{o=await s.json()}catch(h){throw new am(fi(h),h)}let l;const u=T0(s);if(u&&u.getTime()>=sm["2024-01-01"].timestamp&&typeof o=="object"&&o&&typeof o.code=="string"?l=o.code:typeof o=="object"&&o&&typeof o.error_code=="string"&&(l=o.error_code),l){if(l==="weak_password")throw new up(fi(o),s.status,((r=o.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(l==="session_not_found")throw new Mo}else if(typeof o=="object"&&o&&typeof o.weak_password=="object"&&o.weak_password&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.reasons.reduce((h,g)=>h&&typeof g=="string",!0))throw new up(fi(o),s.status,o.weak_password.reasons);throw new s0(fi(o),s.status||500,l)}const A0=(s,r,o,l)=>{const u={method:s,headers:(r==null?void 0:r.headers)||{}};return s==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),o))};async function We(s,r,o,l){var u;const h=Object.assign({},l==null?void 0:l.headers);h[Pd]||(h[Pd]=sm["2024-01-01"].name),l!=null&&l.jwt&&(h.Authorization=`Bearer ${l.jwt}`);const g=(u=l==null?void 0:l.query)!==null&&u!==void 0?u:{};l!=null&&l.redirectTo&&(g.redirect_to=l.redirectTo);const x=Object.keys(g).length?"?"+new URLSearchParams(g).toString():"",y=await I0(s,r,o+x,{headers:h,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(y):{data:Object.assign({},y),error:null}}async function I0(s,r,o,l,u,h){const g=A0(r,l,u,h);let x;try{x=await s(o,Object.assign({},g))}catch(y){throw console.error(y),new Td(fi(y),0)}if(x.ok||await pp(x),l!=null&&l.noResolveJson)return x;try{return await x.json()}catch(y){await pp(y)}}function Ur(s){var r;let o=null;D0(s)&&(o=Object.assign({},s),s.expires_at||(o.expires_at=v0(s.expires_in)));const l=(r=s.user)!==null&&r!==void 0?r:s;return{data:{session:o,user:l},error:null}}function mp(s){const r=Ur(s);return!r.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0)&&(r.data.weak_password=s.weak_password),r}function Ro(s){var r;return{data:{user:(r=s.user)!==null&&r!==void 0?r:s},error:null}}function N0(s){return{data:s,error:null}}function z0(s){const{action_link:r,email_otp:o,hashed_token:l,redirect_to:u,verification_type:h}=s,g=R0(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),x={action_link:r,email_otp:o,hashed_token:l,redirect_to:u,verification_type:h},y=Object.assign({},g);return{data:{properties:x,user:y},error:null}}function F0(s){return s}function D0(s){return s.access_token&&s.refresh_token&&s.expires_in}const dd=["global","local","others"];var B0=function(s,r){var o={};for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&r.indexOf(l)<0&&(o[l]=s[l]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(s);u<l.length;u++)r.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(s,l[u])&&(o[l[u]]=s[l[u]]);return o};class U0{constructor({url:r="",headers:o={},fetch:l}){this.url=r,this.headers=o,this.fetch=cm(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,o=dd[0]){if(dd.indexOf(o)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${dd.join(", ")}`);try{return await We(this.fetch,"POST",`${this.url}/logout?scope=${o}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(l){if(Be(l))return{data:null,error:l};throw l}}async inviteUserByEmail(r,o={}){try{return await We(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:o.data},headers:this.headers,redirectTo:o.redirectTo,xform:Ro})}catch(l){if(Be(l))return{data:{user:null},error:l};throw l}}async generateLink(r){try{const{options:o}=r,l=B0(r,["options"]),u=Object.assign(Object.assign({},l),o);return"newEmail"in l&&(u.new_email=l==null?void 0:l.newEmail,delete u.newEmail),await We(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:z0,redirectTo:o==null?void 0:o.redirectTo})}catch(o){if(Be(o))return{data:{properties:null,user:null},error:o};throw o}}async createUser(r){try{return await We(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Ro})}catch(o){if(Be(o))return{data:{user:null},error:o};throw o}}async listUsers(r){var o,l,u,h,g,x,y;try{const w={nextPage:null,lastPage:0,total:0},b=await We(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(o=r==null?void 0:r.page)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:"",per_page:(h=(u=r==null?void 0:r.perPage)===null||u===void 0?void 0:u.toString())!==null&&h!==void 0?h:""},xform:F0});if(b.error)throw b.error;const E=await b.json(),M=(g=b.headers.get("x-total-count"))!==null&&g!==void 0?g:0,T=(y=(x=b.headers.get("link"))===null||x===void 0?void 0:x.split(","))!==null&&y!==void 0?y:[];return T.length>0&&(T.forEach(P=>{const R=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),z=JSON.parse(P.split(";")[1].split("=")[1]);w[`${z}Page`]=R}),w.total=parseInt(M)),{data:Object.assign(Object.assign({},E),w),error:null}}catch(w){if(Be(w))return{data:{users:[]},error:w};throw w}}async getUserById(r){gs(r);try{return await We(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Ro})}catch(o){if(Be(o))return{data:{user:null},error:o};throw o}}async updateUserById(r,o){gs(r);try{return await We(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:o,headers:this.headers,xform:Ro})}catch(l){if(Be(l))return{data:{user:null},error:l};throw l}}async deleteUser(r,o=!1){gs(r);try{return await We(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:o},xform:Ro})}catch(l){if(Be(l))return{data:{user:null},error:l};throw l}}async _listFactors(r){gs(r.userId);try{const{data:o,error:l}=await We(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:o,error:l}}catch(o){if(Be(o))return{data:null,error:o};throw o}}async _deleteFactor(r){gs(r.userId),gs(r.id);try{return{data:await We(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(o){if(Be(o))return{data:null,error:o};throw o}}}function gp(s={}){return{getItem:r=>s[r]||null,setItem:(r,o)=>{s[r]=o},removeItem:r=>{delete s[r]}}}function $0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const vs={debug:!!(globalThis&&um()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class dm extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class G0 extends dm{}async function H0(s,r,o){vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,r);const l=new globalThis.AbortController;return r>0&&setTimeout(()=>{l.abort(),vs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async u=>{if(u){vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,u.name);try{return await o()}finally{vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,u.name)}}else{if(r===0)throw vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new G0(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(vs.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await o()}}))}$0();const W0={url:t0,storageKey:n0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:r0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function vp(s,r,o){return await o()}const ys={};class Ia{constructor(r){var o,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ia.nextInstanceID,Ia.nextInstanceID+=1,this.instanceID>0&&Qn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const u=Object.assign(Object.assign({},W0),r);if(this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.persistSession=u.persistSession,this.storageKey=u.storageKey,this.autoRefreshToken=u.autoRefreshToken,this.admin=new U0({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=cm(u.fetch),this.lock=u.lock||vp,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,u.lock?this.lock=u.lock:Qn()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=H0:this.lock=vp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:um()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=gp(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=gp(this.memoryStorage)),Qn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}get jwks(){var r,o;return(o=(r=ys[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&o!==void 0?o:{keys:[]}}set jwks(r){ys[this.storageKey]=Object.assign(Object.assign({},ys[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,o;return(o=(r=ys[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&o!==void 0?o:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){ys[this.storageKey]=Object.assign(Object.assign({},ys[this.storageKey]),{cachedAt:r})}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${im}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const o=_0(window.location.href);let l="none";if(this._isImplicitGrantCallback(o)?l="implicit":await this._isPKCECallback(o)&&(l="pkce"),Qn()&&this.detectSessionInUrl&&l!=="none"){const{data:u,error:h}=await this._getSessionFromURL(o,l);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),u0(h)){const y=(r=h.details)===null||r===void 0?void 0:r.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:h}}return await this._removeSession(),{error:h}}const{session:g,redirectType:x}=u;return this._debug("#_initialize()","detected session in URL",g,"redirect type",x),await this._saveSession(g),setTimeout(async()=>{x==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",g):await this._notifyAllSubscribers("SIGNED_IN",g)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(o){return Be(o)?{error:o}:{error:new am("Unexpected error during initialization",o)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var o,l,u;try{const h=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(o=r==null?void 0:r.options)===null||o===void 0?void 0:o.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(u=r==null?void 0:r.options)===null||u===void 0?void 0:u.captchaToken}},xform:Ur}),{data:g,error:x}=h;if(x||!g)return{data:{user:null,session:null},error:x};const y=g.session,w=g.user;return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",y)),{data:{user:w,session:y},error:null}}catch(h){if(Be(h))return{data:{user:null,session:null},error:h};throw h}}async signUp(r){var o,l,u;try{let h;if("email"in r){const{email:b,password:E,options:M}=r;let T=null,P=null;this.flowType==="pkce"&&([T,P]=await ms(this.storage,this.storageKey)),h=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:M==null?void 0:M.emailRedirectTo,body:{email:b,password:E,data:(o=M==null?void 0:M.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:M==null?void 0:M.captchaToken},code_challenge:T,code_challenge_method:P},xform:Ur})}else if("phone"in r){const{phone:b,password:E,options:M}=r;h=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:E,data:(l=M==null?void 0:M.data)!==null&&l!==void 0?l:{},channel:(u=M==null?void 0:M.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:M==null?void 0:M.captchaToken}},xform:Ur})}else throw new hu("You must provide either an email or phone number and a password");const{data:g,error:x}=h;if(x||!g)return{data:{user:null,session:null},error:x};const y=g.session,w=g.user;return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",y)),{data:{user:w,session:y},error:null}}catch(h){if(Be(h))return{data:{user:null,session:null},error:h};throw h}}async signInWithPassword(r){try{let o;if("email"in r){const{email:h,password:g,options:x}=r;o=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:g,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:mp})}else if("phone"in r){const{phone:h,password:g,options:x}=r;o=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:g,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:mp})}else throw new hu("You must provide either an email or phone number and a password");const{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new du}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:u})}catch(o){if(Be(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithOAuth(r){var o,l,u,h;return await this._handleProviderSignIn(r.provider,{redirectTo:(o=r.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=r.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=r.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(h=r.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:o}=r;if(o==="solana")return await this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${o}"`)}async signInWithSolana(r){var o,l,u,h,g,x,y,w,b,E,M,T;let P,R;if("message"in r)P=r.message,R=r.signature;else{const{chain:z,wallet:V,statement:Y,options:G}=r;let ee;if(Qn())if(typeof V=="object")ee=V;else{const ae=window;if("solana"in ae&&typeof ae.solana=="object"&&("signIn"in ae.solana&&typeof ae.solana.signIn=="function"||"signMessage"in ae.solana&&typeof ae.solana.signMessage=="function"))ee=ae.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof V!="object"||!(G!=null&&G.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");ee=V}const oe=new URL((o=G==null?void 0:G.url)!==null&&o!==void 0?o:window.location.href);if("signIn"in ee&&ee.signIn){const ae=await ee.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},G==null?void 0:G.signInWithSolana),{version:"1",domain:oe.host,uri:oe.href}),Y?{statement:Y}:null));let ge;if(Array.isArray(ae)&&ae[0]&&typeof ae[0]=="object")ge=ae[0];else if(ae&&typeof ae=="object"&&"signedMessage"in ae&&"signature"in ae)ge=ae;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ge&&"signature"in ge&&(typeof ge.signedMessage=="string"||ge.signedMessage instanceof Uint8Array)&&ge.signature instanceof Uint8Array)P=typeof ge.signedMessage=="string"?ge.signedMessage:new TextDecoder().decode(ge.signedMessage),R=ge.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in ee)||typeof ee.signMessage!="function"||!("publicKey"in ee)||typeof ee!="object"||!ee.publicKey||!("toBase58"in ee.publicKey)||typeof ee.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");P=[`${oe.host} wants you to sign in with your Solana account:`,ee.publicKey.toBase58(),...Y?["",Y,""]:[""],"Version: 1",`URI: ${oe.href}`,`Issued At: ${(u=(l=G==null?void 0:G.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((h=G==null?void 0:G.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${G.signInWithSolana.notBefore}`]:[],...!((g=G==null?void 0:G.signInWithSolana)===null||g===void 0)&&g.expirationTime?[`Expiration Time: ${G.signInWithSolana.expirationTime}`]:[],...!((x=G==null?void 0:G.signInWithSolana)===null||x===void 0)&&x.chainId?[`Chain ID: ${G.signInWithSolana.chainId}`]:[],...!((y=G==null?void 0:G.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${G.signInWithSolana.nonce}`]:[],...!((w=G==null?void 0:G.signInWithSolana)===null||w===void 0)&&w.requestId?[`Request ID: ${G.signInWithSolana.requestId}`]:[],...!((E=(b=G==null?void 0:G.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||E===void 0)&&E.length?["Resources",...G.signInWithSolana.resources.map(ge=>`- ${ge}`)]:[]].join(`
`);const ae=await ee.signMessage(new TextEncoder().encode(P),"utf8");if(!ae||!(ae instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=ae}}try{const{data:z,error:V}=await We(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:P,signature:g0(R)},!((M=r.options)===null||M===void 0)&&M.captchaToken?{gotrue_meta_security:{captcha_token:(T=r.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:Ur});if(V)throw V;return!z||!z.session||!z.user?{data:{user:null,session:null},error:new du}:(z.session&&(await this._saveSession(z.session),await this._notifyAllSubscribers("SIGNED_IN",z.session)),{data:Object.assign({},z),error:V})}catch(z){if(Be(z))return{data:{user:null,session:null},error:z};throw z}}async _exchangeCodeForSession(r){const o=await ui(this.storage,`${this.storageKey}-code-verifier`),[l,u]=(o??"").split("/");try{const{data:h,error:g}=await We(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:l},xform:Ur});if(await To(this.storage,`${this.storageKey}-code-verifier`),g)throw g;return!h||!h.session||!h.user?{data:{user:null,session:null,redirectType:null},error:new du}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:Object.assign(Object.assign({},h),{redirectType:u??null}),error:g})}catch(h){if(Be(h))return{data:{user:null,session:null,redirectType:null},error:h};throw h}}async signInWithIdToken(r){try{const{options:o,provider:l,token:u,access_token:h,nonce:g}=r,x=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:h,nonce:g,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ur}),{data:y,error:w}=x;return w?{data:{user:null,session:null},error:w}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new du}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:y,error:w})}catch(o){if(Be(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithOtp(r){var o,l,u,h,g;try{if("email"in r){const{email:x,options:y}=r;let w=null,b=null;this.flowType==="pkce"&&([w,b]=await ms(this.storage,this.storageKey));const{error:E}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:x,data:(o=y==null?void 0:y.data)!==null&&o!==void 0?o:{},create_user:(l=y==null?void 0:y.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:w,code_challenge_method:b},redirectTo:y==null?void 0:y.emailRedirectTo});return{data:{user:null,session:null},error:E}}if("phone"in r){const{phone:x,options:y}=r,{data:w,error:b}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:x,data:(u=y==null?void 0:y.data)!==null&&u!==void 0?u:{},create_user:(h=y==null?void 0:y.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},channel:(g=y==null?void 0:y.channel)!==null&&g!==void 0?g:"sms"}});return{data:{user:null,session:null,messageId:w==null?void 0:w.message_id},error:b}}throw new hu("You must provide either an email or phone number.")}catch(x){if(Be(x))return{data:{user:null,session:null},error:x};throw x}}async verifyOtp(r){var o,l;try{let u,h;"options"in r&&(u=(o=r.options)===null||o===void 0?void 0:o.redirectTo,h=(l=r.options)===null||l===void 0?void 0:l.captchaToken);const{data:g,error:x}=await We(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:h}}),redirectTo:u,xform:Ur});if(x)throw x;if(!g)throw new Error("An error occurred on token verification.");const y=g.session,w=g.user;return y!=null&&y.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),{data:{user:w,session:y},error:null}}catch(u){if(Be(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithSSO(r){var o,l,u;try{let h=null,g=null;return this.flowType==="pkce"&&([h,g]=await ms(this.storage,this.storageKey)),await We(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(l=(o=r.options)===null||o===void 0?void 0:o.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=r==null?void 0:r.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:g}),headers:this.headers,xform:N0})}catch(h){if(Be(h))return{data:null,error:h};throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:o},error:l}=r;if(l)throw l;if(!o)throw new Mo;const{error:u}=await We(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:o.access_token});return{data:{user:null,session:null},error:u}})}catch(r){if(Be(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const o=`${this.url}/resend`;if("email"in r){const{email:l,type:u,options:h}=r,{error:g}=await We(this.fetch,"POST",o,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:g}}else if("phone"in r){const{phone:l,type:u,options:h}=r,{data:g,error:x}=await We(this.fetch,"POST",o,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}}});return{data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:x}}throw new hu("You must provide either an email or phone number and a type")}catch(o){if(Be(o))return{data:{user:null,session:null},error:o};throw o}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async o=>o))}async _acquireLock(r,o){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await o()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=o();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const o=await this.__loadSession();return await r(o)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const o=await ui(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",o),o!==null&&(this._isValidSession(o)?r=o:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const l=r.expires_at?r.expires_at*1e3-Date.now()<ad:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",r.expires_at),!l){if(this.userStorage){const g=await ui(this.userStorage,this.storageKey+"-user");g!=null&&g.user?r.user=g.user:r.user=cd()}if(this.storage.isServer&&r.user){let g=this.suppressGetSessionWarning;r=new Proxy(r,{get:(y,w,b)=>(!g&&w==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),g=!0,this.suppressGetSessionWarning=!0),Reflect.get(y,w,b))})}return{data:{session:r},error:null}}const{session:u,error:h}=await this._callRefreshToken(r.refresh_token);return h?{data:{session:null},error:h}:{data:{session:u},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Ro}):await this._useSession(async o=>{var l,u,h;const{data:g,error:x}=o;if(x)throw x;return!(!((l=g.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Mo}:await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(u=g.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0,xform:Ro})})}catch(o){if(Be(o))return l0(o)&&(await this._removeSession(),await To(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:o};throw o}}async updateUser(r,o={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,o))}async _updateUser(r,o={}){try{return await this._useSession(async l=>{const{data:u,error:h}=l;if(h)throw h;if(!u.session)throw new Mo;const g=u.session;let x=null,y=null;this.flowType==="pkce"&&r.email!=null&&([x,y]=await ms(this.storage,this.storageKey));const{data:w,error:b}=await We(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:o==null?void 0:o.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:x,code_challenge_method:y}),jwt:g.access_token,xform:Ro});if(b)throw b;return g.user=w.user,await this._saveSession(g),await this._notifyAllSubscribers("USER_UPDATED",g),{data:{user:g.user},error:null}})}catch(l){if(Be(l))return{data:{user:null},error:l};throw l}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new Mo;const o=Date.now()/1e3;let l=o,u=!0,h=null;const{payload:g}=ud(r.access_token);if(g.exp&&(l=g.exp,u=l<=o),u){const{session:x,error:y}=await this._callRefreshToken(r.refresh_token);if(y)return{data:{user:null,session:null},error:y};if(!x)return{data:{user:null,session:null},error:null};h=x}else{const{data:x,error:y}=await this._getUser(r.access_token);if(y)throw y;h={access_token:r.access_token,refresh_token:r.refresh_token,user:x.user,token_type:"bearer",expires_in:l-o,expires_at:l},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return{data:{user:h.user,session:h},error:null}}catch(o){if(Be(o))return{data:{session:null,user:null},error:o};throw o}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async o=>{var l;if(!r){const{data:g,error:x}=o;if(x)throw x;r=(l=g.session)!==null&&l!==void 0?l:void 0}if(!(r!=null&&r.refresh_token))throw new Mo;const{session:u,error:h}=await this._callRefreshToken(r.refresh_token);return h?{data:{user:null,session:null},error:h}:u?{data:{user:u.user,session:u},error:null}:{data:{user:null,session:null},error:null}})}catch(o){if(Be(o))return{data:{user:null,session:null},error:o};throw o}}async _getSessionFromURL(r,o){try{if(!Qn())throw new fu("No browser detected.");if(r.error||r.error_description||r.error_code)throw new fu(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(o){case"implicit":if(this.flowType==="pkce")throw new lp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fu("Not a valid implicit grant flow url.");break;default:}if(o==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new lp("No code detected.");const{data:Y,error:G}=await this._exchangeCodeForSession(r.code);if(G)throw G;const ee=new URL(window.location.href);return ee.searchParams.delete("code"),window.history.replaceState(window.history.state,"",ee.toString()),{data:{session:Y.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:u,access_token:h,refresh_token:g,expires_in:x,expires_at:y,token_type:w}=r;if(!h||!x||!g||!w)throw new fu("No session defined in URL");const b=Math.round(Date.now()/1e3),E=parseInt(x);let M=b+E;y&&(M=parseInt(y));const T=M-b;T*1e3<=xs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${E}s`);const P=M-E;b-P>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",P,M,b):b-P<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",P,M,b);const{data:R,error:z}=await this._getUser(h);if(z)throw z;const V={provider_token:l,provider_refresh_token:u,access_token:h,expires_in:E,expires_at:M,refresh_token:g,token_type:w,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:V,redirectType:r.type},error:null}}catch(l){if(Be(l))return{data:{session:null,redirectType:null},error:l};throw l}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const o=await ui(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&o)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async o=>{var l;const{data:u,error:h}=o;if(h)return{error:h};const g=(l=u.session)===null||l===void 0?void 0:l.access_token;if(g){const{error:x}=await this.admin.signOut(g,r);if(x&&!(a0(x)&&(x.status===404||x.status===401||x.status===403)))return{error:x}}return r!=="others"&&(await this._removeSession(),await To(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const o=y0(),l={id:o,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",o),this.stateChangeEmitters.delete(o)}};return this._debug("#onAuthStateChange()","registered callback with id",o),this.stateChangeEmitters.set(o,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(o)})))(),{data:{subscription:l}}}async _emitInitialSession(r){return await this._useSession(async o=>{var l,u;try{const{data:{session:h},error:g}=o;if(g)throw g;await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",r,"session",h)}catch(h){await((u=this.stateChangeEmitters.get(r))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",h),console.error(h)}})}async resetPasswordForEmail(r,o={}){let l=null,u=null;this.flowType==="pkce"&&([l,u]=await ms(this.storage,this.storageKey,!0));try{return await We(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:o.captchaToken}},headers:this.headers,redirectTo:o.redirectTo})}catch(h){if(Be(h))return{data:null,error:h};throw h}}async getUserIdentities(){var r;try{const{data:o,error:l}=await this.getUser();if(l)throw l;return{data:{identities:(r=o.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(o){if(Be(o))return{data:null,error:o};throw o}}async linkIdentity(r){var o;try{const{data:l,error:u}=await this._useSession(async h=>{var g,x,y,w,b;const{data:E,error:M}=h;if(M)throw M;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(g=r.options)===null||g===void 0?void 0:g.redirectTo,scopes:(x=r.options)===null||x===void 0?void 0:x.scopes,queryParams:(y=r.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await We(this.fetch,"GET",T,{headers:this.headers,jwt:(b=(w=E.session)===null||w===void 0?void 0:w.access_token)!==null&&b!==void 0?b:void 0})});if(u)throw u;return Qn()&&!(!((o=r.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(l==null?void 0:l.url),{data:{provider:r.provider,url:l==null?void 0:l.url},error:null}}catch(l){if(Be(l))return{data:{provider:r.provider,url:null},error:l};throw l}}async unlinkIdentity(r){try{return await this._useSession(async o=>{var l,u;const{data:h,error:g}=o;if(g)throw g;return await We(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(u=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})})}catch(o){if(Be(o))return{data:null,error:o};throw o}}async _refreshAccessToken(r){const o=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(o,"begin");try{const l=Date.now();return await b0(async u=>(u>0&&await w0(200*Math.pow(2,u-1)),this._debug(o,"refreshing attempt",u),await We(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Ur})),(u,h)=>{const g=200*Math.pow(2,u);return h&&ld(h)&&Date.now()+g-l<xs})}catch(l){if(this._debug(o,"error",l),Be(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(o,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,o){const l=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:o.redirectTo,scopes:o.scopes,queryParams:o.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",o,"url",l),Qn()&&!o.skipBrowserRedirect&&window.location.assign(l),{data:{provider:r,url:l},error:null}}async _recoverAndRefresh(){var r,o;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const u=await ui(this.storage,this.storageKey);if(u&&this.userStorage){let g=await ui(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!g&&(g={user:u.user},await ws(this.userStorage,this.storageKey+"-user",g)),u.user=(r=g==null?void 0:g.user)!==null&&r!==void 0?r:cd()}else if(u&&!u.user&&!u.user){const g=await ui(this.storage,this.storageKey+"-user");g&&(g!=null&&g.user)?(u.user=g.user,await To(this.storage,this.storageKey+"-user"),await ws(this.storage,this.storageKey,u)):u.user=cd()}if(this._debug(l,"session from storage",u),!this._isValidSession(u)){this._debug(l,"session is not valid"),u!==null&&await this._removeSession();return}const h=((o=u.expires_at)!==null&&o!==void 0?o:1/0)*1e3-Date.now()<ad;if(this._debug(l,`session has${h?"":" not"} expired with margin of ${ad}s`),h){if(this.autoRefreshToken&&u.refresh_token){const{error:g}=await this._callRefreshToken(u.refresh_token);g&&(console.error(g),ld(g)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",g),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:g,error:x}=await this._getUser(u.access_token);!x&&(g!=null&&g.user)?(u.user=g.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(g){console.error("Error getting user data:",g),this._debug(l,"error getting user data, skipping SIGNED_IN notification",g)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(l,"error",u),console.error(u);return}finally{this._debug(l,"end")}}async _callRefreshToken(r){var o,l;if(!r)throw new Mo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new bu;const{data:h,error:g}=await this._refreshAccessToken(r);if(g)throw g;if(!h.session)throw new Mo;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const x={session:h.session,error:null};return this.refreshingDeferred.resolve(x),x}catch(h){if(this._debug(u,"error",h),Be(h)){const g={session:null,error:h};return ld(h)||await this._removeSession(),(o=this.refreshingDeferred)===null||o===void 0||o.resolve(g),g}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(h),h}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(r,o,l=!0){const u=`#_notifyAllSubscribers(${r})`;this._debug(u,"begin",o,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:r,session:o});const h=[],g=Array.from(this.stateChangeEmitters.values()).map(async x=>{try{await x.callback(r,o)}catch(y){h.push(y)}});if(await Promise.all(g),h.length>0){for(let x=0;x<h.length;x+=1)console.error(h[x]);throw h[0]}}finally{this._debug(u,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const o=Object.assign({},r),l=o.user&&o.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&o.user&&await ws(this.userStorage,this.storageKey+"-user",{user:o.user});const u=Object.assign({},o);delete u.user;const h=fp(u);await ws(this.storage,this.storageKey,h)}else{const u=fp(o);await ws(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),await To(this.storage,this.storageKey),await To(this.storage,this.storageKey+"-code-verifier"),await To(this.storage,this.storageKey+"-user"),this.userStorage&&await To(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Qn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(o){console.error("removing visibilitychange callback failed",o)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),xs);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async o=>{const{data:{session:l}}=o;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-r)/xs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${xs}ms, refresh threshold is ${Cd} ticks`),u<=Cd&&await this._callRefreshToken(l.refresh_token)})}catch(o){console.error("Auto refresh tick failed with error. This is likely a transient error.",o)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof dm)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const o=`#_onVisibilityChanged(${r})`;this._debug(o,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(o,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,o,l){const u=[`provider=${encodeURIComponent(o)}`];if(l!=null&&l.redirectTo&&u.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l!=null&&l.scopes&&u.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[h,g]=await ms(this.storage,this.storageKey),x=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(g)}`});u.push(x.toString())}if(l!=null&&l.queryParams){const h=new URLSearchParams(l.queryParams);u.push(h.toString())}return l!=null&&l.skipBrowserRedirect&&u.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${r}?${u.join("&")}`}async _unenroll(r){try{return await this._useSession(async o=>{var l;const{data:u,error:h}=o;return h?{data:null,error:h}:await We(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token})})}catch(o){if(Be(o))return{data:null,error:o};throw o}}async _enroll(r){try{return await this._useSession(async o=>{var l,u;const{data:h,error:g}=o;if(g)return{data:null,error:g};const x=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:y,error:w}=await We(this.fetch,"POST",`${this.url}/factors`,{body:x,headers:this.headers,jwt:(l=h==null?void 0:h.session)===null||l===void 0?void 0:l.access_token});return w?{data:null,error:w}:(r.factorType==="totp"&&(!((u=y==null?void 0:y.totp)===null||u===void 0)&&u.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),{data:y,error:null})})}catch(o){if(Be(o))return{data:null,error:o};throw o}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async o=>{var l;const{data:u,error:h}=o;if(h)return{data:null,error:h};const{data:g,error:x}=await We(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token});return x?{data:null,error:x}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),{data:g,error:x})})}catch(o){if(Be(o))return{data:null,error:o};throw o}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async o=>{var l;const{data:u,error:h}=o;return h?{data:null,error:h}:await We(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token})})}catch(o){if(Be(o))return{data:null,error:o};throw o}})}async _challengeAndVerify(r){const{data:o,error:l}=await this._challenge({factorId:r.factorId});return l?{data:null,error:l}:await this._verify({factorId:r.factorId,challengeId:o.id,code:r.code})}async _listFactors(){const{data:{user:r},error:o}=await this.getUser();if(o)return{data:null,error:o};const l=(r==null?void 0:r.factors)||[],u=l.filter(g=>g.factor_type==="totp"&&g.status==="verified"),h=l.filter(g=>g.factor_type==="phone"&&g.status==="verified");return{data:{all:l,totp:u,phone:h},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var o,l;const{data:{session:u},error:h}=r;if(h)return{data:null,error:h};if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:g}=ud(u.access_token);let x=null;g.aal&&(x=g.aal);let y=x;((l=(o=u.user.factors)===null||o===void 0?void 0:o.filter(E=>E.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(y="aal2");const b=g.amr||[];return{data:{currentLevel:x,nextLevel:y,currentAuthenticationMethods:b},error:null}}))}async fetchJwk(r,o={keys:[]}){let l=o.keys.find(x=>x.kid===r);if(l)return l;const u=Date.now();if(l=this.jwks.keys.find(x=>x.kid===r),l&&this.jwks_cached_at+i0>u)return l;const{data:h,error:g}=await We(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(g)throw g;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=u,l=h.keys.find(x=>x.kid===r),!l)?null:l}async getClaims(r,o={}){try{let l=r;if(!l){const{data:T,error:P}=await this.getSession();if(P||!T.session)return{data:null,error:P};l=T.session.access_token}const{header:u,payload:h,signature:g,raw:{header:x,payload:y}}=ud(l);o!=null&&o.allowExpired||L0(h.exp);const w=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,o!=null&&o.keys?{keys:o.keys}:o==null?void 0:o.jwks);if(!w){const{error:T}=await this.getUser(l);if(T)throw T;return{data:{claims:h,header:u,signature:g},error:null}}const b=M0(u.alg),E=await crypto.subtle.importKey("jwk",w,b,!0,["verify"]);if(!await crypto.subtle.verify(b,E,g,m0(`${x}.${y}`)))throw new Ld("Invalid JWT signature");return{data:{claims:h,header:u,signature:g},error:null}}catch(l){if(Be(l))return{data:null,error:l};throw l}}}Ia.nextInstanceID=0;const Z0=Ia;class V0 extends Z0{constructor(r){super(r)}}var q0=function(s,r,o,l){function u(h){return h instanceof o?h:new o(function(g){g(h)})}return new(o||(o=Promise))(function(h,g){function x(b){try{w(l.next(b))}catch(E){g(E)}}function y(b){try{w(l.throw(b))}catch(E){g(E)}}function w(b){b.done?h(b.value):u(b.value).then(x,y)}w((l=l.apply(s,r||[])).next())})};class K0{constructor(r,o,l){var u,h,g;if(this.supabaseUrl=r,this.supabaseKey=o,!r)throw new Error("supabaseUrl is required.");if(!o)throw new Error("supabaseKey is required.");const x=Xy(r),y=new URL(x);this.realtimeUrl=new URL("realtime/v1",y),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",y),this.storageUrl=new URL("storage/v1",y),this.functionsUrl=new URL("functions/v1",y);const w=`sb-${y.hostname.split(".")[0]}-auth-token`,b={db:Wy,realtime:Vy,auth:Object.assign(Object.assign({},Zy),{storageKey:w}),global:Hy},E=e0(l??{},b);this.storageKey=(u=E.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(h=E.global.headers)!==null&&h!==void 0?h:{},E.accessToken?(this.accessToken=E.accessToken,this.auth=new Proxy({},{get:(M,T)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(T)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((g=E.auth)!==null&&g!==void 0?g:{},this.headers,E.global.fetch),this.fetch=Yy(o,this._getAccessToken.bind(this),E.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},E.realtime)),this.rest=new fy(new URL("rest/v1",y).href,{headers:this.headers,schema:E.db.schema,fetch:this.fetch}),E.accessToken||this._listenForAuthEvents()}get functions(){return new ty(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Uy(this.storageUrl.href,this.headers,this.fetch)}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,o={},l={}){return this.rest.rpc(r,o,l)}channel(r,o={config:{}}){return this.realtime.channel(r,o)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,o;return q0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:l}=yield this.auth.getSession();return(o=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:null})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:o,detectSessionInUrl:l,storage:u,storageKey:h,flowType:g,lock:x,debug:y},w,b){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new V0({url:this.authUrl.href,headers:Object.assign(Object.assign({},E),w),storageKey:h,autoRefreshToken:r,persistSession:o,detectSessionInUrl:l,storage:u,flowType:g,lock:x,debug:y,fetch:b,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(r){return new Ty(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((o,l)=>{this._handleTokenChanged(o,"CLIENT",l==null?void 0:l.access_token)})}_handleTokenChanged(r,o,l){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==l?this.changedAccessToken=l:r==="SIGNED_OUT"&&(this.realtime.setAuth(),o=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const J0=(s,r,o)=>new K0(s,r,o),Y0="https://qbdofilxcfnxhaimuilu.supabase.co",Q0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFiZG9maWx4Y2ZueGhhaW11aWx1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMwMTEzOTEsImV4cCI6MjA2ODU4NzM5MX0.4s_8p_jMPfL-TWqPqzX26ca-GkuEFBX1KbJmKy8RieI",er=J0(Y0,Q0),X0={async getFamousPlaces(){const{data:s,error:r}=await er.from("famous_places").select("*");return r?(console.error("Erro ao buscar lugares famosos:",r),[]):s.map(o=>({id:o.id,name:o.name,description:o.description,latitude:o.latitude,longitude:o.longitude,category:o.category,address:o.address,imageUrl:o.image_url&&o.image_url!==""?o.image_url:"https://via.placeholder.com/56"}))||[]}},gi={async getTopPlayers(s=10){const{data:r,error:o}=await er.from("ranking").select("*").order("score",{ascending:!1}).limit(s);return o?(console.error("Erro ao buscar ranking:",o),[]):r||[]},async addScore(s){const{error:r}=await er.from("ranking").insert([s]);return r?(console.error("Erro ao adicionar pontuação:",r),!1):!0},async getPlayerPosition(s,r){const{data:o,error:l}=await er.from("ranking").select("score").order("score",{ascending:!1});if(l)return console.error("Erro ao buscar posição:",l),-1;const u=(o==null?void 0:o.findIndex(h=>h.score<=r))+1;return u>0?u:((o==null?void 0:o.length)||0)+1},async getPlayerStats(s){const{data:r,error:o}=await er.from("ranking").select("*").eq("player_name",s).order("score",{ascending:!1}).limit(1).single();return o?(console.error("Erro ao buscar estatísticas do jogador:",o),null):r}};function hm(s,r){const o=k.useRef(r);k.useEffect(function(){r!==o.current&&s.attributionControl!=null&&(o.current!=null&&s.attributionControl.removeAttribution(o.current),r!=null&&s.attributionControl.addAttribution(r)),o.current=r},[s,r])}const e_=1;function t_(s){return Object.freeze({__version:e_,map:s})}function Vd(s,r){return Object.freeze({...s,...r})}const fm=k.createContext(null),pm=fm.Provider;function Su(){const s=k.useContext(fm);if(s==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return s}function mm(s){function r(o,l){const{instance:u,context:h}=s(o).current;return k.useImperativeHandle(l,()=>u),o.children==null?null:mi.createElement(pm,{value:h},o.children)}return k.forwardRef(r)}function n_(s){function r(o,l){const[u,h]=k.useState(!1),{instance:g}=s(o,h).current;k.useImperativeHandle(l,()=>g),k.useEffect(function(){u&&g.update()},[g,u,o.children]);const x=g._contentNode;return x?Kv.createPortal(o.children,x):null}return k.forwardRef(r)}function r_(s){function r(o,l){const{instance:u}=s(o).current;return k.useImperativeHandle(l,()=>u),null}return k.forwardRef(r)}function qd(s,r){const o=k.useRef();k.useEffect(function(){return r!=null&&s.instance.on(r),o.current=r,function(){o.current!=null&&s.instance.off(o.current),o.current=null}},[s,r])}function ku(s,r){const o=s.pane??r.pane;return o?{...s,pane:o}:s}function o_(s,r){return function(l,u){const h=Su(),g=s(ku(l,h),h);return hm(h.map,l.attribution),qd(g.current,l.eventHandlers),r(g.current,h,l,u),g}}var Ma={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var i_=Ma.exports,yp;function s_(){return yp||(yp=1,function(s,r){(function(o,l){l(r)})(i_,function(o){var l="1.9.4";function u(t){var i,c,p,_;for(c=1,p=arguments.length;c<p;c++){_=arguments[c];for(i in _)t[i]=_[i]}return t}var h=Object.create||function(){function t(){}return function(i){return t.prototype=i,new t}}();function g(t,i){var c=Array.prototype.slice;if(t.bind)return t.bind.apply(t,c.call(arguments,1));var p=c.call(arguments,2);return function(){return t.apply(i,p.length?p.concat(c.call(arguments)):arguments)}}var x=0;function y(t){return"_leaflet_id"in t||(t._leaflet_id=++x),t._leaflet_id}function w(t,i,c){var p,_,C,A;return A=function(){p=!1,_&&(C.apply(c,_),_=!1)},C=function(){p?_=arguments:(t.apply(c,arguments),setTimeout(A,i),p=!0)},C}function b(t,i,c){var p=i[1],_=i[0],C=p-_;return t===p&&c?t:((t-_)%C+C)%C+_}function E(){return!1}function M(t,i){if(i===!1)return t;var c=Math.pow(10,i===void 0?6:i);return Math.round(t*c)/c}function T(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function P(t){return T(t).split(/\s+/)}function R(t,i){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?h(t.options):{});for(var c in i)t.options[c]=i[c];return t.options}function z(t,i,c){var p=[];for(var _ in t)p.push(encodeURIComponent(c?_.toUpperCase():_)+"="+encodeURIComponent(t[_]));return(!i||i.indexOf("?")===-1?"?":"&")+p.join("&")}var V=/\{ *([\w_ -]+) *\}/g;function Y(t,i){return t.replace(V,function(c,p){var _=i[p];if(_===void 0)throw new Error("No value provided for variable "+c);return typeof _=="function"&&(_=_(i)),_})}var G=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function ee(t,i){for(var c=0;c<t.length;c++)if(t[c]===i)return c;return-1}var oe="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ae(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var ge=0;function q(t){var i=+new Date,c=Math.max(0,16-(i-ge));return ge=i+c,window.setTimeout(t,c)}var J=window.requestAnimationFrame||ae("RequestAnimationFrame")||q,xe=window.cancelAnimationFrame||ae("CancelAnimationFrame")||ae("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function ve(t,i,c){if(c&&J===q)t.call(i);else return J.call(window,g(t,i))}function ne(t){t&&xe.call(window,t)}var je={__proto__:null,extend:u,create:h,bind:g,get lastId(){return x},stamp:y,throttle:w,wrapNum:b,falseFn:E,formatNum:M,trim:T,splitWords:P,setOptions:R,getParamString:z,template:Y,isArray:G,indexOf:ee,emptyImageUrl:oe,requestFn:J,cancelFn:xe,requestAnimFrame:ve,cancelAnimFrame:ne};function ce(){}ce.extend=function(t){var i=function(){R(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=i.__super__=this.prototype,p=h(c);p.constructor=i,i.prototype=p;for(var _ in this)Object.prototype.hasOwnProperty.call(this,_)&&_!=="prototype"&&_!=="__super__"&&(i[_]=this[_]);return t.statics&&u(i,t.statics),t.includes&&(he(t.includes),u.apply(null,[p].concat(t.includes))),u(p,t),delete p.statics,delete p.includes,p.options&&(p.options=c.options?h(c.options):{},u(p.options,t.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var C=0,A=p._initHooks.length;C<A;C++)p._initHooks[C].call(this)}},i},ce.include=function(t){var i=this.prototype.options;return u(this.prototype,t),t.options&&(this.prototype.options=i,this.mergeOptions(t.options)),this},ce.mergeOptions=function(t){return u(this.prototype.options,t),this},ce.addInitHook=function(t){var i=Array.prototype.slice.call(arguments,1),c=typeof t=="function"?t:function(){this[t].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function he(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=G(t)?t:[t];for(var i=0;i<t.length;i++)t[i]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var fe={on:function(t,i,c){if(typeof t=="object")for(var p in t)this._on(p,t[p],i);else{t=P(t);for(var _=0,C=t.length;_<C;_++)this._on(t[_],i,c)}return this},off:function(t,i,c){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var p in t)this._off(p,t[p],i);else{t=P(t);for(var _=arguments.length===1,C=0,A=t.length;C<A;C++)_?this._off(t[C]):this._off(t[C],i,c)}return this},_on:function(t,i,c,p){if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}if(this._listens(t,i,c)===!1){c===this&&(c=void 0);var _={fn:i,ctx:c};p&&(_.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(_)}},_off:function(t,i,c){var p,_,C;if(this._events&&(p=this._events[t],!!p)){if(arguments.length===1){if(this._firingCount)for(_=0,C=p.length;_<C;_++)p[_].fn=E;delete this._events[t];return}if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}var A=this._listens(t,i,c);if(A!==!1){var F=p[A];this._firingCount&&(F.fn=E,this._events[t]=p=p.slice()),p.splice(A,1)}}},fire:function(t,i,c){if(!this.listens(t,c))return this;var p=u({},i,{type:t,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var _=this._events[t];if(_){this._firingCount=this._firingCount+1||1;for(var C=0,A=_.length;C<A;C++){var F=_[C],H=F.fn;F.once&&this.off(t,H,F.ctx),H.call(F.ctx||this,p)}this._firingCount--}}return c&&this._propagateEvent(p),this},listens:function(t,i,c,p){typeof t!="string"&&console.warn('"string" type argument expected');var _=i;typeof i!="function"&&(p=!!i,_=void 0,c=void 0);var C=this._events&&this._events[t];if(C&&C.length&&this._listens(t,_,c)!==!1)return!0;if(p){for(var A in this._eventParents)if(this._eventParents[A].listens(t,i,c,p))return!0}return!1},_listens:function(t,i,c){if(!this._events)return!1;var p=this._events[t]||[];if(!i)return!!p.length;c===this&&(c=void 0);for(var _=0,C=p.length;_<C;_++)if(p[_].fn===i&&p[_].ctx===c)return _;return!1},once:function(t,i,c){if(typeof t=="object")for(var p in t)this._on(p,t[p],i,!0);else{t=P(t);for(var _=0,C=t.length;_<C;_++)this._on(t[_],i,c,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[y(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[y(t)],this},_propagateEvent:function(t){for(var i in this._eventParents)this._eventParents[i].fire(t.type,u({layer:t.target,propagatedFrom:t.target},t),!0)}};fe.addEventListener=fe.on,fe.removeEventListener=fe.clearAllEventListeners=fe.off,fe.addOneTimeEventListener=fe.once,fe.fireEvent=fe.fire,fe.hasEventListeners=fe.listens;var Ce=ce.extend(fe);function Z(t,i,c){this.x=c?Math.round(t):t,this.y=c?Math.round(i):i}var le=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};Z.prototype={clone:function(){return new Z(this.x,this.y)},add:function(t){return this.clone()._add(K(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(K(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new Z(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new Z(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=le(this.x),this.y=le(this.y),this},distanceTo:function(t){t=K(t);var i=t.x-this.x,c=t.y-this.y;return Math.sqrt(i*i+c*c)},equals:function(t){return t=K(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=K(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+M(this.x)+", "+M(this.y)+")"}};function K(t,i,c){return t instanceof Z?t:G(t)?new Z(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new Z(t.x,t.y):new Z(t,i,c)}function j(t,i){if(t)for(var c=i?[t,i]:t,p=0,_=c.length;p<_;p++)this.extend(c[p])}j.prototype={extend:function(t){var i,c;if(!t)return this;if(t instanceof Z||typeof t[0]=="number"||"x"in t)i=c=K(t);else if(t=B(t),i=t.min,c=t.max,!i||!c)return this;return!this.min&&!this.max?(this.min=i.clone(),this.max=c.clone()):(this.min.x=Math.min(i.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(i.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(t){return K((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return K(this.min.x,this.max.y)},getTopRight:function(){return K(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var i,c;return typeof t[0]=="number"||t instanceof Z?t=K(t):t=B(t),t instanceof j?(i=t.min,c=t.max):i=c=t,i.x>=this.min.x&&c.x<=this.max.x&&i.y>=this.min.y&&c.y<=this.max.y},intersects:function(t){t=B(t);var i=this.min,c=this.max,p=t.min,_=t.max,C=_.x>=i.x&&p.x<=c.x,A=_.y>=i.y&&p.y<=c.y;return C&&A},overlaps:function(t){t=B(t);var i=this.min,c=this.max,p=t.min,_=t.max,C=_.x>i.x&&p.x<c.x,A=_.y>i.y&&p.y<c.y;return C&&A},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var i=this.min,c=this.max,p=Math.abs(i.x-c.x)*t,_=Math.abs(i.y-c.y)*t;return B(K(i.x-p,i.y-_),K(c.x+p,c.y+_))},equals:function(t){return t?(t=B(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function B(t,i){return!t||t instanceof j?t:new j(t,i)}function se(t,i){if(t)for(var c=i?[t,i]:t,p=0,_=c.length;p<_;p++)this.extend(c[p])}se.prototype={extend:function(t){var i=this._southWest,c=this._northEast,p,_;if(t instanceof ue)p=t,_=t;else if(t instanceof se){if(p=t._southWest,_=t._northEast,!p||!_)return this}else return t?this.extend(de(t)||U(t)):this;return!i&&!c?(this._southWest=new ue(p.lat,p.lng),this._northEast=new ue(_.lat,_.lng)):(i.lat=Math.min(p.lat,i.lat),i.lng=Math.min(p.lng,i.lng),c.lat=Math.max(_.lat,c.lat),c.lng=Math.max(_.lng,c.lng)),this},pad:function(t){var i=this._southWest,c=this._northEast,p=Math.abs(i.lat-c.lat)*t,_=Math.abs(i.lng-c.lng)*t;return new se(new ue(i.lat-p,i.lng-_),new ue(c.lat+p,c.lng+_))},getCenter:function(){return new ue((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ue(this.getNorth(),this.getWest())},getSouthEast:function(){return new ue(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof ue||"lat"in t?t=de(t):t=U(t);var i=this._southWest,c=this._northEast,p,_;return t instanceof se?(p=t.getSouthWest(),_=t.getNorthEast()):p=_=t,p.lat>=i.lat&&_.lat<=c.lat&&p.lng>=i.lng&&_.lng<=c.lng},intersects:function(t){t=U(t);var i=this._southWest,c=this._northEast,p=t.getSouthWest(),_=t.getNorthEast(),C=_.lat>=i.lat&&p.lat<=c.lat,A=_.lng>=i.lng&&p.lng<=c.lng;return C&&A},overlaps:function(t){t=U(t);var i=this._southWest,c=this._northEast,p=t.getSouthWest(),_=t.getNorthEast(),C=_.lat>i.lat&&p.lat<c.lat,A=_.lng>i.lng&&p.lng<c.lng;return C&&A},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,i){return t?(t=U(t),this._southWest.equals(t.getSouthWest(),i)&&this._northEast.equals(t.getNorthEast(),i)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function U(t,i){return t instanceof se?t:new se(t,i)}function ue(t,i,c){if(isNaN(t)||isNaN(i))throw new Error("Invalid LatLng object: ("+t+", "+i+")");this.lat=+t,this.lng=+i,c!==void 0&&(this.alt=+c)}ue.prototype={equals:function(t,i){if(!t)return!1;t=de(t);var c=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return c<=(i===void 0?1e-9:i)},toString:function(t){return"LatLng("+M(this.lat,t)+", "+M(this.lng,t)+")"},distanceTo:function(t){return Ee.distance(this,de(t))},wrap:function(){return Ee.wrapLatLng(this)},toBounds:function(t){var i=180*t/40075017,c=i/Math.cos(Math.PI/180*this.lat);return U([this.lat-i,this.lng-c],[this.lat+i,this.lng+c])},clone:function(){return new ue(this.lat,this.lng,this.alt)}};function de(t,i,c){return t instanceof ue?t:G(t)&&typeof t[0]!="object"?t.length===3?new ue(t[0],t[1],t[2]):t.length===2?new ue(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new ue(t.lat,"lng"in t?t.lng:t.lon,t.alt):i===void 0?null:new ue(t,i,c)}var Me={latLngToPoint:function(t,i){var c=this.projection.project(t),p=this.scale(i);return this.transformation._transform(c,p)},pointToLatLng:function(t,i){var c=this.scale(i),p=this.transformation.untransform(t,c);return this.projection.unproject(p)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var i=this.projection.bounds,c=this.scale(t),p=this.transformation.transform(i.min,c),_=this.transformation.transform(i.max,c);return new j(p,_)},infinite:!1,wrapLatLng:function(t){var i=this.wrapLng?b(t.lng,this.wrapLng,!0):t.lng,c=this.wrapLat?b(t.lat,this.wrapLat,!0):t.lat,p=t.alt;return new ue(c,i,p)},wrapLatLngBounds:function(t){var i=t.getCenter(),c=this.wrapLatLng(i),p=i.lat-c.lat,_=i.lng-c.lng;if(p===0&&_===0)return t;var C=t.getSouthWest(),A=t.getNorthEast(),F=new ue(C.lat-p,C.lng-_),H=new ue(A.lat-p,A.lng-_);return new se(F,H)}},Ee=u({},Me,{wrapLng:[-180,180],R:6371e3,distance:function(t,i){var c=Math.PI/180,p=t.lat*c,_=i.lat*c,C=Math.sin((i.lat-t.lat)*c/2),A=Math.sin((i.lng-t.lng)*c/2),F=C*C+Math.cos(p)*Math.cos(_)*A*A,H=2*Math.atan2(Math.sqrt(F),Math.sqrt(1-F));return this.R*H}}),Ie=6378137,Ge={R:Ie,MAX_LATITUDE:85.0511287798,project:function(t){var i=Math.PI/180,c=this.MAX_LATITUDE,p=Math.max(Math.min(c,t.lat),-c),_=Math.sin(p*i);return new Z(this.R*t.lng*i,this.R*Math.log((1+_)/(1-_))/2)},unproject:function(t){var i=180/Math.PI;return new ue((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*i,t.x*i/this.R)},bounds:function(){var t=Ie*Math.PI;return new j([-t,-t],[t,t])}()};function wt(t,i,c,p){if(G(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=i,this._c=c,this._d=p}wt.prototype={transform:function(t,i){return this._transform(t.clone(),i)},_transform:function(t,i){return i=i||1,t.x=i*(this._a*t.x+this._b),t.y=i*(this._c*t.y+this._d),t},untransform:function(t,i){return i=i||1,new Z((t.x/i-this._b)/this._a,(t.y/i-this._d)/this._c)}};function nt(t,i,c,p){return new wt(t,i,c,p)}var rt=u({},Ee,{code:"EPSG:3857",projection:Ge,transformation:function(){var t=.5/(Math.PI*Ge.R);return nt(t,.5,-t,.5)}()}),lt=u({},rt,{code:"EPSG:900913"});function jt(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function kn(t,i){var c="",p,_,C,A,F,H;for(p=0,C=t.length;p<C;p++){for(F=t[p],_=0,A=F.length;_<A;_++)H=F[_],c+=(_?"L":"M")+H.x+" "+H.y;c+=i?Se.svg?"z":"x":""}return c||"M0 0"}var we=document.documentElement.style,Re="ActiveXObject"in window,Xe=Re&&!document.addEventListener,Je="msLaunchUri"in navigator&&!("documentMode"in document),Ve=Bt("webkit"),ut=Bt("android"),Rt=Bt("android 2")||Bt("android 3"),Kt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),tn=ut&&Bt("Google")&&Kt<537&&!("AudioNode"in window),tr=!!window.opera,Ye=!Je&&Bt("chrome"),Fn=Bt("gecko")&&!Ve&&!tr&&!Re,_i=!Ye&&Bt("safari"),Dn=Bt("phantom"),Bn="OTransition"in we,Tu=navigator.platform.indexOf("Win")===0,Ms=Re&&"transition"in we,xi="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Rt,Ga="MozPerspective"in we,js=!window.L_DISABLE_3D&&(Ms||xi||Ga)&&!Bn&&!Dn,yr=typeof orientation<"u"||Bt("mobile"),Rs=yr&&Ve,Os=yr&&xi,wi=!window.PointerEvent&&window.MSPointerEvent,_r=!!(window.PointerEvent||wi),xr="ontouchstart"in window||!!window.TouchEvent,Ha=!window.L_NO_TOUCH&&(xr||_r),Wa=yr&&tr,Za=yr&&Fn,Va=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,qa=function(){var t=!1;try{var i=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",E,i),window.removeEventListener("testPassiveEventSupport",E,i)}catch{}return t}(),As=function(){return!!document.createElement("canvas").getContext}(),bi=!!(document.createElementNS&&jt("svg").createSVGRect),Ao=!!bi&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Is=!bi&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var i=t.firstChild;return i.style.behavior="url(#default#VML)",i&&typeof i.adj=="object"}catch{return!1}}(),Io=navigator.platform.indexOf("Mac")===0,Lu=navigator.platform.indexOf("Linux")===0;function Bt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Se={ie:Re,ielt9:Xe,edge:Je,webkit:Ve,android:ut,android23:Rt,androidStock:tn,opera:tr,chrome:Ye,gecko:Fn,safari:_i,phantom:Dn,opera12:Bn,win:Tu,ie3d:Ms,webkit3d:xi,gecko3d:Ga,any3d:js,mobile:yr,mobileWebkit:Rs,mobileWebkit3d:Os,msPointer:wi,pointer:_r,touch:Ha,touchNative:xr,mobileOpera:Wa,mobileGecko:Za,retina:Va,passiveEvents:qa,canvas:As,svg:bi,vml:Is,inlineSvg:Ao,mac:Io,linux:Lu},No=Se.msPointer?"MSPointerDown":"pointerdown",Si=Se.msPointer?"MSPointerMove":"pointermove",Ka=Se.msPointer?"MSPointerUp":"pointerup",Ja=Se.msPointer?"MSPointerCancel":"pointercancel",Ns={touchstart:No,touchmove:Si,touchend:Ka,touchcancel:Ja},nr={touchstart:pt,touchmove:ki,touchend:ki,touchcancel:ki},wr={},zs=!1;function Mu(t,i,c){return i==="touchstart"&&ju(),nr[i]?(c=nr[i].bind(this,c),t.addEventListener(Ns[i],c,!1),c):(console.warn("wrong event specified:",i),E)}function Ya(t,i,c){if(!Ns[i]){console.warn("wrong event specified:",i);return}t.removeEventListener(Ns[i],c,!1)}function Qa(t){wr[t.pointerId]=t}function Xa(t){wr[t.pointerId]&&(wr[t.pointerId]=t)}function Fs(t){delete wr[t.pointerId]}function ju(){zs||(document.addEventListener(No,Qa,!0),document.addEventListener(Si,Xa,!0),document.addEventListener(Ka,Fs,!0),document.addEventListener(Ja,Fs,!0),zs=!0)}function ki(t,i){if(i.pointerType!==(i.MSPOINTER_TYPE_MOUSE||"mouse")){i.touches=[];for(var c in wr)i.touches.push(wr[c]);i.changedTouches=[i],t(i)}}function pt(t,i){i.MSPOINTER_TYPE_TOUCH&&i.pointerType===i.MSPOINTER_TYPE_TOUCH&&mt(i),ki(t,i)}function Ru(t){var i={},c,p;for(p in t)c=t[p],i[p]=c&&c.bind?c.bind(t):c;return t=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var Ds=200;function el(t,i){t.addEventListener("dblclick",i);var c=0,p;function _(C){if(C.detail!==1){p=C.detail;return}if(!(C.pointerType==="mouse"||C.sourceCapabilities&&!C.sourceCapabilities.firesTouchEvents)){var A=kr(C);if(!(A.some(function(H){return H instanceof HTMLLabelElement&&H.attributes.for})&&!A.some(function(H){return H instanceof HTMLInputElement||H instanceof HTMLSelectElement}))){var F=Date.now();F-c<=Ds?(p++,p===2&&i(Ru(C))):p=1,c=F}}}return t.addEventListener("click",_),{dblclick:i,simDblclick:_}}function Ei(t,i){t.removeEventListener("dblclick",i.dblclick),t.removeEventListener("click",i.simDblclick)}var Bs=Yr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),qr=Yr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),zo=qr==="webkitTransition"||qr==="OTransition"?qr+"End":"transitionend";function hn(t){return typeof t=="string"?document.getElementById(t):t}function Fo(t,i){var c=t.style[i]||t.currentStyle&&t.currentStyle[i];if((!c||c==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(t,null);c=p?p[i]:null}return c==="auto"?null:c}function Fe(t,i,c){var p=document.createElement(t);return p.className=i||"",c&&c.appendChild(p),p}function ct(t){var i=t.parentNode;i&&i.removeChild(t)}function Ci(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Kr(t){var i=t.parentNode;i&&i.lastChild!==t&&i.appendChild(t)}function Un(t){var i=t.parentNode;i&&i.firstChild!==t&&i.insertBefore(t,i.firstChild)}function Jr(t,i){if(t.classList!==void 0)return t.classList.contains(i);var c=Pi(t);return c.length>0&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(c)}function Ne(t,i){if(t.classList!==void 0)for(var c=P(i),p=0,_=c.length;p<_;p++)t.classList.add(c[p]);else if(!Jr(t,i)){var C=Pi(t);Us(t,(C?C+" ":"")+i)}}function ot(t,i){t.classList!==void 0?t.classList.remove(i):Us(t,T((" "+Pi(t)+" ").replace(" "+i+" "," ")))}function Us(t,i){t.className.baseVal===void 0?t.className=i:t.className.baseVal=i}function Pi(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Ut(t,i){"opacity"in t.style?t.style.opacity=i:"filter"in t.style&&tl(t,i)}function tl(t,i){var c=!1,p="DXImageTransform.Microsoft.Alpha";try{c=t.filters.item(p)}catch{if(i===1)return}i=Math.round(i*100),c?(c.Enabled=i!==100,c.Opacity=i):t.style.filter+=" progid:"+p+"(opacity="+i+")"}function Yr(t){for(var i=document.documentElement.style,c=0;c<t.length;c++)if(t[c]in i)return t[c];return!1}function fn(t,i,c){var p=i||new Z(0,0);t.style[Bs]=(Se.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(c?" scale("+c+")":"")}function _t(t,i){t._leaflet_pos=i,Se.any3d?fn(t,i):(t.style.left=i.x+"px",t.style.top=i.y+"px")}function $n(t){return t._leaflet_pos||new Z(0,0)}var Ze,Qr,Ti;if("onselectstart"in document)Ze=function(){Oe(window,"selectstart",mt)},Qr=function(){et(window,"selectstart",mt)};else{var br=Yr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ze=function(){if(br){var t=document.documentElement.style;Ti=t[br],t[br]="none"}},Qr=function(){br&&(document.documentElement.style[br]=Ti,Ti=void 0)}}function Li(){Oe(window,"dragstart",mt)}function Mi(){et(window,"dragstart",mt)}var Do,Bo;function Xr(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(pn(),Do=t,Bo=t.style.outlineStyle,t.style.outlineStyle="none",Oe(window,"keydown",pn))}function pn(){Do&&(Do.style.outlineStyle=Bo,Do=void 0,Bo=void 0,et(window,"keydown",pn))}function Gn(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function En(t){var i=t.getBoundingClientRect();return{x:i.width/t.offsetWidth||1,y:i.height/t.offsetHeight||1,boundingClientRect:i}}var Uo={__proto__:null,TRANSFORM:Bs,TRANSITION:qr,TRANSITION_END:zo,get:hn,getStyle:Fo,create:Fe,remove:ct,empty:Ci,toFront:Kr,toBack:Un,hasClass:Jr,addClass:Ne,removeClass:ot,setClass:Us,getClass:Pi,setOpacity:Ut,testProp:Yr,setTransform:fn,setPosition:_t,getPosition:$n,get disableTextSelection(){return Ze},get enableTextSelection(){return Qr},disableImageDrag:Li,enableImageDrag:Mi,preventOutline:Xr,restoreOutline:pn,getSizedParentNode:Gn,getScale:En};function Oe(t,i,c,p){if(i&&typeof i=="object")for(var _ in i)Gs(t,_,i[_],c);else{i=P(i);for(var C=0,A=i.length;C<A;C++)Gs(t,i[C],c,p)}return this}var Pt="_leaflet_events";function et(t,i,c,p){if(arguments.length===1)$s(t),delete t[Pt];else if(i&&typeof i=="object")for(var _ in i)ji(t,_,i[_],c);else if(i=P(i),arguments.length===2)$s(t,function(F){return ee(i,F)!==-1});else for(var C=0,A=i.length;C<A;C++)ji(t,i[C],c,p);return this}function $s(t,i){for(var c in t[Pt]){var p=c.split(/\d/)[0];(!i||i(p))&&ji(t,p,null,null,c)}}var Sr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Gs(t,i,c,p){var _=i+y(c)+(p?"_"+y(p):"");if(t[Pt]&&t[Pt][_])return this;var C=function(F){return c.call(p||t,F||window.event)},A=C;!Se.touchNative&&Se.pointer&&i.indexOf("touch")===0?C=Mu(t,i,C):Se.touch&&i==="dblclick"?C=el(t,C):"addEventListener"in t?i==="touchstart"||i==="touchmove"||i==="wheel"||i==="mousewheel"?t.addEventListener(Sr[i]||i,C,Se.passiveEvents?{passive:!1}:!1):i==="mouseenter"||i==="mouseleave"?(C=function(F){F=F||window.event,Ho(t,F)&&A(F)},t.addEventListener(Sr[i],C,!1)):t.addEventListener(i,A,!1):t.attachEvent("on"+i,C),t[Pt]=t[Pt]||{},t[Pt][_]=C}function ji(t,i,c,p,_){_=_||i+y(c)+(p?"_"+y(p):"");var C=t[Pt]&&t[Pt][_];if(!C)return this;!Se.touchNative&&Se.pointer&&i.indexOf("touch")===0?Ya(t,i,C):Se.touch&&i==="dblclick"?Ei(t,C):"removeEventListener"in t?t.removeEventListener(Sr[i]||i,C,!1):t.detachEvent("on"+i,C),t[Pt][_]=null}function Cn(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Ri(t){return Gs(t,"wheel",Cn),this}function $o(t){return Oe(t,"mousedown touchstart dblclick contextmenu",Cn),t._leaflet_disable_click=!0,this}function mt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function mn(t){return mt(t),Cn(t),this}function kr(t){if(t.composedPath)return t.composedPath();for(var i=[],c=t.target;c;)i.push(c),c=c.parentNode;return i}function Go(t,i){if(!i)return new Z(t.clientX,t.clientY);var c=En(i),p=c.boundingClientRect;return new Z((t.clientX-p.left)/c.x-i.clientLeft,(t.clientY-p.top)/c.y-i.clientTop)}var Ou=Se.linux&&Se.chrome?window.devicePixelRatio:Se.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function nl(t){return Se.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Ou:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function Ho(t,i){var c=i.relatedTarget;if(!c)return!0;try{for(;c&&c!==t;)c=c.parentNode}catch{return!1}return c!==t}var Oi={__proto__:null,on:Oe,off:et,stopPropagation:Cn,disableScrollPropagation:Ri,disableClickPropagation:$o,preventDefault:mt,stop:mn,getPropagationPath:kr,getMousePosition:Go,getWheelDelta:nl,isExternalTarget:Ho,addListener:Oe,removeListener:et},Ai=Ce.extend({run:function(t,i,c,p){this.stop(),this._el=t,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=$n(t),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ve(this._animate,this),this._step()},_step:function(t){var i=+new Date-this._startTime,c=this._duration*1e3;i<c?this._runFrame(this._easeOut(i/c),t):(this._runFrame(1),this._complete())},_runFrame:function(t,i){var c=this._startPos.add(this._offset.multiplyBy(t));i&&c._round(),_t(this._el,c),this.fire("step")},_complete:function(){ne(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),He=Ce.extend({options:{crs:rt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,i){i=R(this,i),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=g(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),i.zoom!==void 0&&(this._zoom=this._limitZoom(i.zoom)),i.center&&i.zoom!==void 0&&this.setView(de(i.center),i.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=qr&&Se.any3d&&!Se.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Oe(this._proxy,zo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,i,c){if(i=i===void 0?this._zoom:this._limitZoom(i),t=this._limitCenter(de(t),i,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=u({animate:c.animate},c.zoom),c.pan=u({animate:c.animate,duration:c.duration},c.pan));var p=this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,i,c.zoom):this._tryAnimatedPan(t,c.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(t,i,c.pan&&c.pan.noMoveStart),this},setZoom:function(t,i){return this._loaded?this.setView(this.getCenter(),t,{zoom:i}):(this._zoom=t,this)},zoomIn:function(t,i){return t=t||(Se.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,i)},zoomOut:function(t,i){return t=t||(Se.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,i)},setZoomAround:function(t,i,c){var p=this.getZoomScale(i),_=this.getSize().divideBy(2),C=t instanceof Z?t:this.latLngToContainerPoint(t),A=C.subtract(_).multiplyBy(1-1/p),F=this.containerPointToLatLng(_.add(A));return this.setView(F,i,{zoom:c})},_getBoundsCenterZoom:function(t,i){i=i||{},t=t.getBounds?t.getBounds():U(t);var c=K(i.paddingTopLeft||i.padding||[0,0]),p=K(i.paddingBottomRight||i.padding||[0,0]),_=this.getBoundsZoom(t,!1,c.add(p));if(_=typeof i.maxZoom=="number"?Math.min(i.maxZoom,_):_,_===1/0)return{center:t.getCenter(),zoom:_};var C=p.subtract(c).divideBy(2),A=this.project(t.getSouthWest(),_),F=this.project(t.getNorthEast(),_),H=this.unproject(A.add(F).divideBy(2).add(C),_);return{center:H,zoom:_}},fitBounds:function(t,i){if(t=U(t),!t.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(t,i);return this.setView(c.center,c.zoom,i)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,i){return this.setView(t,this._zoom,{pan:i})},panBy:function(t,i){if(t=K(t).round(),i=i||{},!t.x&&!t.y)return this.fire("moveend");if(i.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ai,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire("movestart"),i.animate!==!1){Ne(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,c,i.duration||.25,i.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,i,c){if(c=c||{},c.animate===!1||!Se.any3d)return this.setView(t,i,c);this._stop();var p=this.project(this.getCenter()),_=this.project(t),C=this.getSize(),A=this._zoom;t=de(t),i=i===void 0?A:i;var F=Math.max(C.x,C.y),H=F*this.getZoomScale(A,i),Q=_.distanceTo(p)||1,pe=1.42,Pe=pe*pe;function De(Qe){var mo=Qe?-1:1,Vu=Qe?H:F,qu=H*H-F*F+mo*Pe*Pe*Q*Q,jr=2*Vu*Pe*Q,Rr=qu/jr,Or=Math.sqrt(Rr*Rr+1)-Rr,qi=Or<1e-9?-18:Math.log(Or);return qi}function Tt(Qe){return(Math.exp(Qe)-Math.exp(-Qe))/2}function kt(Qe){return(Math.exp(Qe)+Math.exp(-Qe))/2}function Qt(Qe){return Tt(Qe)/kt(Qe)}var Gt=De(0);function fo(Qe){return F*(kt(Gt)/kt(Gt+pe*Qe))}function ca(Qe){return F*(kt(Gt)*Qt(Gt+pe*Qe)-Tt(Gt))/Pe}function cr(Qe){return 1-Math.pow(1-Qe,1.5)}var Sl=Date.now(),Mr=(De(1)-Gt)/pe,Mn=c.duration?1e3*c.duration:1e3*Mr*.8;function po(){var Qe=(Date.now()-Sl)/Mn,mo=cr(Qe)*Mr;Qe<=1?(this._flyToFrame=ve(po,this),this._move(this.unproject(p.add(_.subtract(p).multiplyBy(ca(mo)/Q)),A),this.getScaleZoom(F/fo(mo),A),{flyTo:!0})):this._move(t,i)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),po.call(this),this},flyToBounds:function(t,i){var c=this._getBoundsCenterZoom(t,i);return this.flyTo(c.center,c.zoom,i)},setMaxBounds:function(t){return t=U(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var i=this.options.minZoom;return this.options.minZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var i=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,i){this._enforcingBounds=!0;var c=this.getCenter(),p=this._limitCenter(c,this._zoom,U(t));return c.equals(p)||this.panTo(p,i),this._enforcingBounds=!1,this},panInside:function(t,i){i=i||{};var c=K(i.paddingTopLeft||i.padding||[0,0]),p=K(i.paddingBottomRight||i.padding||[0,0]),_=this.project(this.getCenter()),C=this.project(t),A=this.getPixelBounds(),F=B([A.min.add(c),A.max.subtract(p)]),H=F.getSize();if(!F.contains(C)){this._enforcingBounds=!0;var Q=C.subtract(F.getCenter()),pe=F.extend(C).getSize().subtract(H);_.x+=Q.x<0?-pe.x:pe.x,_.y+=Q.y<0?-pe.y:pe.y,this.panTo(this.unproject(_),i),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=u({animate:!1,pan:!0},t===!0?{animate:!0}:t);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),p=i.divideBy(2).round(),_=c.divideBy(2).round(),C=p.subtract(_);return!C.x&&!C.y?this:(t.animate&&t.pan?this.panBy(C):(t.pan&&this._rawPanBy(C),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(g(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=u({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=g(this._handleGeolocationResponse,this),c=g(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,c,t):navigator.geolocation.getCurrentPosition(i,c,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var i=t.code,c=t.message||(i===1?"permission denied":i===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:i,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var i=t.coords.latitude,c=t.coords.longitude,p=new ue(i,c),_=p.toBounds(t.coords.accuracy*2),C=this._locateOptions;if(C.setView){var A=this.getBoundsZoom(_);this.setView(p,C.maxZoom?Math.min(A,C.maxZoom):A)}var F={latlng:p,bounds:_,timestamp:t.timestamp};for(var H in t.coords)typeof t.coords[H]=="number"&&(F[H]=t.coords[H]);this.fire("locationfound",F)}},addHandler:function(t,i){if(!i)return this;var c=this[t]=new i(this);return this._handlers.push(c),this.options[t]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ct(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ne(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)ct(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,i){var c="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),p=Fe("div",c,i||this._mapPane);return t&&(this._panes[t]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),i=this.unproject(t.getBottomLeft()),c=this.unproject(t.getTopRight());return new se(i,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,i,c){t=U(t),c=K(c||[0,0]);var p=this.getZoom()||0,_=this.getMinZoom(),C=this.getMaxZoom(),A=t.getNorthWest(),F=t.getSouthEast(),H=this.getSize().subtract(c),Q=B(this.project(F,p),this.project(A,p)).getSize(),pe=Se.any3d?this.options.zoomSnap:1,Pe=H.x/Q.x,De=H.y/Q.y,Tt=i?Math.max(Pe,De):Math.min(Pe,De);return p=this.getScaleZoom(Tt,p),pe&&(p=Math.round(p/(pe/100))*(pe/100),p=i?Math.ceil(p/pe)*pe:Math.floor(p/pe)*pe),Math.max(_,Math.min(C,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Z(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,i){var c=this._getTopLeftPoint(t,i);return new j(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,i){var c=this.options.crs;return i=i===void 0?this._zoom:i,c.scale(t)/c.scale(i)},getScaleZoom:function(t,i){var c=this.options.crs;i=i===void 0?this._zoom:i;var p=c.zoom(t*c.scale(i));return isNaN(p)?1/0:p},project:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.latLngToPoint(de(t),i)},unproject:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.pointToLatLng(K(t),i)},layerPointToLatLng:function(t){var i=K(t).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(t){var i=this.project(de(t))._round();return i._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(de(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(U(t))},distance:function(t,i){return this.options.crs.distance(de(t),de(i))},containerPointToLayerPoint:function(t){return K(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return K(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var i=this.containerPointToLayerPoint(K(t));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(de(t)))},mouseEventToContainerPoint:function(t){return Go(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var i=this._container=hn(t);if(i){if(i._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Oe(i,"scroll",this._onScroll,this),this._containerId=y(i)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Se.any3d,Ne(t,"leaflet-container"+(Se.touch?" leaflet-touch":"")+(Se.retina?" leaflet-retina":"")+(Se.ielt9?" leaflet-oldie":"")+(Se.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var i=Fo(t,"position");i!=="absolute"&&i!=="relative"&&i!=="fixed"&&i!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),_t(this._mapPane,new Z(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ne(t.markerPane,"leaflet-zoom-hide"),Ne(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,i,c){_t(this._mapPane,new Z(0,0));var p=!this._loaded;this._loaded=!0,i=this._limitZoom(i),this.fire("viewprereset");var _=this._zoom!==i;this._moveStart(_,c)._move(t,i)._moveEnd(_),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(t,i){return t&&this.fire("zoomstart"),i||this.fire("movestart"),this},_move:function(t,i,c,p){i===void 0&&(i=this._zoom);var _=this._zoom!==i;return this._zoom=i,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),p?c&&c.pinch&&this.fire("zoom",c):((_||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ne(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){_t(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[y(this._container)]=this;var i=t?et:Oe;i(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&i(window,"resize",this._onResize,this),Se.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ne(this._resizeRequest),this._resizeRequest=ve(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,i){for(var c=[],p,_=i==="mouseout"||i==="mouseover",C=t.target||t.srcElement,A=!1;C;){if(p=this._targets[y(C)],p&&(i==="click"||i==="preclick")&&this._draggableMoved(p)){A=!0;break}if(p&&p.listens(i,!0)&&(_&&!Ho(C,t)||(c.push(p),_))||C===this._container)break;C=C.parentNode}return!c.length&&!A&&!_&&this.listens(i,!0)&&(c=[this]),c},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var i=t.target||t.srcElement;if(!(!this._loaded||i._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(i))){var c=t.type;c==="mousedown"&&Xr(i),this._fireDOMEvent(t,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,i,c){if(t.type==="click"){var p=u({},t);p.type="preclick",this._fireDOMEvent(p,p.type,c)}var _=this._findEventTargets(t,i);if(c){for(var C=[],A=0;A<c.length;A++)c[A].listens(i,!0)&&C.push(c[A]);_=C.concat(_)}if(_.length){i==="contextmenu"&&mt(t);var F=_[0],H={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var Q=F.getLatLng&&(!F._radius||F._radius<=10);H.containerPoint=Q?this.latLngToContainerPoint(F.getLatLng()):this.mouseEventToContainerPoint(t),H.layerPoint=this.containerPointToLayerPoint(H.containerPoint),H.latlng=Q?F.getLatLng():this.layerPointToLatLng(H.layerPoint)}for(A=0;A<_.length;A++)if(_[A].fire(i,H,!0),H.originalEvent._stopped||_[A].options.bubblingMouseEvents===!1&&ee(this._mouseEvents,i)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,i=this._handlers.length;t<i;t++)this._handlers[t].disable()},whenReady:function(t,i){return this._loaded?t.call(i||this,{target:this}):this.on("load",t,i),this},_getMapPanePos:function(){return $n(this._mapPane)||new Z(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,i){var c=t&&i!==void 0?this._getNewPixelOrigin(t,i):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,i){var c=this.getSize()._divideBy(2);return this.project(t,i)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,i,c){var p=this._getNewPixelOrigin(c,i);return this.project(t,i)._subtract(p)},_latLngBoundsToNewLayerBounds:function(t,i,c){var p=this._getNewPixelOrigin(c,i);return B([this.project(t.getSouthWest(),i)._subtract(p),this.project(t.getNorthWest(),i)._subtract(p),this.project(t.getSouthEast(),i)._subtract(p),this.project(t.getNorthEast(),i)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,i,c){if(!c)return t;var p=this.project(t,i),_=this.getSize().divideBy(2),C=new j(p.subtract(_),p.add(_)),A=this._getBoundsOffset(C,c,i);return Math.abs(A.x)<=1&&Math.abs(A.y)<=1?t:this.unproject(p.add(A),i)},_limitOffset:function(t,i){if(!i)return t;var c=this.getPixelBounds(),p=new j(c.min.add(t),c.max.add(t));return t.add(this._getBoundsOffset(p,i))},_getBoundsOffset:function(t,i,c){var p=B(this.project(i.getNorthEast(),c),this.project(i.getSouthWest(),c)),_=p.min.subtract(t.min),C=p.max.subtract(t.max),A=this._rebound(_.x,-C.x),F=this._rebound(_.y,-C.y);return new Z(A,F)},_rebound:function(t,i){return t+i>0?Math.round(t-i)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(i))},_limitZoom:function(t){var i=this.getMinZoom(),c=this.getMaxZoom(),p=Se.any3d?this.options.zoomSnap:1;return p&&(t=Math.round(t/p)*p),Math.max(i,Math.min(c,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ot(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,i){var c=this._getCenterOffset(t)._trunc();return(i&&i.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,i),!0)},_createAnimProxy:function(){var t=this._proxy=Fe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(i){var c=Bs,p=this._proxy.style[c];fn(this._proxy,this.project(i.center,i.zoom),this.getZoomScale(i.zoom,1)),p===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ct(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),i=this.getZoom();fn(this._proxy,this.project(t,i),this.getZoomScale(i,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,i,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(i),_=this._getCenterOffset(t)._divideBy(1-1/p);return c.animate!==!0&&!this.getSize().contains(_)?!1:(ve(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(t,i,!0)},this),!0)},_animateZoom:function(t,i,c,p){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=i,Ne(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:i,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(g(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ot(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function rr(t,i){return new He(t,i)}var Jt=ce.extend({options:{position:"topright"},initialize:function(t){R(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var i=this._map;return i&&i.removeControl(this),this.options.position=t,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var i=this._container=this.onAdd(t),c=this.getPosition(),p=t._controlCorners[c];return Ne(i,"leaflet-control"),c.indexOf("bottom")!==-1?p.insertBefore(i,p.firstChild):p.appendChild(i),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ct(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),or=function(t){return new Jt(t)};He.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},i="leaflet-",c=this._controlContainer=Fe("div",i+"control-container",this._container);function p(_,C){var A=i+_+" "+i+C;t[_+C]=Fe("div",A,c)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ct(this._controlCorners[t]);ct(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Hs=Jt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,i,c,p){return c<p?-1:p<c?1:0}},initialize:function(t,i,c){R(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in t)this._addLayer(t[p],p);for(p in i)this._addLayer(i[p],p,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Jt.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,i){return this._addLayer(t,i),this._map?this._update():this},addOverlay:function(t,i){return this._addLayer(t,i,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var i=this._getLayer(y(t));return i&&this._layers.splice(this._layers.indexOf(i),1),this._map?this._update():this},expand:function(){Ne(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(Ne(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):ot(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ot(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",i=this._container=Fe("div",t),c=this.options.collapsed;i.setAttribute("aria-haspopup",!0),$o(i),Ri(i);var p=this._section=Fe("section",t+"-list");c&&(this._map.on("click",this.collapse,this),Oe(i,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var _=this._layersLink=Fe("a",t+"-toggle",i);_.href="#",_.title="Layers",_.setAttribute("role","button"),Oe(_,{keydown:function(C){C.keyCode===13&&this._expandSafely()},click:function(C){mt(C),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=Fe("div",t+"-base",p),this._separator=Fe("div",t+"-separator",p),this._overlaysList=Fe("div",t+"-overlays",p),i.appendChild(p)},_getLayer:function(t){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&y(this._layers[i].layer)===t)return this._layers[i]},_addLayer:function(t,i,c){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:i,overlay:c}),this.options.sortLayers&&this._layers.sort(g(function(p,_){return this.options.sortFunction(p.layer,_.layer,p.name,_.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ci(this._baseLayersList),Ci(this._overlaysList),this._layerControlInputs=[];var t,i,c,p,_=0;for(c=0;c<this._layers.length;c++)p=this._layers[c],this._addItem(p),i=i||p.overlay,t=t||!p.overlay,_+=p.overlay?0:1;return this.options.hideSingleBase&&(t=t&&_>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=i&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var i=this._getLayer(y(t.target)),c=i.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;c&&this._map.fire(c,i)},_createRadioElement:function(t,i){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(i?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=c,p.firstChild},_addItem:function(t){var i=document.createElement("label"),c=this._map.hasLayer(t.layer),p;t.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=c):p=this._createRadioElement("leaflet-base-layers_"+y(this),c),this._layerControlInputs.push(p),p.layerId=y(t.layer),Oe(p,"click",this._onInputClick,this);var _=document.createElement("span");_.innerHTML=" "+t.name;var C=document.createElement("span");i.appendChild(C),C.appendChild(p),C.appendChild(_);var A=t.overlay?this._overlaysList:this._baseLayersList;return A.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,i,c,p=[],_=[];this._handlingClick=!0;for(var C=t.length-1;C>=0;C--)i=t[C],c=this._getLayer(i.layerId).layer,i.checked?p.push(c):i.checked||_.push(c);for(C=0;C<_.length;C++)this._map.hasLayer(_[C])&&this._map.removeLayer(_[C]);for(C=0;C<p.length;C++)this._map.hasLayer(p[C])||this._map.addLayer(p[C]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,i,c,p=this._map.getZoom(),_=t.length-1;_>=0;_--)i=t[_],c=this._getLayer(i.layerId).layer,i.disabled=c.options.minZoom!==void 0&&p<c.options.minZoom||c.options.maxZoom!==void 0&&p>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,Oe(t,"click",mt),this.expand();var i=this;setTimeout(function(){et(t,"click",mt),i._preventClick=!1})}}),Ii=function(t,i,c){return new Hs(t,i,c)},eo=Jt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var i="leaflet-control-zoom",c=Fe("div",i+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,i+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,i+"-out",c,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,i,c,p,_){var C=Fe("a",c,p);return C.innerHTML=t,C.href="#",C.title=i,C.setAttribute("role","button"),C.setAttribute("aria-label",i),$o(C),Oe(C,"click",mn),Oe(C,"click",_,this),Oe(C,"click",this._refocusOnMap,this),C},_updateDisabled:function(){var t=this._map,i="leaflet-disabled";ot(this._zoomInButton,i),ot(this._zoomOutButton,i),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(Ne(this._zoomOutButton,i),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(Ne(this._zoomInButton,i),this._zoomInButton.setAttribute("aria-disabled","true"))}});He.mergeOptions({zoomControl:!0}),He.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new eo,this.addControl(this.zoomControl))});var rl=function(t){return new eo(t)},$t=Jt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var i="leaflet-control-scale",c=Fe("div",i),p=this.options;return this._addScales(p,i+"-line",c),t.on(p.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),c},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,i,c){t.metric&&(this._mScale=Fe("div",i,c)),t.imperial&&(this._iScale=Fe("div",i,c))},_update:function(){var t=this._map,i=t.getSize().y/2,c=t.distance(t.containerPointToLatLng([0,i]),t.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(c)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var i=this._getRoundNum(t),c=i<1e3?i+" m":i/1e3+" km";this._updateScale(this._mScale,c,i/t)},_updateImperial:function(t){var i=t*3.2808399,c,p,_;i>5280?(c=i/5280,p=this._getRoundNum(c),this._updateScale(this._iScale,p+" mi",p/c)):(_=this._getRoundNum(i),this._updateScale(this._iScale,_+" ft",_/i))},_updateScale:function(t,i,c){t.style.width=Math.round(this.options.maxWidth*c)+"px",t.innerHTML=i},_getRoundNum:function(t){var i=Math.pow(10,(Math.floor(t)+"").length-1),c=t/i;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,i*c}}),to=function(t){return new $t(t)},Ws='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Er=Jt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Se.inlineSvg?Ws+" ":"")+"Leaflet</a>"},initialize:function(t){R(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=Fe("div","leaflet-control-attribution"),$o(this._container);for(var i in t._layers)t._layers[i].getAttribution&&this.addAttribution(t._layers[i].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var i in this._attributions)this._attributions[i]&&t.push(i);var c=[];this.options.prefix&&c.push(this.options.prefix),t.length&&c.push(t.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});He.mergeOptions({attributionControl:!0}),He.addInitHook(function(){this.options.attributionControl&&new Er().addTo(this)});var Au=function(t){return new Er(t)};Jt.Layers=Hs,Jt.Zoom=eo,Jt.Scale=$t,Jt.Attribution=Er,or.layers=Ii,or.zoom=rl,or.scale=to,or.attribution=Au;var nn=ce.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});nn.addTo=function(t,i){return t.addHandler(i,this),this};var Zs={Events:fe},no=Se.touch?"touchstart mousedown":"mousedown",gn=Ce.extend({options:{clickTolerance:3},initialize:function(t,i,c,p){R(this,p),this._element=t,this._dragStartTarget=i||t,this._preventOutline=c},enable:function(){this._enabled||(Oe(this._dragStartTarget,no,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(gn._dragging===this&&this.finishDrag(!0),et(this._dragStartTarget,no,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!Jr(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){gn._dragging===this&&this.finishDrag();return}if(!(gn._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(gn._dragging=this,this._preventOutline&&Xr(this._element),Li(),Ze(),!this._moving)){this.fire("down");var i=t.touches?t.touches[0]:t,c=Gn(this._element);this._startPoint=new Z(i.clientX,i.clientY),this._startPos=$n(this._element),this._parentScale=En(c);var p=t.type==="mousedown";Oe(document,p?"mousemove":"touchmove",this._onMove,this),Oe(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var i=t.touches&&t.touches.length===1?t.touches[0]:t,c=new Z(i.clientX,i.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,mt(t),this._moved||(this.fire("dragstart"),this._moved=!0,Ne(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ne(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),_t(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){ot(document.body,"leaflet-dragging"),this._lastTarget&&(ot(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),et(document,"mousemove touchmove",this._onMove,this),et(document,"mouseup touchend touchcancel",this._onUp,this),Mi(),Qr();var i=this._moved&&this._moving;this._moving=!1,gn._dragging=!1,i&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Vs(t,i,c){var p,_=[1,4,2,8],C,A,F,H,Q,pe,Pe,De;for(C=0,pe=t.length;C<pe;C++)t[C]._code=Cr(t[C],i);for(F=0;F<4;F++){for(Pe=_[F],p=[],C=0,pe=t.length,A=pe-1;C<pe;A=C++)H=t[C],Q=t[A],H._code&Pe?Q._code&Pe||(De=zi(Q,H,Pe,i,c),De._code=Cr(De,i),p.push(De)):(Q._code&Pe&&(De=zi(Q,H,Pe,i,c),De._code=Cr(De,i),p.push(De)),p.push(H));t=p}return t}function ol(t,i){var c,p,_,C,A,F,H,Q,pe;if(!t||t.length===0)throw new Error("latlngs not passed");rn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Pe=de([0,0]),De=U(t),Tt=De.getNorthWest().distanceTo(De.getSouthWest())*De.getNorthEast().distanceTo(De.getNorthWest());Tt<1700&&(Pe=qs(t));var kt=t.length,Qt=[];for(c=0;c<kt;c++){var Gt=de(t[c]);Qt.push(i.project(de([Gt.lat-Pe.lat,Gt.lng-Pe.lng])))}for(F=H=Q=0,c=0,p=kt-1;c<kt;p=c++)_=Qt[c],C=Qt[p],A=_.y*C.x-C.y*_.x,H+=(_.x+C.x)*A,Q+=(_.y+C.y)*A,F+=A*3;F===0?pe=Qt[0]:pe=[H/F,Q/F];var fo=i.unproject(K(pe));return de([fo.lat+Pe.lat,fo.lng+Pe.lng])}function qs(t){for(var i=0,c=0,p=0,_=0;_<t.length;_++){var C=de(t[_]);i+=C.lat,c+=C.lng,p++}return de([i/p,c/p])}var Iu={__proto__:null,clipPolygon:Vs,polygonCenter:ol,centroid:qs};function Ni(t,i){if(!i||!t.length)return t.slice();var c=i*i;return t=Fu(t,c),t=zu(t,c),t}function il(t,i,c){return Math.sqrt(Pr(t,i,c,!0))}function Nu(t,i,c){return Pr(t,i,c)}function zu(t,i){var c=t.length,p=typeof Uint8Array<"u"?Uint8Array:Array,_=new p(c);_[0]=_[c-1]=1,Ks(t,_,i,0,c-1);var C,A=[];for(C=0;C<c;C++)_[C]&&A.push(t[C]);return A}function Ks(t,i,c,p,_){var C=0,A,F,H;for(F=p+1;F<=_-1;F++)H=Pr(t[F],t[p],t[_],!0),H>C&&(A=F,C=H);C>c&&(i[A]=1,Ks(t,i,c,p,A),Ks(t,i,c,A,_))}function Fu(t,i){for(var c=[t[0]],p=1,_=0,C=t.length;p<C;p++)Du(t[p],t[_])>i&&(c.push(t[p]),_=p);return _<C-1&&c.push(t[C-1]),c}var Js;function sl(t,i,c,p,_){var C=p?Js:Cr(t,c),A=Cr(i,c),F,H,Q;for(Js=A;;){if(!(C|A))return[t,i];if(C&A)return!1;F=C||A,H=zi(t,i,F,c,_),Q=Cr(H,c),F===C?(t=H,C=Q):(i=H,A=Q)}}function zi(t,i,c,p,_){var C=i.x-t.x,A=i.y-t.y,F=p.min,H=p.max,Q,pe;return c&8?(Q=t.x+C*(H.y-t.y)/A,pe=H.y):c&4?(Q=t.x+C*(F.y-t.y)/A,pe=F.y):c&2?(Q=H.x,pe=t.y+A*(H.x-t.x)/C):c&1&&(Q=F.x,pe=t.y+A*(F.x-t.x)/C),new Z(Q,pe,_)}function Cr(t,i){var c=0;return t.x<i.min.x?c|=1:t.x>i.max.x&&(c|=2),t.y<i.min.y?c|=4:t.y>i.max.y&&(c|=8),c}function Du(t,i){var c=i.x-t.x,p=i.y-t.y;return c*c+p*p}function Pr(t,i,c,p){var _=i.x,C=i.y,A=c.x-_,F=c.y-C,H=A*A+F*F,Q;return H>0&&(Q=((t.x-_)*A+(t.y-C)*F)/H,Q>1?(_=c.x,C=c.y):Q>0&&(_+=A*Q,C+=F*Q)),A=t.x-_,F=t.y-C,p?A*A+F*F:new Z(_,C)}function rn(t){return!G(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function al(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),rn(t)}function ll(t,i){var c,p,_,C,A,F,H,Q;if(!t||t.length===0)throw new Error("latlngs not passed");rn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var pe=de([0,0]),Pe=U(t),De=Pe.getNorthWest().distanceTo(Pe.getSouthWest())*Pe.getNorthEast().distanceTo(Pe.getNorthWest());De<1700&&(pe=qs(t));var Tt=t.length,kt=[];for(c=0;c<Tt;c++){var Qt=de(t[c]);kt.push(i.project(de([Qt.lat-pe.lat,Qt.lng-pe.lng])))}for(c=0,p=0;c<Tt-1;c++)p+=kt[c].distanceTo(kt[c+1])/2;if(p===0)Q=kt[0];else for(c=0,C=0;c<Tt-1;c++)if(A=kt[c],F=kt[c+1],_=A.distanceTo(F),C+=_,C>p){H=(C-p)/_,Q=[F.x-H*(F.x-A.x),F.y-H*(F.y-A.y)];break}var Gt=i.unproject(K(Q));return de([Gt.lat+pe.lat,Gt.lng+pe.lng])}var ul={__proto__:null,simplify:Ni,pointToSegmentDistance:il,closestPointOnSegment:Nu,clipSegment:sl,_getEdgeIntersection:zi,_getBitCode:Cr,_sqClosestPointOnSegment:Pr,isFlat:rn,_flat:al,polylineCenter:ll},Ys={project:function(t){return new Z(t.lng,t.lat)},unproject:function(t){return new ue(t.y,t.x)},bounds:new j([-180,-90],[180,90])},Qs={R:6378137,R_MINOR:6356752314245179e-9,bounds:new j([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var i=Math.PI/180,c=this.R,p=t.lat*i,_=this.R_MINOR/c,C=Math.sqrt(1-_*_),A=C*Math.sin(p),F=Math.tan(Math.PI/4-p/2)/Math.pow((1-A)/(1+A),C/2);return p=-c*Math.log(Math.max(F,1e-10)),new Z(t.lng*i*c,p)},unproject:function(t){for(var i=180/Math.PI,c=this.R,p=this.R_MINOR/c,_=Math.sqrt(1-p*p),C=Math.exp(-t.y/c),A=Math.PI/2-2*Math.atan(C),F=0,H=.1,Q;F<15&&Math.abs(H)>1e-7;F++)Q=_*Math.sin(A),Q=Math.pow((1-Q)/(1+Q),_/2),H=Math.PI/2-2*Math.atan(C*Q)-A,A+=H;return new ue(A*i,t.x*i/c)}},Bu={__proto__:null,LonLat:Ys,Mercator:Qs,SphericalMercator:Ge},Uu=u({},Ee,{code:"EPSG:3395",projection:Qs,transformation:function(){var t=.5/(Math.PI*Qs.R);return nt(t,.5,-t,.5)}()}),cl=u({},Ee,{code:"EPSG:4326",projection:Ys,transformation:nt(1/180,1,-1/180,.5)}),$u=u({},Me,{projection:Ys,transformation:nt(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,i){var c=i.lng-t.lng,p=i.lat-t.lat;return Math.sqrt(c*c+p*p)},infinite:!0});Me.Earth=Ee,Me.EPSG3395=Uu,Me.EPSG3857=rt,Me.EPSG900913=lt,Me.EPSG4326=cl,Me.Simple=$u;var vn=Ce.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[y(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[y(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var i=t.target;if(i.hasLayer(this)){if(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents){var c=this.getEvents();i.on(c,this),this.once("remove",function(){i.off(c,this)},this)}this.onAdd(i),this.fire("add"),i.fire("layeradd",{layer:this})}}});He.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var i=y(t);return this._layers[i]?this:(this._layers[i]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var i=y(t);return this._layers[i]?(this._loaded&&t.onRemove(this),delete this._layers[i],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return y(t)in this._layers},eachLayer:function(t,i){for(var c in this._layers)t.call(i,this._layers[c]);return this},_addLayers:function(t){t=t?G(t)?t:[t]:[];for(var i=0,c=t.length;i<c;i++)this.addLayer(t[i])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[y(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var i=y(t);this._zoomBoundLayers[i]&&(delete this._zoomBoundLayers[i],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,i=-1/0,c=this._getZoomSpan();for(var p in this._zoomBoundLayers){var _=this._zoomBoundLayers[p].options;t=_.minZoom===void 0?t:Math.min(t,_.minZoom),i=_.maxZoom===void 0?i:Math.max(i,_.maxZoom)}this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=t===1/0?void 0:t,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ir=vn.extend({initialize:function(t,i){R(this,i),this._layers={};var c,p;if(t)for(c=0,p=t.length;c<p;c++)this.addLayer(t[c])},addLayer:function(t){var i=this.getLayerId(t);return this._layers[i]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var i=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[i]&&this._map.removeLayer(this._layers[i]),delete this._layers[i],this},hasLayer:function(t){var i=typeof t=="number"?t:this.getLayerId(t);return i in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var i=Array.prototype.slice.call(arguments,1),c,p;for(c in this._layers)p=this._layers[c],p[t]&&p[t].apply(p,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,i){for(var c in this._layers)t.call(i,this._layers[c]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return y(t)}}),Wo=function(t,i){return new ir(t,i)},Hn=ir.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),ir.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),ir.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new se;for(var i in this._layers){var c=this._layers[i];t.extend(c.getBounds?c.getBounds():c.getLatLng())}return t}}),dl=function(t,i){return new Hn(t,i)},Tr=ce.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){R(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,i){var c=this._getIconUrl(t);if(!c){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(c,i&&i.tagName==="IMG"?i:null);return this._setIconStyles(p,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(t,i){var c=this.options,p=c[i+"Size"];typeof p=="number"&&(p=[p,p]);var _=K(p),C=K(i==="shadow"&&c.shadowAnchor||c.iconAnchor||_&&_.divideBy(2,!0));t.className="leaflet-marker-"+i+" "+(c.className||""),C&&(t.style.marginLeft=-C.x+"px",t.style.marginTop=-C.y+"px"),_&&(t.style.width=_.x+"px",t.style.height=_.y+"px")},_createImg:function(t,i){return i=i||document.createElement("img"),i.src=t,i},_getIconUrl:function(t){return Se.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function hl(t){return new Tr(t)}var ro=Tr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof ro.imagePath!="string"&&(ro.imagePath=this._detectIconPath()),(this.options.imagePath||ro.imagePath)+Tr.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var i=function(c,p,_){var C=p.exec(c);return C&&C[_]};return t=i(t,/^url\((['"])?(.+)\1\)$/,2),t&&i(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=Fe("div","leaflet-default-icon-path",document.body),i=Fo(t,"background-image")||Fo(t,"backgroundImage");if(document.body.removeChild(t),i=this._stripUrl(i),i)return i;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),Xs=nn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new gn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ne(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ot(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var i=this._marker,c=i._map,p=this._marker.options.autoPanSpeed,_=this._marker.options.autoPanPadding,C=$n(i._icon),A=c.getPixelBounds(),F=c.getPixelOrigin(),H=B(A.min._subtract(F).add(_),A.max._subtract(F).subtract(_));if(!H.contains(C)){var Q=K((Math.max(H.max.x,C.x)-H.max.x)/(A.max.x-H.max.x)-(Math.min(H.min.x,C.x)-H.min.x)/(A.min.x-H.min.x),(Math.max(H.max.y,C.y)-H.max.y)/(A.max.y-H.max.y)-(Math.min(H.min.y,C.y)-H.min.y)/(A.min.y-H.min.y)).multiplyBy(p);c.panBy(Q,{animate:!1}),this._draggable._newPos._add(Q),this._draggable._startPos._add(Q),_t(i._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=ve(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(ne(this._panRequest),this._panRequest=ve(this._adjustPan.bind(this,t)))},_onDrag:function(t){var i=this._marker,c=i._shadow,p=$n(i._icon),_=i._map.layerPointToLatLng(p);c&&_t(c,p),i._latlng=_,t.latlng=_,t.oldLatLng=this._oldLatLng,i.fire("move",t).fire("drag",t)},_onDragEnd:function(t){ne(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Wn=vn.extend({options:{icon:new ro,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,i){R(this,i),this._latlng=de(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var i=this._latlng;return this._latlng=de(t),this.update(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,i="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=t.icon.createIcon(this._icon),p=!1;c!==this._icon&&(this._icon&&this._removeIcon(),p=!0,t.title&&(c.title=t.title),c.tagName==="IMG"&&(c.alt=t.alt||"")),Ne(c,i),t.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Oe(c,"focus",this._panOnFocus,this);var _=t.icon.createShadow(this._shadow),C=!1;_!==this._shadow&&(this._removeShadow(),C=!0),_&&(Ne(_,i),_.alt=""),this._shadow=_,t.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),_&&C&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&et(this._icon,"focus",this._panOnFocus,this),ct(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ct(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&_t(this._icon,t),this._shadow&&_t(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(i)},_initInteraction:function(){if(this.options.interactive&&(Ne(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Xs)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Xs(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Ut(this._icon,t),this._shadow&&Ut(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var i=this.options.icon.options,c=i.iconSize?K(i.iconSize):K(0,0),p=i.iconAnchor?K(i.iconAnchor):K(0,0);t.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:c.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Gu(t,i){return new Wn(t,i)}var sr=vn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return R(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Fi=sr.extend({options:{fill:!0,radius:10},initialize:function(t,i){R(this,i),this._latlng=de(t),this._radius=this.options.radius},setLatLng:function(t){var i=this._latlng;return this._latlng=de(t),this.redraw(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var i=t&&t.radius||this._radius;return sr.prototype.setStyle.call(this,t),this.setRadius(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,i=this._radiusY||t,c=this._clickTolerance(),p=[t+c,i+c];this._pxBounds=new j(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function fl(t,i){return new Fi(t,i)}var Di=Fi.extend({initialize:function(t,i,c){if(typeof i=="number"&&(i=u({},c,{radius:i})),R(this,i),this._latlng=de(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new se(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:sr.prototype.setStyle,_project:function(){var t=this._latlng.lng,i=this._latlng.lat,c=this._map,p=c.options.crs;if(p.distance===Ee.distance){var _=Math.PI/180,C=this._mRadius/Ee.R/_,A=c.project([i+C,t]),F=c.project([i-C,t]),H=A.add(F).divideBy(2),Q=c.unproject(H).lat,pe=Math.acos((Math.cos(C*_)-Math.sin(i*_)*Math.sin(Q*_))/(Math.cos(i*_)*Math.cos(Q*_)))/_;(isNaN(pe)||pe===0)&&(pe=C/Math.cos(Math.PI/180*i)),this._point=H.subtract(c.getPixelOrigin()),this._radius=isNaN(pe)?0:H.x-c.project([Q,t-pe]).x,this._radiusY=H.y-A.y}else{var Pe=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(Pe).x}this._updateBounds()}});function Zo(t,i,c){return new Di(t,i,c)}var Yt=sr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,i){R(this,i),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var i=1/0,c=null,p=Pr,_,C,A=0,F=this._parts.length;A<F;A++)for(var H=this._parts[A],Q=1,pe=H.length;Q<pe;Q++){_=H[Q-1],C=H[Q];var Pe=p(t,_,C,!0);Pe<i&&(i=Pe,c=p(t,_,C))}return c&&(c.distance=Math.sqrt(i)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ll(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,i){return i=i||this._defaultShape(),t=de(t),i.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new se,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return rn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var i=[],c=rn(t),p=0,_=t.length;p<_;p++)c?(i[p]=de(t[p]),this._bounds.extend(i[p])):i[p]=this._convertLatLngs(t[p]);return i},_project:function(){var t=new j;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),i=new Z(t,t);this._rawPxBounds&&(this._pxBounds=new j([this._rawPxBounds.min.subtract(i),this._rawPxBounds.max.add(i)]))},_projectLatlngs:function(t,i,c){var p=t[0]instanceof ue,_=t.length,C,A;if(p){for(A=[],C=0;C<_;C++)A[C]=this._map.latLngToLayerPoint(t[C]),c.extend(A[C]);i.push(A)}else for(C=0;C<_;C++)this._projectLatlngs(t[C],i,c)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var i=this._parts,c,p,_,C,A,F,H;for(c=0,_=0,C=this._rings.length;c<C;c++)for(H=this._rings[c],p=0,A=H.length;p<A-1;p++)F=sl(H[p],H[p+1],t,p,!0),F&&(i[_]=i[_]||[],i[_].push(F[0]),(F[1]!==H[p+1]||p===A-2)&&(i[_].push(F[1]),_++))}},_simplifyPoints:function(){for(var t=this._parts,i=this.options.smoothFactor,c=0,p=t.length;c<p;c++)t[c]=Ni(t[c],i)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,i){var c,p,_,C,A,F,H=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(c=0,C=this._parts.length;c<C;c++)for(F=this._parts[c],p=0,A=F.length,_=A-1;p<A;_=p++)if(!(!i&&p===0)&&il(t,F[_],F[p])<=H)return!0;return!1}});function Hu(t,i){return new Yt(t,i)}Yt._flat=al;var Zn=Yt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ol(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var i=Yt.prototype._convertLatLngs.call(this,t),c=i.length;return c>=2&&i[0]instanceof ue&&i[0].equals(i[c-1])&&i.pop(),i},_setLatLngs:function(t){Yt.prototype._setLatLngs.call(this,t),rn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return rn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,i=this.options.weight,c=new Z(i,i);if(t=new j(t.min.subtract(c),t.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,_=this._rings.length,C;p<_;p++)C=Vs(this._rings[p],t,!0),C.length&&this._parts.push(C)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var i=!1,c,p,_,C,A,F,H,Q;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(C=0,H=this._parts.length;C<H;C++)for(c=this._parts[C],A=0,Q=c.length,F=Q-1;A<Q;F=A++)p=c[A],_=c[F],p.y>t.y!=_.y>t.y&&t.x<(_.x-p.x)*(t.y-p.y)/(_.y-p.y)+p.x&&(i=!i);return i||Yt.prototype._containsPoint.call(this,t,!0)}});function Wu(t,i){return new Zn(t,i)}var Pn=Hn.extend({initialize:function(t,i){R(this,i),this._layers={},t&&this.addData(t)},addData:function(t){var i=G(t)?t:t.features,c,p,_;if(i){for(c=0,p=i.length;c<p;c++)_=i[c],(_.geometries||_.geometry||_.features||_.coordinates)&&this.addData(_);return this}var C=this.options;if(C.filter&&!C.filter(t))return this;var A=oo(t,C);return A?(A.feature=Hi(t),A.defaultOptions=A.options,this.resetStyle(A),C.onEachFeature&&C.onEachFeature(t,A),this.addLayer(A)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=u({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(i){this._setLayerStyle(i,t)},this)},_setLayerStyle:function(t,i){t.setStyle&&(typeof i=="function"&&(i=i(t.feature)),t.setStyle(i))}});function oo(t,i){var c=t.type==="Feature"?t.geometry:t,p=c?c.coordinates:null,_=[],C=i&&i.pointToLayer,A=i&&i.coordsToLatLng||Ui,F,H,Q,pe;if(!p&&!c)return null;switch(c.type){case"Point":return F=A(p),Bi(C,t,F,i);case"MultiPoint":for(Q=0,pe=p.length;Q<pe;Q++)F=A(p[Q]),_.push(Bi(C,t,F,i));return new Hn(_);case"LineString":case"MultiLineString":return H=Vo(p,c.type==="LineString"?0:1,A),new Yt(H,i);case"Polygon":case"MultiPolygon":return H=Vo(p,c.type==="Polygon"?1:2,A),new Zn(H,i);case"GeometryCollection":for(Q=0,pe=c.geometries.length;Q<pe;Q++){var Pe=oo({geometry:c.geometries[Q],type:"Feature",properties:t.properties},i);Pe&&_.push(Pe)}return new Hn(_);case"FeatureCollection":for(Q=0,pe=c.features.length;Q<pe;Q++){var De=oo(c.features[Q],i);De&&_.push(De)}return new Hn(_);default:throw new Error("Invalid GeoJSON object.")}}function Bi(t,i,c,p){return t?t(i,c):new Wn(c,p&&p.markersInheritOptions&&p)}function Ui(t){return new ue(t[1],t[0],t[2])}function Vo(t,i,c){for(var p=[],_=0,C=t.length,A;_<C;_++)A=i?Vo(t[_],i-1,c):(c||Ui)(t[_]),p.push(A);return p}function $i(t,i){return t=de(t),t.alt!==void 0?[M(t.lng,i),M(t.lat,i),M(t.alt,i)]:[M(t.lng,i),M(t.lat,i)]}function Gi(t,i,c,p){for(var _=[],C=0,A=t.length;C<A;C++)_.push(i?Gi(t[C],rn(t[C])?0:i-1,c,p):$i(t[C],p));return!i&&c&&_.length>0&&_.push(_[0].slice()),_}function io(t,i){return t.feature?u({},t.feature,{geometry:i}):Hi(i)}function Hi(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var ea={toGeoJSON:function(t){return io(this,{type:"Point",coordinates:$i(this.getLatLng(),t)})}};Wn.include(ea),Di.include(ea),Fi.include(ea),Yt.include({toGeoJSON:function(t){var i=!rn(this._latlngs),c=Gi(this._latlngs,i?1:0,!1,t);return io(this,{type:(i?"Multi":"")+"LineString",coordinates:c})}}),Zn.include({toGeoJSON:function(t){var i=!rn(this._latlngs),c=i&&!rn(this._latlngs[0]),p=Gi(this._latlngs,c?2:i?1:0,!0,t);return i||(p=[p]),io(this,{type:(c?"Multi":"")+"Polygon",coordinates:p})}}),ir.include({toMultiPoint:function(t){var i=[];return this.eachLayer(function(c){i.push(c.toGeoJSON(t).geometry.coordinates)}),io(this,{type:"MultiPoint",coordinates:i})},toGeoJSON:function(t){var i=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(i==="MultiPoint")return this.toMultiPoint(t);var c=i==="GeometryCollection",p=[];return this.eachLayer(function(_){if(_.toGeoJSON){var C=_.toGeoJSON(t);if(c)p.push(C.geometry);else{var A=Hi(C);A.type==="FeatureCollection"?p.push.apply(p,A.features):p.push(A)}}}),c?io(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function pl(t,i){return new Pn(t,i)}var yn=pl,ar=vn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,i,c){this._url=t,this._bounds=U(i),R(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ne(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ct(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Kr(this._image),this},bringToBack:function(){return this._map&&Un(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=U(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",i=this._image=t?this._url:Fe("img");if(Ne(i,"leaflet-image-layer"),this._zoomAnimated&&Ne(i,"leaflet-zoom-animated"),this.options.className&&Ne(i,this.options.className),i.onselectstart=E,i.onmousemove=E,i.onload=g(this.fire,this,"load"),i.onerror=g(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=i.src;return}i.src=this._url,i.alt=this.options.alt},_animateZoom:function(t){var i=this._map.getZoomScale(t.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;fn(this._image,c,i)},_reset:function(){var t=this._image,i=new j(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=i.getSize();_t(t,i.min),t.style.width=c.x+"px",t.style.height=c.y+"px"},_updateOpacity:function(){Ut(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),ml=function(t,i,c){return new ar(t,i,c)},ta=ar.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",i=this._image=t?this._url:Fe("video");if(Ne(i,"leaflet-image-layer"),this._zoomAnimated&&Ne(i,"leaflet-zoom-animated"),this.options.className&&Ne(i,this.options.className),i.onselectstart=E,i.onmousemove=E,i.onloadeddata=g(this.fire,this,"load"),t){for(var c=i.getElementsByTagName("source"),p=[],_=0;_<c.length;_++)p.push(c[_].src);this._url=c.length>0?p:[i.src];return}G(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(i.style,"objectFit")&&(i.style.objectFit="fill"),i.autoplay=!!this.options.autoplay,i.loop=!!this.options.loop,i.muted=!!this.options.muted,i.playsInline=!!this.options.playsInline;for(var C=0;C<this._url.length;C++){var A=Fe("source");A.src=this._url[C],i.appendChild(A)}}});function gl(t,i,c){return new ta(t,i,c)}var na=ar.extend({_initImage:function(){var t=this._image=this._url;Ne(t,"leaflet-image-layer"),this._zoomAnimated&&Ne(t,"leaflet-zoom-animated"),this.options.className&&Ne(t,this.options.className),t.onselectstart=E,t.onmousemove=E}});function ra(t,i,c){return new na(t,i,c)}var Tn=vn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,i){t&&(t instanceof ue||G(t))?(this._latlng=de(t),R(this,i)):(R(this,t),this._source=i),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Ut(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Ut(this._container,1),this.bringToFront(),this.options.interactive&&(Ne(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Ut(this._container,0),this._removeTimeout=setTimeout(g(ct,void 0,this._container),200)):ct(this._container),this.options.interactive&&(ot(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=de(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Kr(this._container),this},bringToBack:function(){return this._map&&Un(this._container),this},_prepareOpen:function(t){var i=this._source;if(!i._map)return!1;if(i instanceof Hn){i=null;var c=this._source._layers;for(var p in c)if(c[p]._map){i=c[p];break}if(!i)return!1;this._source=i}if(!t)if(i.getCenter)t=i.getCenter();else if(i.getLatLng)t=i.getLatLng();else if(i.getBounds)t=i.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,i=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof i=="string")t.innerHTML=i;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(i)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),i=K(this.options.offset),c=this._getAnchor();this._zoomAnimated?_t(this._container,t.add(c)):i=i.add(t).add(c);var p=this._containerBottom=-i.y,_=this._containerLeft=-Math.round(this._containerWidth/2)+i.x;this._container.style.bottom=p+"px",this._container.style.left=_+"px"}},_getAnchor:function(){return[0,0]}});He.include({_initOverlay:function(t,i,c,p){var _=i;return _ instanceof t||(_=new t(p).setContent(i)),c&&_.setLatLng(c),_}}),vn.include({_initOverlay:function(t,i,c,p){var _=c;return _ instanceof t?(R(_,p),_._source=this):(_=i&&!p?i:new t(p,this),_.setContent(c)),_}});var Wi=Tn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Tn.prototype.openOn.call(this,t)},onAdd:function(t){Tn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof sr||this._source.on("preclick",Cn))},onRemove:function(t){Tn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof sr||this._source.off("preclick",Cn))},getEvents:function(){var t=Tn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",i=this._container=Fe("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=Fe("div",t+"-content-wrapper",i);if(this._contentNode=Fe("div",t+"-content",c),$o(i),Ri(this._contentNode),Oe(i,"contextmenu",Cn),this._tipContainer=Fe("div",t+"-tip-container",i),this._tip=Fe("div",t+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=Fe("a",t+"-close-button",i);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',Oe(p,"click",function(_){mt(_),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,i=t.style;i.width="",i.whiteSpace="nowrap";var c=t.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),i.width=c+1+"px",i.whiteSpace="",i.height="";var p=t.offsetHeight,_=this.options.maxHeight,C="leaflet-popup-scrolled";_&&p>_?(i.height=_+"px",Ne(t,C)):ot(t,C),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),c=this._getAnchor();_t(this._container,i.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,i=parseInt(Fo(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+i,p=this._containerWidth,_=new Z(this._containerLeft,-c-this._containerBottom);_._add($n(this._container));var C=t.layerPointToContainerPoint(_),A=K(this.options.autoPanPadding),F=K(this.options.autoPanPaddingTopLeft||A),H=K(this.options.autoPanPaddingBottomRight||A),Q=t.getSize(),pe=0,Pe=0;C.x+p+H.x>Q.x&&(pe=C.x+p-Q.x+H.x),C.x-pe-F.x<0&&(pe=C.x-F.x),C.y+c+H.y>Q.y&&(Pe=C.y+c-Q.y+H.y),C.y-Pe-F.y<0&&(Pe=C.y-F.y),(pe||Pe)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([pe,Pe]))}},_getAnchor:function(){return K(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),so=function(t,i){return new Wi(t,i)};He.mergeOptions({closePopupOnClick:!0}),He.include({openPopup:function(t,i,c){return this._initOverlay(Wi,t,i,c).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),vn.include({bindPopup:function(t,i){return this._popup=this._initOverlay(Wi,this._popup,t,i),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Hn||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){mn(t);var i=t.layer||t.target;if(this._popup._source===i&&!(i instanceof sr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=i,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var ao=Tn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Tn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Tn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Tn.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",i=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Fe("div",i),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var i,c,p=this._map,_=this._container,C=p.latLngToContainerPoint(p.getCenter()),A=p.layerPointToContainerPoint(t),F=this.options.direction,H=_.offsetWidth,Q=_.offsetHeight,pe=K(this.options.offset),Pe=this._getAnchor();F==="top"?(i=H/2,c=Q):F==="bottom"?(i=H/2,c=0):F==="center"?(i=H/2,c=Q/2):F==="right"?(i=0,c=Q/2):F==="left"?(i=H,c=Q/2):A.x<C.x?(F="right",i=0,c=Q/2):(F="left",i=H+(pe.x+Pe.x)*2,c=Q/2),t=t.subtract(K(i,c,!0)).add(pe).add(Pe),ot(_,"leaflet-tooltip-right"),ot(_,"leaflet-tooltip-left"),ot(_,"leaflet-tooltip-top"),ot(_,"leaflet-tooltip-bottom"),Ne(_,"leaflet-tooltip-"+F),_t(_,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Ut(this._container,t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(i)},_getAnchor:function(){return K(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),qo=function(t,i){return new ao(t,i)};He.include({openTooltip:function(t,i,c){return this._initOverlay(ao,t,i,c).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),vn.include({bindTooltip:function(t,i){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ao,this._tooltip,t,i),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var i=t?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[i](c),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Hn||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var i=typeof t.getElement=="function"&&t.getElement();i&&(Oe(i,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),Oe(i,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var i=typeof t.getElement=="function"&&t.getElement();i&&i.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var i=this;this._map.once("moveend",function(){i._openOnceFlag=!1,i._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var i=t.latlng,c,p;this._tooltip.options.sticky&&t.originalEvent&&(c=this._map.mouseEventToContainerPoint(t.originalEvent),p=this._map.containerPointToLayerPoint(c),i=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(i)}});var Zi=Tr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var i=t&&t.tagName==="DIV"?t:document.createElement("div"),c=this.options;if(c.html instanceof Element?(Ci(i),i.appendChild(c.html)):i.innerHTML=c.html!==!1?c.html:"",c.bgPos){var p=K(c.bgPos);i.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(i,"icon"),i},createShadow:function(){return null}});function vl(t){return new Zi(t)}Tr.Default=ro;var lr=vn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Se.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){R(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ct(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Kr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Un(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=w(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof Z?t:new Z(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var i=this.getPane().children,c=-t(-1/0,1/0),p=0,_=i.length,C;p<_;p++)C=i[p].style.zIndex,i[p]!==this._container&&C&&(c=t(c,+C));isFinite(c)&&(this.options.zIndex=c+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Se.ielt9){Ut(this._container,this.options.opacity);var t=+new Date,i=!1,c=!1;for(var p in this._tiles){var _=this._tiles[p];if(!(!_.current||!_.loaded)){var C=Math.min(1,(t-_.loaded)/200);Ut(_.el,C),C<1?i=!0:(_.active?c=!0:this._onOpaqueTile(_),_.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),i&&(ne(this._fadeFrame),this._fadeFrame=ve(this._updateOpacity,this))}},_onOpaqueTile:E,_initContainer:function(){this._container||(this._container=Fe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,i=this.options.maxZoom;if(t!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===t?(this._levels[c].el.style.zIndex=i-Math.abs(t-c),this._onUpdateLevel(c)):(ct(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var p=this._levels[t],_=this._map;return p||(p=this._levels[t]={},p.el=Fe("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=i,p.origin=_.project(_.unproject(_.getPixelOrigin()),t).round(),p.zoom=t,this._setZoomTransform(p,_.getCenter(),_.getZoom()),E(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:E,_onRemoveLevel:E,_onCreateLevel:E,_pruneTiles:function(){if(this._map){var t,i,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)i=this._tiles[t],i.retain=i.current;for(t in this._tiles)if(i=this._tiles[t],i.current&&!i.active){var p=i.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var i in this._tiles)this._tiles[i].coords.z===t&&this._removeTile(i)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ct(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,i,c,p){var _=Math.floor(t/2),C=Math.floor(i/2),A=c-1,F=new Z(+_,+C);F.z=+A;var H=this._tileCoordsToKey(F),Q=this._tiles[H];return Q&&Q.active?(Q.retain=!0,!0):(Q&&Q.loaded&&(Q.retain=!0),A>p?this._retainParent(_,C,A,p):!1)},_retainChildren:function(t,i,c,p){for(var _=2*t;_<2*t+2;_++)for(var C=2*i;C<2*i+2;C++){var A=new Z(_,C);A.z=c+1;var F=this._tileCoordsToKey(A),H=this._tiles[F];if(H&&H.active){H.retain=!0;continue}else H&&H.loaded&&(H.retain=!0);c+1<p&&this._retainChildren(_,C,c+1,p)}},_resetView:function(t){var i=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),i,i)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var i=this.options;return i.minNativeZoom!==void 0&&t<i.minNativeZoom?i.minNativeZoom:i.maxNativeZoom!==void 0&&i.maxNativeZoom<t?i.maxNativeZoom:t},_setView:function(t,i,c,p){var _=Math.round(i);this.options.maxZoom!==void 0&&_>this.options.maxZoom||this.options.minZoom!==void 0&&_<this.options.minZoom?_=void 0:_=this._clampZoom(_);var C=this.options.updateWhenZooming&&_!==this._tileZoom;(!p||C)&&(this._tileZoom=_,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),_!==void 0&&this._update(t),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(t,i)},_setZoomTransforms:function(t,i){for(var c in this._levels)this._setZoomTransform(this._levels[c],t,i)},_setZoomTransform:function(t,i,c){var p=this._map.getZoomScale(c,t.zoom),_=t.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(i,c)).round();Se.any3d?fn(t.el,_,p):_t(t.el,_)},_resetGrid:function(){var t=this._map,i=t.options.crs,c=this._tileSize=this.getTileSize(),p=this._tileZoom,_=this._map.getPixelWorldBounds(this._tileZoom);_&&(this._globalTileRange=this._pxBoundsToTileRange(_)),this._wrapX=i.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,i.wrapLng[0]],p).x/c.x),Math.ceil(t.project([0,i.wrapLng[1]],p).x/c.y)],this._wrapY=i.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([i.wrapLat[0],0],p).y/c.x),Math.ceil(t.project([i.wrapLat[1],0],p).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var i=this._map,c=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),p=i.getZoomScale(c,this._tileZoom),_=i.project(t,this._tileZoom).floor(),C=i.getSize().divideBy(p*2);return new j(_.subtract(C),_.add(C))},_update:function(t){var i=this._map;if(i){var c=this._clampZoom(i.getZoom());if(t===void 0&&(t=i.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(t),_=this._pxBoundsToTileRange(p),C=_.getCenter(),A=[],F=this.options.keepBuffer,H=new j(_.getBottomLeft().subtract([F,-F]),_.getTopRight().add([F,-F]));if(!(isFinite(_.min.x)&&isFinite(_.min.y)&&isFinite(_.max.x)&&isFinite(_.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Q in this._tiles){var pe=this._tiles[Q].coords;(pe.z!==this._tileZoom||!H.contains(new Z(pe.x,pe.y)))&&(this._tiles[Q].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(t,c);return}for(var Pe=_.min.y;Pe<=_.max.y;Pe++)for(var De=_.min.x;De<=_.max.x;De++){var Tt=new Z(De,Pe);if(Tt.z=this._tileZoom,!!this._isValidTile(Tt)){var kt=this._tiles[this._tileCoordsToKey(Tt)];kt?kt.current=!0:A.push(Tt)}}if(A.sort(function(Gt,fo){return Gt.distanceTo(C)-fo.distanceTo(C)}),A.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Qt=document.createDocumentFragment();for(De=0;De<A.length;De++)this._addTile(A[De],Qt);this._level.el.appendChild(Qt)}}}},_isValidTile:function(t){var i=this._map.options.crs;if(!i.infinite){var c=this._globalTileRange;if(!i.wrapLng&&(t.x<c.min.x||t.x>c.max.x)||!i.wrapLat&&(t.y<c.min.y||t.y>c.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(t);return U(this.options.bounds).overlaps(p)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var i=this._map,c=this.getTileSize(),p=t.scaleBy(c),_=p.add(c),C=i.unproject(p,t.z),A=i.unproject(_,t.z);return[C,A]},_tileCoordsToBounds:function(t){var i=this._tileCoordsToNwSe(t),c=new se(i[0],i[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var i=t.split(":"),c=new Z(+i[0],+i[1]);return c.z=+i[2],c},_removeTile:function(t){var i=this._tiles[t];i&&(ct(i.el),delete this._tiles[t],this.fire("tileunload",{tile:i.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){Ne(t,"leaflet-tile");var i=this.getTileSize();t.style.width=i.x+"px",t.style.height=i.y+"px",t.onselectstart=E,t.onmousemove=E,Se.ielt9&&this.options.opacity<1&&Ut(t,this.options.opacity)},_addTile:function(t,i){var c=this._getTilePos(t),p=this._tileCoordsToKey(t),_=this.createTile(this._wrapCoords(t),g(this._tileReady,this,t));this._initTile(_),this.createTile.length<2&&ve(g(this._tileReady,this,t,null,_)),_t(_,c),this._tiles[p]={el:_,coords:t,current:!0},i.appendChild(_),this.fire("tileloadstart",{tile:_,coords:t})},_tileReady:function(t,i,c){i&&this.fire("tileerror",{error:i,tile:c,coords:t});var p=this._tileCoordsToKey(t);c=this._tiles[p],c&&(c.loaded=+new Date,this._map._fadeAnimated?(Ut(c.el,0),ne(this._fadeFrame),this._fadeFrame=ve(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),i||(Ne(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Se.ielt9||!this._map._fadeAnimated?ve(this._pruneTiles,this):setTimeout(g(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var i=new Z(this._wrapX?b(t.x,this._wrapX):t.x,this._wrapY?b(t.y,this._wrapY):t.y);return i.z=t.z,i},_pxBoundsToTileRange:function(t){var i=this.getTileSize();return new j(t.min.unscaleBy(i).floor(),t.max.unscaleBy(i).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function lo(t){return new lr(t)}var ur=lr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,i){this._url=t,i=R(this,i),i.detectRetina&&Se.retina&&i.maxZoom>0?(i.tileSize=Math.floor(i.tileSize/2),i.zoomReverse?(i.zoomOffset--,i.minZoom=Math.min(i.maxZoom,i.minZoom+1)):(i.zoomOffset++,i.maxZoom=Math.max(i.minZoom,i.maxZoom-1)),i.minZoom=Math.max(0,i.minZoom)):i.zoomReverse?i.minZoom=Math.min(i.maxZoom,i.minZoom):i.maxZoom=Math.max(i.minZoom,i.maxZoom),typeof i.subdomains=="string"&&(i.subdomains=i.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,i){return this._url===t&&i===void 0&&(i=!0),this._url=t,i||this.redraw(),this},createTile:function(t,i){var c=document.createElement("img");return Oe(c,"load",g(this._tileOnLoad,this,i,c)),Oe(c,"error",g(this._tileOnError,this,i,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(t),c},getTileUrl:function(t){var i={r:Se.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-t.y;this.options.tms&&(i.y=c),i["-y"]=c}return Y(this._url,u(i,this.options))},_tileOnLoad:function(t,i){Se.ielt9?setTimeout(g(t,this,null,i),0):t(null,i)},_tileOnError:function(t,i,c){var p=this.options.errorTileUrl;p&&i.getAttribute("src")!==p&&(i.src=p),t(c,i)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,i=this.options.maxZoom,c=this.options.zoomReverse,p=this.options.zoomOffset;return c&&(t=i-t),t+p},_getSubdomain:function(t){var i=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[i]},_abortLoading:function(){var t,i;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(i=this._tiles[t].el,i.onload=E,i.onerror=E,!i.complete)){i.src=oe;var c=this._tiles[t].coords;ct(i),delete this._tiles[t],this.fire("tileabort",{tile:i,coords:c})}},_removeTile:function(t){var i=this._tiles[t];if(i)return i.el.setAttribute("src",oe),lr.prototype._removeTile.call(this,t)},_tileReady:function(t,i,c){if(!(!this._map||c&&c.getAttribute("src")===oe))return lr.prototype._tileReady.call(this,t,i,c)}});function oa(t,i){return new ur(t,i)}var Ko=ur.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,i){this._url=t;var c=u({},this.defaultWmsParams);for(var p in i)p in this.options||(c[p]=i[p]);i=R(this,i);var _=i.detectRetina&&Se.retina?2:1,C=this.getTileSize();c.width=C.x*_,c.height=C.y*_,this.wmsParams=c},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[i]=this._crs.code,ur.prototype.onAdd.call(this,t)},getTileUrl:function(t){var i=this._tileCoordsToNwSe(t),c=this._crs,p=B(c.project(i[0]),c.project(i[1])),_=p.min,C=p.max,A=(this._wmsVersion>=1.3&&this._crs===cl?[_.y,_.x,C.y,C.x]:[_.x,_.y,C.x,C.y]).join(","),F=ur.prototype.getTileUrl.call(this,t);return F+z(this.wmsParams,F,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+A},setParams:function(t,i){return u(this.wmsParams,t),i||this.redraw(),this}});function yl(t,i){return new Ko(t,i)}ur.WMS=Ko,oa.wms=yl;var Ln=vn.extend({options:{padding:.1},initialize:function(t){R(this,t),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ne(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,i){var c=this._map.getZoomScale(i,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),_=this._map.project(this._center,i),C=p.multiplyBy(-c).add(_).subtract(this._map._getNewPixelOrigin(t,i));Se.any3d?fn(this._container,C,c):_t(this._container,C)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,i=this._map.getSize(),c=this._map.containerPointToLayerPoint(i.multiplyBy(-t)).round();this._bounds=new j(c,c.add(i.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ia=Ln.extend({options:{tolerance:0},getEvents:function(){var t=Ln.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ln.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Oe(t,"mousemove",this._onMouseMove,this),Oe(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Oe(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){ne(this._redrawRequest),delete this._ctx,ct(this._container),et(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var i in this._layers)t=this._layers[i],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ln.prototype._update.call(this);var t=this._bounds,i=this._container,c=t.getSize(),p=Se.retina?2:1;_t(i,t.min),i.width=p*c.x,i.height=p*c.y,i.style.width=c.x+"px",i.style.height=c.y+"px",Se.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Ln.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[y(t)]=t;var i=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=i),this._drawLast=i,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var i=t._order,c=i.next,p=i.prev;c?c.prev=p:this._drawLast=p,p?p.next=c:this._drawFirst=c,delete t._order,delete this._layers[y(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var i=t.options.dashArray.split(/[, ]+/),c=[],p,_;for(_=0;_<i.length;_++){if(p=Number(i[_]),isNaN(p))return;c.push(p)}t.options._dashArray=c}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||ve(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var i=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new j,this._redrawBounds.extend(t._pxBounds.min.subtract([i,i])),this._redrawBounds.extend(t._pxBounds.max.add([i,i]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var i=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,i.x,i.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,i=this._redrawBounds;if(this._ctx.save(),i){var c=i.getSize();this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)t=p.layer,(!i||t._pxBounds&&t._pxBounds.intersects(i))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,i){if(this._drawing){var c,p,_,C,A=t._parts,F=A.length,H=this._ctx;if(F){for(H.beginPath(),c=0;c<F;c++){for(p=0,_=A[c].length;p<_;p++)C=A[c][p],H[p?"lineTo":"moveTo"](C.x,C.y);i&&H.closePath()}this._fillStroke(H,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var i=t._point,c=this._ctx,p=Math.max(Math.round(t._radius),1),_=(Math.max(Math.round(t._radiusY),1)||p)/p;_!==1&&(c.save(),c.scale(1,_)),c.beginPath(),c.arc(i.x,i.y/_,p,0,Math.PI*2,!1),_!==1&&c.restore(),this._fillStroke(c,t)}},_fillStroke:function(t,i){var c=i.options;c.fill&&(t.globalAlpha=c.fillOpacity,t.fillStyle=c.fillColor||c.color,t.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(t.setLineDash&&t.setLineDash(i.options&&i.options._dashArray||[]),t.globalAlpha=c.opacity,t.lineWidth=c.weight,t.strokeStyle=c.color,t.lineCap=c.lineCap,t.lineJoin=c.lineJoin,t.stroke())},_onClick:function(t){for(var i=this._map.mouseEventToLayerPoint(t),c,p,_=this._drawFirst;_;_=_.next)c=_.layer,c.options.interactive&&c._containsPoint(i)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(c))&&(p=c);this._fireEvent(p?[p]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var i=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,i)}},_handleMouseOut:function(t){var i=this._hoveredLayer;i&&(ot(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,i){if(!this._mouseHoverThrottled){for(var c,p,_=this._drawFirst;_;_=_.next)c=_.layer,c.options.interactive&&c._containsPoint(i)&&(p=c);p!==this._hoveredLayer&&(this._handleMouseOut(t),p&&(Ne(this._container,"leaflet-interactive"),this._fireEvent([p],t,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(g(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,i,c){this._map._fireDOMEvent(i,c||i.type,t)},_bringToFront:function(t){var i=t._order;if(i){var c=i.next,p=i.prev;if(c)c.prev=p;else return;p?p.next=c:c&&(this._drawFirst=c),i.prev=this._drawLast,this._drawLast.next=i,i.next=null,this._drawLast=i,this._requestRedraw(t)}},_bringToBack:function(t){var i=t._order;if(i){var c=i.next,p=i.prev;if(p)p.next=c;else return;c?c.prev=p:p&&(this._drawLast=p),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(t)}}});function sa(t){return Se.canvas?new ia(t):null}var uo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),_l={_initContainer:function(){this._container=Fe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ln.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var i=t._container=uo("shape");Ne(i,"leaflet-vml-shape "+(this.options.className||"")),i.coordsize="1 1",t._path=uo("path"),i.appendChild(t._path),this._updateStyle(t),this._layers[y(t)]=t},_addPath:function(t){var i=t._container;this._container.appendChild(i),t.options.interactive&&t.addInteractiveTarget(i)},_removePath:function(t){var i=t._container;ct(i),t.removeInteractiveTarget(i),delete this._layers[y(t)]},_updateStyle:function(t){var i=t._stroke,c=t._fill,p=t.options,_=t._container;_.stroked=!!p.stroke,_.filled=!!p.fill,p.stroke?(i||(i=t._stroke=uo("stroke")),_.appendChild(i),i.weight=p.weight+"px",i.color=p.color,i.opacity=p.opacity,p.dashArray?i.dashStyle=G(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):i.dashStyle="",i.endcap=p.lineCap.replace("butt","flat"),i.joinstyle=p.lineJoin):i&&(_.removeChild(i),t._stroke=null),p.fill?(c||(c=t._fill=uo("fill")),_.appendChild(c),c.color=p.fillColor||p.color,c.opacity=p.fillOpacity):c&&(_.removeChild(c),t._fill=null)},_updateCircle:function(t){var i=t._point.round(),c=Math.round(t._radius),p=Math.round(t._radiusY||c);this._setPath(t,t._empty()?"M0 0":"AL "+i.x+","+i.y+" "+c+","+p+" 0,"+65535*360)},_setPath:function(t,i){t._path.v=i},_bringToFront:function(t){Kr(t._container)},_bringToBack:function(t){Un(t._container)}},_n=Se.vml?uo:jt,Lr=Ln.extend({_initContainer:function(){this._container=_n("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=_n("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ct(this._container),et(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ln.prototype._update.call(this);var t=this._bounds,i=t.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(i))&&(this._svgSize=i,c.setAttribute("width",i.x),c.setAttribute("height",i.y)),_t(c,t.min),c.setAttribute("viewBox",[t.min.x,t.min.y,i.x,i.y].join(" ")),this.fire("update")}},_initPath:function(t){var i=t._path=_n("path");t.options.className&&Ne(i,t.options.className),t.options.interactive&&Ne(i,"leaflet-interactive"),this._updateStyle(t),this._layers[y(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ct(t._path),t.removeInteractiveTarget(t._path),delete this._layers[y(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var i=t._path,c=t.options;i&&(c.stroke?(i.setAttribute("stroke",c.color),i.setAttribute("stroke-opacity",c.opacity),i.setAttribute("stroke-width",c.weight),i.setAttribute("stroke-linecap",c.lineCap),i.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?i.setAttribute("stroke-dasharray",c.dashArray):i.removeAttribute("stroke-dasharray"),c.dashOffset?i.setAttribute("stroke-dashoffset",c.dashOffset):i.removeAttribute("stroke-dashoffset")):i.setAttribute("stroke","none"),c.fill?(i.setAttribute("fill",c.fillColor||c.color),i.setAttribute("fill-opacity",c.fillOpacity),i.setAttribute("fill-rule",c.fillRule||"evenodd")):i.setAttribute("fill","none"))},_updatePoly:function(t,i){this._setPath(t,kn(t._parts,i))},_updateCircle:function(t){var i=t._point,c=Math.max(Math.round(t._radius),1),p=Math.max(Math.round(t._radiusY),1)||c,_="a"+c+","+p+" 0 1,0 ",C=t._empty()?"M0 0":"M"+(i.x-c)+","+i.y+_+c*2+",0 "+_+-c*2+",0 ";this._setPath(t,C)},_setPath:function(t,i){t._path.setAttribute("d",i)},_bringToFront:function(t){Kr(t._path)},_bringToBack:function(t){Un(t._path)}});Se.vml&&Lr.include(_l);function Vi(t){return Se.svg||Se.vml?new Lr(t):null}He.include({getRenderer:function(t){var i=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return i||(i=this._renderer=this._createRenderer()),this.hasLayer(i)||this.addLayer(i),i},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var i=this._paneRenderers[t];return i===void 0&&(i=this._createRenderer({pane:t}),this._paneRenderers[t]=i),i},_createRenderer:function(t){return this.options.preferCanvas&&sa(t)||Vi(t)}});var xl=Zn.extend({initialize:function(t,i){Zn.prototype.initialize.call(this,this._boundsToLatLngs(t),i)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=U(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Zu(t,i){return new xl(t,i)}Lr.create=_n,Lr.pointsToPath=kn,Pn.geometryToLayer=oo,Pn.coordsToLatLng=Ui,Pn.coordsToLatLngs=Vo,Pn.latLngToCoords=$i,Pn.latLngsToCoords=Gi,Pn.getFeature=io,Pn.asFeature=Hi,He.mergeOptions({boxZoom:!0});var co=nn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Oe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){et(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ct(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ze(),Li(),this._startPoint=this._map.mouseEventToContainerPoint(t),Oe(document,{contextmenu:mn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=Fe("div","leaflet-zoom-box",this._container),Ne(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var i=new j(this._point,this._startPoint),c=i.getSize();_t(this._box,i.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(ct(this._box),ot(this._container,"leaflet-crosshair")),Qr(),Mi(),et(document,{contextmenu:mn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(g(this._resetState,this),0);var i=new se(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(i).fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});He.addInitHook("addHandler","boxZoom",co),He.mergeOptions({doubleClickZoom:!0});var wl=nn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var i=this._map,c=i.getZoom(),p=i.options.zoomDelta,_=t.originalEvent.shiftKey?c-p:c+p;i.options.doubleClickZoom==="center"?i.setZoom(_):i.setZoomAround(t.containerPoint,_)}});He.addInitHook("addHandler","doubleClickZoom",wl),He.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var aa=nn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new gn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}Ne(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ot(this._map._container,"leaflet-grab"),ot(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var i=U(this._map.options.maxBounds);this._offsetLimit=B(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var i=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(i),this._prunePositions(i)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,i){return t-(t-i)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),i=this._offsetLimit;t.x<i.min.x&&(t.x=this._viscousLimit(t.x,i.min.x)),t.y<i.min.y&&(t.y=this._viscousLimit(t.y,i.min.y)),t.x>i.max.x&&(t.x=this._viscousLimit(t.x,i.max.x)),t.y>i.max.y&&(t.y=this._viscousLimit(t.y,i.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,i=Math.round(t/2),c=this._initialWorldOffset,p=this._draggable._newPos.x,_=(p-i+c)%t+i-c,C=(p+i+c)%t-i-c,A=Math.abs(_+c)<Math.abs(C+c)?_:C;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=A},_onDragEnd:function(t){var i=this._map,c=i.options,p=!c.inertia||t.noInertia||this._times.length<2;if(i.fire("dragend",t),p)i.fire("moveend");else{this._prunePositions(+new Date);var _=this._lastPos.subtract(this._positions[0]),C=(this._lastTime-this._times[0])/1e3,A=c.easeLinearity,F=_.multiplyBy(A/C),H=F.distanceTo([0,0]),Q=Math.min(c.inertiaMaxSpeed,H),pe=F.multiplyBy(Q/H),Pe=Q/(c.inertiaDeceleration*A),De=pe.multiplyBy(-Pe/2).round();!De.x&&!De.y?i.fire("moveend"):(De=i._limitOffset(De,i.options.maxBounds),ve(function(){i.panBy(De,{duration:Pe,easeLinearity:A,noMoveStart:!0,animate:!0})}))}}});He.addInitHook("addHandler","dragging",aa),He.mergeOptions({keyboard:!0,keyboardPanDelta:80});var la=nn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Oe(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),et(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,i=document.documentElement,c=t.scrollTop||i.scrollTop,p=t.scrollLeft||i.scrollLeft;this._map._container.focus(),window.scrollTo(p,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var i=this._panKeys={},c=this.keyCodes,p,_;for(p=0,_=c.left.length;p<_;p++)i[c.left[p]]=[-1*t,0];for(p=0,_=c.right.length;p<_;p++)i[c.right[p]]=[t,0];for(p=0,_=c.down.length;p<_;p++)i[c.down[p]]=[0,t];for(p=0,_=c.up.length;p<_;p++)i[c.up[p]]=[0,-1*t]},_setZoomDelta:function(t){var i=this._zoomKeys={},c=this.keyCodes,p,_;for(p=0,_=c.zoomIn.length;p<_;p++)i[c.zoomIn[p]]=t;for(p=0,_=c.zoomOut.length;p<_;p++)i[c.zoomOut[p]]=-t},_addHooks:function(){Oe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){et(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var i=t.keyCode,c=this._map,p;if(i in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(p=this._panKeys[i],t.shiftKey&&(p=K(p).multiplyBy(3)),c.options.maxBounds&&(p=c._limitOffset(K(p),c.options.maxBounds)),c.options.worldCopyJump){var _=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(p)));c.panTo(_)}else c.panBy(p)}else if(i in this._zoomKeys)c.setZoom(c.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else if(i===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;mn(t)}}});He.addInitHook("addHandler","keyboard",la),He.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var tt=nn.extend({addHooks:function(){Oe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){et(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var i=nl(t),c=this._map.options.wheelDebounceTime;this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var p=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(g(this._performZoom,this),p),mn(t)},_performZoom:function(){var t=this._map,i=t.getZoom(),c=this._map.options.zoomSnap||0;t._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),_=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,C=c?Math.ceil(_/c)*c:_,A=t._limitZoom(i+(this._delta>0?C:-C))-i;this._delta=0,this._startTime=null,A&&(t.options.scrollWheelZoom==="center"?t.setZoom(i+A):t.setZoomAround(this._lastMousePos,i+A))}});He.addInitHook("addHandler","scrollWheelZoom",tt);var ua=600;He.mergeOptions({tapHold:Se.touchNative&&Se.safari&&Se.mobile,tapTolerance:15});var Jo=nn.extend({addHooks:function(){Oe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){et(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var i=t.touches[0];this._startPos=this._newPos=new Z(i.clientX,i.clientY),this._holdTimeout=setTimeout(g(function(){this._cancel(),this._isTapValid()&&(Oe(document,"touchend",mt),Oe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",i))},this),ua),Oe(document,"touchend touchcancel contextmenu",this._cancel,this),Oe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){et(document,"touchend",mt),et(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),et(document,"touchend touchcancel contextmenu",this._cancel,this),et(document,"touchmove",this._onMove,this)},_onMove:function(t){var i=t.touches[0];this._newPos=new Z(i.clientX,i.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,i){var c=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY});c._simulated=!0,i.target.dispatchEvent(c)}});He.addInitHook("addHandler","tapHold",Jo),He.mergeOptions({touchZoom:Se.touch,bounceAtZoomLimits:!0});var ho=nn.extend({addHooks:function(){Ne(this._map._container,"leaflet-touch-zoom"),Oe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ot(this._map._container,"leaflet-touch-zoom"),et(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var i=this._map;if(!(!t.touches||t.touches.length!==2||i._animatingZoom||this._zooming)){var c=i.mouseEventToContainerPoint(t.touches[0]),p=i.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),i.options.touchZoom!=="center"&&(this._pinchStartLatLng=i.containerPointToLatLng(c.add(p)._divideBy(2))),this._startDist=c.distanceTo(p),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),Oe(document,"touchmove",this._onTouchMove,this),Oe(document,"touchend touchcancel",this._onTouchEnd,this),mt(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var i=this._map,c=i.mouseEventToContainerPoint(t.touches[0]),p=i.mouseEventToContainerPoint(t.touches[1]),_=c.distanceTo(p)/this._startDist;if(this._zoom=i.getScaleZoom(_,this._startZoom),!i.options.bounceAtZoomLimits&&(this._zoom<i.getMinZoom()&&_<1||this._zoom>i.getMaxZoom()&&_>1)&&(this._zoom=i._limitZoom(this._zoom)),i.options.touchZoom==="center"){if(this._center=this._startLatLng,_===1)return}else{var C=c._add(p)._divideBy(2)._subtract(this._centerPoint);if(_===1&&C.x===0&&C.y===0)return;this._center=i.unproject(i.project(this._pinchStartLatLng,this._zoom).subtract(C),this._zoom)}this._moved||(i._moveStart(!0,!1),this._moved=!0),ne(this._animRequest);var A=g(i._move,i,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ve(A,this,!0),mt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ne(this._animRequest),et(document,"touchmove",this._onTouchMove,this),et(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});He.addInitHook("addHandler","touchZoom",ho),He.BoxZoom=co,He.DoubleClickZoom=wl,He.Drag=aa,He.Keyboard=la,He.ScrollWheelZoom=tt,He.TapHold=Jo,He.TouchZoom=ho,o.Bounds=j,o.Browser=Se,o.CRS=Me,o.Canvas=ia,o.Circle=Di,o.CircleMarker=Fi,o.Class=ce,o.Control=Jt,o.DivIcon=Zi,o.DivOverlay=Tn,o.DomEvent=Oi,o.DomUtil=Uo,o.Draggable=gn,o.Evented=Ce,o.FeatureGroup=Hn,o.GeoJSON=Pn,o.GridLayer=lr,o.Handler=nn,o.Icon=Tr,o.ImageOverlay=ar,o.LatLng=ue,o.LatLngBounds=se,o.Layer=vn,o.LayerGroup=ir,o.LineUtil=ul,o.Map=He,o.Marker=Wn,o.Mixin=Zs,o.Path=sr,o.Point=Z,o.PolyUtil=Iu,o.Polygon=Zn,o.Polyline=Yt,o.Popup=Wi,o.PosAnimation=Ai,o.Projection=Bu,o.Rectangle=xl,o.Renderer=Ln,o.SVG=Lr,o.SVGOverlay=na,o.TileLayer=ur,o.Tooltip=ao,o.Transformation=wt,o.Util=je,o.VideoOverlay=ta,o.bind=g,o.bounds=B,o.canvas=sa,o.circle=Zo,o.circleMarker=fl,o.control=or,o.divIcon=vl,o.extend=u,o.featureGroup=dl,o.geoJSON=pl,o.geoJson=yn,o.gridLayer=lo,o.icon=hl,o.imageOverlay=ml,o.latLng=de,o.latLngBounds=U,o.layerGroup=Wo,o.map=rr,o.marker=Gu,o.point=K,o.polygon=Wu,o.polyline=Hu,o.popup=so,o.rectangle=Zu,o.setOptions=R,o.stamp=y,o.svg=Vi,o.svgOverlay=ra,o.tileLayer=oa,o.tooltip=qo,o.transformation=nt,o.version=l,o.videoOverlay=gl;var bl=window.L;o.noConflict=function(){return window.L=bl,this},window.L=o})}(Ma,Ma.exports)),Ma.exports}var Ct=s_();const Eu=Id(Ct);function $a(s,r,o){return Object.freeze({instance:s,context:r,container:o})}function Cu(s,r){return r==null?function(l,u){const h=k.useRef();return h.current||(h.current=s(l,u)),h}:function(l,u){const h=k.useRef();h.current||(h.current=s(l,u));const g=k.useRef(l),{instance:x}=h.current;return k.useEffect(function(){g.current!==l&&(r(x,l,g.current),g.current=l)},[x,l,u]),h}}function gm(s,r){k.useEffect(function(){return(r.layerContainer??r.map).addLayer(s.instance),function(){var h;(h=r.layerContainer)==null||h.removeLayer(s.instance),r.map.removeLayer(s.instance)}},[r,s])}function vm(s){return function(o){const l=Su(),u=s(ku(o,l),l);return hm(l.map,o.attribution),qd(u.current,o.eventHandlers),gm(u.current,l),u}}function a_(s,r){const o=k.useRef();k.useEffect(function(){if(r.pathOptions!==o.current){const u=r.pathOptions??{};s.instance.setStyle(u),o.current=u}},[s,r])}function l_(s){return function(o){const l=Su(),u=s(ku(o,l),l);return qd(u.current,o.eventHandlers),gm(u.current,l),a_(u.current,o),u}}function u_(s,r){const o=Cu(s,r),l=vm(o);return mm(l)}function c_(s,r){const o=Cu(s),l=o_(o,r);return n_(l)}function ym(s,r){const o=Cu(s,r),l=l_(o);return mm(l)}function d_(s,r){const o=Cu(s,r),l=vm(o);return r_(l)}function h_(s,r,o){const{opacity:l,zIndex:u}=r;l!=null&&l!==o.opacity&&s.setOpacity(l),u!=null&&u!==o.zIndex&&s.setZIndex(u)}function f_(){return Su().map}function _m(s){const r=f_();return k.useEffect(function(){return r.on(s),function(){r.off(s)}},[r,s]),r}const p_=ym(function({data:r,...o},l){const u=new Ct.GeoJSON(r,o);return $a(u,Vd(l,{overlayContainer:u}))},function(r,o,l){o.style!==l.style&&(o.style==null?r.resetStyle():r.setStyle(o.style))});function Md(){return Md=Object.assign||function(s){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s},Md.apply(this,arguments)}function m_({bounds:s,boundsOptions:r,center:o,children:l,className:u,id:h,placeholder:g,style:x,whenReady:y,zoom:w,...b},E){const[M]=k.useState({className:u,id:h,style:x}),[T,P]=k.useState(null);k.useImperativeHandle(E,()=>(T==null?void 0:T.map)??null,[T]);const R=k.useCallback(V=>{if(V!==null&&T===null){const Y=new Ct.Map(V,b);o!=null&&w!=null?Y.setView(o,w):s!=null&&Y.fitBounds(s,r),y!=null&&Y.whenReady(y),P(t_(Y))}},[]);k.useEffect(()=>()=>{T==null||T.map.remove()},[T]);const z=T?mi.createElement(pm,{value:T},l):g??null;return mi.createElement("div",Md({},M,{ref:R}),z)}const ks=k.forwardRef(m_),Es=u_(function({position:r,...o},l){const u=new Ct.Marker(r,o);return $a(u,Vd(l,{overlayContainer:u}))},function(r,o,l){o.position!==l.position&&r.setLatLng(o.position),o.icon!=null&&o.icon!==l.icon&&r.setIcon(o.icon),o.zIndexOffset!=null&&o.zIndexOffset!==l.zIndexOffset&&r.setZIndexOffset(o.zIndexOffset),o.opacity!=null&&o.opacity!==l.opacity&&r.setOpacity(o.opacity),r.dragging!=null&&o.draggable!==l.draggable&&(o.draggable===!0?r.dragging.enable():r.dragging.disable())}),g_=ym(function({positions:r,...o},l){const u=new Ct.Polyline(r,o);return $a(u,Vd(l,{overlayContainer:u}))},function(r,o,l){o.positions!==l.positions&&r.setLatLngs(o.positions)}),_p=c_(function(r,o){const l=new Ct.Popup(r,o.overlayContainer);return $a(l,o)},function(r,o,{position:l},u){k.useEffect(function(){const{instance:g}=r;function x(w){w.popup===g&&(g.update(),u(!0))}function y(w){w.popup===g&&u(!1)}return o.map.on({popupopen:x,popupclose:y}),o.overlayContainer==null?(l!=null&&g.setLatLng(l),g.openOn(o.map)):o.overlayContainer.bindPopup(g),function(){var b;o.map.off({popupopen:x,popupclose:y}),(b=o.overlayContainer)==null||b.unbindPopup(),o.map.removeLayer(g)}},[r,o,u,l])}),Cs=d_(function({url:r,...o},l){const u=new Ct.TileLayer(r,ku(o,l));return $a(u,l)},function(r,o,l){h_(r,o,l);const{url:u}=o;u!=null&&u!==l.url&&r.setUrl(u)}),Kd=({onClick:s})=>(_m({click(r){s(r.latlng)}}),null),hd={id:void 0,name:"",description:"",latitude:"",longitude:"",category:"",address:"",imageUrl:""};new Eu.Icon({iconUrl:"https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/images/marker-icon.png",iconSize:[32,48],iconAnchor:[16,48],popupAnchor:[0,-48]});const v_=()=>{const[s,r]=k.useState(hd),[o,l]=k.useState(!1),[u,h]=k.useState(null),[g,x]=k.useState(null),[y,w]=k.useState(!1),[b,E]=k.useState(null),[M,T]=k.useState([]),[P,R]=k.useState(void 0),[z,V]=k.useState(null);k.useEffect(()=>{Y()},[]);const Y=async()=>{l(!0),x(null);try{const{data:J,error:xe}=await er.from("famous_places").select("*").order("name",{ascending:!0});xe?x("Erro ao buscar lugares: "+xe.message):T(J||[])}catch(J){x("Erro inesperado ao buscar lugares: "+J.message)}finally{l(!1)}},G=J=>{r({...s,[J.target.name]:J.target.value})},ee=J=>{V(J),r(xe=>({...xe,latitude:J.lat.toString(),longitude:J.lng.toString()}))},oe=async J=>{var ve;const xe=(ve=J.target.files)==null?void 0:ve[0];if(xe){w(!0),x(null),h(null);try{const ne=xe.name.split(".").pop(),je=`${Date.now()}-${Math.random().toString(36).substring(2,8)}.${ne}`,{data:ce,error:he}=await er.storage.from("famous-places-images").upload(je,xe,{upsert:!1});if(he){x("Erro ao fazer upload da imagem: "+he.message),w(!1);return}const{data:fe}=er.storage.from("famous-places-images").getPublicUrl(je),Ce=fe==null?void 0:fe.publicUrl;Ce?(r(Z=>({...Z,imageUrl:Ce})),E(Ce),h("Imagem enviada com sucesso!")):x("Não foi possível obter a URL da imagem.")}catch(ne){x("Erro inesperado no upload: "+ne.message)}finally{w(!1)}}},ae=async J=>{J.preventDefault(),l(!0),h(null),x(null);try{if(!s.name||!s.latitude||!s.longitude){x("Preencha pelo menos nome, latitude e longitude!"),l(!1);return}if(P){const{error:xe}=await er.from("famous_places").update({name:s.name,description:s.description,latitude:parseFloat(s.latitude),longitude:parseFloat(s.longitude),category:s.category,address:s.address,image_url:s.imageUrl}).eq("id",P);xe?x("Erro ao atualizar: "+xe.message):h("Lugar atualizado com sucesso!")}else{const{error:xe}=await er.from("famous_places").insert([{name:s.name,description:s.description,latitude:parseFloat(s.latitude),longitude:parseFloat(s.longitude),category:s.category,address:s.address,image_url:s.imageUrl}]);xe?x("Erro ao cadastrar: "+xe.message):h("Lugar cadastrado com sucesso!")}r(hd),E(null),R(void 0),Y()}catch(xe){x("Erro inesperado: "+xe.message)}finally{l(!1)}},ge=J=>{var xe,ve;r({id:J.id,name:J.name||"",description:J.description||"",latitude:((xe=J.latitude)==null?void 0:xe.toString())||"",longitude:((ve=J.longitude)==null?void 0:ve.toString())||"",category:J.category||"",address:J.address||"",imageUrl:J.image_url||""}),E(J.image_url||null),R(J.id),h(null),x(null)},q=()=>{r(hd),E(null),R(void 0),h(null),x(null)};return s.latitude&&parseFloat(s.latitude),s.longitude&&parseFloat(s.longitude),f.jsxs("div",{style:{maxWidth:1400,minWidth:320,width:"100%",margin:"40px auto",background:"var(--bg-secondary)",border:"4px solid var(--accent-green)",borderRadius:0,boxShadow:"8px 8px 0 #222, 0 0 0 4px #fff",padding:24,fontFamily:"'Press Start 2P', monospace",color:"var(--text-primary)",minHeight:400,display:"flex",flexDirection:"row",gap:32,flexWrap:"wrap"},children:[f.jsxs("div",{style:{flex:"1 1 340px",minWidth:320,maxWidth:520,display:"flex",flexDirection:"column",gap:0},children:[f.jsx("h1",{style:{fontFamily:"'Press Start 2P', monospace",color:"var(--accent-green)",fontSize:"1.1rem",textAlign:"center",textTransform:"uppercase",fontWeight:700,letterSpacing:"1px",textShadow:"2px 2px 0 #222",marginBottom:24},children:P?"Editar Lugar Famoso":"Cadastrar Lugar Famoso"}),f.jsx("div",{style:{width:"100%",height:300,marginBottom:16,border:"2px solid #222",boxShadow:"2px 2px 0 #222"},children:f.jsxs(ks,{center:z?[z.lat,z.lng]:[-23.9676,-46.3287],zoom:13,style:{width:"100%",height:"100%"},scrollWheelZoom:!0,children:[f.jsx(Cs,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© OpenStreetMap contributors"}),f.jsx(Kd,{onClick:ee}),z&&f.jsx(Es,{position:z})]})}),f.jsxs("form",{onSubmit:ae,style:{display:"flex",flexDirection:"column",gap:16},children:[f.jsx("input",{name:"name",value:s.name,onChange:G,placeholder:"Nome",style:mr}),f.jsx("textarea",{name:"description",value:s.description,onChange:G,placeholder:"Descrição",style:{...mr,minHeight:60}}),f.jsx("input",{name:"latitude",value:s.latitude,onChange:G,placeholder:"Latitude",style:mr,type:"number",step:"any"}),f.jsx("input",{name:"longitude",value:s.longitude,onChange:G,placeholder:"Longitude",style:mr,type:"number",step:"any"}),f.jsx("input",{name:"category",value:s.category,onChange:G,placeholder:"Categoria",style:mr}),f.jsx("input",{name:"address",value:s.address,onChange:G,placeholder:"Endereço",style:mr}),f.jsx("input",{name:"imageUrl",value:s.imageUrl,onChange:G,placeholder:"URL da Imagem (ou use upload)",style:mr}),f.jsxs("label",{style:{fontSize:12,color:"#222",fontFamily:"'Press Start 2P', monospace"},children:["Upload de Imagem:",f.jsx("input",{type:"file",accept:"image/*",onChange:oe,style:{marginTop:6,fontFamily:"'Press Start 2P', monospace"}})]}),y&&f.jsx("div",{style:{color:"#888",fontSize:12},children:"Enviando imagem..."}),b&&f.jsx("img",{src:b,alt:"Preview",style:{width:"100%",maxWidth:180,margin:"8px auto",border:"2px solid #222",boxShadow:"2px 2px 0 #222",background:"#fff"}}),f.jsxs("div",{style:{display:"flex",gap:8},children:[f.jsx("button",{type:"submit",disabled:o,style:{...mr,background:"var(--accent-green)",color:"var(--bg-primary)",border:"3px solid #222",cursor:"pointer",fontWeight:700,fontSize:14,marginTop:8},children:o?P?"Salvando...":"Cadastrando...":P?"Salvar":"Cadastrar"}),P&&f.jsx("button",{type:"button",onClick:q,style:{...mr,background:"var(--accent-red)",color:"var(--bg-primary)",border:"3px solid #222",cursor:"pointer",fontWeight:700,fontSize:14,marginTop:8},children:"Cancelar"})]})]})]}),f.jsxs("div",{style:{flex:"2 1 400px",minWidth:320,maxWidth:900,display:"flex",flexDirection:"column",gap:0,height:"calc(90vh - 80px)",overflowY:"auto",background:"#fff",border:"1px solid #222",borderRadius:0,boxShadow:"2px 2px 0 #222",padding:16},children:[f.jsx("h2",{style:{fontSize:15,color:"#222",marginBottom:12,fontFamily:"'Press Start 2P', monospace",textTransform:"uppercase"},children:"Lugares já cadastrados"}),M.length===0&&f.jsx("div",{style:{color:"#888",fontSize:13},children:"Nenhum lugar cadastrado ainda."}),M.map(J=>f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,borderBottom:"1px dashed #ccc",padding:"8px 0"},children:[f.jsx("img",{src:J.image_url,alt:J.name,style:{width:48,height:48,objectFit:"cover",border:"2px solid #222",background:"#fff",borderRadius:0}}),f.jsxs("div",{style:{flex:1},children:[f.jsx("div",{style:{fontWeight:700,fontSize:13,color:"#222",fontFamily:"'Press Start 2P', monospace"},children:J.name}),f.jsx("div",{style:{fontSize:12,color:"#444",fontFamily:"'VT323', monospace"},children:J.category}),f.jsxs("div",{style:{fontSize:11,color:"#888",fontFamily:"'VT323', monospace"},children:[J.latitude,", ",J.longitude]})]}),f.jsx("button",{onClick:()=>ge(J),style:{...mr,background:"var(--accent-yellow)",color:"#222",border:"2px solid #222",fontWeight:700,fontSize:12,cursor:"pointer",padding:"6px 12px",minWidth:60},children:"Editar"})]},J.id))]})]})},mr={fontFamily:"'Press Start 2P', monospace",fontSize:13,border:"2px solid #222",borderRadius:0,padding:"10px 8px",background:"#fff",color:"#222",boxShadow:"2px 2px 0 #222",outline:"none"},y_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",__="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",x_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",w_=6371e3,b_=(s,r,o)=>{const l=r.lng,u=r.lat,h=o.lng,g=o.lat,x=s.lng,y=s.lat,w=Math.pow(h-l,2)+Math.pow(g-u,2);if(w===0)return r;const b=Math.max(0,Math.min(1,((x-l)*(h-l)+(y-u)*(g-u))/w));return new Ct.LatLng(u+b*(g-u),l+b*(h-l))},jd=(s,r)=>{const o=s.lat*Math.PI/180,l=r.lat*Math.PI/180,u=(r.lat-s.lat)*Math.PI/180,h=(r.lng-s.lng)*Math.PI/180,g=Math.sin(u/2)*Math.sin(u/2)+Math.cos(o)*Math.cos(l)*Math.sin(h/2)*Math.sin(h/2),x=2*Math.atan2(Math.sqrt(g),Math.sqrt(1-g));return w_*x},xm=(s,r,o="neighborhoods")=>{if(o==="famous_places"){const g=s/1e3,x=Math.max(0,2e3*(1-g/3)),y=r<=5?Math.round(r/5*1e3):0;return{total:Math.round(x+y),distancePoints:Math.round(x),timePoints:y}}const l=s/1e3,u=Math.max(0,1e3*(1-l/10)),h=r<=2?Math.round(r/2*500):0;return{total:Math.round(u+h),distancePoints:Math.round(u),timePoints:h}},fd=(s,r,o)=>{var h,g;const l=r.has((h=s.properties)==null?void 0:h.NOME);return((g=s.properties)==null?void 0:g.NOME)===o&&l?{fillColor:"#00FF00",weight:2,opacity:1,color:"#000000",fillOpacity:.7,dashArray:"3"}:{fillColor:"#32CD32",weight:2,opacity:l?1:0,color:"#000000",fillOpacity:l?.3:0,dashArray:"3"}},_s=15,ci={PERFECT:3e3,EXCELLENT:2e3,GREAT:1750,GOOD:1500,DECENT:1250,FAIR:1e3,CLOSE:750},di={PERFECT:4,EXCELLENT:3.5,GREAT:3,GOOD:2.5,DECENT:2,FAIR:1.5,CLOSE:1},pd=(s,r="neighborhoods")=>{const l=r==="famous_places"?6:4;if(s<500)return 0;const u=(s-500)/2500;return Math.min(l,u*l)},xp=(s,r)=>{const o=s/r*100;return o>60?"#00FF66":o>30?"#FFD700":"#FF4444"},wm=(s,r=0,o=0)=>{const l=s/1e3;if(s===0){const h=["ACERTO PERFEITO!","BULLSEYE!","INCRÍVEL!","PERFEIÇÃO!","FANTÁSTICO!"];return o>=3?`${h[Math.floor(Math.random()*h.length)]} ${o} acertos seguidos!`:h[Math.floor(Math.random()*h.length)]}if(l<.5){const h=["QUASE PERFEITO!","INCRÍVEL!","EXCELENTE!","FANTÁSTICO!","IMPRESSIONANTE!"];return h[Math.floor(Math.random()*h.length)]}if(l<1){const h=["MUITO BOM!","EXCELENTE!","ÓTIMO!","FANTÁSTICO!","IMPRESSIONANTE!"];return h[Math.floor(Math.random()*h.length)]}if(l<2){const h=["BOM!","LEGAL!","OK!","ACEITÁVEL!","RAZOÁVEL!"];return h[Math.floor(Math.random()*h.length)]}if(l<5){const h=["QUASE LÁ!","HMMM!","OPS!","QUASE!","TENTE NOVAMENTE!"];return h[Math.floor(Math.random()*h.length)]}const u=["OPS!","EITA!","UAU!","VENDADO?","CONFUSÃO!"];return u[Math.floor(Math.random()*u.length)]},md=100,gd=5,S_=(s=!1)=>{const[r,o]=k.useState({currentNeighborhood:"",score:0,globalTimeLeft:_s,roundTimeLeft:_s,roundInitialTime:_s,roundNumber:1,gameOver:!1,gameStarted:!1,isCountingDown:!1,isPaused:!1,clickedPosition:null,showFeedback:!1,feedbackOpacity:0,feedbackProgress:0,feedbackMessage:"",revealedNeighborhoods:new Set,clickTime:0,timeBonus:0,isMuted:!1,volume:.5,arrowPath:null,lastClickTime:0,totalDistance:0,gameMode:"neighborhoods"}),l=k.useRef(null),u=k.useRef(0);return k.useEffect(()=>{if(console.log("[useGameState] useEffect do timer - condições:",{gameStarted:r.gameStarted,gameOver:r.gameOver,roundTimeLeft:r.roundTimeLeft,globalTimeLeft:r.globalTimeLeft,isCountingDown:r.isCountingDown,isPaused:r.isPaused,externalPause:s,showFeedback:r.showFeedback,feedbackProgress:r.feedbackProgress}),r.gameStarted&&!r.gameOver&&r.roundTimeLeft>0&&r.globalTimeLeft>0&&r.isCountingDown&&!r.isPaused&&!s&&!r.showFeedback&&r.feedbackProgress===0){console.log("[useGameState] Timer iniciado - condições atendidas");const w=setInterval(()=>{o(b=>b.roundTimeLeft<=0||b.globalTimeLeft<=0?(console.log("[useGameState] Timer parado - tempo esgotado"),{...b,gameOver:!0,roundTimeLeft:0,globalTimeLeft:0,showFeedback:!0}):b.showFeedback||b.feedbackProgress>0?(console.log("[useGameState] Timer pausado - mostrando feedback ou progresso ativo"),b):(console.log("[useGameState] Timer rodando - decrementando tempo"),{...b,roundTimeLeft:b.roundTimeLeft-.1,globalTimeLeft:b.globalTimeLeft-.1}))},100);return()=>{console.log("[useGameState] Timer limpo"),clearInterval(w)}}else console.log("[useGameState] Timer não iniciado - condições não atendidas:",{reason:r.gameStarted?r.gameOver?"jogo terminado":r.roundTimeLeft<=0?"tempo da rodada esgotado":r.globalTimeLeft<=0?"tempo global esgotado":r.isCountingDown?r.isPaused?"pausado":s?"pausa externa":r.showFeedback?"mostrando feedback":r.feedbackProgress>0?"progresso ativo":"condição desconhecida":"não contando":"jogo não iniciado"})},[r.gameStarted,r.gameOver,r.roundTimeLeft,r.globalTimeLeft,r.isCountingDown,r.isPaused,s,r.showFeedback,r.feedbackProgress]),{gameState:r,updateGameState:w=>{o(b=>({...b,...w}))},startGame:()=>{o(w=>{const b=w.gameMode==="famous_places";return{...w,gameStarted:!0,score:0,gameOver:!1,globalTimeLeft:_s,roundTimeLeft:_s,roundInitialTime:_s,roundNumber:1,isCountingDown:!0,isPaused:!1,revealedNeighborhoods:new Set,totalDistance:0,gameMode:w.gameMode||"neighborhoods",currentNeighborhood:b?"":w.currentNeighborhood}})},startNextRound:w=>{if(u.current>5){console.error("[startNextRound] ERRO: Muitas chamadas recursivas detectadas, abortando para evitar loop infinito"),u.current=0;return}u.current++,console.log("[startNextRound] Iniciando próxima rodada, estado atual:",{isCountingDown:r.isCountingDown,roundNumber:r.roundNumber,globalTimeLeft:r.globalTimeLeft,timeBonus:r.timeBonus,showFeedback:r.showFeedback,feedbackProgress:r.feedbackProgress,recursionCount:u.current}),(r.showFeedback||r.feedbackProgress>0)&&(console.log("[startNextRound] CORREÇÃO CRÍTICA - Estado visual ainda não limpo, forçando limpeza..."),o(b=>(console.log("[startNextRound] Forçando limpeza do estado visual"),{...b,showFeedback:!1,feedbackProgress:0,feedbackOpacity:0,clickedPosition:null,arrowPath:null})),console.log("[startNextRound] Estado visual limpo forçadamente, continuando...")),u.current=0,o(b=>{var z,V,Y;const E={...b},M=E.roundNumber+1,T=E.timeBonus||0,P=Math.max(E.globalTimeLeft+T,0);console.log("[startNextRound] Configurando nova rodada:",{nextRoundNumber:M,timeBonus:T,newGlobalTime:P,prevIsCountingDown:E.isCountingDown});const R={clickedPosition:null,arrowPath:null,showFeedback:!1,feedbackOpacity:0,feedbackProgress:0,globalTimeLeft:P,roundTimeLeft:P,roundInitialTime:P,roundNumber:M,isCountingDown:!0,isPaused:!1,timeBonus:0};if(b.gameMode==="famous_places")return{...b,...R,currentNeighborhood:"",revealedNeighborhoods:new Set};if(console.log("[startNextRound] Modo bairros - selecionando novo bairro"),console.log("[startNextRound] Bairro atual:",b.currentNeighborhood),console.log("[startNextRound] GeoJSON features disponíveis:",((z=w==null?void 0:w.features)==null?void 0:z.length)||0),w&&w.features&&w.features.length>0){const G=w.features.filter(ee=>{var oe;return((oe=ee.properties)==null?void 0:oe.NOME)!==b.currentNeighborhood});if(console.log("[startNextRound] Features disponíveis (excluindo atual):",G.length),console.log("[startNextRound] Features filtradas:",G.map(ee=>{var oe;return(oe=ee.properties)==null?void 0:oe.NOME})),G.length>0){const ee=Math.floor(Math.random()*G.length),oe=(V=G[ee].properties)==null?void 0:V.NOME;return console.log("[startNextRound] Novo bairro selecionado para modo bairros:",oe),console.log("[startNextRound] Índice aleatório usado:",ee),{...b,...R,currentNeighborhood:oe||"",revealedNeighborhoods:new Set}}else{console.log("[startNextRound] Nenhum bairro disponível diferente do atual - resetando lista");const ee=Math.floor(Math.random()*w.features.length),oe=(Y=w.features[ee].properties)==null?void 0:Y.NOME;return console.log("[startNextRound] Bairro selecionado após reset:",oe),{...b,...R,currentNeighborhood:oe||"",revealedNeighborhoods:new Set}}}return console.log("[startNextRound] Fallback: mantendo bairro atual para modo bairros"),{...b,...R,revealedNeighborhoods:new Set}}),console.log("[startNextRound] Nova rodada configurada - timer deve estar rodando")},clearFeedbackTimer:()=>{l.current&&(clearTimeout(l.current),l.current=null)},feedbackTimerRef:l}},k_=(s,r)=>{const o=s.lng,l=s.lat;let u=!1;for(let h=0,g=r.length-1;h<r.length;g=h++){const x=r[h].lng,y=r[h].lat,w=r[g].lng,b=r[g].lat;y>l!=b>l&&o<(w-x)*(l-y)/(b-y)+x&&(u=!u)}return u},E_=(s,r="neighborhoods",o=null,l=!1)=>{console.log("[useMapGame] DEBUG - Hook inicializado com:",{geoJsonData:!!s,gameMode:r,currentFamousPlace:!!o,externalPause:l});const u=k.useRef(null),h=k.useRef(!1),g=k.useRef(!1),x=k.useRef(null),y=k.useRef(null),w=k.useRef(null),b=k.useRef(null),E=k.useRef(null),M=k.useRef(null),T=k.useRef(null),[P,R]=k.useState(!0),[z,V]=k.useState(!1),[Y,G]=k.useState(0),[ee,oe]=k.useState(!1),[ae,ge]=k.useState(null),{gameState:q,updateGameState:J,startGame:xe,startNextRound:ve,feedbackTimerRef:ne}=S_(l),je=j=>{if(u.current&&clearTimeout(u.current),h.current){console.log("[useMapGame] Clique ignorado - ainda processando clique anterior");return}if(console.log("[useMapGame] Clique recebido:",{gameStarted:q.gameStarted,isCountingDown:q.isCountingDown,roundNumber:q.roundNumber,gameMode:q.gameMode,showFeedback:q.showFeedback,isPaused:q.isPaused}),console.log("[useMapGame] DEBUG - Estado exato:",{gameStarted:!!q.gameStarted,isCountingDown:!!q.isCountingDown,showFeedback:!!q.showFeedback,isPaused:!!q.isPaused}),!q.gameStarted||!q.isCountingDown){console.log("[useMapGame] Clique ignorado - jogo não iniciado ou não contando"),console.log("[useMapGame] DEBUG - Condições não atendidas:",{gameStarted:q.gameStarted,isCountingDown:q.isCountingDown,showFeedback:q.showFeedback});return}console.log("[useMapGame] ✅ Clique processado - condições atendidas, iniciando processamento"),h.current=!0,u.current=setTimeout(()=>{h.current=!1},100),g.current=!1,console.log("[useMapGame] DEBUG - Flag isAutoAdvancing resetada para false no início do clique");const B=q.roundInitialTime-q.roundTimeLeft;if((()=>{M.current&&(clearInterval(M.current),M.current=null),ne.current&&(clearTimeout(ne.current),ne.current=null)})(),J({isCountingDown:!1,isPaused:!0}),r==="famous_places"&&o){const U=Ct.latLng(o.latitude,o.longitude),ue=jd(j,U),de=ue/1e3;let Me=0,Ee="",Ie=null,Ge=!1;if(de<=.1){Ge=!0;const we=2e3,Re=q.roundTimeLeft<=5?Math.round(q.roundTimeLeft/5*1e3):0;Me=we+Re,Ee=`Acertou! ${o.name}`}else{const we=Math.max(0,1500*(1-de/3)),Re=q.roundTimeLeft<=5?Math.round(q.roundTimeLeft/5*500):0;Me=we+Re,de<.5?Ee="Quase lá! Continue tentando!":de<1?Ee="Está no caminho certo!":de<2?Ee="Ainda longe, mas continue!":Ee="Muito longe! Tente novamente!",Ie=[j,U]}const wt=q.score+Math.round(Me),nt=B,rt=pd(Me,r),lt=Math.max(q.globalTimeLeft-nt,0),jt=lt<=0;(()=>{b.current&&(Ge||ue<=500)&&(b.current.currentTime=0,b.current.volume=.7,b.current.play().catch(Re=>{console.log("Erro ao tocar som de sucesso:",Re)})),E.current&&!Ge&&ue>=700&&(E.current.currentTime=0,E.current.volume=.7,E.current.play().catch(Re=>{console.log("Erro ao tocar som de erro:",Re)})),J({clickedPosition:j,clickTime:B,score:wt,globalTimeLeft:lt,timeBonus:rt,gameOver:jt,showFeedback:!0,feedbackOpacity:1,feedbackProgress:0,feedbackMessage:Ee,revealedNeighborhoods:Ge?new Set([...q.revealedNeighborhoods,o.name]):q.revealedNeighborhoods,arrowPath:Ie,totalDistance:q.totalDistance+ue}),Ge||setTimeout(()=>{ge({center:j,radius:ue})},400);let we=0;console.log("[useMapGame] DEBUG - Iniciando setInterval para barra de progresso (modo lugares famosos)"),T.current=setInterval(()=>{if(q.isPaused){console.log("[useMapGame] DEBUG - Barra de progresso pausada (jogo pausado)");return}if(we+=3.33,console.log("[useMapGame] DEBUG - Progresso atual:",we,"%"),we>=100){if(we=100,T.current&&(clearInterval(T.current),T.current=null),console.log("[useMapGame] DEBUG - setInterval limpo, progresso chegou a 100%"),console.log("[useMapGame] Barra de progresso completa - avançando automaticamente (modo lugares famosos)"),console.log("[useMapGame] DEBUG - geoJsonData:",!!s,"isAutoAdvancing:",g.current),g.current){console.log("[useMapGame] Já está avançando automaticamente, ignorando chamada");return}if(!q.showFeedback&&q.feedbackProgress===0){console.log("[useMapGame] Estado visual já foi limpo, ignorando avanço automático");return}g.current=!0,setTimeout(()=>{console.log("[useMapGame] DEBUG - Executando setTimeout para avanço automático (modo lugares famosos)"),s?(console.log("[useMapGame] Iniciando próxima rodada automaticamente (modo lugares famosos)"),ve(s)):(console.log("[useMapGame] DEBUG - geoJsonData não disponível para avanço automático"),g.current=!1)},500)}else J({feedbackProgress:we})},100)})();return}if(y.current){let U=null,ue=null;const de=y.current.getLayers();de.forEach(Ee=>{var Ge;const Ie=Ee.feature;try{((Ge=Ie.properties)==null?void 0:Ge.NOME)===q.currentNeighborhood&&(U=Ee)}catch{}}),de.forEach(Ee=>{var wt,nt,rt,lt;const Ie=Ee.feature,Ge=Ee;try{Ge.getBounds().contains(j)&&(((wt=Ie.properties)==null?void 0:wt.NOME)===q.currentNeighborhood?(ue=(nt=Ie.properties)==null?void 0:nt.NOME,Ee instanceof Ct.Polygon&&k_(j,Ee.getLatLngs()[0])&&(ue=(rt=Ie.properties)==null?void 0:rt.NOME)):ue||(ue=(lt=Ie.properties)==null?void 0:lt.NOME))}catch{}});const Me=ue===q.currentNeighborhood;if(Me){const Ee=3e3*Math.pow(q.roundTimeLeft/10,2),Ie=q.score+Math.round(Ee),Ge=B,wt=pd(Ee,r),nt=Math.max(q.globalTimeLeft-Ge,0),rt=nt<=0;setTimeout(()=>{b.current&&(b.current.currentTime=0,b.current.volume=.7,b.current.play().catch(jt=>{console.log("Erro ao tocar som de sucesso:",jt)})),J({clickedPosition:j,clickTime:B,score:Ie,globalTimeLeft:nt,timeBonus:wt,gameOver:rt,showFeedback:!0,feedbackOpacity:1,feedbackProgress:0,feedbackMessage:"",revealedNeighborhoods:new Set([...q.revealedNeighborhoods,q.currentNeighborhood]),arrowPath:null,totalDistance:q.totalDistance});let lt=0;console.log("[useMapGame] DEBUG - Iniciando setInterval para barra de progresso (acertou bairro)"),T.current=setInterval(()=>{if(q.isPaused){console.log("[useMapGame] DEBUG - Barra de progresso pausada (jogo pausado)");return}if(lt+=gd,console.log("[useMapGame] DEBUG - Progresso atual (acertou):",lt,"%"),lt>=100){if(lt=100,T.current&&(clearInterval(T.current),T.current=null),console.log("[useMapGame] DEBUG - setInterval limpo, progresso chegou a 100% (acertou)"),console.log("[useMapGame] Barra de progresso completa - executando startNextRound automaticamente (acertou bairro)"),g.current){console.log("[useMapGame] Já está avançando automaticamente, ignorando chamada");return}if(!q.showFeedback&&q.feedbackProgress===0){console.log("[useMapGame] Estado visual já foi limpo, ignorando avanço automático");return}g.current=!0,s?(console.log("[useMapGame] Executando startNextRound automaticamente (acertou bairro)"),ve(s)):(console.log("[useMapGame] DEBUG - geoJsonData não disponível para startNextRound"),g.current=!1)}else J({feedbackProgress:lt})},md)},0);return}if(U){const Ie=U.getLatLngs()[0];let Ge=1/0,wt=j;for(let Ye=0;Ye<Ie.length;Ye++){const Fn=Ie[Ye],_i=Ie[(Ye+1)%Ie.length],Dn=b_(j,Fn,_i),Bn=jd(j,Dn);Bn<Ge&&(Ge=Bn,wt=Dn)}const nt=Ge,rt=nt<10,lt=rt?2500*Math.pow(q.roundTimeLeft/15,2):xm(nt,q.roundTimeLeft).total,jt=q.score+Math.round(lt),kn=lt<0?Y+Math.abs(lt):Y;G(kn);const we=!Me&&!rt?{center:j,radius:nt}:null;let Re="";rt||(Re=wm(nt)),E.current&&!Me&&nt>=700&&(E.current.currentTime=0,E.current.volume=.7,E.current.play().catch(Ye=>{console.log("Erro ao tocar som de erro:",Ye)})),b.current&&nt<=500&&(b.current.currentTime=0,b.current.volume=.7,b.current.play().catch(Ye=>{console.log("Erro ao tocar som de sucesso:",Ye)}));const Xe=B,Je=pd(lt,r),Ve=Math.max(q.globalTimeLeft-Xe,0),ut=q.totalDistance+nt,Rt=Ve<=0,Kt=kn>60||ut>6e3,tn=Rt||Kt;(()=>{if(tn&&E.current&&(E.current.currentTime=0,E.current.volume=.7,E.current.play().catch(Fn=>{console.log("Erro ao tocar game over:",Fn)})),J({clickedPosition:j,clickTime:B,score:jt,globalTimeLeft:Ve,timeBonus:Je,showFeedback:!0,feedbackOpacity:1,feedbackProgress:0,feedbackMessage:Re,gameOver:tn,revealedNeighborhoods:new Set([...q.revealedNeighborhoods,q.currentNeighborhood]),arrowPath:!Me&&!rt?[j,wt]:null,totalDistance:ut}),kn>50)return;we&&setTimeout(()=>{ge(we)},400);let Ye=0;console.log("[useMapGame] DEBUG - Iniciando setInterval para barra de progresso (modo bairros)"),T.current=setInterval(()=>{if(q.isPaused){console.log("[useMapGame] DEBUG - Barra de progresso pausada (jogo pausado)");return}if(Ye+=gd,console.log("[useMapGame] DEBUG - Progresso atual:",Ye,"%"),Ye>=100){if(Ye=100,T.current&&(clearInterval(T.current),T.current=null),console.log("[useMapGame] DEBUG - setInterval limpo, progresso chegou a 100%"),console.log("[useMapGame] Barra de progresso completa - executando startNextRound automaticamente (modo bairros)"),console.log("[useMapGame] DEBUG - geoJsonData:",!!s),g.current){console.log("[useMapGame] Já está avançando automaticamente, ignorando chamada");return}if(!q.showFeedback&&q.feedbackProgress===0){console.log("[useMapGame] Estado visual já foi limpo, ignorando avanço automático");return}g.current=!0,s?(console.log("[useMapGame] Executando startNextRound automaticamente (modo bairros)"),ve(s)):(console.log("[useMapGame] DEBUG - geoJsonData não disponível para startNextRound"),g.current=!1)}else J({feedbackProgress:Ye})},md)})()}}},ce=j=>{const B=parseFloat(j.target.value);J({volume:B}),B>0&&J({isMuted:!1})},he=()=>{J({isMuted:!q.isMuted})},fe=()=>{console.log("[handlePauseGame] Pausando jogo..."),V(!0),M.current&&(clearInterval(M.current),M.current=null),ne.current&&(clearTimeout(ne.current),ne.current=null),T.current&&(console.log("[handlePauseGame] Pausando barra de progresso do feedback"),clearInterval(T.current),T.current=null),w.current&&w.current.pause(),J({isCountingDown:!1,isPaused:!0}),console.log("[handlePauseGame] Jogo pausado com sucesso")},Ce=()=>{console.log("[handleResumeGame] Retomando jogo..."),V(!1),w.current&&q.gameStarted&&!q.gameOver&&!q.isMuted&&w.current.play(),J({isCountingDown:!0,isPaused:!1}),q.showFeedback&&q.feedbackProgress<100&&(console.log("[handleResumeGame] Retomando barra de progresso do feedback"),Z()),console.log("[handleResumeGame] Jogo retomado com sucesso")},Z=()=>{if(!q.showFeedback||q.feedbackProgress>=100)return;if(T.current){console.log("[resumeFeedbackProgress] Já existe um intervalo ativo, ignorando chamada");return}const j=q.feedbackProgress,B=100-j,se=md,U=gd;console.log("[resumeFeedbackProgress] Retomando barra de progresso:",{currentProgress:j,remainingProgress:B,increment:U}),T.current=setInterval(()=>{if(q.isPaused){T.current&&(clearInterval(T.current),T.current=null);return}const ue=Math.min(q.feedbackProgress+U,100);ue>=100?(T.current&&(clearInterval(T.current),T.current=null),console.log("[resumeFeedbackProgress] Progresso completo - avançando para próxima rodada"),s&&ve(s)):J({feedbackProgress:ue})},se)};return{mapRef:x,geoJsonRef:y,audioRef:w,successSoundRef:b,errorSoundRef:E,isLoading:P,isPaused:z,showPhaseOneMessage:ee,distanceCircle:ae,gameState:q,handleMapClick:je,handleVolumeChange:ce,handleToggleMute:he,handlePauseGame:fe,handleResumeGame:Ce,handleNextRound:j=>{if(g.current){console.log("[handleNextRound] Já está processando próxima rodada, ignorando chamada");return}g.current=!0,console.log("[handleNextRound] Iniciando próxima rodada, estado atual:",{isCountingDown:q.isCountingDown,gameStarted:q.gameStarted,gameOver:q.gameOver,roundNumber:q.roundNumber}),g.current=!1,console.log("[handleNextRound] DEBUG - Flag isAutoAdvancing resetada para false"),V(!1),w.current&&q.gameStarted&&!q.gameOver&&!q.isMuted&&w.current.play(),ne.current&&(clearTimeout(ne.current),ne.current=null),M.current&&(clearInterval(M.current),M.current=null),T.current&&(clearInterval(T.current),T.current=null),console.log("[handleNextRound] CORREÇÃO CRÍTICA - Sincronizando estado visual completo");const B={isPaused:!1,isCountingDown:!0,showFeedback:!1,feedbackOpacity:0,feedbackProgress:0,clickedPosition:null,arrowPath:null,revealedNeighborhoods:new Set};console.log("[handleNextRound] Estado a ser aplicado:",B),J(B),console.log("[handleNextRound] Estado visual sincronizado - aguardando startNextRound"),requestAnimationFrame(()=>{console.log("[handleNextRound] Executando startNextRound após sincronização visual"),ve(j),console.log("[handleNextRound] Nova rodada iniciada - timer deve estar rodando")})},handleStartGame:()=>{console.log("[handleStartGame] Função chamada"),s?(console.log("[handleStartGame] GeoJSON data disponível, iniciando jogo"),oe(!0),setTimeout(()=>{oe(!1),xe()},1e3)):console.log("[handleStartGame] GeoJSON data não disponível")},setDistanceCircle:ge,updateGameState:J,gameMode:r}},Pu=s=>{const r="/geosantos/",o=s.startsWith("/")?s.slice(1):s,l=`${r}${o}`;return console.log("🌐 getAssetUrl:",{path:s,baseUrl:r,cleanPath:o,finalUrl:l}),l},Na=s=>{const r=Pu(`assets/images/${s}`);return console.log("🔗 getImageUrl (utils):",{filename:s,url:r}),r},C_=s=>Pu(`assets/audio/${s}`),Gr=s=>{const r=Pu(`assets/markerclick/${s}`);return console.log("🎭 getSpriteUrl:",{filename:s,url:r,fullPath:`assets/markerclick/${s}`}),r},bm=s=>{const r=Pu(`assets/marker_bandeira_lugar_correto/${s}`);return console.log("🏁 getBandeiraCorretaSpriteUrl:",{filename:s,url:r,fullPath:`assets/marker_bandeira_lugar_correto/${s}`}),r},ht={size:122,anchorX:25,anchorY:104,fps:25,frameDelay:1e3/25},wp={markerclick:4e3,bandeira_correta:4e3};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),T_=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,o,l)=>l?l.toUpperCase():o.toLowerCase()),bp=s=>{const r=T_(s);return r.charAt(0).toUpperCase()+r.slice(1)},Sm=(...s)=>s.filter((r,o,l)=>!!r&&r.trim()!==""&&l.indexOf(r)===o).join(" ").trim(),L_=s=>{for(const r in s)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var M_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=k.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:u="",children:h,iconNode:g,...x},y)=>k.createElement("svg",{ref:y,...M_,width:r,height:r,stroke:s,strokeWidth:l?Number(o)*24/Number(r):o,className:Sm("lucide",u),...!h&&!L_(x)&&{"aria-hidden":"true"},...x},[...g.map(([w,b])=>k.createElement(w,b)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(s,r)=>{const o=k.forwardRef(({className:l,...u},h)=>k.createElement(j_,{ref:h,iconNode:r,className:Sm(`lucide-${P_(bp(s))}`,`lucide-${s}`,l),...u}));return o.displayName=bp(s),o};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],O_=$e("arrow-left",R_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],I_=$e("arrow-right",A_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],z_=$e("award",N_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],D_=$e("book-open",F_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],U_=$e("circle-alert",B_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],G_=$e("circle-check-big",$_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],W_=$e("circle-question-mark",H_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],V_=$e("circle-x",Z_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],K_=$e("clock",q_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Y_=$e("compass",J_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],X_=$e("crown",Q_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],tx=$e("flag",ex);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],rx=$e("flame",nx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],ix=$e("frown",ox);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],ax=$e("gift",sx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],ux=$e("heart",lx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],km=$e("house",cx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],Em=$e("landmark",dx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],fx=$e("lightbulb",hx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Cm=$e("map-pin",px);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],gx=$e("map",mx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],yx=$e("medal",vx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],xx=$e("navigation",_x);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],bx=$e("pause",wx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],kx=$e("play",Sx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Cx=$e("plus",Ex);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Tx=$e("rotate-ccw",Px);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Mx=$e("settings",Lx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Rx=$e("share-2",jx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Ax=$e("sparkles",Ox);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Nx=$e("star",Ix);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Sp=$e("target",zx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],Dx=$e("thumbs-up",Fx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Ux=$e("trophy",Bx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}]],Gx=$e("volume-1",$x);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Wx=$e("volume-2",Hx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],Vx=$e("volume-x",Zx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Kx=$e("zap",qx),St=({name:s,size:r=24,color:o="var(--text-primary)",className:l=""})=>{const u={size:r,color:o,className:`game-icon ${l}`,style:{}};switch(s.toLowerCase()){case"target":return f.jsx(Sp,{...u});case"clock":case"time":return f.jsx(K_,{...u});case"zap":case"lightning":case"bonus":return f.jsx(Kx,{...u});case"mappin":case"location":case"distance":return f.jsx(Cm,{...u});case"volume2":case"volume-high":return f.jsx(Wx,{...u});case"volume1":case"volume-medium":return f.jsx(Gx,{...u});case"volumex":case"volume-mute":return f.jsx(Vx,{...u});case"trophy":case"winner":return f.jsx(Ux,{...u});case"share2":case"share":return f.jsx(Rx,{...u});case"play":case"start":return f.jsx(kx,{...u});case"pause":return f.jsx(bx,{...u});case"rotateccw":case"retry":case"restart":return f.jsx(Tx,{...u});case"arrowright":case"next":return f.jsx(I_,{...u});case"home":return f.jsx(km,{...u});case"settings":return f.jsx(Mx,{...u});case"star":return f.jsx(Nx,{...u});case"award":return f.jsx(z_,{...u});case"flag":return f.jsx(tx,{...u});case"navigation":return f.jsx(xx,{...u});case"compass":return f.jsx(Y_,{...u});case"map":return f.jsx(gx,{...u});case"landmark":return f.jsx(Em,{...u});case"sparkles":case"incredible":return f.jsx(Ax,{...u});case"thumbsup":case"good":return f.jsx(Dx,{...u});case"helpcircle":case"almost":return f.jsx(W_,{...u});case"frown":case"ops":return f.jsx(ix,{...u});case"checkcircle":case"perfect":return f.jsx(G_,{...u});case"xcircle":case"wrong":return f.jsx(V_,{...u});case"alertcircle":case"warning":return f.jsx(U_,{...u});case"heart":return f.jsx(ux,{...u});case"flame":case"fire":case"streak":return f.jsx(rx,{...u});case"crown":return f.jsx(X_,{...u});case"medal":return f.jsx(yx,{...u});case"gift":return f.jsx(ax,{...u});case"lightbulb":case"tip":return f.jsx(fx,{...u});default:return f.jsx(Sp,{...u})}},Rd=({size:s,color:r})=>f.jsx(St,{name:"target",size:s,color:r}),Pm=({size:s,color:r})=>f.jsx(St,{name:"clock",size:s,color:r}),Tm=({size:s,color:r})=>f.jsx(St,{name:"zap",size:s,color:r}),Jx=({size:s,color:r})=>f.jsx(St,{name:"mappin",size:s,color:r}),Jd=({size:s,color:r})=>f.jsx(St,{name:"trophy",size:s,color:r}),Yx=({size:s,color:r})=>f.jsx(St,{name:"share",size:s,color:r}),Qx=({size:s,color:r})=>f.jsx(St,{name:"play",size:s,color:r}),Xx=({size:s,color:r})=>f.jsx(St,{name:"pause",size:s,color:r}),ew=({size:s,color:r})=>f.jsx(St,{name:"retry",size:s,color:r}),tw=({size:s,color:r})=>f.jsx(St,{name:"next",size:s,color:r}),nw=({size:s,color:r})=>f.jsx(St,{name:"volume2",size:s,color:r}),kp=({size:s,color:r})=>f.jsx(St,{name:"volume1",size:s,color:r}),rw=({size:s,color:r})=>f.jsx(St,{name:"volumex",size:s,color:r}),Lm=({size:s,color:r})=>f.jsx(St,{name:"x",size:s,color:r}),ow=({size:s,color:r})=>f.jsx(St,{name:"check",size:s,color:r}),Ep=({size:s,color:r})=>f.jsx(St,{name:"refresh-cw",size:s,color:r}),vd=({size:s,color:r})=>f.jsx(St,{name:"medal",size:s,color:r}),iw=({size:s,color:r})=>f.jsx(St,{name:"landmark",size:s,color:r}),sw=({size:s,color:r})=>f.jsx(St,{name:"helpcircle",size:s,color:r}),aw=({isMuted:s,volume:r,onVolumeChange:o,onToggleMute:l})=>f.jsxs("div",{style:{position:"absolute",top:"clamp(10px, 2vw, 20px)",left:"clamp(10px, 2vw, 20px)",background:"var(--bg-secondary)",border:"none",color:"var(--text-primary)",padding:"clamp(8px, 1.5vw, 12px)",borderRadius:"2px",display:"flex",alignItems:"center",gap:"clamp(5px, 1vw, 10px)",zIndex:1e3,touchAction:"manipulation",boxShadow:"var(--shadow-md)"},children:[f.jsx("button",{onClick:l,style:{background:"none",border:"none",color:"white",cursor:"pointer",padding:"clamp(3px, 1vw, 5px)",display:"flex",alignItems:"center",touchAction:"manipulation"},children:s?f.jsx(rw,{size:24,color:"var(--text-primary)"}):r>.3?f.jsx(nw,{size:24,color:"var(--text-primary)"}):r>0?f.jsx(kp,{size:24,color:"var(--text-primary)"}):f.jsx(kp,{size:24,color:"var(--text-primary)"})}),f.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:s?0:r,onChange:o,style:{width:"clamp(60px, 15vw, 100px)",accentColor:"var(--accent-green)",touchAction:"manipulation"}})]}),lw=({variant:s="game",onClose:r})=>{const[o,l]=k.useState([]),[u,h]=k.useState(!1),[g,x]=k.useState(!1),y=async()=>{h(!0);try{const{data:T,error:P}=await er.from("ranking").select("*").order("score",{ascending:!1}).limit(5);if(P){console.error("Erro ao buscar ranking:",P);return}l(T||[])}catch(T){console.error("Erro ao buscar ranking:",T)}finally{h(!1)}};k.useEffect(()=>{y()},[]);const w=T=>{switch(T){case 1:return"🥇";case 2:return"🥈";case 3:return"🥉";default:return"🏆"}},[b,E]=k.useState(!1);k.useEffect(()=>{const T=()=>{E(window.innerWidth<=768)};return T(),window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[]);const M=()=>{const T={fontFamily:"'LaCartoonerie', sans-serif",transition:"none",pointerEvents:"auto"};return s==="startScreen"?b?{...T,position:"relative",width:"100%",marginBottom:"20px",border:"4px solid var(--accent-yellow)",borderRadius:"12px",background:"rgba(30, 30, 30, 0.98)",maxHeight:"400px",overflow:"hidden"}:{...T,position:"fixed",bottom:"40px",left:"40px",zIndex:2002,minWidth:"340px",maxWidth:"400px",boxShadow:"var(--shadow-md)",border:"none",borderRadius:"4px",background:"var(--bg-secondary)"}:{...T,position:"fixed",top:"20px",left:"20px",zIndex:1001}};return f.jsx("div",{style:M(),children:f.jsxs("div",{className:"ranking-container",style:{background:s==="startScreen"?"transparent":"var(--bg-secondary)",border:"none",borderRadius:s==="startScreen"?"0":"4px",boxShadow:s==="startScreen"?"none":"var(--shadow-md)",overflow:"hidden",minWidth:g?s==="startScreen"?b?"100%":"340px":"280px":s==="startScreen"?b?"100%":"340px":"200px",maxWidth:g?s==="startScreen"?b?"100%":"400px":"320px":s==="startScreen"?b?"100%":"400px":"220px"},children:[f.jsxs("div",{className:"ranking-header",onClick:()=>x(!g),style:{background:s==="startScreen"?"var(--bg-secondary)":"var(--accent-blue)",color:"var(--text-primary)",padding:s==="startScreen"?b?"12px 16px":"16px 24px":"8px 12px",cursor:"pointer",display:"flex",flexDirection:s==="startScreen"?"column":"row",justifyContent:"center",alignItems:"center",fontWeight:"bold",fontSize:s==="startScreen"?b?"1.3rem":"1.7rem":"1.1rem",textShadow:"none",borderTopLeftRadius:s==="startScreen"?"4px":"0",borderTopRightRadius:s==="startScreen"?"4px":"0",letterSpacing:"1px",boxShadow:s==="startScreen"?"var(--shadow-md)":"none",border:"none"},children:[f.jsx("span",{style:{fontSize:s==="startScreen"?b?"1.5rem":"2.1rem":"1.2rem",marginBottom:s==="startScreen"?"2px":0,textAlign:"center",width:"100%",fontFamily:"'LaCartoonerie', sans-serif"},children:"🏆 RANKING GERAL"}),f.jsx("button",{onClick:T=>{T.stopPropagation(),s==="startScreen"&&r?r():x(!g)},style:{background:"none",border:"none",color:"var(--text-primary)",cursor:"pointer",fontSize:s==="startScreen"?"1.5rem":"1.2rem",padding:"0",width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:s==="startScreen"?"12px":"8px",right:s==="startScreen"?"16px":"8px",zIndex:10},"aria-label":s==="startScreen"?"Fechar ranking":"Expandir/Recolher ranking",children:"✕"})]}),f.jsx("div",{style:{padding:s==="startScreen"?"18px 18px 12px 18px":"8px",background:s==="startScreen"?"rgba(255,255,255,0.08)":"var(--bg-primary)",maxHeight:g?s==="startScreen"?b?"300px":"520px":"400px":s==="startScreen"?b?"200px":"320px":"200px",overflowY:"auto",fontSize:s==="startScreen"?b?"1rem":"1.25rem":"0.9rem",color:"var(--text-primary)"},children:u?f.jsx("div",{style:{textAlign:"center",padding:"20px",color:"var(--text-secondary)",fontSize:"1rem"},children:"Carregando..."}):o.length===0?f.jsx("div",{style:{textAlign:"center",padding:"20px",color:"var(--text-secondary)",fontSize:"1rem"},children:"Nenhum jogador ainda"}):f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:o.map((T,P)=>f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",background:P===0?"rgba(16, 185, 129, 0.1)":P===1?"rgba(192, 192, 192, 0.1)":P===2?"rgba(205, 127, 50, 0.1)":"transparent",border:P<3?"1px solid var(--accent-green)":"1px solid transparent",borderRadius:"4px",fontFamily:"'LaCartoonerie', sans-serif"},children:[f.jsx("span",{style:{fontSize:"1.1rem",minWidth:"20px",textAlign:"center"},children:w(P+1)}),f.jsx("div",{style:{flex:1,minWidth:0,overflow:"hidden",fontFamily:"'LaCartoonerie', sans-serif"},children:f.jsx("div",{style:{color:"var(--text-primary)",fontWeight:"bold",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"1rem",fontFamily:"'LaCartoonerie', sans-serif"},children:T.player_name})}),f.jsx("div",{style:{color:"var(--accent-green)",fontWeight:"bold",fontSize:"1rem",textAlign:"right",minWidth:"50px",fontFamily:"'LaCartoonerie', sans-serif"},children:T.score.toLocaleString()})]},T.id))})}),g&&f.jsxs("div",{style:{padding:"6px 8px",background:"var(--bg-secondary)",borderTop:"none",fontSize:"0.8rem",color:"var(--text-secondary)",textAlign:"center"},children:["Clique para ",g?"recolher":"expandir"]})]})})},yd={name:"",description:"",latitude:"",longitude:"",category:"",address:"",imageUrl:"",suggestedBy:"",email:"",reason:""},uw=new Eu.Icon({iconUrl:"https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/images/marker-icon.png",iconSize:[32,48],iconAnchor:[16,48],popupAnchor:[0,-48]}),Mm=({onClose:s})=>{const[r,o]=k.useState(yd),[l,u]=k.useState(!1),[h,g]=k.useState(null),[x,y]=k.useState(null),[w,b]=k.useState(null),E=R=>{o({...r,[R.target.name]:R.target.value})},M=R=>{b(R),o(z=>({...z,latitude:R.lat.toString(),longitude:R.lng.toString()}))},T=async R=>{R.preventDefault(),u(!0),g(null),y(null);try{if(!r.name||!r.latitude||!r.longitude){y("Preencha pelo menos nome, latitude e longitude!"),u(!1);return}const z=`
Nova sugestão de lugar famoso para o GeoSantos!

Dados do lugar:
- Nome: ${r.name}
- Descrição: ${r.description}
- Categoria: ${r.category}
- Endereço: ${r.address}
- Coordenadas: ${r.latitude}, ${r.longitude}
- URL da imagem: ${r.imageUrl}

Dados de quem sugeriu:
- Nome: ${r.suggestedBy}
- Email: ${r.email}
- Motivo da sugestão: ${r.reason}

---
Enviado automaticamente pelo formulário de sugestões do GeoSantos
      `,V=`mailto:heric.moura@unifesp.br?subject=Sugestão de lugar famoso: ${r.name}&body=${encodeURIComponent(z)}`;window.open(V,"_blank"),g("Sugestão enviada com sucesso! Obrigado por contribuir com o GeoSantos!"),o(yd),b(null),setTimeout(()=>{s()},3e3)}catch(z){y("Erro inesperado: "+z.message)}finally{u(!1)}},P=()=>{o(yd),b(null),g(null),y(null),s()};return r.latitude&&parseFloat(r.latitude),r.longitude&&parseFloat(r.longitude),f.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px",boxSizing:"border-box"},children:f.jsxs("div",{style:{maxWidth:1200,width:"100%",maxHeight:"90vh",background:"var(--bg-secondary)",border:"4px solid var(--accent-blue)",borderRadius:"var(--radius-lg)",boxShadow:"var(--shadow-xl)",padding:32,fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-primary)",display:"flex",flexDirection:"row",gap:32,flexWrap:"wrap",overflowY:"auto",position:"relative"},children:[f.jsxs("div",{style:{flex:"1 1 400px",minWidth:320,maxWidth:600,display:"flex",flexDirection:"column",gap:0},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:24,gap:16},children:[f.jsxs("button",{onClick:s,style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",background:"var(--bg-accent)",border:"none",borderRadius:"4px",color:"var(--text-primary)",cursor:"pointer",fontFamily:"'LaCartoonerie', sans-serif",fontSize:"0.9rem",fontWeight:"bold",textTransform:"uppercase",transition:"all 0.2s ease",boxShadow:"2px 2px 0 #222"},onMouseEnter:R=>{R.currentTarget.style.background="var(--accent-blue)",R.currentTarget.style.color="var(--bg-primary)",R.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:R=>{R.currentTarget.style.background="var(--bg-accent)",R.currentTarget.style.color="var(--text-primary)",R.currentTarget.style.transform="translateY(0)"},children:[f.jsx(O_,{size:16}),"Voltar"]}),f.jsx("h1",{style:{fontFamily:"'LaCartoonerie', sans-serif",color:"var(--accent-green)",fontSize:"1.3rem",textAlign:"center",textTransform:"uppercase",fontWeight:"bold",letterSpacing:"1px",textShadow:"2px 2px 0 #222",margin:0,flex:1},children:"Sugerir Novo Lugar"}),f.jsx("p",{style:{fontSize:"1rem",color:"var(--text-secondary)",textAlign:"center",fontFamily:"'LaCartoonerie', sans-serif",lineHeight:1.5,margin:"16px 0 0 0",maxWidth:"600px"},children:"Conhece um lugar interessante em Santos que deveria estar no jogo? Sugira novos pontos turísticos, locais históricos ou lugares especiais para que outros jogadores possam descobrir!"}),f.jsx("div",{style:{width:"80px"}})]}),f.jsx("div",{style:{width:"100%",height:300,marginBottom:16,border:"2px solid var(--text-primary)",borderRadius:"var(--radius-md)",boxShadow:"var(--shadow-md)",overflow:"hidden"},children:f.jsxs(ks,{center:w?[w.lat,w.lng]:[-23.9676,-46.3287],zoom:13,style:{width:"100%",height:"100%"},scrollWheelZoom:!0,children:[f.jsx(Cs,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© OpenStreetMap contributors"}),f.jsx(Kd,{onClick:M}),w&&f.jsx(Es,{position:w,icon:uw})]})}),f.jsxs("form",{onSubmit:T,style:{display:"flex",flexDirection:"column",gap:16},children:[f.jsx("input",{name:"name",value:r.name,onChange:E,placeholder:"Nome do lugar",style:zn,required:!0}),f.jsx("textarea",{name:"description",value:r.description,onChange:E,placeholder:"Descrição do lugar",style:{...zn,minHeight:60}}),f.jsx("input",{name:"latitude",value:r.latitude,onChange:E,placeholder:"Latitude (clique no mapa)",style:zn,type:"number",step:"any",required:!0}),f.jsx("input",{name:"longitude",value:r.longitude,onChange:E,placeholder:"Longitude (clique no mapa)",style:zn,type:"number",step:"any",required:!0}),f.jsx("input",{name:"category",value:r.category,onChange:E,placeholder:"Categoria (ex: Turístico, Histórico, Cultural)",style:zn}),f.jsx("input",{name:"address",value:r.address,onChange:E,placeholder:"Endereço completo",style:zn}),f.jsx("input",{name:"imageUrl",value:r.imageUrl,onChange:E,placeholder:"URL da imagem (opcional)",style:zn}),f.jsxs("div",{style:{borderTop:"2px solid var(--accent-blue)",paddingTop:20,marginTop:16,borderRadius:"var(--radius-sm)"},children:[f.jsx("input",{name:"suggestedBy",value:r.suggestedBy,onChange:E,placeholder:"Seu nome",style:zn,required:!0}),f.jsx("input",{name:"email",value:r.email,onChange:E,placeholder:"Seu email",style:zn,type:"email",required:!0}),f.jsx("textarea",{name:"reason",value:r.reason,onChange:E,placeholder:"Por que você sugere este lugar? (opcional)",style:{...zn,minHeight:60}})]}),x&&f.jsx("div",{style:{color:"var(--accent-red)",fontSize:"0.9rem",fontFamily:"'LaCartoonerie', sans-serif",padding:"12px",background:"rgba(239, 68, 68, 0.1)",border:"2px solid var(--accent-red)",borderRadius:"var(--radius-md)",marginTop:8},children:x}),h&&f.jsx("div",{style:{color:"var(--accent-green)",fontSize:"0.9rem",fontFamily:"'LaCartoonerie', sans-serif",padding:"12px",background:"rgba(16, 185, 129, 0.1)",border:"2px solid var(--accent-green)",borderRadius:"var(--radius-md)",marginTop:8},children:h}),f.jsxs("div",{style:{display:"flex",gap:8},children:[f.jsx("button",{type:"submit",disabled:l,style:{...zn,background:"var(--accent-green)",color:"var(--bg-primary)",border:"3px solid #222",cursor:"pointer",fontWeight:"bold",fontSize:14,marginTop:8,flex:1,fontFamily:"'LaCartoonerie', sans-serif",textTransform:"uppercase",transition:"all 0.2s ease"},onMouseEnter:R=>{l||(R.currentTarget.style.transform="translateY(-2px)",R.currentTarget.style.boxShadow="4px 4px 0 #222")},onMouseLeave:R=>{l||(R.currentTarget.style.transform="translateY(0)",R.currentTarget.style.boxShadow="2px 2px 0 #222")},children:l?"Enviando...":"Enviar Sugestão"}),f.jsx("button",{type:"button",onClick:P,style:{...zn,background:"var(--bg-accent)",color:"var(--text-primary)",border:"2px solid var(--text-primary)",cursor:"pointer",fontWeight:"bold",fontSize:14,marginTop:8,fontFamily:"'LaCartoonerie', sans-serif",textTransform:"uppercase",transition:"all 0.2s ease"},onMouseEnter:R=>{R.currentTarget.style.background="var(--accent-red)",R.currentTarget.style.color="var(--bg-primary)",R.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:R=>{R.currentTarget.style.background="var(--bg-accent)",R.currentTarget.style.color="var(--text-primary)",R.currentTarget.style.transform="translateY(0)"},children:"Cancelar"})]})]})]}),f.jsxs("div",{style:{flex:"1 1 300px",minWidth:280,maxWidth:500,display:"flex",flexDirection:"column",gap:16,background:"var(--bg-accent)",border:"2px solid var(--accent-orange)",borderRadius:"var(--radius-md)",boxShadow:"var(--shadow-lg)",padding:24},children:[f.jsx("h2",{style:{fontSize:"1.2rem",color:"var(--accent-orange)",fontFamily:"'LaCartoonerie', sans-serif",textTransform:"uppercase",textAlign:"center",fontWeight:"bold",letterSpacing:"1px",marginBottom:8},children:"Como Sugerir"}),f.jsxs("div",{style:{fontSize:"1rem",color:"var(--text-primary)",fontFamily:"'LaCartoonerie', sans-serif",lineHeight:1.6},children:[f.jsxs("p",{style:{marginBottom:"16px"},children:[f.jsx("strong",{children:"1. Clique no mapa"})," para selecionar a localização exata do lugar"]}),f.jsxs("p",{style:{marginBottom:"16px"},children:[f.jsx("strong",{children:"2. Preencha os dados"})," do lugar (nome, descrição, categoria, etc.)"]}),f.jsxs("p",{style:{marginBottom:"16px"},children:[f.jsx("strong",{children:"3. Adicione seus dados"})," para que possamos entrar em contato"]}),f.jsxs("p",{style:{marginBottom:"16px"},children:[f.jsx("strong",{children:'4. Clique em "Enviar Sugestão"'})," para abrir seu cliente de email"]})]}),f.jsxs("div",{style:{background:"var(--bg-secondary)",border:"2px solid var(--accent-green)",borderRadius:"var(--radius-md)",padding:"16px",fontSize:"0.9rem",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-primary)"},children:[f.jsx("strong",{style:{color:"var(--accent-green)"},children:"💡 Dicas:"}),f.jsxs("ul",{style:{margin:"12px 0 0 20px",padding:0,lineHeight:1.5},children:[f.jsx("li",{children:"Lugares históricos e culturais são prioridade"}),f.jsx("li",{children:"Inclua uma imagem se possível"}),f.jsx("li",{children:"Descreva por que o lugar é importante"}),f.jsx("li",{children:"Verifique se as coordenadas estão corretas"})]})]}),f.jsxs("div",{style:{background:"var(--bg-secondary)",border:"2px solid var(--accent-orange)",borderRadius:"var(--radius-md)",padding:"16px",fontSize:"0.9rem",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-primary)"},children:[f.jsx("strong",{style:{color:"var(--accent-orange)"},children:"⚠️ Importante:"}),f.jsx("br",{}),"Sua sugestão será analisada pela equipe do GeoSantos. Lugares aprovados serão adicionados ao jogo em futuras atualizações."]})]})]})})},zn={fontFamily:"'LaCartoonerie', sans-serif",fontSize:"1rem",border:"2px solid var(--text-primary)",borderRadius:"var(--radius-md)",padding:"12px 16px",background:"var(--bg-primary)",color:"var(--text-primary)",boxShadow:"var(--shadow-md)",outline:"none",transition:"all 0.2s ease",width:"100%",boxSizing:"border-box"},cw="/geosantos/assets/background-BDwexB69.webm",dw=({onStartGame:s,onShowLeaderboard:r,highScore:o=0,totalGames:l=0,averageScore:u=0,onSelectMode:h})=>{const[g,x]=k.useState(0),[y,w]=k.useState(!1),[b,E]=k.useState(!1),[M,T]=k.useState(null),[P,R]=k.useState(!0),[z,V]=k.useState(!1),[Y,G]=k.useState(!1),ee=k.useRef(null),oe=k.useRef(null),ae=k.useMemo(()=>[{id:"play_neighborhoods",label:"BAIRROS",icon:Cm,action:()=>{console.log("[StartScreen] Modo Bairros selecionado"),console.log("[StartScreen] Chamando onSelectMode com neighborhoods"),h==null||h("neighborhoods"),console.log("[StartScreen] Chamando onStartGame"),s()},description:"Clique no mapa onde você acha que está o bairro. Quanto mais próximo da localização correta, mais pontos você ganha!"},{id:"play_famous_places",label:"LUGARES FAMOSOS",icon:iw,action:()=>{console.log("[StartScreen] Modo Lugares Famosos selecionado"),console.log("[StartScreen] Chamando onSelectMode com famous_places"),h==null||h("famous_places"),console.log("[StartScreen] Chamando onStartGame"),s()},description:"Localize pontos turísticos e lugares históricos de Santos. Teste seus conhecimentos sobre a cidade!"},{id:"leaderboard",label:"VER RANKING",icon:Jd,action:r,description:"Veja as maiores pontuações e descubra sua posição no ranking dos melhores jogadores."}],[s,r,h]),ge=k.useMemo(()=>[{id:"wiki",label:"WIKI-GEOSANTOS",icon:D_,action:()=>{window.location.href="/geosantos/lugares-famosos"},description:"Explore informações e curiosidades sobre os lugares do jogo.",as:bs,to:"/lugares-famosos"},{id:"suggest_place",label:"SUGERIR NOVO LOCAL",icon:Cx,action:()=>{V(!0)},description:"Sugira novos lugares para serem adicionados ao jogo.",as:"button"},{id:"controls",label:"CONTROLES",icon:()=>f.jsx("span",{style:{fontSize:"16px"},children:"🎮"}),action:()=>{},description:"Veja os controles do mapa.",as:"button",onMouseEnter:()=>G(!0),onMouseLeave:()=>G(!1)}],[]),q=k.useCallback(ne=>{var ce,he,fe,Ce;const je=ae.length+ge.length;if(ne.key==="ArrowUp")ne.preventDefault(),x(Z=>Z>0?Z-1:je-1);else if(ne.key==="ArrowDown")ne.preventDefault(),x(Z=>Z<je-1?Z+1:0);else if(ne.key==="Enter"||ne.key===" ")if(ne.preventDefault(),g<ae.length)(he=(ce=ae[g]).action)==null||he.call(ce);else{const Z=g-ae.length;(Ce=(fe=ge[Z]).action)==null||Ce.call(fe)}},[ae,ge,g]),J=k.useCallback(()=>{const ne=ee.current,je=oe.current;if(ne&&je&&ne.videoWidth>0&&ne.videoHeight>0){je.width=ne.videoWidth,je.height=ne.videoHeight;const ce=je.getContext("2d");if(ce){ce.drawImage(ne,0,0,je.width,je.height);const he=je.toDataURL("image/jpeg",.8);T(he)}}},[]),xe=k.useCallback(()=>{J(),w(!0)},[J]),ve=k.useCallback(()=>{E(!0),console.warn("Erro ao carregar vídeo de background")},[]);return k.useEffect(()=>(document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)),[q]),k.useEffect(()=>{const ne=ee.current;if(ne)return ne.addEventListener("loadeddata",xe),ne.addEventListener("error",ve),ne.addEventListener("canplay",J),()=>{ne.removeEventListener("loadeddata",xe),ne.removeEventListener("error",ve),ne.removeEventListener("canplay",J)}},[xe,ve,J]),f.jsxs(f.Fragment,{children:[f.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",overflow:"hidden",zIndex:0},children:[f.jsx("canvas",{ref:oe,style:{position:"absolute",top:"-9999px",left:"-9999px",width:"1px",height:"1px"}}),M&&f.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100vw",height:"100vh",backgroundImage:`url(${M})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",opacity:y&&!b?0:1,transition:"opacity 0.5s ease-in-out",zIndex:1}}),f.jsxs("video",{ref:ee,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,style:{width:"100vw",height:"100vh",objectFit:"cover",position:"absolute",top:0,left:0,opacity:y&&!b?1:0,transition:"opacity 0.5s ease-in-out",zIndex:2},children:[f.jsx("source",{src:cw,type:"video/webm"}),"Seu navegador não suporta vídeo em background."]})]}),f.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:4,padding:"20px",boxSizing:"border-box"},children:[f.jsx("div",{style:{textAlign:"center",marginBottom:"10px"},children:f.jsxs("h1",{style:{fontSize:"clamp(6.5rem, 26vw, 12rem)",fontFamily:"'LaCartoonerie', sans-serif",margin:"0",animation:"titleFloat 5s ease-in-out infinite",filter:"drop-shadow(3px 3px 0px #fff) drop-shadow(-3px -3px 0px #fff) drop-shadow(3px -3px 0px #fff) drop-shadow(-3px 3px 0px #fff)",fontWeight:"bold",lineHeight:1.2},children:[f.jsx("span",{style:{color:"#22c55e"},children:"Geo"}),f.jsx("span",{style:{color:"#3b82f6"},children:"Santos"})]})}),(o>0||l>0)&&f.jsxs("div",{style:{display:"flex",gap:"20px",flexWrap:"wrap",justifyContent:"center",marginBottom:"-50px"},children:[o>0&&f.jsxs("div",{style:{background:"var(--bg-secondary)",border:"2px solid var(--accent-green)",borderRadius:"4px",padding:"12px 16px",textAlign:"center",boxShadow:"var(--shadow-md)"},children:[f.jsx("div",{style:{fontSize:"clamp(0.8rem, 2vw, 1rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-secondary)",marginBottom:"4px"},children:"MELHOR PONTUAÇÃO"}),f.jsx("div",{style:{fontSize:"clamp(1.2rem, 3vw, 1.8rem)",fontFamily:"'VT323', monospace",color:"var(--accent-green)",fontWeight:"bold"},children:o.toLocaleString()})]}),l>0&&f.jsxs("div",{style:{background:"var(--bg-secondary)",border:"2px solid var(--accent-blue)",borderRadius:"4px",padding:"12px 16px",textAlign:"center",boxShadow:"var(--shadow-md)"},children:[f.jsx("div",{style:{fontSize:"clamp(0.8rem, 2vw, 1rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-secondary)",marginBottom:"4px"},children:"JOGOS JOGADOS"}),f.jsx("div",{style:{fontSize:"clamp(1.2rem, 3vw, 1.8rem)",fontFamily:"'VT323', monospace",color:"var(--accent-blue)",fontWeight:"bold"},children:l})]}),u>0&&f.jsxs("div",{style:{background:"var(--bg-secondary)",border:"2px solid var(--accent-orange)",borderRadius:"4px",padding:"12px 16px",textAlign:"center",boxShadow:"var(--shadow-md)"},children:[f.jsx("div",{style:{fontSize:"clamp(0.8rem, 2vw, 1rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-secondary)",marginBottom:"4px"},children:"MÉDIA"}),f.jsx("div",{style:{fontSize:"clamp(1.2rem, 3vw, 1.8rem)",fontFamily:"'VT323', monospace",color:"var(--accent-orange)",fontWeight:"bold"},children:Math.round(u)})]})]}),f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px",minWidth:"300px",alignItems:"center",marginTop:"-20px"},children:ae.map((ne,je)=>{const ce=ne.icon,he=je===g,fe={display:"flex",alignItems:"center",justifyContent:"center",gap:"16px",padding:"16px 24px",background:he?"var(--accent-blue)":"var(--bg-secondary)",border:"none",borderRadius:"4px",color:he?"var(--bg-primary)":"var(--text-primary)",cursor:"pointer",transition:"all 0.2s ease",fontFamily:"'LaCartoonerie', sans-serif",fontWeight:400,textTransform:"uppercase",letterSpacing:"1px",boxShadow:he?"var(--shadow-lg)":"var(--shadow-md)",transform:he?"translate(-2px, -2px)":"translate(0, 0)",position:"relative",overflow:"hidden",opacity:1,textDecoration:"none",width:"100%"};return f.jsxs("button",{style:fe,onClick:ne.action,onMouseEnter:()=>x(je),onMouseLeave:()=>x(0),children:[f.jsx(ce,{size:24,color:he?"var(--bg-primary)":"var(--text-primary)"}),f.jsx("div",{style:{fontSize:"clamp(0.9rem, 2.2vw, 1.1rem)",fontWeight:"bold",lineHeight:1.2},children:ne.label})]},ne.id)})}),f.jsx("div",{style:{display:"flex",gap:"12px",marginTop:"20px",justifyContent:"center"},children:ge.map((ne,je)=>{const ce=ne.icon,he=ne.as||"button",fe=g===ae.length+je,Ce={display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"8px 16px",background:fe?"var(--accent-blue)":"var(--bg-accent)",border:"none",borderRadius:"4px",color:fe?"var(--bg-primary)":"var(--text-primary)",cursor:"pointer",transition:"all 0.2s ease",fontFamily:"'LaCartoonerie', sans-serif",fontSize:"clamp(0.7rem, 1.5vw, 0.8rem)",fontWeight:400,textTransform:"uppercase",letterSpacing:"1px",boxShadow:fe?"var(--shadow-lg)":"var(--shadow-md)",textDecoration:"none",transform:fe?"translateY(-2px)":"translateY(0)"},Z=f.jsxs(f.Fragment,{children:[f.jsx(ce,{size:16,color:"var(--text-primary)"}),ne.label]});return he===bs?f.jsx(bs,{style:Ce,to:ne.to,onMouseEnter:le=>{le.currentTarget.style.background="var(--accent-blue)",le.currentTarget.style.color="var(--bg-primary)",le.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:le=>{le.currentTarget.style.background="var(--bg-accent)",le.currentTarget.style.color="var(--text-primary)",le.currentTarget.style.transform="translateY(0)"},children:Z},ne.id):f.jsx("button",{style:Ce,onClick:ne.action,onMouseEnter:le=>{var K;le.currentTarget.style.background="var(--accent-blue)",le.currentTarget.style.color="var(--bg-primary)",le.currentTarget.style.transform="translateY(-2px)",x(ae.length+je),(K=ne.onMouseEnter)==null||K.call(ne)},onMouseLeave:le=>{var K;g!==ae.length+je&&(le.currentTarget.style.background="var(--bg-accent)",le.currentTarget.style.color="var(--text-primary)",le.currentTarget.style.transform="translateY(0)"),(K=ne.onMouseLeave)==null||K.call(ne)},children:Z},ne.id)})}),f.jsxs("div",{style:{textAlign:"center",maxWidth:"600px",padding:"20px",background:"var(--bg-secondary)",border:"none",borderRadius:"4px",boxShadow:"var(--shadow-md)",marginTop:"40px"},children:[f.jsx("h3",{style:{fontSize:"clamp(1rem, 2.5vw, 1.3rem)",margin:"0 0 12px 0",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--accent-yellow)",textTransform:"uppercase"},children:"COMO JOGAR"}),f.jsxs("div",{style:{fontSize:"clamp(1rem, 2vw, 1.1rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-primary)",lineHeight:1.4},children:[f.jsx("p",{style:{margin:"15px 0"},children:"• Clique no mapa onde você acha que está o bairro"}),f.jsx("p",{style:{margin:"15px 0"},children:"• Quanto mais próximo, mais pontos você ganha"}),f.jsx("p",{style:{margin:"15px 0"},children:"• Quanto mais rápido, mais bônus de tempo"}),f.jsx("p",{style:{margin:"15px 0"},children:"• Use as setas do teclado para navegar no menu"}),Y&&f.jsxs("div",{style:{position:"fixed",bottom:"80px",right:"20px",padding:"15px",background:"var(--bg-secondary)",borderRadius:"4px",border:"2px solid var(--accent-green)",boxShadow:"var(--shadow-xl)",animation:"fadeIn 0.3s ease-in",zIndex:1e3,minWidth:"280px"},children:[f.jsx("h4",{style:{fontSize:"clamp(0.9rem, 2vw, 1rem)",margin:"0 0 10px 0",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--accent-green)",textTransform:"uppercase",fontWeight:"bold",textAlign:"center"},children:"🎮 CONTROLES DO MAPA"}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"6px",fontSize:"clamp(0.75rem, 1.6vw, 0.85rem)"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[f.jsx("span",{style:{color:"var(--accent-green)",fontWeight:"bold",fontSize:"1.1em"},children:"Z"}),f.jsx("span",{children:"Zoom In"})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[f.jsx("span",{style:{color:"var(--accent-green)",fontWeight:"bold",fontSize:"1.1em"},children:"X"}),f.jsx("span",{children:"Zoom Out"})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[f.jsx("span",{style:{color:"var(--accent-blue)",fontWeight:"bold",fontSize:"1.1em"},children:"↑"}),f.jsx("span",{children:"Mover ↑"})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[f.jsx("span",{style:{color:"var(--accent-blue)",fontWeight:"bold",fontSize:"1.1em"},children:"↓"}),f.jsx("span",{children:"Mover ↓"})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[f.jsx("span",{style:{color:"var(--accent-blue)",fontWeight:"bold",fontSize:"1.1em"},children:"←"}),f.jsx("span",{children:"Mover ←"})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[f.jsx("span",{style:{color:"var(--accent-blue)",fontWeight:"bold",fontSize:"1.1em"},children:"→"}),f.jsx("span",{children:"Mover →"})]})]})]})]})]}),f.jsx("div",{style:{textAlign:"center",fontSize:"clamp(1rem, 2.5vw, 1.3rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"#000000",marginTop:"20px"},children:f.jsxs("p",{style:{margin:"4px 0",textShadow:"2px 2px 0px #fff, -2px -2px 0px #fff, 2px -2px 0px #fff, -2px 2px 0px #fff"},children:["Desenvolvido por"," ",f.jsx("a",{href:"https://hericmr.github.io/me/",target:"_blank",rel:"noopener noreferrer",style:{color:"#000000",textDecoration:"none",textShadow:"2px 2px 0px #fff, -2px -2px 0px #fff, 2px -2px 0px #fff, -2px 2px 0px #fff",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:ne=>{ne.currentTarget.style.color="#0066CC"},onMouseLeave:ne=>{ne.currentTarget.style.color="#000000"},children:"hericmr"})]})}),f.jsxs("div",{style:{position:"absolute",bottom:"20px",left:"20px",right:"20px",width:"calc(100% - 40px)",display:"flex",justifyContent:"space-between",alignItems:"flex-end",pointerEvents:"none"},children:[f.jsx("div",{style:{pointerEvents:"auto"},children:P&&f.jsx(lw,{variant:"startScreen",onClose:()=>R(!1)})}),f.jsxs("div",{style:{pointerEvents:"auto",width:"320px",padding:"20px",background:"var(--bg-secondary)",border:"none",borderRadius:"4px",boxShadow:"var(--shadow-md)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-primary)",transition:"opacity 0.3s ease, transform 0.3s ease",opacity:g>=0?1:0,transform:g>=0?"translateY(0)":"translateY(20px)",visibility:g>=0?"visible":"hidden"},children:[f.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"clamp(1.1rem, 2.5vw, 1.4rem)",color:"var(--accent-yellow)",textTransform:"uppercase"},children:g<ae.length?ae[g].label:ge[g-ae.length].label}),f.jsx("p",{style:{margin:0,fontSize:"clamp(1rem, 2vw, 1.1rem)",lineHeight:1.4},children:g<ae.length?ae[g].description:ge[g-ae.length].description})]})]})]}),z&&f.jsx(Mm,{onClose:()=>V(!1)}),f.jsx("style",{children:`
          @keyframes titleFloat {
            0%, 100% {
              transform: translateY(0) rotate(-1deg);
            }
            50% {
              transform: translateY(-8px) rotate(1deg);
            }
          }
          
          @keyframes titleGlow {
            0%, 100% {
              filter: drop-shadow(0 0 5px var(--accent-yellow));
            }
            50% {
              filter: drop-shadow(0 0 15px var(--accent-yellow)) drop-shadow(0 0 25px var(--accent-yellow));
            }
          }
        `})]})},Cp="geosantos_stats",hw=()=>{const[s,r]=k.useState({highScore:0,totalGames:0,totalScore:0,averageScore:0,bestTime:0,totalPlayTime:0,gamesWon:0,gamesLost:0,winRate:0});k.useEffect(()=>{const y=localStorage.getItem(Cp);if(y)try{const w=JSON.parse(y);r(w)}catch(w){console.error("Erro ao carregar estatísticas:",w)}},[]);const o=y=>{try{localStorage.setItem(Cp,JSON.stringify(y)),r(y)}catch(w){console.error("Erro ao salvar estatísticas:",w)}},l=async(y,w,b,E,M,T)=>{const P={...s};y>P.highScore&&(P.highScore=y),w>P.bestTime&&(P.bestTime=w),P.totalGames+=1,P.totalScore+=y,P.totalPlayTime+=w,b?P.gamesWon+=1:P.gamesLost+=1,P.averageScore=Math.round(P.totalScore/P.totalGames),P.winRate=Math.round(P.gamesWon/P.totalGames*100),o(P);try{return await gi.addScore({player_name:E,score:y,play_time:w,rounds_played:M,accuracy:T}),!0}catch(R){return console.error("Erro ao salvar no ranking:",R),!1}},u=async(y,w,b,E,M)=>{try{return await gi.addScore({player_name:y,score:w,play_time:b,rounds_played:E,accuracy:M}),!0}catch(T){return console.error("Erro ao salvar no ranking:",T),!1}},h=()=>{o({highScore:0,totalGames:0,totalScore:0,averageScore:0,bestTime:0,totalPlayTime:0,gamesWon:0,gamesLost:0,winRate:0})},g=()=>({highScore:s.highScore.toLocaleString(),totalGames:s.totalGames.toLocaleString(),averageScore:s.averageScore.toLocaleString(),bestTime:x(s.bestTime),totalPlayTime:x(s.totalPlayTime),gamesWon:s.gamesWon.toLocaleString(),gamesLost:s.gamesLost.toLocaleString(),winRate:`${s.winRate}%`}),x=y=>{const w=Math.floor(y/60),b=y%60;return`${w.toString().padStart(2,"0")}:${b.toString().padStart(2,"0")}`};return{stats:s,addGameResult:l,saveToRanking:u,resetStats:h,getFormattedStats:g}},Pp="geosantos_player_name",jm=()=>{const[s,r]=k.useState("");return k.useEffect(()=>{const u=localStorage.getItem(Pp);u&&r(u)},[]),{playerName:s,savePlayerName:u=>{const h=u.trim();h&&(localStorage.setItem(Pp,h),r(h))},initializePlayerName:()=>s||"Seu nome"}},fw=({isOpen:s,onClose:r,currentPlayerScore:o,currentPlayerName:l})=>{const[u,h]=k.useState([]),[g,x]=k.useState(!0),[y,w]=k.useState(null),[b,E]=k.useState(null),M=async()=>{x(!0),w(null);try{const P=await gi.getTopPlayers(20);if(h(P),l&&o){const R=await gi.getPlayerPosition(l,o);E(R)}}catch(P){w("Erro ao carregar ranking"),console.error("Erro ao carregar ranking:",P)}finally{x(!1)}};k.useEffect(()=>{s&&M()},[s]);const T=P=>{switch(P){case 1:return f.jsx(vd,{size:20,color:"#FFD700"});case 2:return f.jsx(vd,{size:20,color:"#C0C0C0"});case 3:return f.jsx(vd,{size:20,color:"#CD7F32"});default:return f.jsxs("span",{style:{fontSize:"1.2rem",fontWeight:"bold"},children:["#",P]})}};return s?f.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10001,padding:"20px",boxSizing:"border-box"},children:f.jsxs("div",{style:{background:"var(--bg-secondary)",border:"none",borderRadius:"4px",padding:"24px",maxWidth:"800px",width:"100%",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:"var(--shadow-xl)",position:"relative",animation:"modalSlideIn 0.3s ease-out"},children:[f.jsx("style",{children:`
            @keyframes modalSlideIn {
              0% {
                transform: scale(0.8) translateY(-20px);
                opacity: 0;
              }
              100% {
                transform: scale(1) translateY(0);
                opacity: 1;
              }
            }
            
            @keyframes pulse {
              0%, 100% { opacity: 1; }
              50% { opacity: 0.7; }
            }
            
            .loading { animation: pulse 1.5s ease-in-out infinite; }
          `}),f.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px",borderBottom:"none",paddingBottom:"12px"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[f.jsx(Jd,{size:24,color:"var(--accent-yellow)"}),f.jsx("h2",{style:{fontSize:"clamp(1.2rem, 3vw, 1.5rem)",margin:0,fontFamily:"'LaCartoonerie', sans-serif",color:"var(--accent-green)",textTransform:"uppercase"},children:"RANKING GLOBAL"})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx("button",{onClick:M,disabled:g,style:{background:"none",border:"none",cursor:g?"not-allowed":"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",opacity:g?.5:1},children:f.jsx(Ep,{size:20,color:"var(--text-primary)"})}),f.jsx("button",{onClick:r,style:{background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsx(Lm,{size:20,color:"var(--text-primary)"})})]})]}),o&&l&&b&&f.jsxs("div",{style:{background:"var(--accent-green)",border:"none",borderRadius:"4px",padding:"12px",marginBottom:"16px",textAlign:"center"},children:[f.jsx("h3",{style:{fontSize:"clamp(1rem, 2.5vw, 1.2rem)",margin:"0 0 8px 0",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-primary)",textTransform:"uppercase"},children:"SUA PONTUAÇÃO"}),f.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"16px",flexWrap:"wrap"},children:[f.jsxs("div",{style:{fontSize:"clamp(1.2rem, 3vw, 1.8rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-primary)",fontWeight:"bold"},children:[o.toLocaleString()," pts"]}),f.jsxs("div",{style:{fontSize:"clamp(1rem, 2.5vw, 1.3rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-primary)"},children:["Posição #",b]})]})]}),f.jsx("div",{style:{flex:1,overflow:"hidden",display:"flex",flexDirection:"column"},children:g?f.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"40px",fontSize:"clamp(1rem, 2.5vw, 1.2rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-secondary)"},children:[f.jsx(Ep,{size:24,color:"var(--text-secondary)"}),"Carregando ranking..."]}):y?f.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"40px",fontSize:"clamp(1rem, 2.5vw, 1.2rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--accent-red)",textAlign:"center"},children:y}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"60px 1fr 120px 100px",gap:"8px",padding:"12px",background:"var(--bg-primary)",border:"none",borderRadius:"4px",marginBottom:"8px",fontFamily:"'LaCartoonerie', sans-serif",fontSize:"clamp(0.7rem, 2vw, 0.9rem)",color:"var(--text-primary)",textTransform:"uppercase"},children:[f.jsx("div",{children:"POS"}),f.jsx("div",{children:"JOGADOR"}),f.jsx("div",{children:"PONTOS"}),f.jsx("div",{children:"RODADAS"})]}),f.jsx("div",{style:{flex:1,overflow:"auto",display:"flex",flexDirection:"column",gap:"4px"},children:u.length===0?f.jsx("div",{style:{textAlign:"center",padding:"40px",fontSize:"clamp(1rem, 2.5vw, 1.2rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-secondary)"},children:"Nenhum jogador ainda!"}):u.map((P,R)=>f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"60px 1fr 120px 100px",gap:"8px",padding:"8px 12px",background:R%2===0?"var(--bg-primary)":"var(--bg-secondary)",border:"none",borderRadius:"2px",alignItems:"center",fontFamily:"'LaCartoonerie', sans-serif",fontSize:"clamp(0.9rem, 2vw, 1.1rem)",color:"var(--text-primary)"},children:[f.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:T(R+1)}),f.jsx("div",{style:{fontWeight:"bold",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:P.player_name}),f.jsx("div",{style:{fontWeight:"bold",color:"var(--accent-green)"},children:P.score.toLocaleString()}),f.jsx("div",{children:P.rounds_played})]},P.id||R))})]})}),f.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"16px",paddingTop:"12px",borderTop:"none"},children:f.jsx("p",{style:{fontSize:"clamp(0.8rem, 2vw, 1rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-muted)",margin:0,textAlign:"center"},children:"Top 20 jogadores • Atualizado em tempo real"})})]})}):null},pw=({gameStarted:s,currentNeighborhood:r,globalTimeLeft:o,roundTimeLeft:l,roundNumber:u,roundInitialTime:h,score:g,onStartGame:x,getProgressBarColor:y,currentMode:w,onModeChange:b,currentFamousPlace:E})=>{const[M,T]=k.useState(window.innerWidth<=768),{stats:P}=hw(),[R,z]=k.useState(!1),{playerName:V,initializePlayerName:Y}=jm();return k.useEffect(()=>{const G=()=>{T(window.innerWidth<=768)};return window.addEventListener("resize",G),()=>window.removeEventListener("resize",G)},[]),f.jsxs("div",{style:{position:"fixed",bottom:0,left:0,width:"100%",background:"var(--bg-secondary)",border:"none",borderBottom:"none",color:"var(--text-primary)",padding:s?"0":"clamp(10px, 2vw, 15px)",textAlign:"center",zIndex:1002,boxSizing:"border-box",boxShadow:"var(--shadow-md)"},children:[f.jsx("style",{children:`
          @keyframes pulseText {
            0% { transform: scale(1); }
            50% { transform: scale(1.03); }
            100% { transform: scale(1); }
          }

          @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
          }

          .game-title { animation: pulseText 1.5s infinite; }
          .game-description { animation: fadeIn 0.3s ease-out; }
          .start-button { animation: fadeIn 0.3s ease-out 0.2s both; }
        `}),s?f.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"column"},children:[f.jsxs("div",{style:{width:"100vw",height:M?"clamp(110px, 22vw, 130px)":"clamp(90px, 18vw, 110px)",background:"#2A2A2A",overflow:"hidden",position:"relative",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",marginLeft:"calc(-50vw + 50%)",marginRight:"calc(-50vw + 50%)",bottom:0},children:[f.jsx("div",{style:{width:`${o/h*100}%`,height:"100%",background:`linear-gradient(90deg, ${y(o,h)}, ${y(o,h)}CC)`,transition:"width 0.1s linear",position:"absolute",left:0,top:0,bottom:0,boxShadow:o<=3?"0 0 20px rgba(255, 0, 0, 0.3)":"0 0 15px rgba(255, 255, 255, 0.1)",animation:o<=3?"pulse 1s infinite":"none"}}),f.jsx("style",{children:`
                @keyframes pulse {
                  0% { opacity: 1; }
                  50% { opacity: 0.8; }
                  100% { opacity: 1; }
                }
              `}),f.jsx("div",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",padding:"0",zIndex:2,background:"linear-gradient(90deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 50%, rgba(255,255,255,0.1) 100%)"},children:f.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:[f.jsxs("div",{style:{position:"absolute",left:"clamp(15px, 3vw, 25px)",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[f.jsxs("span",{style:{fontSize:M?"clamp(0.7rem, 1.8vw, 0.8rem)":"clamp(1rem, 2.5vw, 1.2rem)",color:"#000000",fontWeight:600,textShadow:"1px 1px 2px rgba(255, 255, 255, 0.8)"},children:["Rodada ",u]}),f.jsxs("span",{style:{fontSize:M?"clamp(0.9rem, 2vw, 1rem)":"clamp(1.4rem, 3.5vw, 1.8rem)",color:"#000000",fontWeight:700,textShadow:"1px 1px 2px rgba(255, 255, 255, 0.8)",whiteSpace:"nowrap"},children:[Math.round(o*10)/10,"s"]})]}),f.jsx("span",{style:{color:"white",fontWeight:800,fontSize:"clamp(1.8rem, 4.5vw, 2.8rem)",textShadow:"2px 2px 4px rgba(0, 0, 0, 0.7)",letterSpacing:"1px",fontFamily:"'LaCartoonerie', sans-serif",lineHeight:1.2,textAlign:"center",maxWidth:"80%",textTransform:"uppercase"},children:w==="neighborhoods"?r.charAt(0).toUpperCase()+r.slice(1).toLowerCase():(E==null?void 0:E.name)||"NOME INDISPONÍVEL"})]})})]}),f.jsxs("div",{style:{width:"100%",padding:"6px 0",textAlign:"center",background:"rgba(20, 83, 45, 0.85)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"},children:[f.jsx("p",{style:{fontSize:"clamp(0.7rem, 1.8vw, 0.9rem)",fontFamily:"'LaCartoonerie', sans-serif",fontWeight:400,color:"#FFFFFF",lineHeight:1.4,margin:0,textTransform:"uppercase",letterSpacing:"0.5px",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.5)",animation:"glowText 2s ease-in-out infinite alternate"},children:w==="neighborhoods"?"Encontre o bairro no mapa!":w==="famous_places"?"Encontre o lugar famoso!":"Quão bem você conhece a sua cidade?"}),f.jsx("style",{children:`
                @keyframes glowText {
                  0% { text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5), 0 0 5px rgba(255, 255, 255, 0.3); }
                  100% { text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5), 0 0 10px rgba(255, 255, 255, 0.6); }
                }
              `})]})]}):f.jsx(dw,{onStartGame:x,onShowLeaderboard:()=>z(!0),highScore:P.highScore,totalGames:P.totalGames,averageScore:P.averageScore,onSelectMode:b}),f.jsx(fw,{isOpen:R,onClose:()=>z(!1),currentPlayerScore:g,currentPlayerName:V||Y()})]})},hi={buttonContainer:{display:"flex",gap:"clamp(8px, 2vw, 12px)",justifyContent:"center",marginTop:"clamp(12px, 3vw, 20px)",flexWrap:"nowrap",width:"100%"},button:s=>({padding:"clamp(8px, 2vw, 12px) clamp(16px, 3vw, 24px)",fontSize:"clamp(0.9rem, 2.2vw, 1.1rem)",background:s==="pause"?"var(--accent-orange)":s==="resume"||s==="next"?"var(--accent-green)":"var(--accent-red)",color:s==="pause"?"#000000":"#ffffff",border:"none",borderRadius:"2px",cursor:"pointer",transition:"all 0.1s steps(1)",fontWeight:400,fontFamily:"'Press Start 2P', monospace",boxShadow:"var(--shadow-md)",flex:s==="pause"||s==="resume"?"0.4":"0.6",maxWidth:s==="retry"?"100%":"none",position:"relative",overflow:"hidden",textTransform:"uppercase",letterSpacing:"1px",minWidth:s==="pause"||s==="resume"?"100px":"120px",zIndex:1,"&:hover":{transform:"translate(-1px, -1px)",boxShadow:"var(--shadow-lg)"},"&:active":{transform:"translate(1px, 1px)",boxShadow:"var(--shadow-sm)"}}),progressBar:(s,r)=>({position:"absolute",top:0,left:0,width:`${s}%`,height:"100%",background:r,transition:"width 0.1s linear",zIndex:1,transform:"translateX(0)",transformOrigin:"left"})},mw=({gameOver:s,onPauseGame:r,onResumeGame:o,onNextRound:l,feedbackProgress:u,currentMode:h="neighborhoods",isPaused:g=!1})=>f.jsxs("div",{style:hi.buttonContainer,children:[!s&&h!=="famous_places"&&f.jsx(f.Fragment,{children:g?f.jsxs("button",{onClick:()=>o==null?void 0:o(),className:"pixel-btn pixel-btn--success",style:hi.button("resume"),children:[f.jsx(Qx,{size:16,color:"var(--text-primary)"}),"Retomar"]}):f.jsxs("button",{onClick:r,className:"pixel-btn pixel-btn--warning",style:hi.button("pause"),children:[f.jsx(Xx,{size:16,color:"var(--text-primary)"}),"Pausar"]})}),!s&&f.jsxs("button",{onClick:l,className:"pixel-btn pixel-btn--success",style:hi.button("next"),children:[f.jsx("div",{style:hi.progressBar(u,"rgba(50, 205, 50, 0.3)")}),f.jsx("div",{style:hi.progressBar(100-u,"rgba(255, 0, 0, 0.5)")}),f.jsxs("span",{style:{position:"relative",zIndex:2,display:"flex",alignItems:"center",gap:"4px"},children:[f.jsx(tw,{size:16,color:"var(--text-primary)"}),"Próximo"]})]}),s&&f.jsx("button",{onClick:l,className:"pixel-btn pixel-btn--danger",style:hi.button("retry"),children:f.jsxs("span",{style:{position:"relative",zIndex:2,display:"flex",alignItems:"center",gap:"4px"},children:[f.jsx(ew,{size:16,color:"var(--text-primary)"}),"Tente Outra Vez"]})})]}),Oa={container:(s,r,o)=>({position:"fixed",top:s||r?"auto":o.top,bottom:r||s?0:"auto",left:s||r?0:o.left,right:r?0:"auto",transform:"none",width:r?"100%":"clamp(320px, 25vw, 450px)",maxWidth:s?"100%":"450px",background:"var(--bg-secondary)",color:"var(--text-primary)",zIndex:9999,padding:"clamp(16px, 3vw, 24px)",borderRadius:r?"4px 4px 0 0":"8px",boxShadow:"var(--shadow-xl)",border:"none",margin:"0",animation:s||r?"slideUp 0.3s ease-out":"slideInLeft 0.3s ease-out",maxHeight:r?"90vh":"85vh",overflowY:"auto",display:"flex",flexDirection:"column",gap:"clamp(12px, 2vw, 16px)",fontFamily:"'VT323', monospace",pointerEvents:"auto","@media (max-width: 1200px)":{width:"clamp(300px, 30vw, 400px)",maxWidth:"400px"},"@media (max-width: 768px)":{width:"100%",maxWidth:"100%"}}),contentContainer:{display:"flex",flexDirection:"column",alignItems:"center",gap:"clamp(12px, 2vw, 20px)",justifyContent:"center",flexWrap:"wrap"},scoreDisplay:{display:"flex",gap:"2px",alignItems:"center",justifyContent:"center",flexWrap:"wrap"},scoreValue:{fontSize:"clamp(1.4rem, 3.5vw, 1.8rem)",fontFamily:"'VT323', monospace",fontWeight:400,color:"var(--text-primary)",textShadow:"2px 2px 0px rgba(0, 0, 0, 0.8)"},scoreUnit:{fontSize:"clamp(0.9rem, 2.2vw, 1.1rem)",fontFamily:"'LaCartoonerie', sans-serif",fontWeight:400,marginLeft:"clamp(1px, 0.3vw, 2px)",opacity:.9,textTransform:"uppercase",letterSpacing:"1px"},timeBonus:{fontSize:"clamp(0.9rem, 2.2vw, 1.1rem)",fontFamily:"'LaCartoonerie', sans-serif",fontWeight:400,marginLeft:"clamp(4px, 1vw, 8px)",color:"#FFD700",display:"flex",alignItems:"center",gap:"2px",background:"rgba(255, 215, 0, 0.1)",padding:"2px 6px",borderRadius:"4px",border:"1px solid rgba(255, 215, 0, 0.2)",animation:"pulseText 1s infinite",textTransform:"uppercase",letterSpacing:"1px"},feedbackMessage:s=>({marginTop:"clamp(4px, 1vw, 8px)",color:"#FFD700",fontWeight:400,fontSize:"clamp(1rem, 2.5vw, 1.2rem)",textAlign:"center",fontFamily:"'LaCartoonerie', sans-serif",animation:s?"pulseText 1s infinite":"none",opacity:.95,background:"rgba(255, 215, 0, 0.1)",padding:"clamp(4px, 1vw, 8px)",borderRadius:"6px",border:"1px solid rgba(255, 215, 0, 0.2)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",textTransform:"uppercase",letterSpacing:"1px"}),buttonContainer:{display:"flex",gap:"clamp(8px, 2vw, 12px)",justifyContent:"center",marginTop:"clamp(12px, 3vw, 20px)",flexWrap:"nowrap",width:"100%"},button:s=>({padding:"clamp(8px, 2vw, 12px) clamp(16px, 3vw, 24px)",fontSize:"clamp(0.9rem, 2.2vw, 1.1rem)",background:s==="pause"?"var(--accent-orange)":s==="resume"||s==="next"?"var(--accent-green)":"var(--accent-red)",color:s==="pause"?"#000000":"#ffffff",border:"none",borderRadius:"2px",cursor:"pointer",transition:"all 0.1s steps(1)",fontWeight:400,fontFamily:"'Press Start 2P', monospace",boxShadow:"var(--shadow-md)",flex:s==="pause"||s==="resume"?"0.4":"0.6",maxWidth:s==="retry"?"100%":"none",position:"relative",overflow:"hidden",textTransform:"uppercase",letterSpacing:"1px",minWidth:s==="pause"||s==="resume"?"100px":"120px",zIndex:1,"&:hover":{transform:"translate(-1px, -1px)",boxShadow:"var(--shadow-lg)"},"&:active":{transform:"translate(1px, 1px)",boxShadow:"var(--shadow-sm)"}}),progressBar:(s,r)=>({position:"absolute",top:0,left:0,width:`${s}%`,height:"100%",background:r,transition:"width 0.1s linear",zIndex:1,transform:"translateX(0)",transformOrigin:"left"})},gw=({currentMode:s,currentNeighborhood:r,currentFamousPlace:o,isVisible:l})=>{var h;if(!l)return null;let u;if(s==="famous_places"&&o)u={description:o.description,icon:"landmark",category:((h=o.name)==null?void 0:h.toUpperCase())||"LUGAR FAMOSO"};else return null;return f.jsxs("div",{style:{background:"rgba(0, 0, 0, 0.85)",borderRadius:"12px",padding:"16px",margin:"12px 0 0 0",border:"2px solid rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",animation:"fadeInUp 0.5s ease-out"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",paddingBottom:"8px",borderBottom:"1px solid rgba(255, 255, 255, 0.2)"},children:[f.jsx(St,{name:u.icon,size:20,color:"#FFD700"}),f.jsx("div",{style:{fontSize:"clamp(0.8rem, 2vw, 1rem)",color:"#FFD700",fontFamily:"'LaCartoonerie', sans-serif",fontWeight:400,textTransform:"uppercase",letterSpacing:"1px"},children:u.category})]}),f.jsx("div",{style:{fontSize:"clamp(0.9rem, 2.2vw, 1.1rem)",color:"#fff",fontFamily:"'LaCartoonerie', sans-serif",lineHeight:1.4,marginBottom:"12px",textAlign:"left"},children:u.description}),f.jsx("style",{children:`
          @keyframes fadeInUp {
            0% {
              opacity: 0;
              transform: translateY(20px);
            }
            100% {
              opacity: 1;
              transform: translateY(0);
            }
          }
        `})]})},vw=({achievementData:s,showStreakAnimation:r})=>f.jsxs("div",{style:{textAlign:"center",color:"#fff",fontSize:"clamp(1.1rem, 2.8vw, 1.4rem)",fontFamily:"'Inter', sans-serif",display:"flex",flexDirection:"column",gap:"8px",opacity:.95,marginBottom:"8px"},children:[f.jsxs("div",{style:{fontSize:"clamp(1.3rem, 3.2vw, 1.6rem)",color:s.color,fontFamily:"'LaCartoonerie', sans-serif",fontWeight:400,textAlign:"center",textTransform:"uppercase",letterSpacing:"1px",textShadow:"2px 2px 0px rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[f.jsx(St,{name:s.icon,size:32,color:s.color}),s.title]}),s.streakBonus&&f.jsxs("div",{style:{fontSize:"clamp(0.9rem, 2.2vw, 1.1rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"#FFD700",fontWeight:400,textTransform:"uppercase",letterSpacing:"1px",textShadow:"1px 1px 0px rgba(0, 0, 0, 0.8)",animation:r?"pulseText 0.5s infinite":"none",display:"flex",alignItems:"center",gap:"4px",justifyContent:"center",marginTop:"4px"},children:[f.jsx("span",{style:{fontSize:"16px"},children:"🔥"}),s.streakBonus]})]}),Tp=s=>s.split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()).join(" "),yw=({currentMode:s,currentNeighborhood:r,currentFamousPlace:o,displayedDistance:l,clickTime:u,isCorrectNeighborhood:h})=>f.jsx("div",{style:{fontSize:"clamp(0.9rem, 2.2vw, 1.1rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"#fff",opacity:.9,textAlign:"center",marginTop:"4px",lineHeight:1.4},children:h?f.jsxs(f.Fragment,{children:[s==="famous_places"?`Em ${u.toFixed(2)} seg você acertou ${(o==null?void 0:o.name)||"o lugar famoso"}!`:`Em ${u.toFixed(2)} seg você acertou na mosca o bairro `,s==="neighborhoods"&&f.jsx("span",{style:{color:"#32CD32",fontWeight:600},children:Tp(r)}),s==="neighborhoods"&&"!"]}):f.jsxs(f.Fragment,{children:[s==="famous_places"?`Em ${u.toFixed(2)} seg você clicou a ${Math.round(l)}m de ${(o==null?void 0:o.name)||"o lugar famoso"}`:`Em ${u.toFixed(2)} seg você clicou a ${Math.round(l)}m do bairro `,s==="neighborhoods"&&f.jsx("span",{style:{color:"#32CD32",fontWeight:600},children:Tp(r)}),s==="neighborhoods"&&"!"]})}),Od=({icon:s,value:r,unit:o,timeBonus:l})=>{const u=g=>g>=3?"var(--accent-yellow)":g>=2?"var(--accent-green)":g>=1?"var(--accent-blue)":"var(--accent-yellow)",h=()=>{switch(s){case"target":return f.jsx(Rd,{size:24,color:"var(--accent-green)"});case"clock":return f.jsx(Pm,{size:24,color:"var(--accent-orange)"});default:return f.jsx(Rd,{size:24,color:"var(--accent-green)"})}};return f.jsxs("div",{style:Oa.scoreDisplay,children:[f.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginRight:"clamp(2px, 0.5vw, 4px)",opacity:.9},children:h()}),f.jsx("div",{style:Oa.scoreValue,children:Math.round(r)}),f.jsx("div",{style:Oa.scoreUnit,children:o}),l&&l>0&&f.jsxs("div",{style:{fontSize:"clamp(0.9rem, 2.2vw, 1.1rem)",fontFamily:"'VT323', monospace",fontWeight:400,marginLeft:"clamp(4px, 1vw, 8px)",color:u(l),display:"flex",alignItems:"center",gap:"2px",background:`rgba(${l>=2?"255, 215, 0":"0, 255, 125"}, 0.15)`,padding:"3px 8px",borderRadius:"2px",border:`2px solid rgba(${l>=2?"255, 215, 0":"0, 255, 125"}, 0.3)`,animation:"pulseText 1s infinite",boxShadow:"2px 2px 0px rgba(0, 0, 0, 0.8)"},children:[f.jsx(Tm,{size:16,color:"var(--accent-yellow)"})," +",l.toFixed(1),"s"]})]})},_w=({score:s,timeBonus:r,clickTime:o})=>f.jsxs("div",{style:{display:"flex",gap:"clamp(10px, 2vw, 20px)",alignItems:"center",justifyContent:"center",flexWrap:"wrap"},children:[f.jsx(Od,{icon:"target",value:s,unit:"pts"}),f.jsx(Od,{icon:"clock",value:1e3-o*100,unit:"pts",timeBonus:r})]}),xw=(s,r,o=0)=>{const l=s/1e3;return s===0?{title:"ACERTO PERFEITO!",subtitle:"",icon:"checkcircle",color:"#FFD700",achievement:"BULLSEYE",streakBonus:o>=3?`${o} acertos seguidos!`:null}:l<.5?{title:"INCRÍVEL!",subtitle:"",icon:"sparkles",color:"#FFA500",achievement:"NEAR_PERFECT",streakBonus:o>=2?`${o} acertos seguidos!`:null}:l<1?{title:"EXCELENTE!",subtitle:"",icon:"sparkles",color:"#32CD32",achievement:"EXCELLENT",streakBonus:null}:l<2?{title:"MUITO BOM!",subtitle:"",icon:"thumbsup",color:"#00CED1",achievement:"GOOD",streakBonus:null}:l<5?{title:"QUASE LÁ!",subtitle:"",icon:"helpcircle",color:"#FFD700",achievement:"CLOSE",streakBonus:null}:{title:"OPS!",subtitle:"",icon:"frown",color:"#FF6B6B",achievement:"FAR",streakBonus:null}},ww=s=>s>=ci.PERFECT?di.PERFECT:s>=ci.EXCELLENT?di.EXCELLENT:s>=ci.GREAT?di.GREAT:s>=ci.GOOD?di.GOOD:s>=ci.DECENT?di.DECENT:s>=ci.FAIR?di.FAIR:s>=ci.CLOSE?di.CLOSE:0,bw=(s,r,o)=>{if(!s||o)return{top:"20px",left:"20px"};const l="20px",u=s.lat,h=window.innerHeight,x=(u- -24.1)/.8;return{top:`${Math.max(20,Math.min(h-200,x*h*.6))}px`,left:l}},Sw=(s,r,o,l,u)=>{const h=performance.now();let g,x=!1;const y=w=>{if(x)return;const b=w-h,E=Math.min(b/o,1),M=E<.5?4*E*E*E:1-Math.pow(-2*E+2,3)/2,T=s+(r-s)*M;l(T),E<1&&!x?g=requestAnimationFrame(y):x||u()};return typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(()=>{x||(g=requestAnimationFrame(y))}):g=requestAnimationFrame(y),()=>{x=!0,g&&cancelAnimationFrame(g)}},kw=(s,r)=>s===0&&r>=2,Ew=(s,r,o)=>wm(s,r,o),Cw=({showFeedback:s,clickedPosition:r,arrowPath:o,clickTime:l,feedbackProgress:u,onNextRound:h,calculateDistance:g,calculateScore:x,getProgressBarColor:y,geoJsonData:w,gameOver:b,onPauseGame:E,onResumeGame:M,score:T,currentNeighborhood:P,currentMode:R="neighborhoods",currentFamousPlace:z,totalScore:V=0,roundNumber:Y=1,consecutiveCorrect:G=0,bestStreak:ee=0,isPaused:oe})=>{const[ae,ge]=k.useState(0),[q,J]=k.useState(0),[xe,ve]=k.useState(!1),[ne,je]=k.useState(""),[ce,he]=k.useState({top:"50%",left:"50%"}),[fe,Ce]=k.useState(0),[Z,le]=k.useState(!1),K=window.innerWidth<=768;k.useEffect(()=>{if(s&&r){const se=o?g(r,o[1]):0,U=x(se,l);ve(!0),ge(se),J(0),je(Ew(se,l,G)),kw(se,G)&&(le(!0),setTimeout(()=>le(!1),3e3));const ue=ww(U.total);Ce(ue);const de=Sw(0,l,2e3,Me=>J(Me),()=>ve(!1));return()=>de()}},[s,r,o,l,x,g,G]),k.useEffect(()=>{if(r){const se=bw(r,o,K);he(se)}},[r,o,K]);const j=ae===0,B=xw(ae,l,G);return b?null:f.jsxs("div",{className:"feedback-panel-container",style:{...Oa.container(!1,K,ce),zIndex:10020},children:[r&&f.jsxs("div",{style:Oa.contentContainer,children:[f.jsx(vw,{achievementData:B,showStreakAnimation:Z}),f.jsx(yw,{currentMode:R,currentNeighborhood:P,currentFamousPlace:z,displayedDistance:ae,clickTime:l,isCorrectNeighborhood:j}),f.jsx(_w,{score:T,timeBonus:fe,clickTime:l})]}),f.jsx(mw,{gameOver:b,onPauseGame:E,onNextRound:()=>{w&&h(w)},feedbackProgress:u,currentMode:R,onResumeGame:M,isPaused:oe}),f.jsx(gw,{currentMode:R,currentNeighborhood:P,currentFamousPlace:z,isVisible:!0}),f.jsx("style",{children:`
          @keyframes rollDigits {
            0% {
              transform: translateY(-400px);
            }
            100% {
              transform: translateY(0);
            }
          }
          @keyframes pulseText {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
          }
          @keyframes fadeInScale {
            0% { 
              opacity: 0;
              transform: translate(-50%, -50%) scale(0.95);
            }
            100% { 
              opacity: 1;
              transform: translate(-50%, -50%) scale(1);
            }
          }
          @keyframes pulseScore {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
          }
          @keyframes slideIn {
            0% {
              opacity: 0;
              transform: translate(-50%, -20px);
            }
            100% {
              opacity: 1;
              transform: translate(-50%, 0);
            }
          }
          @keyframes slideInLeft {
            0% {
              opacity: 0;
              transform: translateX(-100%);
            }
            100% {
              opacity: 1;
              transform: translateX(0);
            }
          }
          @keyframes slideUp {
            0% {
              opacity: 0;
              transform: translateY(20px);
            }
            100% {
              opacity: 1;
              transform: translateY(0);
            }
          }
          @keyframes streakGlow {
            0% { 
              box-shadow: 0 0 5px rgba(255, 215, 0, 0.5);
            }
            50% { 
              box-shadow: 0 0 20px rgba(255, 215, 0, 0.8);
            }
            100% { 
              box-shadow: 0 0 5px rgba(255, 215, 0, 0.5);
            }
          }

          /* Estilos responsivos para o modal */
          @media (max-width: 1200px) {
            .feedback-panel-container {
              width: clamp(300px, 30vw, 400px) !important;
              max-width: 400px !important;
            }
          }
          
          @media (max-width: 768px) {
            .feedback-panel-container {
              width: 100% !important;
              max-width: 100% !important;
              left: 0 !important;
              right: 0 !important;
            }
          }
          
          @media (max-width: 480px) {
            .feedback-panel-container {
              padding: 12px !important;
              gap: 8px !important;
            }
          }

          button {
            -webkit-tap-highlight-color: transparent;
          }
          
          button:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.3);
          }
        `})]})},Pw=({geoJsonData:s,revealedNeighborhoods:r,currentNeighborhood:o,onMapClick:l,geoJsonRef:u})=>f.jsx(p_,{data:s,style:h=>fd(h,r,o),eventHandlers:{click:h=>{Ct.DomEvent.stopPropagation(h),l(h.latlng)},mouseover:h=>{var y;const g=h.target,x=g.feature;x&&r.has((y=x.properties)==null?void 0:y.NOME)&&g.setStyle({...fd(x,r,o),fillOpacity:.7})},mouseout:h=>{const g=h.target,x=g.feature;x&&g.setStyle(fd(x,r,o))}},ref:u}),Tw=({map:s,distanceCircle:r,onAnimationComplete:o})=>{const l=k.useRef(null),u=k.useRef(!1);return k.useEffect(()=>{if(!s||!r||u.current)return;u.current=!0;const h=s.getPanes().overlayPane.querySelector("svg");if(h&&!h.querySelector("#whiteGradient")){const T=document.createElementNS("http://www.w3.org/2000/svg","defs");T.innerHTML=`
        <radialGradient id="whiteGradient" cx="50%" cy="50%" r="50%">
          <stop offset="0%" stop-color="white" stop-opacity="0" />
          <stop offset="80%" stop-color="white" stop-opacity="0" />
          <stop offset="99%" stop-color="white" stop-opacity="1" />
        </radialGradient>
      `,h.prepend(T)}const g=r.center instanceof Ct.LatLng?r.center:new Ct.LatLng(r.center.lat,r.center.lng),x=Ct.circle(g,{radius:0,color:"white",fillColor:"url(#whiteGradient)",fillOpacity:1,weight:2,className:"distance-circle"}).addTo(s);l.current=x;const y=800,w=performance.now(),b=r.radius,E=T=>1-Math.pow(1-T,3),M=T=>{const P=T-w,R=Math.min(P/y,1),z=E(R);x.setRadius(b*z),R<1?requestAnimationFrame(M):setTimeout(()=>{s.removeLayer(x),l.current=null,u.current=!1,o==null||o()},1e3)};requestAnimationFrame(M)},[s,r,o]),null},Lw=s=>!s||!s.properties?null:s.properties.NOME&&typeof s.properties.NOME=="string"?s.properties.NOME.trim():s.properties.name&&typeof s.properties.name=="string"?s.properties.name.trim():s.properties.NOME_BAIRRO&&typeof s.properties.NOME_BAIRRO=="string"?s.properties.NOME_BAIRRO.trim():null,Mw=({geoJsonData:s,geoJsonRef:r,updateGameState:o,onStateChange:l,onFeedback:u,onRoundComplete:h,config:g={},onNeighborhoodChanged:x,externalCurrentNeighborhood:y})=>{const[w,b]=k.useState(""),[E,M]=k.useState([]),[T,P]=k.useState(new Set),[R,z]=k.useState(1),[V,Y]=k.useState(4),[G,ee]=k.useState(0),[oe,ae]=k.useState(30),[ge,q]=k.useState(!1),J=k.useRef(!1),xe=k.useRef(0),ve=k.useRef(null),ne=k.useCallback(()=>{console.log("[NeighborhoodManager] Callback onShouldSelectNewNeighborhood disparado"),J.current?console.log("[NeighborhoodManager] Ignorando callback - já selecionando"):Ce()},[]),je=k.useCallback(()=>{console.log("[NeighborhoodManager] TEMPO ESGOTADO - Ativando game over"),ve.current&&(clearTimeout(ve.current),ve.current=null),q(!1),o({gameOver:!0,roundNumber:R,score:G,currentNeighborhood:w,roundTimeLeft:0}),h&&h()},[R,G,w,o,h]),ce=k.useCallback(()=>{console.log("[NeighborhoodManager] Iniciando timer da rodada - tempo restante:",oe),ve.current&&clearTimeout(ve.current),ve.current=setInterval(()=>{ae(j=>{const B=j-1;return console.log("[NeighborhoodManager] Timer rodada:",B,"segundos restantes"),o({roundTimeLeft:B}),B<=0?(console.log("[NeighborhoodManager] TEMPO ESGOTADO - Parando timer"),ve.current&&(clearInterval(ve.current),ve.current=null),je(),0):B})},1e3)},[oe,o,je]),he=k.useCallback(()=>{ve.current&&(console.log("[NeighborhoodManager] Parando timer da rodada"),clearInterval(ve.current),ve.current=null)},[]);k.useEffect(()=>{if(s&&s.features){const j=s.features.map(B=>Lw(B)).filter(B=>B!==null&&typeof B=="string");M(j),Y(Math.min(j.length,4)),console.log("[NeighborhoodManager] Bairros disponíveis:",j)}},[s]);const fe=k.useCallback(()=>R>=V?(console.log("[NeighborhoodManager] JOGO TERMINOU - Todas as rodadas completas"),he(),q(!1),o({gameOver:!0,roundNumber:R,score:G,currentNeighborhood:w}),h&&h(),!0):!1,[R,V,G,w,o,h,he]),Ce=()=>{console.log("[NeighborhoodManager] selectRandomNeighborhood chamado - Stack trace:",new Error().stack);const j=Date.now();if(J.current){console.log("[NeighborhoodManager] selectRandomNeighborhood ignorado - já selecionando");return}if(j-xe.current<100){console.log("[NeighborhoodManager] selectRandomNeighborhood ignorado - muito rápido (debounce)");return}J.current=!0,xe.current=j;try{if(E.length===0){console.log("[NeighborhoodManager] Nenhum bairro disponível");return}const B=E.filter(U=>!T.has(U));if(B.length===0){console.log("[NeighborhoodManager] Todos os bairros revelados - resetando"),P(new Set),z(1),ae(30);const U=E[Math.floor(Math.random()*E.length)];b(U),o({currentNeighborhood:U,roundNumber:1,gameOver:!1,roundTimeLeft:30}),console.log("[NeighborhoodManager] Novo bairro selecionado (reset):",U);return}const se=B[Math.floor(Math.random()*B.length)];console.log("[NeighborhoodManager] Selecionando bairro:",se),b(se),ae(30),o({currentNeighborhood:se,roundNumber:R,gameOver:!1,roundTimeLeft:30}),console.log("[NeighborhoodManager] Novo bairro selecionado:",se)}finally{setTimeout(()=>{J.current=!1},50)}},Z=k.useCallback(()=>{if(console.log("[NeighborhoodManager] startNewRound chamado - rodada atual:",R),fe())return;he();const j=R+1;z(j),ae(30),console.log("[NeighborhoodManager] Avançando para rodada:",j),Ce(),o({roundNumber:j,gameOver:!1,roundTimeLeft:30})},[R,fe,o,he]),le=k.useCallback((j,B)=>{console.log("[NeighborhoodManager] Marcando bairro como encontrado:",j,"pontos:",B),he(),P(U=>new Set([...U,j]));const se=G+B;ee(se),o({revealedNeighborhoods:new Set([...T,j]),score:se}),fe()},[G,T,o,fe,he]);k.useEffect(()=>{console.log("[NeighborhoodManager] useEffect disparado:",{availableNeighborhoodsLength:E.length,currentNeighborhood:w,isSelecting:J.current}),E.length>0&&!w&&!J.current?(console.log("[NeighborhoodManager] Inicializando primeiro bairro"),Ce()):console.log("[NeighborhoodManager] useEffect ignorado:",{reason:E.length===0?"sem bairros disponíveis":w?"bairro já selecionado":"já selecionando"})},[E,w]),k.useEffect(()=>{y&&y!==w&&(console.log("[NeighborhoodManager] Bairro externo alterado:",{anterior:w,novo:y}),b(y),x&&x(y),o({currentNeighborhood:y}),console.log("[NeighborhoodManager] Bairro sincronizado com estado externo"))},[y,w,x,o]),k.useEffect(()=>{w&&ge&&oe>0&&(console.log("[NeighborhoodManager] Iniciando timer para bairro:",w),ce())},[w,ge,oe,ce]),k.useEffect(()=>()=>{ve.current&&clearInterval(ve.current)},[]),k.useEffect(()=>{},[]);const K=mi.useRef(null);return mi.useImperativeHandle(K,()=>({startGame:()=>{console.log("[NeighborhoodManager] Jogo iniciado"),q(!0),z(1),ee(0),P(new Set),ae(30),Ce()},pauseGame:()=>{console.log("[NeighborhoodManager] Jogo pausado"),q(!1),he()},resumeGame:()=>{console.log("[NeighborhoodManager] Jogo retomado"),q(!0),w&&oe>0&&ce()},endGame:()=>{console.log("[NeighborhoodManager] Jogo terminado"),q(!1),he(),o({gameOver:!0})},startNewRound:()=>{console.log("[NeighborhoodManager] Nova rodada iniciada"),Z()},selectRandomNeighborhood:()=>{Ce()},markNeighborhoodAsFound:(j,B)=>{le(j,B)},onShouldSelectNewNeighborhood:ne,getCurrentState:()=>({currentNeighborhood:w,revealedNeighborhoods:T,availableNeighborhoods:E,roundNumber:R,totalRounds:V,roundTimeLeft:oe,isActive:ge,score:G,feedback:null}),getVisualFeedback:()=>({})})),null},jw=({onPlaceChange:s,currentPlace:r,isGameActive:o,roundNumber:l=1,onRoundComplete:u,onStateChange:h,onFeedback:g,config:x={}})=>{const y=k.useRef(null);k.useEffect(()=>{if(o&&!y.current){console.log("[FamousPlacesManagerRefactored] Inicializando modo de lugares famosos");const b={startGame:()=>console.log("Mock startGame"),pauseGame:()=>console.log("Mock pauseGame"),resumeGame:()=>console.log("Mock resumeGame"),endGame:()=>console.log("Mock endGame"),advanceToNextPlace:()=>console.log("Mock advanceToNextPlace"),forceNextRound:()=>console.log("Mock forceNextRound"),selectPlaceFromRound:E=>console.log("Mock selectPlaceFromRound",E),getCurrentState:()=>({currentPlace:null,roundPlaces:[],usedPlaces:new Set,currentRoundIndex:0,roundNumber:1,totalRounds:10,roundTimeLeft:15,isActive:!1,score:0,feedback:null}),getVisualFeedback:()=>({}),getCurrentRound:()=>null,cleanup:()=>console.log("Mock cleanup")};y.current=b}},[o]),k.useEffect(()=>()=>{y.current&&(y.current.cleanup(),y.current=null)},[]);const w=mi.useRef(null);return mi.useImperativeHandle(w,()=>({startGame:()=>{y.current&&y.current.startGame()},pauseGame:()=>{y.current&&y.current.pauseGame()},resumeGame:()=>{y.current&&y.current.resumeGame()},endGame:()=>{y.current&&y.current.endGame()},advanceToNextPlace:()=>{y.current&&y.current.advanceToNextPlace()},forceNextRound:()=>{y.current&&y.current.forceNextRound()},selectPlaceFromRound:b=>{y.current&&y.current.selectPlaceFromRound(b)},getCurrentState:()=>y.current?y.current.getCurrentState():null,getVisualFeedback:()=>y.current?y.current.getVisualFeedback():null,getCurrentRound:()=>y.current?y.current.getCurrentRound():null})),null},Rw=({audioRef:s,successSoundRef:r,errorSoundRef:o,gameStartAudioRef:l,gameState:u,playSuccess:h,playError:g,showPhaseOneMessage:x})=>(k.useEffect(()=>{s.current&&(s.current.volume=u.isMuted?0:u.volume,s.current.loop=!0)},[u.volume,u.isMuted]),k.useEffect(()=>{s.current&&(u.gameStarted&&!u.gameOver?s.current.play():u.gameOver&&(s.current.pause(),s.current.currentTime=0))},[u.gameStarted,u.gameOver]),k.useEffect(()=>{h&&r.current&&(r.current.currentTime=0,r.current.volume=u.isMuted?0:Math.min(u.volume,.7),r.current.play().catch(y=>{console.log("Erro ao tocar som de sucesso:",y)}))},[h,u.volume,u.isMuted]),k.useEffect(()=>{g&&o.current&&(o.current.currentTime=0,o.current.volume=u.isMuted?0:Math.min(u.volume,.7),o.current.play().catch(y=>{console.log("Erro ao tocar som de erro:",y)}))},[g,u.volume,u.isMuted]),k.useEffect(()=>{x&&(l!=null&&l.current)&&!u.isMuted&&(l.current.currentTime=0,l.current.volume=Math.min(u.volume,.8),l.current.play().catch(y=>{console.log("Erro ao tocar música de início:",y)}))},[x,u.volume,u.isMuted,l]),null),Ow=({totalDistance:s,maxDistance:r})=>{const o=(s/1e3).toFixed(1),l=s/r*100,u=h=>h>=90?"var(--accent-red)":h>=70?"var(--accent-orange)":"var(--accent-green)";return f.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"2px",background:"var(--bg-secondary)",border:"none",padding:"4px 8px",borderRadius:"2px",color:"var(--text-primary)",fontFamily:"'VT323', monospace",fontSize:"14px",boxShadow:"var(--shadow-sm)"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[f.jsx(Jx,{size:16,color:"var(--accent-green)"}),f.jsxs("span",{children:[o,"km"]})]}),f.jsx("div",{style:{width:"100%",height:"2px",background:"rgba(255, 255, 255, 0.2)",borderRadius:"1px",overflow:"hidden"},children:f.jsx("div",{style:{width:`${Math.min(l,100)}%`,height:"100%",background:u(l),transition:"width 0.3s ease-in-out"}})})]})},Aw="_overlay_1h2y1_3",Iw="_modal_1h2y1_18",Nw="_header_1h2y1_31",zw="_title_1h2y1_36",Fw="_subtitle_1h2y1_47",Dw="_scoreContainer_1h2y1_55",Bw="_score_1h2y1_55",Uw="_scoreMessage_1h2y1_74",$w="_statsGrid_1h2y1_84",Gw="_statItem_1h2y1_91",Hw="_blue_1h2y1_99",Ww="_green_1h2y1_103",Zw="_orange_1h2y1_107",Vw="_statValue_1h2y1_111",qw="_formSection_1h2y1_119",Kw="_formTitle_1h2y1_123",Jw="_formRow_1h2y1_134",Yw="_nameInput_1h2y1_140",Qw="_saveButton_1h2y1_157",Xw="_errorMessage_1h2y1_182",e1="_successMessage_1h2y1_192",t1="_successText_1h2y1_202",n1="_rankingPosition_1h2y1_211",r1="_rankingTitle_1h2y1_222",o1="_rankingNumber_1h2y1_234",i1="_rankingStatus_1h2y1_244",s1="_topRanking_1h2y1_253",a1="_topRankingTitle_1h2y1_264",l1="_rankingEntry_1h2y1_274",u1="_emptyRanking_1h2y1_282",c1="_actionButtons_1h2y1_291",d1="_actionButton_1h2y1_291",h1="_primary_1h2y1_321",f1="_secondary_1h2y1_325",p1="_tertiary_1h2y1_329",m1="_confetti_1h2y1_334",g1="_confettiPiece_1h2y1_344",ze={overlay:Aw,modal:Iw,header:Nw,title:zw,subtitle:Fw,scoreContainer:Dw,score:Bw,scoreMessage:Uw,statsGrid:$w,statItem:Gw,blue:Hw,green:Ww,orange:Zw,statValue:Vw,formSection:qw,formTitle:Kw,formRow:Jw,nameInput:Yw,saveButton:Qw,errorMessage:Xw,successMessage:e1,successText:t1,rankingPosition:n1,rankingTitle:r1,rankingNumber:o1,rankingStatus:i1,topRanking:s1,topRankingTitle:a1,rankingEntry:l1,emptyRanking:u1,actionButtons:c1,actionButton:d1,primary:h1,secondary:f1,tertiary:p1,confetti:m1,confettiPiece:g1},v1=[{min:1e5,message:"REI DA GEOGRAFIA! Você conhece Santos!",color:"#FFD700"},{min:8e4,message:"MITO SANTISTA! Até as ondas do mar te aplaudem!",color:"#FFA500"},{min:6e4,message:"LENDÁRIO! Você é um Pelé da geografia santista!",color:"#FF8C00"},{min:5e4,message:"MESTRE DOS BAIRROS! Você é um GPS ambulante!",color:"#FF6347"},{min:4e4,message:"IMPRESSIONANTE! Quase um GPS humano!!",color:"#32CD32"},{min:3e4,message:"VC É MAIS SANTISTA QUE PASTEL DE VENTO NA FEIRA!",color:"#00CED1"},{min:25e3,message:"SANTISTA DE CORAÇÃO! Você manja dos bairros!",color:"#9370DB"},{min:2e4,message:"MUITO BOM! Você deve ter ido em algumas aulas de geografia!",color:"#FF69B4"},{min:15e3,message:"BOM JOGO! Mas ainda precisa andar mais pela zona noroeste!",color:"#FFD700"},{min:12e3,message:"QUASE LÁ! Dá um role no bondinho pra pegar umas dicas!",color:"#98FB98"},{min:1e4,message:"MAIS PERDIDO QUE DOIDO NA PONTA DA PRAIA!",color:"#F0E68C"},{min:8e3,message:"Eita! Parece que você não sabe nada de Santos!",color:"#87CEEB"},{min:6e3,message:"Confundiu Santos com o interior do Mato Grosso!",color:"#DDA0DD"},{min:4e3,message:"Te colocaram pra jogar vendado?",color:"#FFB6C1"},{min:2e3,message:"Você achava que o Boqueirão era em Salvador?",color:"#F0E68C"},{min:1e3,message:"Eita! Parece que você não sabe nada de Santos!",color:"#FF6B6B"},{min:500,message:"Confundiu Santos com o interior do Mato Grosso!",color:"#FF4500"},{min:100,message:"Te colocaram pra jogar vendado?",color:"#8B0000"}],y1=s=>v1.find(r=>s>=r.min)||{message:"Eita! Parece que você não sabe nada de Santos!",color:"#FF6B6B"},_1=({score:s})=>{const{message:r,color:o}=y1(s);return f.jsxs("div",{className:ze.scoreContainer,children:[f.jsxs("div",{className:ze.score,style:{color:o},"data-testid":"score-display",children:[s.toLocaleString()," PONTOS"]}),f.jsx("p",{className:ze.scoreMessage,"data-testid":"score-message",children:r})]})},x1=s=>{const r=Math.floor(s/60),o=s%60;return`${r}:${o.toString().padStart(2,"0")}`},w1=s=>`${Math.round(s*100)}%`,b1=({playTime:s,roundsPlayed:r,accuracy:o})=>f.jsxs("div",{className:ze.statsGrid,children:[f.jsxs("div",{className:`${ze.statItem} ${ze.blue}`,"data-testid":"play-time-stat",children:[f.jsx(Pm,{size:20,color:"var(--accent-blue)"}),f.jsx("div",{className:ze.statValue,children:x1(s)})]}),f.jsxs("div",{className:`${ze.statItem} ${ze.green}`,"data-testid":"rounds-stat",children:[f.jsx(Rd,{size:20,color:"var(--accent-green)"}),f.jsxs("div",{className:ze.statValue,children:[r," rodadas"]})]}),f.jsxs("div",{className:`${ze.statItem} ${ze.orange}`,"data-testid":"accuracy-stat",children:[f.jsx(Tm,{size:20,color:"var(--accent-orange)"}),f.jsx("div",{className:ze.statValue,children:w1(o)})]})]}),S1=s=>s.trim()?s.trim().length<2?"O nome deve ter pelo menos 2 caracteres!":s.trim().length>50?"O nome deve ter no máximo 50 caracteres!":s.replace(/[\u{1F600}-\u{1F64F}]|[\u{1F300}-\u{1F5FF}]|[\u{1F680}-\u{1F6FF}]|[\u{1F1E0}-\u{1F1FF}]|[\u{2600}-\u{26FF}]|[\u{2700}-\u{27BF}]/gu,"")!==s?"Não use emojis no nome!":/^[a-zA-ZÀ-ÿ0-9\s\-_\.]+$/.test(s.trim())?null:"Use apenas letras, números, espaços, hífens, pontos e underscores!":"Digite um nome para salvar sua pontuação!",k1=({currentPlayerName:s,score:r,playTime:o,roundsPlayed:l,accuracy:u,onScoreSaved:h})=>{const[g,x]=k.useState(s),[y,w]=k.useState(!1),[b,E]=k.useState(!1),[M,T]=k.useState(null),P=k.useRef(null);k.useEffect(()=>{P.current&&!b&&P.current.focus()},[b]);const R=async()=>{const V=S1(g);if(V){T(V);return}w(!0),T(null);try{await gi.addScore({player_name:g.trim(),score:r,play_time:o,rounds_played:l,accuracy:u})?(E(!0),h()):T("Erro ao salvar pontuação. Tente novamente!")}catch(Y){T("Erro de conexão. Tente novamente!"),console.error("Erro ao salvar pontuação:",Y)}finally{w(!1)}},z=V=>{V.key==="Enter"&&R()};return b?f.jsxs("div",{className:ze.successMessage,role:"alert","aria-live":"polite",children:[f.jsx(ow,{size:24,color:"var(--text-primary)"}),f.jsx("p",{className:ze.successText,children:"PONTUAÇÃO SALVA COM SUCESSO!"})]}):f.jsxs("div",{className:ze.formSection,children:[f.jsx("h3",{className:ze.formTitle,children:"SALVAR NO RANKING"}),f.jsxs("div",{className:ze.formRow,children:[f.jsx("input",{ref:P,type:"text",value:g,onChange:V=>x(V.target.value),placeholder:"Seu nome",maxLength:50,className:ze.nameInput,onKeyPress:z,"aria-label":"Digite seu nome para salvar no ranking","data-testid":"player-name-input"}),f.jsx("button",{onClick:R,disabled:y,className:ze.saveButton,"aria-label":"Salvar pontuação no ranking","data-testid":"save-score-button",children:y?"SALVANDO...":"SALVAR"})]}),M&&f.jsx("p",{className:ze.errorMessage,role:"alert","aria-live":"polite","data-testid":"error-message",children:M})]})},E1=s=>s===1?"🏆 CAMPEÃO ABSOLUTO! 🏆":s<=3?"🥇 TOP 3 - LENDÁRIO! 🥇":s<=10?"🥈 TOP 10 - IMPRESSIONANTE! 🥈":s<=50?"🥉 TOP 50 - MUITO BOM! 🥉":"🎯 NO RANKING! 🎯",C1=({position:s,isVisible:r})=>!r||s===null?null:f.jsxs("div",{className:ze.rankingPosition,"data-testid":"ranking-position",children:[f.jsx("div",{className:ze.rankingTitle,children:"POSIÇÃO NO RANKING"}),f.jsxs("div",{className:ze.rankingNumber,"data-testid":"ranking-number",children:["#",s]}),f.jsx("div",{className:ze.rankingStatus,children:E1(s)})]}),P1=({rankingData:s})=>s.length===0?f.jsxs("div",{className:ze.topRanking,"data-testid":"top-ranking",children:[f.jsx("h3",{className:ze.topRankingTitle,children:"TOP 3 DO RANKING"}),f.jsx("p",{className:ze.emptyRanking,children:"Seja o primeiro a entrar para o ranking!"})]}):f.jsxs("div",{className:ze.topRanking,"data-testid":"top-ranking",children:[f.jsx("h3",{className:ze.topRankingTitle,children:"TOP 3 DO RANKING"}),s.map((r,o)=>f.jsxs("p",{className:ze.rankingEntry,"data-testid":`ranking-entry-${o}`,children:[o+1,". ",r.player_name," - ",r.score.toLocaleString()," pontos"]},o))]}),Lp=["var(--accent-yellow)","var(--accent-green)","var(--accent-blue)","var(--accent-orange)","var(--accent-red)"],T1=({isVisible:s})=>s?f.jsx("div",{className:ze.confetti,children:[...Array(50)].map((r,o)=>f.jsx("div",{className:ze.confettiPiece,style:{left:`${Math.random()*100}%`,background:Lp[Math.floor(Math.random()*Lp.length)],animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*3}s`}},o))}):null,L1=s=>{var l;return`${((l=[{min:1e5,message:"REI DA GEOGRAFIA! Eu conheço Santos!"},{min:8e4,message:"MITO SANTISTA! Até as ondas do mar me aplaudem!"},{min:6e4,message:"LENDÁRIO! Eu sou um Pelé da geografia santista!"},{min:5e4,message:"MESTRE DOS BAIRROS! Eu sou um GPS ambulante!"},{min:4e4,message:"IMPRESSIONANTE! Quase um GPS humano!!"},{min:3e4,message:"SOU MAIS SANTISTA QUE PASTEL DE VENTO NA FEIRA!"},{min:25e3,message:"SANTISTA DE CORAÇÃO! Eu manjo dos bairros!"},{min:2e4,message:"MUITO BOM! Eu devo ter ido em algumas aulas de geografia!"},{min:15e3,message:"BOM JOGO! Mas ainda preciso andar mais pela zona noroeste!"},{min:12e3,message:"QUASE LÁ! Vou dar um rolê no bondinho pra pegar umas dicas!"},{min:1e4,message:"MAIS PERDIDO QUE DOIDO NA PONTA DA PRAIA!"},{min:8e3,message:"Eita! Parece que eu não sei nada de Santos!"},{min:6e3,message:"Confundi Santos com o interior do Mato Grosso!"},{min:4e3,message:"Me colocaram pra jogar vendado?"},{min:2e3,message:"Eu achava que o Boqueirão era em Salvador?"},{min:1e3,message:"Eita! Parece que eu não sei nada de Santos!"},{min:500,message:"Confundi Santos com o interior do Mato Grosso!"},{min:100,message:"Me colocaram pra jogar vendado?"}].find(u=>s>=u.min))==null?void 0:l.message)||"Eita! Parece que eu não sei nada de Santos!"} Joguei o Geosantos e fiz ${s} pontos! Jogue agora em https://hericmr.github.io/geosantos e veja quanto você consegue fazer!`},M1=async s=>{const r=L1(s);try{navigator.share?await navigator.share({text:r}):(await navigator.clipboard.writeText(r),alert("Texto copiado para a área de transferência! Desafie uma pessoa, compartilhe o jogo!"))}catch(o){console.error("Erro ao compartilhar:",o);try{await navigator.clipboard.writeText(r),alert("Texto copiado para a área de transferência! Desafie uma pessoa, compartilhe o jogo!")}catch(l){console.error("Erro no fallback:",l),alert("Erro ao compartilhar. Tente copiar manualmente o link do jogo.")}}},j1=({score:s,onPlayAgain:r,onClose:o})=>f.jsxs("div",{className:ze.actionButtons,children:[f.jsxs("button",{onClick:r,className:`${ze.actionButton} ${ze.primary}`,"aria-label":"Jogar novamente","data-testid":"play-again-button",children:[f.jsx(Jd,{size:16,color:"var(--text-primary)"}),"JOGAR NOVAMENTE"]}),f.jsxs("button",{onClick:()=>M1(s),className:`${ze.actionButton} ${ze.secondary}`,"aria-label":"Compartilhar pontuação","data-testid":"share-button",children:[f.jsx(Yx,{size:16,color:"var(--text-primary)"}),"COMPARTILHAR"]}),f.jsxs("button",{onClick:o,className:`${ze.actionButton} ${ze.tertiary}`,"aria-label":"Voltar ao menu principal","data-testid":"close-button",children:[f.jsx(Lm,{size:16,color:"var(--text-primary)"}),"MENU PRINCIPAL"]})]}),R1={"BOM JOGO! Mas ainda precisa andar mais pela zona noroeste!":"uau_bom_jogo.opus","Confundiu Santos com o interior do Mato Grosso!":"confundiu_santos_com_ointerior_do_mato_grosso.opus","Eita! Parece que você não sabe nada de Santos!":"eita_parece_que_voce_nao_sabe_nada_de_santos_mesmo.opus","Olha, confundiu Santos com":"olha_confundiu_santos_com.opus"},O1=({isOpen:s,onClose:r,onPlayAgain:o,score:l,playTime:u,roundsPlayed:h,accuracy:g,currentPlayerName:x})=>{const[y,w]=k.useState(!1),[b,E]=k.useState([]),[M,T]=k.useState(null),[P,R]=k.useState(!1),[z,V]=k.useState(""),Y=k.useRef(null),G=q=>{const xe=[{min:1e5,message:"REI DA GEOGRAFIA! Você conhece Santos!"},{min:8e4,message:"MITO SANTISTA! Até as ondas do mar te aplaudem!"},{min:6e4,message:"LENDÁRIO! Você é um Pelé da geografia santista!"},{min:5e4,message:"MESTRE DOS BAIRROS! Você é um GPS ambulante!"},{min:4e4,message:"IMPRESSIONANTE! Quase um GPS humano!!"},{min:3e4,message:"VC É MAIS SANTISTA QUE PASTEL DE VENTO NA FEIRA!"},{min:25e3,message:"SANTISTA DE CORAÇÃO! Você manja dos bairros!"},{min:2e4,message:"MUITO BOM! Você deve ter ido em algumas aulas de geografia!"},{min:15e3,message:"BOM JOGO! Mas ainda precisa andar mais pela zona noroeste!"},{min:12e3,message:"QUASE LÁ! Dá um role no bondinho pra pegar umas dicas!"},{min:1e4,message:"MAIS PERDIDO QUE DOIDO NA PONTA DA PRAIA!"},{min:8e3,message:"Eita! Parece que você não sabe nada de Santos!"},{min:6e3,message:"Confundiu Santos com o interior do Mato Grosso!"},{min:4e3,message:"Te colocaram pra jogar vendado?"},{min:2e3,message:"Você achava que o Boqueirão era em Salvador?"},{min:1e3,message:"Eita! Parece que você não sabe nada de Santos!"},{min:500,message:"Confundiu Santos com o interior do Mato Grosso!"},{min:100,message:"Te colocaram pra jogar vendado?"}].find(ve=>q>=ve.min);return xe?xe.message:"Eita! Parece que você não sabe nada de Santos!"},ee=q=>{const J=R1[q];J&&Y.current&&(Y.current.src=C_(J),Y.current.volume=.7,Y.current.play().catch(xe=>{console.log("Erro ao tocar áudio de game over:",xe)}))},oe=async()=>{try{const q=await gi.getTopPlayers(3);q&&E(q.slice(0,3))}catch(q){console.error("Erro ao buscar ranking:",q)}},ae=async()=>{try{const q=await gi.getPlayerPosition(x,l);T(q),R(!0)}catch(q){console.error("Erro ao buscar posição do jogador:",q)}},ge=async()=>{w(!0),await oe(),await ae(),setTimeout(()=>w(!1),3e3)};return k.useEffect(()=>{if(s){w(!1),R(!1),T(null);const q=G(l);V(q),setTimeout(()=>{ee(q)},500)}},[s,l]),s?f.jsxs("div",{className:ze.overlay,role:"dialog","aria-modal":"true","aria-labelledby":"game-over-title","data-testid":"game-over-modal",children:[f.jsx(T1,{isVisible:y}),f.jsx("audio",{ref:Y,preload:"auto"}),f.jsxs("div",{className:ze.modal,children:[f.jsxs("div",{className:ze.header,children:[f.jsx("h1",{id:"game-over-title",className:ze.title,"data-testid":"game-over-title",children:"GAME OVER"}),f.jsx("p",{className:ze.subtitle,children:"DESAFIO GEOGRÁFICO DE SANTOS"})]}),f.jsx(_1,{score:l}),f.jsx(b1,{playTime:u,roundsPlayed:h,accuracy:g}),f.jsx(k1,{currentPlayerName:x,score:l,playTime:u,roundsPlayed:h,accuracy:g,onScoreSaved:ge}),f.jsx(C1,{position:M,isVisible:P}),P&&f.jsx(P1,{rankingData:b}),f.jsx(j1,{score:l,onPlayAgain:o,onClose:r})]})]}):null},A1=({open:s,onClose:r,famousPlace:o,isCentered:l=!0,onTransitionComplete:u,timeProgress:h=0})=>{const[g,x]=k.useState(!1),[y,w]=k.useState(!1),[b,E]=k.useState(!1);if(k.useEffect(()=>{if(s)E(!0),x(!1),w(!1);else{const z=setTimeout(()=>E(!1),300);return()=>clearTimeout(z)}},[s]),!b||!o)return null;const M=()=>x(!0),T=()=>w(!0),P=z=>{z.target===z.currentTarget&&r()},R=l?{position:"fixed",top:"50%",left:"50%",transform:s?"translate(-50%, -50%) scale(1)":"translate(-50%, -50%) scale(0.95)",width:"min(400px, 90vw)",maxHeight:"85vh",zIndex:10010}:{position:"fixed",top:"20px",right:"20px",transform:"none",width:"min(320px, 85vw)",maxHeight:"75vh",zIndex:10010};return f.jsxs(f.Fragment,{children:[l&&f.jsx("div",{onClick:P,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",zIndex:10009,animation:s?"fadeIn 0.3s ease-out":"fadeOut 0.3s ease-out"}}),f.jsxs("div",{style:{...R,background:"var(--bg-secondary)",color:"var(--text-primary)",border:"none",borderRadius:"4px",boxShadow:"var(--shadow-xl)",overflow:"hidden",animation:s?"modalSlideIn 0.3s ease-out":"modalSlideOut 0.3s ease-out",transition:"all 0.3s ease-out",margin:l?"0":"10px"},children:[f.jsxs("div",{style:{position:"relative",padding:l?"12px 16px":"8px 12px",background:"var(--accent-green)",borderBottom:"2px solid var(--text-primary)",overflow:"hidden"},children:[l&&f.jsx("div",{style:{position:"absolute",top:0,left:0,width:`${h}%`,height:"100%",background:"rgba(255, 255, 255, 0.3)",transition:"width 0.1s linear",zIndex:1}}),f.jsx("h2",{style:{margin:0,fontFamily:"'LaCartoonerie', sans-serif",color:"#000000",fontSize:l?"clamp(2.1rem, 2.8vw, 1.4rem)":"clamp(0.9rem, 2.4vw, 1.1rem)",textAlign:"center",textTransform:"none",fontWeight:800,letterSpacing:"1px",textShadow:"none",lineHeight:1.2,position:"relative",zIndex:2},children:o.name})]}),f.jsxs("div",{style:{padding:l?"16px":"8px",maxHeight:l?"calc(85vh - 80px)":"calc(75vh - 60px)",overflowY:"auto",display:"flex",flexDirection:"column",gap:l?"12px":"8px"},children:[f.jsxs("div",{style:{position:"relative",border:"none",borderRadius:"2px",overflow:"hidden",background:"#f0f0f0",minHeight:"120px",display:"flex",alignItems:"center",justifyContent:"center"},children:[!g&&!y&&f.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",background:"#f0f0f0",color:"#666",fontSize:"14px",fontFamily:"'VT323', monospace"},children:"Carregando..."}),y?f.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"8px",color:"#666",fontSize:"14px",fontFamily:"'VT323', monospace"},children:[f.jsx(sw,{size:24,color:"#666"}),"Sem imagem"]}):f.jsx("img",{src:o.imageUrl,alt:o.name,onLoad:M,onError:T,style:{width:"100%",height:"100%",display:g?"block":"none",transition:"opacity 0.3s ease"}})]}),l&&f.jsx("div",{style:{padding:"8px 12px",background:"var(--bg-primary)",border:"none",borderRadius:"2px",textAlign:"center"},children:f.jsx("span",{style:{color:"var(--accent-green)",fontWeight:600,fontSize:"clamp(0.7rem, 1.8vw, 0.9rem)",fontFamily:"'LaCartoonerie', sans-serif",textTransform:"uppercase",letterSpacing:"0.5px",textShadow:"1px 1px 0px #000"},children:o.category})})]}),f.jsx("style",{children:`
          @keyframes fadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
          }
          
          @keyframes fadeOut {
            0% { opacity: 1; }
            100% { opacity: 0; }
          }
          
          @keyframes modalSlideIn {
            0% { 
              opacity: 0;
              transform: ${l?"translate(-50%, -50%) scale(0.9)":"translateX(100%)"};
            }
            100% { 
              opacity: 1;
              transform: ${l?"translate(-50%, -50%) scale(1)":"translateX(0)"};
            }
          }
          
          @keyframes modalSlideOut {
            0% { 
              opacity: 1;
              transform: ${l?"translate(-50%, -50%) scale(1)":"translateX(0)"};
            }
            100% { 
              opacity: 0;
              transform: ${l?"translate(-50%, -50%) scale(0.9)":"translateX(100%)"};
            }
          }
          
          /* Scrollbar simplificada */
          ::-webkit-scrollbar {
            width: 8px;
          }
          
          ::-webkit-scrollbar-track {
            background: var(--bg-primary);
          }
          
          ::-webkit-scrollbar-thumb {
            background: var(--accent-green);
            border: 'none';
          }
          
          ::-webkit-scrollbar-thumb:hover {
            background: #2d5a2d;
          }
        `})]})]})};function Rm(){const[s,r]=k.useState([]),[o,l]=k.useState(!0),[u,h]=k.useState(null);k.useEffect(()=>{(async()=>{try{l(!0);const y=await X0.getFamousPlaces();r(y),console.log("useFamousPlaces: Places after fetch:",y)}catch(y){console.error("Failed to fetch famous places:",y),h("Failed to load famous places.")}finally{l(!1)}})()},[]);function g(){if(s.length===0)return{id:"mock-id",name:"Placeholder",description:"No famous places loaded.",latitude:0,longitude:0,category:"unknown",address:"unknown",imageUrl:"https://via.placeholder.com/56"};const x=Math.floor(Math.random()*s.length);return s[x]}return{places:s,getRandomPlace:g,isLoading:o,error:u}}const I1=()=>{k.useEffect(()=>{const s=Na("80.png"),r=document.createElement("canvas"),o=r.getContext("2d"),l=new Image;return l.onload=()=>{if(o){r.width=l.width*1.5,r.height=l.height*1.5,o.imageSmoothingEnabled=!1,o.drawImage(l,0,0,r.width,r.height);const h=r.toDataURL(),g=document.createElement("style");g.setAttribute("data-cursor-style","true"),g.textContent=`
          .leaflet-container,
          .leaflet-container *,
          .leaflet-interactive,
          .leaflet-interactive * {
            cursor: url("${h}") ${l.width*1.5/2} ${l.height*1.5/2}, crosshair !important;
            touch-action: none !important;
          }
        `,document.head.appendChild(g),r.remove()}},l.src=s,()=>{const u=document.querySelector("style[data-cursor-style]");u&&u.remove()}},[])};delete Ct.Icon.Default.prototype._getIconUrl;Ct.Icon.Default.mergeOptions({iconRetinaUrl:y_,iconUrl:__,shadowUrl:x_});new Ct.Icon({iconUrl:Na("bandeira2.png"),iconSize:[70,70],iconAnchor:[30,60],popupAnchor:[0,-50],className:"bandeira-marker"});new Ct.Icon({iconUrl:Na("bandeira1.png"),iconSize:[70,70],iconAnchor:[30,60],popupAnchor:[0,-50],className:"bandeira-marker"});const N1=({position:s,gameState:r})=>{const[o,l]=k.useState(1),[u,h]=k.useState(!1),[g,x]=k.useState(!0),[y,w]=k.useState(!1),b=k.useRef("");if(k.useEffect(()=>{r.showFeedback||(console.log("🏁 showFeedback é false, removendo animação da bandeira correta"),x(!1))},[r.showFeedback]),k.useEffect(()=>{const M=T=>{console.log("📡 Evento markerClickAnimationComplete recebido, iniciando segunda animação em 0.5s"),setTimeout(()=>{console.log("🎬 Iniciando segunda animação (bandeira correta)"),w(!0),h(!0)},200)};return window.addEventListener("markerClickAnimationComplete",M),()=>{window.removeEventListener("markerClickAnimationComplete",M)}},[]),k.useEffect(()=>{if(!u||!g||!y)return;b.current=`bandeira-correta-${Date.now()}-${Math.random()}`;let M=1;const T=16,P=1e3/ht.fps,R=()=>{M<=T&&g&&(l(M),M++,M<=T?setTimeout(R,P):(console.log("🏁 Animação da bandeira correta terminou, último frame permanecerá até o fim do round"),h(!1)))};setTimeout(R,P)},[u,g,y]),!g)return null;const E=new Ct.DivIcon({html:`
      <div class="bandeira-correta-marker" style="width: ${ht.size}px; height: ${ht.size}px; position: relative;">
        <img id="${b.current}" src="${bm(`${o}.png`)}"
             style="width: 100%; height: 100%; object-fit: contain; filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3)) drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2)) contrast(1.3) saturate(1.4);" />
      </div>
    `,className:"bandeira-correta-marker-icon",iconSize:[ht.size,ht.size],iconAnchor:[85,ht.anchorY]});return f.jsx(Es,{position:s,icon:E})},z1=({center:s,zoom:r})=>{I1(),k.useEffect(()=>{(()=>{const Re=new Image,Xe=new Image;Re.src=Na("bandeira1.png"),Xe.src=Na("bandeira2.png");const Je=[];for(let Ve=1;Ve<=16;Ve++){const ut=new Image;ut.src=Gr(`${Ve}.png`),Je.push(ut)}console.log("🖼️ Pré-carregamento iniciado: 2 bandeiras + 16 sprites"),Promise.all([new Promise(Ve=>{Re.onload=()=>Ve("bandeira1"),Re.onerror=()=>console.warn("❌ Erro ao carregar bandeira1")}),new Promise(Ve=>{Xe.onload=()=>Ve("bandeira2"),Xe.onerror=()=>console.warn("❌ Erro ao carregar bandeira2")}),...Je.map((Ve,ut)=>new Promise(Rt=>{Ve.onload=()=>Rt(`sprite${ut+1}`),Ve.onerror=()=>console.warn(`❌ Erro ao carregar sprite${ut+1}`)}))]).then(()=>{console.log("✅ Todas as imagens foram pré-carregadas com sucesso!")}).catch(Ve=>{console.error("❌ Erro durante o pré-carregamento:",Ve)})})()},[]);const[o,l]=k.useState(null),[u,h]=k.useState(!1),[g,x]=k.useState({playTime:0,roundsPlayed:0,accuracy:0}),{playerName:y,initializePlayerName:w}=jm(),b=k.useRef(null),E=k.useRef(null),[M,T]=k.useState("neighborhoods"),[P,R]=k.useState(null),[z,V]=k.useState(!1),[Y,G]=k.useState(!0),[ee,oe]=k.useState(!1),[ae,ge]=k.useState(0),q=k.useRef(""),{places:J}=Rm(),xe=k.useRef(null),[ve,ne]=k.useState(r),[je,ce]=k.useState(s),he=k.useRef(null),{mapRef:fe,geoJsonRef:Ce,audioRef:Z,successSoundRef:le,errorSoundRef:K,isPaused:j,showPhaseOneMessage:B,distanceCircle:se,gameState:U,handleMapClick:ue,handleVolumeChange:de,handleToggleMute:Me,handlePauseGame:Ee,handleResumeGame:Ie,handleNextRound:Ge,handleStartGame:wt,setDistanceCircle:nt,updateGameState:rt}=E_(o,M,P,ee),lt=k.useCallback(we=>{console.log("🔍 [Map.tsx] handleMapClick chamado com:",we),console.log("🔍 [Map.tsx] Estado do jogo:",{gameStarted:U.gameStarted,isCountingDown:U.isCountingDown,showFeedback:U.showFeedback}),ue(we)},[ue,U.gameStarted,U.isCountingDown,U.showFeedback]),jt=k.useCallback(()=>{if(!J||J.length===0)return;let we=Math.floor(Math.random()*J.length);if(J.length>1&&P){let Re=0;for(;J[we].id===P.id&&Re<10;)we=Math.floor(Math.random()*J.length),Re++}console.log("[selectNextFamousPlace] currentFamousPlace antes:",P),R(J[we]),setTimeout(()=>{console.log("[selectNextFamousPlace] currentFamousPlace depois:",J[we])},0)},[J,P]);k.useEffect(()=>{xe.current=(P==null?void 0:P.id)??null},[P]),k.useEffect(()=>{!U.clickedPosition&&he.current&&he.current.parentNode&&(console.log("🏁 clickedPosition é null, removendo sprite do clique"),he.current.parentNode.removeChild(he.current),he.current=null)},[U.clickedPosition]),k.useEffect(()=>{M==="famous_places"&&U.gameStarted&&J.length>0&&!P&&jt(),M!=="famous_places"&&R(null)},[M,U.gameStarted,J,jt]),k.useEffect(()=>{var we;if(U.clickedPosition){console.log("🎯 Clique detectado! Posição:",U.clickedPosition),console.log("⚙️ Configuração do sprite:",ht),q.current=`sprite-frame-${Date.now()}-${Math.random()}`,console.log("🆔 ID do sprite gerado:",q.current);let Re=1;const Xe=16,Je=document.createElement("div");Je.id=q.current,Je.className="sprite-animation-container",he.current=Je;const Ve=U.clickedPosition.lng,ut=U.clickedPosition.lat,Rt=fe.current;if(Rt){const Ye=Rt.latLngToContainerPoint([ut,Ve]);Je.style.cssText=`
          position: absolute;
          left: ${Ye.x-ht.anchorX}px;
          top: ${Ye.y-ht.anchorY}px;
          width: ${ht.size}px;
          height: ${ht.size}px;
          z-index: 10000;
          pointer-events: none;
          background: transparent;
        `,console.log(`📍 Posição do clique: ${Ve}, ${ut}`),console.log(`🖥️ Posição na tela: ${Ye.x}, ${Ye.y}`),console.log(`🎯 Posição final com ancoragem: ${Ye.x-ht.anchorX}, ${Ye.y-ht.anchorY}`)}else Je.style.cssText=`
          position: fixed;
          left: 50%;
          top: 50%;
          transform: translate(-50%, -50%);
          width: ${ht.size}px;
          height: ${ht.size}px;
          z-index: 10000;
          pointer-events: none;
          background: transparent;
        `;const Kt=document.createElement("img");Kt.style.cssText=`
        width: 100%;
        height: 100%;
        object-fit: contain;
        display: block;
        filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3)) drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2)) contrast(1.3) saturate(1.4);
      `,Kt.src=Gr("1.png"),Je.appendChild(Kt);const tn=(we=fe.current)==null?void 0:we.getContainer();tn?(tn.appendChild(Je),console.log("🖼️ Sprite adicionado ao container do mapa")):(document.body.appendChild(Je),console.log("🖼️ Sprite adicionado ao body (fallback)")),console.log("🖼️ Elemento HTML do sprite criado e adicionado ao DOM"),console.log(`📏 Tamanho: ${ht.size}px`),console.log(`⏱️ Frame delay: ${ht.frameDelay}ms`),console.log(`🎬 FPS: ${ht.fps}`);const tr=()=>{if(console.log(`🖼️ Frame ${Re}:`,Gr(`${Re}.png`)),Re<=Xe)if(Kt.src=Gr(`${Re}.png`),Re++,Re<=Xe)console.log(`⏰ Próximo frame em ${ht.frameDelay}ms`),setTimeout(tr,ht.frameDelay);else{console.log("🏁 Animação do clique terminou, último frame permanecerá até o fim do round");const Ye=new CustomEvent("markerClickAnimationComplete",{detail:{timestamp:Date.now(),position:U.clickedPosition}});window.dispatchEvent(Ye),console.log("📡 Evento markerClickAnimationComplete disparado")}else console.log("❌ Animação finalizada")};console.log(`⏰ Iniciando animação em ${ht.frameDelay}ms...`),setTimeout(tr,ht.frameDelay)}},[U.clickedPosition]),k.useEffect(()=>{const we=Re=>{if(!U.gameStarted||!fe.current)return;Re.preventDefault();const Xe=fe.current,Je=Xe.getZoom(),Ve=Xe.getCenter();switch(Re.key.toLowerCase()){case"z":Je<18&&(Xe.setZoom(Je+1),ne(Je+1));break;case"x":Je>10&&(Xe.setZoom(Je-1),ne(Je-1));break;case"arrowup":case"arrowdown":case"arrowleft":case"arrowright":const ut=.01;let Rt=Ve.lat,Kt=Ve.lng;switch(Re.key.toLowerCase()){case"arrowup":Rt+=ut;break;case"arrowdown":Rt-=ut;break;case"arrowleft":Kt-=ut;break;case"arrowright":Kt+=ut;break}const tn=Ct.latLng(Math.max(-24.1,Math.min(-23.8,Rt)),Math.max(-46.5,Math.min(-46.2,Kt)));Xe.panTo(tn,{animate:!0}),ce([tn.lat,tn.lng]);break}};return window.addEventListener("keydown",we),()=>{window.removeEventListener("keydown",we)}},[U.gameStarted]),k.useEffect(()=>{if(M==="famous_places"&&P&&U.gameStarted){console.log("[useEffect] Iniciando sequência do modal do lugar famoso:",P),G(!0),V(!0),oe(!0),ge(0);const we=Date.now(),Re=2e3,Xe=setInterval(()=>{const ut=Date.now()-we,Rt=Math.min(ut/Re*100,100);ge(Rt)},50),Je=setTimeout(()=>{console.log("[Modal] Movendo para o canto após 2 segundos"),G(!1),ge(0),clearInterval(Xe)},2e3),Ve=setTimeout(()=>{console.log("[Modal] Iniciando timer após transição"),oe(!1)},2300);return()=>{clearTimeout(Je),clearTimeout(Ve),clearInterval(Xe)}}else M!=="famous_places"&&(V(!1),G(!0),oe(!1),ge(0))},[M,P,U.gameStarted]),k.useEffect(()=>{(async()=>{try{const Re=await fetch("/geosantos//data/bairros.geojson");if(!Re.ok)throw new Error(`HTTP error! status: ${Re.status}`);const Xe=await Re.json();l(Xe)}catch(Re){console.error("Error fetching geojson data:",Re),l(null)}})()},[]),k.useEffect(()=>{fe.current&&(window.mapInstance=fe.current)},[fe.current]),k.useEffect(()=>{E.current&&(U.gameStarted&&!U.gameOver&&!U.isMuted?(E.current.volume=U.volume*.3,E.current.play().catch(we=>{console.log("Erro ao tocar música de fundo:",we)})):(U.gameOver||U.isMuted)&&E.current.pause())},[U.gameStarted,U.gameOver,U.isMuted,U.volume]),k.useEffect(()=>{E.current&&(E.current.volume=U.volume*.3)},[U.volume]),k.useEffect(()=>{if(U.gameOver&&!u){const we=Date.now(),Re=Math.floor((we-(U.lastClickTime||we))/1e3),Xe=Math.max(0,Math.min(1,1-U.totalDistance/6e3));x({playTime:Math.max(1,Re),roundsPlayed:U.roundNumber,accuracy:Xe}),h(!0)}},[U.gameOver,u,U.lastClickTime,U.totalDistance,U.roundNumber]);const kn=k.useCallback(we=>{console.log("[handleNextRoundWithFamousPlaceReset] chamada. currentFamousPlace:",P),Ge(we),M==="famous_places"&&setTimeout(()=>{console.log("[handleNextRoundWithFamousPlaceReset] chamando selectNextFamousPlace"),jt()},0)},[M,Ge,jt,P]);return f.jsxs("div",{style:{margin:0,padding:0,width:"100vw",height:"100vh",overflow:"hidden"},children:[f.jsx("audio",{ref:Z,preload:"auto"}),f.jsx("audio",{ref:le,src:"/geosantos//assets/audio/sucess.mp3",preload:"auto"}),f.jsx("audio",{ref:K,src:"/geosantos//assets/audio/error.mp3",preload:"auto"}),f.jsx("audio",{ref:b,src:"/geosantos//assets/audio/game-start.mp3",preload:"auto"}),f.jsx("audio",{ref:E,src:"/geosantos//assets/audio/game_music.mp3",preload:"auto",loop:!0,onError:we=>{console.error("Erro ao carregar game_music.mp3:",we)},onLoadStart:()=>{console.log("Iniciando carregamento de game_music.mp3")},onCanPlay:()=>{console.log("game_music.mp3 carregado com sucesso")}}),f.jsx("style",{children:`
          .bandeira-marker {
            animation: plantBandeira 0.3s ease-out;
            transform-origin: bottom center;
            z-index: 2000;
          }

          @keyframes plantBandeira {
            0% {
              transform: scale(0.1) translateY(50px);
              opacity: 0;
            }
            50% {
              transform: scale(1.2) translateY(-5px);
              opacity: 1;
            }
            100% {
              transform: scale(1) translateY(0);
              opacity: 1;
            }
          }

          @keyframes plantSprite {
            0% {
              transform: scale(0.1) translateY(50px);
              opacity: 0;
            }
            50% {
              transform: scale(1.2) translateY(-5px);
              opacity: 1;
            }
            100% {
              transform: scale(1) translateY(0);
              opacity: 1;
            }
          }




          /* Ajustes para dispositivos móveis */
          @media (max-width: 768px) {
            .leaflet-container {
              touch-action: none !important;
            }

            .leaflet-control-container {
              display: none;
            }
          }

          /* Melhorias de acessibilidade */
          @media (prefers-reduced-motion: reduce) {
            * {
              animation-duration: 0.01ms !important;
              animation-iteration-count: 1 !important;
              transition-duration: 0.01ms !important;
              scroll-behavior: auto !important;
            }
          }

          /* Melhor contraste para textos */
          .game-text {
            text-shadow: 2px 2px 0px rgba(0, 0, 0, 0.8);
            font-family: 'VT323', monospace;
          }

          /* Indicador de foco melhorado */
          *:focus {
            outline: 3px solid var(--accent-green);
            outline-offset: 2px;
          }

          /* Loading spinner */
          .loading-spinner {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 2000;
            background: var(--bg-secondary);
            border: 2px solid var(--text-primary);
            padding: 20px;
            border-radius: 2px;
            color: var(--text-primary);
            text-align: center;
            box-shadow: var(--shadow-md);
            font-family: 'VT323', monospace;
          }

          @keyframes fadeInOut {
            0% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
            10% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
            80% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
            100% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
          }

          @keyframes fadeInOut {
            0% { opacity: 0; }
            10% { opacity: 1; }
            80% { opacity: 1; }
            100% { opacity: 0; }
          }

          @keyframes slideInUp {
            0% {
              opacity: 0;
              transform: translateY(30px);
            }
            100% {
              opacity: 1;
              transform: translateY(0);
            }
          }

          @keyframes bounceIn {
            0% {
              opacity: 0;
              transform: scale(0.3);
            }
            50% {
              opacity: 1;
              transform: scale(1.05);
            }
            70% {
              transform: scale(0.9);
            }
            100% {
              opacity: 1;
              transform: scale(1);
            }
          }

          @keyframes pulseText {
            0% {
              transform: scale(1);
            }
            50% {
              transform: scale(1.03);
            }
            100% {
              transform: scale(1);
            }
          }
        `}),f.jsx(Rw,{audioRef:Z,successSoundRef:le,errorSoundRef:K,gameStartAudioRef:b,gameState:U,playSuccess:!1,playError:!1,showPhaseOneMessage:B}),U.gameStarted&&f.jsxs(f.Fragment,{children:[f.jsx("div",{style:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",display:"flex",gap:"20px",alignItems:"center",zIndex:1e3},children:f.jsx(Od,{icon:"target",value:U.score,unit:"pts"})}),f.jsx("div",{style:{position:"fixed",top:"20px",right:"20px",zIndex:1e3},children:f.jsx(Ow,{totalDistance:U.totalDistance,maxDistance:4e3})})]}),U.gameStarted&&f.jsxs(ks,{center:je,zoom:ve,style:{width:"100%",height:"100%",zIndex:1},zoomControl:!1,attributionControl:!1,ref:fe,children:[f.jsx(Kd,{onClick:lt}),f.jsx(Cs,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"}),M==="famous_places"&&U.showFeedback&&P&&f.jsx(N1,{position:[P.latitude,P.longitude],gameState:U}),U.arrowPath&&f.jsx(g_,{positions:U.arrowPath,color:"#FF0000",weight:3,opacity:.8,dashArray:"10, 10",className:"arrow-path"}),o&&f.jsx(Pw,{geoJsonData:o,revealedNeighborhoods:U.revealedNeighborhoods,currentNeighborhood:U.currentNeighborhood,onMapClick:lt,geoJsonRef:Ce}),M==="neighborhoods"?f.jsx(Mw,{geoJsonData:o,geoJsonRef:Ce,updateGameState:rt,externalCurrentNeighborhood:U.currentNeighborhood,onNeighborhoodChanged:we=>{console.log("[Map] Bairro alterado no NeighborhoodManager:",we)},onStateChange:we=>{we.currentNeighborhood&&rt({currentNeighborhood:we.currentNeighborhood}),we.roundNumber&&rt({roundNumber:we.roundNumber}),we.score!==void 0&&rt({score:we.score}),we.revealedNeighborhoods&&rt({revealedNeighborhoods:we.revealedNeighborhoods})},onFeedback:we=>{console.log("[Map] Feedback recebido do NeighborhoodManager:",we)},onRoundComplete:()=>{if(console.log("[Map] Rodada completada no modo bairros"),U.gameOver){console.log("[Map] Game over detectado - mostrando modal");const we=Date.now(),Re=Math.floor((we-(U.lastClickTime||we))/1e3),Xe=Math.max(0,Math.min(1,1-U.totalDistance/6e3));x({playTime:Math.max(1,Re),roundsPlayed:U.roundNumber,accuracy:Xe}),h(!0)}}}):f.jsx(jw,{onPlaceChange:R,currentPlace:P,isGameActive:U.gameStarted}),fe.current&&se&&f.jsx(Tw,{map:fe.current,distanceCircle:se,onAnimationComplete:()=>nt(null)})]}),U.gameStarted&&f.jsx(aw,{isMuted:U.isMuted,volume:U.volume,onVolumeChange:de,onToggleMute:Me}),f.jsx(pw,{gameStarted:U.gameStarted,currentNeighborhood:U.currentNeighborhood,globalTimeLeft:U.globalTimeLeft,roundTimeLeft:U.roundTimeLeft,roundNumber:U.roundNumber,roundInitialTime:U.roundInitialTime,score:U.score,onStartGame:()=>wt(),getProgressBarColor:xp,currentMode:M,onModeChange:T,currentFamousPlace:P||void 0}),U.gameStarted&&f.jsxs("div",{style:{position:"fixed",bottom:"20px",right:"20px",background:"rgba(0, 0, 0, 0.8)",color:"var(--text-primary)",padding:"8px 12px",borderRadius:"4px",fontSize:"0.8rem",fontFamily:"'LaCartoonerie', sans-serif",zIndex:1e3,display:"flex",flexDirection:"column",gap:"4px",backdropFilter:"blur(4px)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx("span",{style:{color:"var(--accent-green)"},children:"Z"}),f.jsx("span",{children:"Zoom In"}),f.jsx("span",{style:{marginLeft:"8px",color:"var(--accent-green)"},children:"X"}),f.jsx("span",{children:"Zoom Out"})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx("span",{style:{color:"var(--accent-blue)"},children:"↑↓←→"}),f.jsx("span",{children:"Mover Mapa"})]})]}),U.showFeedback&&!u&&f.jsx(Cw,{showFeedback:U.showFeedback,clickedPosition:U.clickedPosition,arrowPath:U.arrowPath,clickTime:U.clickTime,feedbackProgress:U.feedbackProgress,onNextRound:kn,calculateDistance:jd,calculateScore:xm,getProgressBarColor:xp,geoJsonData:o,gameOver:U.gameOver,onPauseGame:Ee,onResumeGame:Ie,score:U.score,currentNeighborhood:U.currentNeighborhood,currentMode:M,currentFamousPlace:P||void 0,isPaused:j}),B&&f.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.95)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",animation:"fadeInOut 3s forwards",zIndex:2e3},children:f.jsxs("div",{style:{textAlign:"center",maxWidth:"90%",animation:"slideInUp 0.8s ease-out 0.3s both"},children:[f.jsx("div",{style:{fontSize:window.innerWidth<768?"3rem":"4rem",marginBottom:"20px",animation:"bounceIn 1s ease-out 0.5s both"},children:M==="neighborhoods"?f.jsx(km,{size:window.innerWidth<768?48:64,color:"var(--accent-green)"}):f.jsx(Em,{size:window.innerWidth<768?48:64,color:"var(--accent-green)"})}),f.jsx("h1",{style:{fontSize:window.innerWidth<768?"2rem":"3rem",color:"var(--accent-green)",marginBottom:"15px",fontWeight:800,textTransform:"uppercase",letterSpacing:"2px",animation:"slideInUp 0.8s ease-out 0.7s both",fontFamily:"'LaCartoonerie', cursive"},children:M==="neighborhoods"?"Nível 1: Bairros Conhecidos":"Lugares Famosos"}),f.jsx("p",{style:{fontSize:window.innerWidth<768?"1rem":"1.3rem",color:"var(--text-primary)",marginBottom:"25px",fontWeight:600,animation:"slideInUp 0.8s ease-out 0.9s both",fontFamily:"'LaCartoonerie', cursive"},children:M==="neighborhoods"?"Clique no mapa onde você acha que está o bairro!":"Encontre o lugar famoso no mapa!"})]})}),f.jsx(O1,{isOpen:u,onClose:()=>{h(!1),window.location.reload()},onPlayAgain:()=>{h(!1),window.location.reload()},score:U.score,playTime:g.playTime,roundsPlayed:g.roundsPlayed,accuracy:g.accuracy,currentPlayerName:y||w()}),f.jsx(A1,{open:z,onClose:()=>V(!1),famousPlace:P,isCentered:Y,timeProgress:ae})]})},F1=()=>{const{places:s,isLoading:r,error:o}=Rm(),[l,u]=k.useState(null),[h,g]=k.useState(!1),x=new Eu.Icon({iconUrl:"https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/images/marker-icon.png",iconSize:[32,48],iconAnchor:[16,48],popupAnchor:[0,-48]}),y=E=>{u(E)},w=()=>{g(!0)},b=()=>{g(!1)};return f.jsxs("div",{style:{maxWidth:1400,minWidth:320,width:"100%",margin:"40px auto",background:"var(--bg-secondary)",border:"4px solid var(--accent-green)",borderRadius:0,boxShadow:"8px 8px 0 #222, 0 0 0 4px #fff",padding:24,fontFamily:"'Press Start 2P', monospace",color:"var(--text-primary)",minHeight:"calc(100vh - 80px)",display:"flex",flexDirection:"row",gap:32,flexWrap:"wrap"},children:[f.jsx(bs,{to:"/",style:{position:"absolute",top:"20px",left:"20px",zIndex:10,background:"#1a4d2e",color:"#fff",border:"none",borderRadius:"6px",padding:"12px 20px",fontSize:"1rem",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",transition:"all 0.2s ease",textDecoration:"none"},children:"← Voltar ao Jogo"}),f.jsxs("div",{style:{flex:"1 1 300px",minWidth:280,maxWidth:400,display:"flex",flexDirection:"column",gap:0,height:"calc(100vh - 120px)",overflowY:"auto",background:"#fff",border:"2px solid #222",borderRadius:0,boxShadow:"4px 4px 0 #222",padding:16},children:[f.jsx("h2",{style:{fontSize:"1.2rem",color:"#222",marginBottom:16,fontFamily:"'Press Start 2P', monospace",textTransform:"uppercase",textAlign:"center",fontWeight:700,textShadow:"2px 2px 0 #ccc"},children:"Lugares Famosos"}),r&&f.jsx("div",{style:{color:"#888",fontSize:"0.9rem",textAlign:"center",fontFamily:"'VT323', monospace"},children:"Carregando lugares..."}),o&&f.jsxs("div",{style:{color:"red",fontSize:"0.9rem",textAlign:"center",fontFamily:"'VT323', monospace"},children:["Erro ao carregar lugares: ",o]}),s.length===0&&!r&&f.jsx("div",{style:{color:"#888",fontSize:"0.9rem",textAlign:"center",fontFamily:"'VT323', monospace"},children:"Nenhum lugar encontrado."}),s.map(E=>f.jsxs("div",{onClick:()=>y(E),style:{display:"flex",alignItems:"center",gap:12,borderBottom:"1px dashed #ccc",padding:"12px 8px",cursor:"pointer",background:(l==null?void 0:l.id)===E.id?"#f0f8f0":"transparent",border:(l==null?void 0:l.id)===E.id?"2px solid var(--accent-green)":"none",borderRadius:(l==null?void 0:l.id)===E.id?"4px":"0",transition:"all 0.2s ease"},onMouseEnter:M=>{(l==null?void 0:l.id)!==E.id&&(M.currentTarget.style.background="#f5f5f5")},onMouseLeave:M=>{(l==null?void 0:l.id)!==E.id&&(M.currentTarget.style.background="transparent")},children:[f.jsx("img",{src:E.imageUrl||"https://via.placeholder.com/48x48?text=?",alt:E.name,style:{width:48,height:48,objectFit:"cover",border:"2px solid #222",background:"#fff",borderRadius:0}}),f.jsxs("div",{style:{flex:1},children:[f.jsx("div",{style:{fontWeight:700,fontSize:"0.8rem",color:"#222",fontFamily:"'Press Start 2P', monospace",lineHeight:1.2,marginBottom:"4px"},children:E.name}),f.jsx("div",{style:{fontSize:"0.7rem",color:"#444",fontFamily:"'VT323', monospace",fontStyle:"italic"},children:E.category})]})]},E.id))]}),f.jsx("div",{style:{flex:"2 1 500px",minWidth:320,maxWidth:900,display:"flex",flexDirection:"column",gap:0,background:"#fff",border:"2px solid #222",borderRadius:0,boxShadow:"4px 4px 0 #222",padding:24,height:"calc(100vh - 120px)",overflowY:"auto",overflowX:"hidden"},children:l?f.jsxs(f.Fragment,{children:[f.jsx("h1",{style:{fontFamily:"'Press Start 2P', monospace",color:"var(--accent-green)",fontSize:"1.4rem",textAlign:"center",textTransform:"uppercase",fontWeight:700,letterSpacing:"1px",textShadow:"2px 2px 0 #222",marginBottom:16},children:l.name}),f.jsx("div",{style:{fontSize:"1rem",color:"#444",textAlign:"center",fontFamily:"'VT323', monospace",fontStyle:"italic",marginBottom:20,padding:"8px 16px",background:"#f0f0f0",border:"1px solid #ccc",borderRadius:"4px"},children:l.category}),f.jsx("img",{src:l.imageUrl||"https://via.placeholder.com/400x250?text=Sem+Imagem",alt:l.name,style:{width:"100%",maxWidth:400,height:250,objectFit:"cover",borderRadius:"8px",margin:"0 auto 20px auto",border:"3px solid #222",boxShadow:"4px 4px 0 #222",background:"#eee"}}),f.jsx("div",{style:{fontSize:"1rem",color:"#222",lineHeight:1.6,textAlign:"justify",fontFamily:"'Georgia', serif",marginBottom:20,padding:"16px",background:"#f9f9f9",border:"1px solid #ddd",borderRadius:"4px"},children:l.description}),f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",padding:"16px",background:"#f0f8f0",border:"1px solid var(--accent-green)",borderRadius:"4px"},children:[f.jsxs("div",{style:{fontSize:"0.9rem",color:"#222",fontFamily:"'VT323', monospace"},children:[f.jsx("strong",{children:"📍 Endereço:"})," ",l.address]}),f.jsxs("div",{style:{fontSize:"0.9rem",color:"#222",fontFamily:"'VT323', monospace"},children:[f.jsx("strong",{children:"🌍 Coordenadas:"})," ",l.latitude,", ",l.longitude]})]}),f.jsx("div",{style:{width:"100%",minHeight:350,height:"auto",marginTop:"20px",border:"3px solid #222",borderRadius:"8px",overflow:"hidden",boxShadow:"4px 4px 0 #222",flexShrink:0},children:f.jsxs(ks,{center:[l.latitude,l.longitude],zoom:15,style:{width:"100%",height:"100%"},scrollWheelZoom:!0,children:[f.jsx(Cs,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© OpenStreetMap contributors"}),f.jsx(Es,{position:[l.latitude,l.longitude],icon:x,children:f.jsx(_p,{children:f.jsxs("div",{style:{fontFamily:"'Press Start 2P', monospace",fontSize:"0.8rem",textAlign:"center"},children:[f.jsx("strong",{children:l.name}),f.jsx("br",{}),f.jsx("span",{style:{fontFamily:"'VT323', monospace",fontSize:"0.9rem",fontStyle:"italic"},children:l.category})]})})})]})})]}):f.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"#888",fontFamily:"'VT323', monospace",fontSize:"1.2rem",textAlign:"center"},children:[f.jsx("div",{style:{fontSize:"3rem",marginBottom:"16px"},children:"📍"}),f.jsx("div",{style:{marginBottom:"8px",fontFamily:"'Press Start 2P', monospace",fontSize:"1rem",color:"#222"},children:"Selecione um lugar"}),f.jsx("div",{style:{marginBottom:"20px"},children:"Clique em um lugar na lista ao lado para ver seus detalhes"}),f.jsx("div",{style:{width:"100%",minHeight:450,height:"auto",border:"3px solid #222",borderRadius:"8px",overflow:"hidden",boxShadow:"4px 4px 0 #222",flexShrink:0},children:f.jsxs(ks,{center:[-23.9618,-46.3322],zoom:12,style:{width:"100%",height:"100%"},scrollWheelZoom:!0,children:[f.jsx(Cs,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© OpenStreetMap contributors"}),s.map(E=>f.jsx(Es,{position:[E.latitude,E.longitude],icon:x,children:f.jsx(_p,{children:f.jsxs("div",{style:{fontFamily:"'Press Start 2P', monospace",fontSize:"0.7rem",textAlign:"center",maxWidth:"200px"},children:[f.jsx("strong",{children:E.name}),f.jsx("br",{}),f.jsx("span",{style:{fontFamily:"'VT323', monospace",fontSize:"0.8rem",fontStyle:"italic"},children:E.category}),f.jsx("br",{}),f.jsx("span",{style:{fontFamily:"'VT323', monospace",fontSize:"0.7rem",color:"#666"},children:E.address})]})})},E.id))]})}),f.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:f.jsx("button",{onClick:w,style:{background:"var(--accent-green)",color:"var(--bg-primary)",border:"3px solid #222",borderRadius:"4px",padding:"12px 20px",fontSize:"0.9rem",fontFamily:"'Press Start 2P', monospace",fontWeight:700,cursor:"pointer",textTransform:"uppercase",letterSpacing:"1px",boxShadow:"4px 4px 0 #222",transition:"all 0.1s ease"},onMouseEnter:E=>{E.currentTarget.style.transform="translate(-2px, -2px)",E.currentTarget.style.boxShadow="6px 6px 0 #222"},onMouseLeave:E=>{E.currentTarget.style.transform="translate(0, 0)",E.currentTarget.style.boxShadow="4px 4px 0 #222"},children:"💡 Sentiu falta de algum lugar? Envie uma sugestão!"})})]})}),h&&f.jsx(Mm,{onClose:b})]})},D1=()=>{const[s,r]=k.useState(null),[o,l]=k.useState("markerclick"),u=P=>({...{size:ht.size,anchorY:ht.anchorY,fps:ht.fps},anchorX:P==="bandeira_correta"?85:25}),[h,g]=k.useState(()=>u(o)),[x,y]=k.useState(!1),w=k.useRef(""),b=()=>(_m({click:P=>{x||r([P.latlng.lat,P.latlng.lng])}}),null),E=(P,R)=>{let z;return R==="bandeira_correta"?(z=bm(`${P}.png`),console.log("🏁 Bandeira Correta - Frame:",P,"URL:",z)):(z=Gr(`${P}.png`),console.log("🎯 Marker Click - Frame:",P,"URL:",z)),z},M=P=>{if(x)return;console.log("🎬 Iniciando animação:",{position:P,type:o}),y(!0),w.current=`sprite-frame-${Date.now()}-${Math.random()}`;let R=1;const z=16,V=1e3/h.fps,Y=()=>{const G=document.getElementById(w.current);if(G&&R<=z){const ee=E(R,o);if(console.log(`🖼️ Frame ${R}:`,ee),G.setAttribute("src",ee),R++,R<=z)setTimeout(Y,V);else{const oe=o==="bandeira_correta"?wp.bandeira_correta:wp.markerclick;console.log(`🎯 Animação terminou! Sprite final permanecerá por ${oe}ms`),setTimeout(()=>{console.log("🗑️ Removendo sprite final"),y(!1),r(null)},oe)}}else console.log("❌ Sprite não encontrado ou frame inválido"),y(!1),r(null)};setTimeout(Y,V)};k.useEffect(()=>{console.log("🔄 useEffect chamado:",{clickedPosition:s,selectedAnimation:o}),s&&(console.log("🎯 Posição clicada, iniciando animação..."),M(s))},[s,o]),k.useEffect(()=>{console.log("🔄 Mudando tipo de animação para:",o);const P=u(o);g(P),console.log("⚙️ Novas configurações aplicadas:",P)},[o]);const T=(P,R)=>{g(z=>({...z,[P]:R}))};return f.jsxs("div",{style:{width:"100vw",height:"100vh",position:"relative"},children:[f.jsxs("div",{style:{position:"absolute",top:"20px",left:"20px",zIndex:1e3,backgroundColor:"rgba(255, 255, 255, 0.95)",padding:"20px",borderRadius:"10px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",minWidth:"300px"},children:[f.jsx("h2",{style:{margin:"0 0 20px 0",color:"#333"},children:"🎮 Configurações da Animação"}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("label",{style:{display:"block",marginBottom:"10px",fontWeight:"bold",color:"#333"},children:"🎬 Tipo de Animação:"}),f.jsxs("div",{style:{display:"flex",gap:"10px"},children:[f.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"5px",cursor:"pointer"},children:[f.jsx("input",{type:"radio",name:"animationType",value:"markerclick",checked:o==="markerclick",onChange:P=>{console.log("🎯 Mudando para Marker Click"),l(P.target.value)}}),f.jsx("span",{style:{fontSize:"14px"},children:"🎯 Marker Click"})]}),f.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"5px",cursor:"pointer"},children:[f.jsx("input",{type:"radio",name:"animationType",value:"bandeira_correta",checked:o==="bandeira_correta",onChange:P=>{console.log("🏁 Mudando para Bandeira Correta"),l(P.target.value)}}),f.jsx("span",{style:{fontSize:"14px"},children:"🏁 Bandeira Correta"})]})]})]}),f.jsxs("div",{style:{marginBottom:"15px"},children:[f.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:["Tamanho: ",h.size,"px"]}),f.jsx("input",{type:"range",min:"30",max:"150",value:h.size,onChange:P=>T("size",parseInt(P.target.value)),style:{width:"100%"}})]}),f.jsxs("div",{style:{marginBottom:"15px"},children:[f.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:["Âncora X: ",h.anchorX,"px"]}),f.jsx("input",{type:"range",min:"0",max:h.size,value:h.anchorX,onChange:P=>T("anchorX",parseInt(P.target.value)),style:{width:"100%"}})]}),f.jsxs("div",{style:{marginBottom:"15px"},children:[f.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:["Âncora Y: ",h.anchorY,"px"]}),f.jsx("input",{type:"range",min:"0",max:h.size,value:h.anchorY,onChange:P=>T("anchorY",parseInt(P.target.value)),style:{width:"100%"}})]}),f.jsxs("div",{style:{marginBottom:"15px"},children:[f.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:["FPS: ",h.fps]}),f.jsx("input",{type:"range",min:"5",max:"30",value:h.fps,onChange:P=>T("fps",parseInt(P.target.value)),style:{width:"100%"}})]}),f.jsx("div",{style:{padding:"10px",backgroundColor:x?"#ffeb3b":"#e8f5e8",borderRadius:"5px",textAlign:"center",fontWeight:"bold"},children:x?"🎬 Animando...":"✅ Pronto para clicar"}),f.jsxs("div",{style:{marginTop:"15px",fontSize:"12px",color:"#666"},children:[f.jsx("p",{children:f.jsx("strong",{children:"Instruções:"})}),f.jsx("p",{children:"• Escolha o tipo de animação acima"}),f.jsx("p",{children:"• Clique em qualquer lugar do mapa para ativar"}),f.jsx("p",{children:"• Ajuste as configurações para personalizar"}),f.jsx("p",{children:"• A animação só funciona quando não está rodando"})]})]}),f.jsxs("div",{style:{position:"absolute",top:"20px",right:"20px",zIndex:1e3,backgroundColor:"rgba(0, 0, 0, 0.9)",color:"white",padding:"20px",borderRadius:"10px",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",minWidth:"280px",fontFamily:"monospace"},children:[f.jsx("h3",{style:{margin:"0 0 15px 0",color:"#00ff88",textAlign:"center"},children:"📊 Dados em Tempo Real"}),f.jsxs("div",{style:{marginBottom:"10px"},children:[f.jsx("span",{style:{color:"#ffaa00"},children:"🎬 Tipo:"}),f.jsx("span",{style:{float:"right",color:"#00ff88"},children:o==="markerclick"?"🎯 Marker Click":"🏁 Bandeira Correta"})]}),f.jsxs("div",{style:{marginBottom:"10px"},children:[f.jsx("span",{style:{color:"#ffaa00"},children:"🎯 Tamanho:"}),f.jsxs("span",{style:{float:"right",color:"#00ff88"},children:[h.size,"px"]})]}),f.jsxs("div",{style:{marginBottom:"10px"},children:[f.jsx("span",{style:{color:"#ffaa00"},children:"📍 Âncora X:"}),f.jsxs("span",{style:{float:"right",color:"#00ff88"},children:[h.anchorX,"px"]})]}),f.jsxs("div",{style:{marginBottom:"10px"},children:[f.jsx("span",{style:{color:"#ffaa00"},children:"📍 Âncora Y:"}),f.jsxs("span",{style:{float:"right",color:"#00ff88"},children:[h.anchorY,"px"]})]}),f.jsxs("div",{style:{marginBottom:"10px"},children:[f.jsx("span",{style:{color:"#ffaa00"},children:"🎬 FPS:"}),f.jsx("span",{style:{float:"right",color:"#00ff88"},children:h.fps})]}),f.jsxs("div",{style:{marginBottom:"10px"},children:[f.jsx("span",{style:{color:"#ffaa00"},children:"⏱️ Delay:"}),f.jsxs("span",{style:{float:"right",color:"#00ff88"},children:[Math.round(1e3/h.fps),"ms"]})]}),f.jsxs("div",{style:{marginBottom:"10px"},children:[f.jsx("span",{style:{color:"#ffaa00"},children:"🔄 Duração Total:"}),f.jsxs("span",{style:{float:"right",color:"#00ff88"},children:[Math.round(16*1e3/h.fps),"ms"]})]}),f.jsx("div",{style:{marginTop:"15px",padding:"8px",backgroundColor:x?"#ff4444":"#00aa44",borderRadius:"5px",textAlign:"center",fontSize:"12px",fontWeight:"bold"},children:x?"🎬 ANIMANDO":"✅ PRONTO"}),s&&f.jsxs("div",{style:{marginTop:"10px",padding:"8px",backgroundColor:"#4444ff",borderRadius:"5px",fontSize:"11px",textAlign:"center"},children:["📍 Lat: ",s[0].toFixed(6),f.jsx("br",{}),"📍 Lng: ",s[1].toFixed(6)]})]}),f.jsxs(ks,{center:[-23.9618,-46.3322],zoom:13,style:{width:"100%",height:"100%"},zoomControl:!0,children:[f.jsx(Cs,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),f.jsx(b,{}),s&&f.jsx(Es,{position:s,icon:new Eu.DivIcon({html:`
                <div class="sprite-marker" style="width: ${h.size}px; height: ${h.size}px; position: relative;">
                  <img id="${w.current}" src="${E(1,o)}" 
                       style="width: 100%; height: 100%; object-fit: contain; animation: plantSprite 0.3s ease-out; filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3)) drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2)) contrast(1.3) saturate(1.4);" />
                </div>
              `,className:"sprite-marker-icon",iconSize:[h.size,h.size],iconAnchor:[h.anchorX,h.anchorY]})})]}),f.jsx("style",{children:`
        .sprite-marker-icon {
          background: transparent !important;
          border: none !important;
        }
        
        @keyframes plantSprite {
          0% {
            transform: scale(0) rotate(0deg);
            opacity: 0;
          }
          50% {
            transform: scale(1.2) rotate(180deg);
            opacity: 0.8;
          }
          100% {
            transform: scale(1) rotate(360deg);
            opacity: 1;
          }
        }
        
        .leaflet-control-zoom {
          margin-right: 20px !important;
        }
      `})]})},B1=()=>{const s=Gr("1.png");return console.log("🧪 SpriteDebug - URL gerada:",s),f.jsxs("div",{style:{padding:"20px",border:"2px solid red",margin:"20px",backgroundColor:"#fff"},children:[f.jsx("h2",{children:"🧪 Debug dos Sprites"}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h3",{children:"URLs de teste:"}),f.jsxs("p",{children:[f.jsx("strong",{children:"getSpriteUrl('1.png'):"})," ",s]}),f.jsxs("p",{children:[f.jsx("strong",{children:"getSpriteUrl('2.png'):"})," ",Gr("2.png")]}),f.jsxs("p",{children:[f.jsx("strong",{children:"getSpriteUrl('16.png'):"})," ",Gr("16.png")]})]}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h3",{children:"Teste de carregamento:"}),f.jsx("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16].map(r=>f.jsxs("div",{style:{border:"1px solid #ccc",padding:"5px",textAlign:"center",width:"80px"},children:[f.jsxs("p",{style:{margin:"0 0 5px 0",fontSize:"12px"},children:["Frame ",r]}),f.jsx("img",{src:Gr(`${r}.png`),alt:`Frame ${r}`,style:{width:"60px",height:"60px",objectFit:"contain",border:"1px solid #ddd"},onLoad:()=>console.log(`✅ Frame ${r} carregado com sucesso`),onError:o=>console.error(`❌ Erro ao carregar frame ${r}:`,o)})]},r))})]}),f.jsxs("div",{style:{marginTop:"20px",padding:"10px",backgroundColor:"#f0f0f0"},children:[f.jsx("h3",{children:"Console Logs:"}),f.jsx("p",{children:"Abra o console do navegador (F12) para ver os logs detalhados"}),f.jsx("p",{children:"Verifique se as URLs estão sendo geradas corretamente"}),f.jsx("p",{children:"Verifique se as imagens estão sendo carregadas"})]})]})},at={useRefactoredModules:!0,neighborhood:{useRefactored:!0},famousPlaces:{useRefactored:!0},common:{useRefactored:!0},gameMode:{useRefactored:!0}},_u=s=>{const r=at;return r.useRefactoredModules?s.includes("neighborhood")?r.neighborhood.useRefactored:s.includes("famousPlaces")||s.includes("famous_places")?r.famousPlaces.useRefactored:s.includes("common")||s.includes("BaseGameMode")?r.common.useRefactored:s.includes("useGameMode")?r.gameMode.useRefactored:!1:!1},U1=s=>{var r;if(_u(s)){const o=s.replace(/\.(ts|tsx)$/,""),l=((r=s.match(/\.(ts|tsx)$/))==null?void 0:r[1])||"ts";return`${o}-refactored.${l}`}return s},$1=s=>{s.includes("neighborhood")?at.neighborhood.useRefactored=!at.neighborhood.useRefactored:s.includes("famousPlaces")||s.includes("famous_places")?at.famousPlaces.useRefactored=!at.famousPlaces.useRefactored:s.includes("common")||s.includes("BaseGameMode")?at.common.useRefactored=!at.common.useRefactored:s.includes("useGameMode")&&(at.gameMode.useRefactored=!at.gameMode.useRefactored),console.log(`[GameModeConfig] Alternado versão para ${s}:`,_u(s))},G1=()=>{at.useRefactoredModules=!at.useRefactoredModules,at.useRefactoredModules?(at.neighborhood.useRefactored=!0,at.famousPlaces.useRefactored=!0,at.common.useRefactored=!0,at.gameMode.useRefactored=!0):(at.neighborhood.useRefactored=!1,at.famousPlaces.useRefactored=!1,at.common.useRefactored=!1,at.gameMode.useRefactored=!1),console.log("[GameModeConfig] Todas as versões alternadas para:",at.useRefactoredModules)},Ad=()=>({global:at.useRefactoredModules,neighborhood:at.neighborhood.useRefactored,famousPlaces:at.famousPlaces.useRefactored,common:at.common.useRefactored,gameMode:at.gameMode.useRefactored});console.log("[GameModeConfig] Configuração carregada:",Ad());class Sn{static async loadModule(r){const o=r;if(this.moduleCache.has(o))return this.moduleCache.get(o);try{let l=r;_u(r)?(l=U1(r),console.log(`[GameModeFactory] Carregando versão refatorada: ${l}`)):console.log(`[GameModeFactory] Carregando versão original: ${l}`);const u=await import(l);return this.moduleCache.set(o,u),u}catch(l){if(console.error(`[GameModeFactory] Erro ao carregar módulo ${r}:`,l),_u(r)){console.log(`[GameModeFactory] Fallback para versão original: ${r}`);try{const u=await import(r);return this.moduleCache.set(o,u),u}catch(u){throw console.error("[GameModeFactory] Fallback também falhou:",u),u}}throw l}}static async createMode(r,o={}){try{let l,u;r==="neighborhoods"?(l="../components/game/modes/NeighborhoodMode/NeighborhoodMode",u="NeighborhoodMode"):(l="../components/game/modes/FamousPlacesMode/FamousPlacesMode",u="FamousPlacesMode");const g=(await this.loadModule(l))[u];if(!g)throw new Error(`Componente ${u} não encontrado no módulo`);return console.log(`[GameModeFactory] Modo ${r} criado com sucesso`),new g(o)}catch(l){throw console.error(`[GameModeFactory] Erro ao criar modo ${r}:`,l),l}}static async createHook(r,o={}){try{let l,u;r==="neighborhoods"?(l="../hooks/modes/useNeighborhoodGame",u="useNeighborhoodGame"):(l="../hooks/modes/useFamousPlacesGame",u="useFamousPlacesGame");const g=(await this.loadModule(l))[u];if(!g)throw new Error(`Hook ${u} não encontrado no módulo`);return console.log(`[GameModeFactory] Hook ${r} criado com sucesso`),g(o)}catch(l){throw console.error(`[GameModeFactory] Erro ao criar hook ${r}:`,l),l}}static async createGameModeHook(r={}){try{const o="../hooks/modes/useGameMode",l="useGameMode",h=(await this.loadModule(o))[l];if(!h)throw new Error(`Hook ${l} não encontrado no módulo`);return console.log("[GameModeFactory] Hook principal criado com sucesso"),h(r)}catch(o){throw console.error("[GameModeFactory] Erro ao criar hook principal:",o),o}}static async loadValidationUtils(r){try{let o;r==="neighborhoods"?o="../utils/modes/neighborhood/validation":o="../utils/modes/famousPlaces/validation";const l=await this.loadModule(o);return console.log(`[GameModeFactory] Utilitários de validação ${r} carregados`),l}catch(o){throw console.error(`[GameModeFactory] Erro ao carregar utilitários de validação ${r}:`,o),o}}static async loadScoringUtils(r){try{let o;r==="neighborhoods"?o="../utils/modes/neighborhood/scoring":o="../utils/modes/famousPlaces/scoring";const l=await this.loadModule(o);return console.log(`[GameModeFactory] Utilitários de pontuação ${r} carregados`),l}catch(o){throw console.error(`[GameModeFactory] Erro ao carregar utilitários de pontuação ${r}:`,o),o}}static clearCache(){this.moduleCache.clear(),console.log("[GameModeFactory] Cache limpo")}static getCacheStatus(){return{size:this.moduleCache.size,keys:Array.from(this.moduleCache.keys())}}}pr(Sn,"moduleCache",new Map);console.log("[GameModeFactory] Factory inicializado");const H1=()=>{const[s,r]=k.useState(!1),[o,l]=k.useState(null),[u,h]=k.useState(Ad()),g=k.useCallback(()=>{h(Ad())},[]),x=k.useCallback(async()=>{try{r(!0),l(null),Sn.clearCache(),G1(),g(),console.log("[useGameModeLoader] Todas as versões alternadas")}catch(T){l(T instanceof Error?T.message:"Erro desconhecido"),console.error("[useGameModeLoader] Erro ao alternar versões:",T)}finally{r(!1)}},[g]),y=k.useCallback(async T=>{try{r(!0),l(null),Sn.clearCache(),$1(T),g(),console.log(`[useGameModeLoader] Versão alternada para ${T}`)}catch(P){l(P instanceof Error?P.message:"Erro desconhecido"),console.error("[useGameModeLoader] Erro ao alternar módulo:",P)}finally{r(!1)}},[g]),w=k.useCallback(async T=>{try{r(!0),l(null),console.log(`[useGameModeLoader] Testando carregamento do modo ${T}`);const P=await Sn.createMode(T);console.log(`[useGameModeLoader] Modo ${T} criado:`,P.mode);const R=await Sn.createHook(T);console.log(`[useGameModeLoader] Hook ${T} criado`);const z=await Sn.loadValidationUtils(T);console.log(`[useGameModeLoader] Utilitários de validação ${T} carregados`);const V=await Sn.loadScoringUtils(T);return console.log(`[useGameModeLoader] Utilitários de pontuação ${T} carregados`),console.log(`[useGameModeLoader] Teste do modo ${T} concluído com sucesso`),{mode:P,hook:R,validation:z,scoring:V}}catch(P){const R=P instanceof Error?P.message:"Erro desconhecido";throw l(R),console.error(`[useGameModeLoader] Erro ao testar modo ${T}:`,P),P}finally{r(!1)}},[]),b=k.useCallback(async()=>{try{r(!0),l(null),console.log("[useGameModeLoader] Testando carregamento do hook principal");const T=await Sn.createGameModeHook();return console.log("[useGameModeLoader] Hook principal criado com sucesso"),T}catch(T){const P=T instanceof Error?T.message:"Erro desconhecido";throw l(P),console.error("[useGameModeLoader] Erro ao testar hook principal:",T),T}finally{r(!1)}},[]),E=k.useCallback(()=>{try{Sn.clearCache(),console.log("[useGameModeLoader] Cache limpo");const T=Sn.getCacheStatus();console.log("[useGameModeLoader] Status do cache:",T)}catch(T){console.error("[useGameModeLoader] Erro ao limpar cache:",T)}},[]),M=k.useCallback(()=>Sn.getCacheStatus(),[]);return k.useEffect(()=>{const T=setInterval(g,1e3);return()=>clearInterval(T)},[g]),{isLoading:s,error:o,moduleStatus:u,toggleAllVersions:x,toggleModule:y,testModeLoading:w,testGameModeHook:b,clearCache:E,getCacheStatus:M,updateModuleStatus:g}},W1=()=>{const{isLoading:s,error:r,moduleStatus:o,toggleAllVersions:l,toggleModule:u,testModeLoading:h,testGameModeHook:g,clearCache:x,getCacheStatus:y}=H1(),w=async P=>{try{console.log(`[GameModeLoaderTest] Testando modo ${P}`);const R=await h(P);console.log(`[GameModeLoaderTest] Resultado do teste ${P}:`,R),alert(`Modo ${P} testado com sucesso!`)}catch(R){console.error(`[GameModeLoaderTest] Erro no teste ${P}:`,R),alert(`Erro ao testar modo ${P}: ${R instanceof Error?R.message:"Erro desconhecido"}`)}},b=async()=>{try{console.log("[GameModeLoaderTest] Testando hook principal");const P=await g();console.log("[GameModeLoaderTest] Resultado do teste hook principal:",P),alert("Hook principal testado com sucesso!")}catch(P){console.error("[GameModeLoaderTest] Erro no teste hook principal:",P),alert(`Erro ao testar hook principal: ${P instanceof Error?P.message:"Erro desconhecido"}`)}},E=async()=>{try{console.log("[GameModeLoaderTest] Alternando todas as versões"),await l(),alert("Todas as versões alternadas!")}catch(P){console.error("[GameModeLoaderTest] Erro ao alternar versões:",P),alert(`Erro ao alternar versões: ${P instanceof Error?P.message:"Erro desconhecido"}`)}},M=async P=>{try{console.log(`[GameModeLoaderTest] Alternando módulo ${P}`),await u(P),alert(`Módulo ${P} alternado!`)}catch(R){console.error(`[GameModeLoaderTest] Erro ao alternar módulo ${P}:`,R),alert(`Erro ao alternar módulo ${P}: ${R instanceof Error?R.message:"Erro desconhecido"}`)}},T=()=>{try{x();const P=y();console.log("[GameModeLoaderTest] Cache limpo:",P),alert("Cache limpo com sucesso!")}catch(P){console.error("[GameModeLoaderTest] Erro ao limpar cache:",P),alert(`Erro ao limpar cache: ${P instanceof Error?P.message:"Erro desconhecido"}`)}};return f.jsxs("div",{className:"game-mode-loader-test",style:{padding:"20px",border:"2px solid #007bff",borderRadius:"8px",margin:"20px",backgroundColor:"#f8f9fa"},children:[f.jsx("h3",{style:{color:"#007bff",marginBottom:"20px"},children:"🧪 Teste do Sistema de Carregamento de Módulos"}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"📊 Status dos Módulos:"}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px"},children:[f.jsxs("div",{style:{padding:"10px",backgroundColor:o.global?"#d4edda":"#f8d7da",borderRadius:"4px"},children:[f.jsx("strong",{children:"Global:"})," ",o.global?"✅ Refatorado":"❌ Original"]}),f.jsxs("div",{style:{padding:"10px",backgroundColor:o.neighborhood?"#d4edda":"#f8d7da",borderRadius:"4px"},children:[f.jsx("strong",{children:"Bairros:"})," ",o.neighborhood?"✅ Refatorado":"❌ Original"]}),f.jsxs("div",{style:{padding:"10px",backgroundColor:o.famousPlaces?"#d4edda":"#f8d7da",borderRadius:"4px"},children:[f.jsx("strong",{children:"Lugares Famosos:"})," ",o.famousPlaces?"✅ Refatorado":"❌ Original"]}),f.jsxs("div",{style:{padding:"10px",backgroundColor:o.common?"#d4edda":"#f8d7da",borderRadius:"4px"},children:[f.jsx("strong",{children:"Comum:"})," ",o.common?"✅ Refatorado":"❌ Original"]}),f.jsxs("div",{style:{padding:"10px",backgroundColor:o.gameMode?"#d4edda":"#f8d7da",borderRadius:"4px"},children:[f.jsx("strong",{children:"Game Mode:"})," ",o.gameMode?"✅ Refatorado":"❌ Original"]})]})]}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"🎮 Controles Principais:"}),f.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[f.jsx("button",{onClick:E,disabled:s,style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer"},children:s?"⏳ Processando...":"🔄 Alternar Todas as Versões"}),f.jsx("button",{onClick:T,style:{padding:"10px 20px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"🗑️ Limpar Cache"})]})]}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"🧪 Testes de Módulos:"}),f.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[f.jsx("button",{onClick:()=>w("neighborhoods"),disabled:s,style:{padding:"10px 20px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer"},children:s?"⏳ Testando...":"🏘️ Testar Modo Bairros"}),f.jsx("button",{onClick:()=>w("famous_places"),disabled:s,style:{padding:"10px 20px",backgroundColor:"#ffc107",color:"black",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer"},children:s?"⏳ Testando...":"🏛️ Testar Modo Lugares Famosos"}),f.jsx("button",{onClick:b,disabled:s,style:{padding:"10px 20px",backgroundColor:"#17a2b8",color:"white",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer"},children:s?"⏳ Testando...":"🎯 Testar Hook Principal"})]})]}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"⚙️ Controles Individuais:"}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"10px"},children:[f.jsx("button",{onClick:()=>M("neighborhood"),style:{padding:"8px 16px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"🔄 Alternar Bairros"}),f.jsx("button",{onClick:()=>M("famousPlaces"),style:{padding:"8px 16px",backgroundColor:"#ffc107",color:"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:"🔄 Alternar Lugares Famosos"}),f.jsx("button",{onClick:()=>M("common"),style:{padding:"8px 16px",backgroundColor:"#6f42c1",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"🔄 Alternar Comum"}),f.jsx("button",{onClick:()=>M("useGameMode"),style:{padding:"8px 16px",backgroundColor:"#17a2b8",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"🔄 Alternar Game Mode"})]})]}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"💾 Status do Cache:"}),f.jsx("button",{onClick:()=>{const P=y();console.log("[GameModeLoaderTest] Status do cache:",P),alert(`Cache: ${P.size} módulos em cache
Chaves: ${P.keys.join(", ")}`)},style:{padding:"8px 16px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"📊 Ver Status do Cache"})]}),r&&f.jsxs("div",{style:{padding:"15px",backgroundColor:"#f8d7da",color:"#721c24",border:"1px solid #f5c6cb",borderRadius:"4px",marginTop:"20px"},children:[f.jsx("strong",{children:"❌ Erro:"})," ",r]}),f.jsxs("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#d1ecf1",color:"#0c5460",border:"1px solid #bee5eb",borderRadius:"4px"},children:[f.jsx("h5",{children:"📋 Instruções de Uso:"}),f.jsxs("ol",{style:{margin:"10px 0",paddingLeft:"20px"},children:[f.jsx("li",{children:'Use "Alternar Todas as Versões" para testar o sistema completo'}),f.jsx("li",{children:"Use os testes individuais para validar cada modo"}),f.jsx("li",{children:"Monitore o console para logs detalhados"}),f.jsx("li",{children:'Use "Limpar Cache" se houver problemas de carregamento'}),f.jsx("li",{children:"Verifique o status dos módulos para confirmar mudanças"})]})]})]})};var Hr=(s=>(s.NEIGHBORHOODS="neighborhoods",s.FAMOUS_PLACES="famous_places",s))(Hr||{});class Z1{constructor(){pr(this,"listeners",new Map);pr(this,"eventHistory",[]);pr(this,"maxHistorySize",100);console.log("[GameEventSystem] Sistema de eventos inicializado")}emit(r){try{r.timestamp||(r.timestamp=Date.now()),this.addToHistory(r);const o=this.listeners.get(r.type);o&&o.forEach(l=>{try{l(r)}catch(u){console.error(`[GameEventSystem] Erro no callback do evento ${r.type}:`,u)}}),console.log("[GameEventSystem] Evento emitido:",{type:r.type,mode:r.mode,timestamp:new Date(r.timestamp).toISOString(),data:r.data})}catch(o){console.error("[GameEventSystem] Erro ao emitir evento:",o)}}on(r,o){try{this.listeners.has(r)||this.listeners.set(r,new Set),this.listeners.get(r).add(o),console.log(`[GameEventSystem] Listener adicionado para evento ${r}`)}catch(l){console.error(`[GameEventSystem] Erro ao adicionar listener para ${r}:`,l)}}off(r,o){try{const l=this.listeners.get(r);l&&(l.delete(o),l.size===0&&this.listeners.delete(r),console.log(`[GameEventSystem] Listener removido para evento ${r}`))}catch(l){console.error(`[GameEventSystem] Erro ao remover listener para ${r}:`,l)}}clear(){try{this.listeners.clear(),this.eventHistory=[],console.log("[GameEventSystem] Todos os listeners e histórico limpos")}catch(r){console.error("[GameEventSystem] Erro ao limpar sistema:",r)}}addToHistory(r){this.eventHistory.push(r),this.eventHistory.length>this.maxHistorySize&&(this.eventHistory=this.eventHistory.slice(-this.maxHistorySize))}getEventHistory(){return[...this.eventHistory]}getEventsByType(r){return this.eventHistory.filter(o=>o.type===r)}getEventsByMode(r){return this.eventHistory.filter(o=>o.mode===r)}getStats(){return{totalListeners:Array.from(this.listeners.values()).reduce((o,l)=>o+l.size,0),eventTypes:Array.from(this.listeners.keys()),totalEvents:this.eventHistory.length,recentEvents:this.eventHistory.slice(-10).length}}emitGameStart(r,o={}){this.emit({type:"gameStart",mode:r,data:o,timestamp:Date.now()})}emitGamePause(r,o={}){this.emit({type:"gamePause",mode:r,data:o,timestamp:Date.now()})}emitGameResume(r,o={}){this.emit({type:"gameResume",mode:r,data:o,timestamp:Date.now()})}emitGameEnd(r,o={}){this.emit({type:"gameEnd",mode:r,data:o,timestamp:Date.now()})}emitRoundComplete(r,o={}){this.emit({type:"roundComplete",mode:r,data:o,timestamp:Date.now()})}emitScoreUpdate(r,o={}){this.emit({type:"scoreUpdate",mode:r,data:o,timestamp:Date.now()})}emitFeedback(r,o={}){this.emit({type:"feedback",mode:r,data:o,timestamp:Date.now()})}hasListeners(r){const o=this.listeners.get(r);return o?o.size>0:!1}getListenerCount(r){const o=this.listeners.get(r);return o?o.size:0}destroy(){try{this.clear(),console.log("[GameEventSystem] Sistema destruído")}catch(r){console.error("[GameEventSystem] Erro ao destruir sistema:",r)}}}const Om=new Z1;console.log("[GameEventSystem] Instância singleton criada");class V1{constructor(r){pr(this,"config");pr(this,"activeMode");pr(this,"neighborhoodHook",null);pr(this,"famousPlacesHook",null);pr(this,"eventSystem",Om);this.config=r,this.activeMode=r.mode,console.log("[GameModeManager] Gerenciador inicializado com configuração:",{mode:this.activeMode,hasNeighborhoodConfig:!!r.neighborhood,hasFamousPlacesConfig:!!r.famousPlaces})}async initialize(){try{console.log("[GameModeManager] Inicializando gerenciador..."),await this.loadAllHooks(),this.setupEventListeners(),console.log("[GameModeManager] Gerenciador inicializado com sucesso")}catch(r){throw console.error("[GameModeManager] Erro na inicialização:",r),r}}async loadAllHooks(){try{this.config.neighborhood&&(this.neighborhoodHook=await Sn.createHook("neighborhoods",this.config.neighborhood),console.log("[GameModeManager] Hook de bairros carregado")),this.config.famousPlaces&&(this.famousPlacesHook=await Sn.createHook("famous_places",this.config.famousPlaces),console.log("[GameModeManager] Hook de lugares famosos carregado"))}catch(r){throw console.error("[GameModeManager] Erro ao carregar hooks:",r),r}}setupEventListeners(){this.eventSystem.on("gameStart",r=>{console.log(`[GameModeManager] Jogo iniciado no modo ${r.mode}`)}),this.eventSystem.on("gameEnd",r=>{console.log(`[GameModeManager] Jogo finalizado no modo ${r.mode}`)}),this.eventSystem.on("roundComplete",r=>{console.log(`[GameModeManager] Rodada completada no modo ${r.mode}`)}),this.eventSystem.on("scoreUpdate",r=>{console.log(`[GameModeManager] Pontuação atualizada no modo ${r.mode}:`,r.data)}),this.eventSystem.on("feedback",r=>{console.log(`[GameModeManager] Feedback recebido no modo ${r.mode}:`,r.data)})}async switchMode(r){try{console.log(`[GameModeManager] Trocando para modo ${r}`),this.activeMode!==r&&await this.pauseCurrentMode(),this.activeMode=r,this.eventSystem.emit({type:"gameStart",mode:r,data:{previousMode:this.activeMode},timestamp:Date.now()}),console.log(`[GameModeManager] Modo alterado para ${r}`)}catch(o){throw console.error(`[GameModeManager] Erro ao trocar para modo ${r}:`,o),o}}getActiveHook(){switch(this.activeMode){case Hr.NEIGHBORHOODS:return this.neighborhoodHook;case Hr.FAMOUS_PLACES:return this.famousPlacesHook;default:return console.warn(`[GameModeManager] Modo desconhecido: ${this.activeMode}`),null}}getModeStats(){try{const r=this.getActiveHook();if(!r)return console.warn("[GameModeManager] Nenhum hook ativo para obter estatísticas"),null;const o=r.getCurrentState(),l={mode:this.activeMode,score:o.score||0,roundNumber:o.roundNumber||1,totalRounds:o.totalRounds||10,isActive:o.isActive||!1};if(this.activeMode===Hr.NEIGHBORHOODS&&this.neighborhoodHook){const u=this.neighborhoodHook.getCurrentState();l.neighborhoodStats={currentNeighborhood:u.currentNeighborhood||"",revealedNeighborhoods:u.revealedNeighborhoods||new Set}}else if(this.activeMode===Hr.FAMOUS_PLACES&&this.famousPlacesHook){const u=this.famousPlacesHook.getCurrentState();l.famousPlacesStats={currentPlace:u.currentPlace||null,roundPlaces:u.roundPlaces||[],usedPlaces:u.usedPlaces||new Set}}return l}catch(r){return console.error("[GameModeManager] Erro ao obter estatísticas:",r),null}}async pauseCurrentMode(){try{const r=this.getActiveHook();r&&(r.pauseGame(),this.eventSystem.emitGamePause(this.activeMode),console.log(`[GameModeManager] Modo ${this.activeMode} pausado`))}catch(r){console.error("[GameModeManager] Erro ao pausar modo atual:",r)}}async resumeCurrentMode(){try{const r=this.getActiveHook();r&&(r.resumeGame(),this.eventSystem.emitGameResume(this.activeMode),console.log(`[GameModeManager] Modo ${this.activeMode} retomado`))}catch(r){console.error("[GameModeManager] Erro ao retomar modo atual:",r)}}async endCurrentMode(){try{const r=this.getActiveHook();r&&(r.endGame(),this.eventSystem.emitGameEnd(this.activeMode),console.log(`[GameModeManager] Modo ${this.activeMode} finalizado`))}catch(r){console.error("[GameModeManager] Erro ao finalizar modo atual:",r)}}async executeAction(r,o={}){try{const l=this.getActiveHook();if(!l)throw new Error(`Nenhum hook ativo para executar ação ${r}`);switch(console.log(`[GameModeManager] Executando ação ${r} no modo ${this.activeMode}`),r){case"startGame":l.startGame(),this.eventSystem.emitGameStart(this.activeMode,o);break;case"pauseGame":l.pauseGame(),this.eventSystem.emitGamePause(this.activeMode,o);break;case"resumeGame":l.resumeGame(),this.eventSystem.emitGameResume(this.activeMode,o);break;case"endGame":l.endGame(),this.eventSystem.emitGameEnd(this.activeMode,o);break;case"handleMapClick":l.handleMapClick(o.latlng);break;case"updateTimer":l.updateTimer(o.timeLeft);break;case"startNewRound":l.startNewRound();break;case"selectRandomTarget":l.selectRandomTarget();break;default:throw new Error(`Ação desconhecida: ${r}`)}return{success:!0,action:r,mode:this.activeMode}}catch(l){throw console.error(`[GameModeManager] Erro ao executar ação ${r}:`,l),l}}getDebugInfo(){var r;return{activeMode:this.activeMode,config:this.config,hooks:{neighborhood:!!this.neighborhoodHook,famousPlaces:!!this.famousPlacesHook},eventSystem:this.eventSystem.getStats(),activeHookState:((r=this.getActiveHook())==null?void 0:r.getCurrentState())||null}}cleanup(){try{console.log("[GameModeManager] Limpando recursos..."),this.endCurrentMode(),this.eventSystem.clear(),this.neighborhoodHook=null,this.famousPlacesHook=null,console.log("[GameModeManager] Recursos limpos")}catch(r){console.error("[GameModeManager] Erro na limpeza:",r)}}destroy(){try{this.cleanup(),console.log("[GameModeManager] Gerenciador destruído")}catch(r){console.error("[GameModeManager] Erro ao destruir gerenciador:",r)}}}const q1=new V1({mode:Hr.NEIGHBORHOODS,neighborhood:{roundTime:10,maxRounds:10,autoAdvance:!0,showDistanceCircle:!0,showArrow:!0,soundEffects:!0,perfectScoreThreshold:3e3,timeBonusThreshold:2,distancePenaltyFactor:10},famousPlaces:{roundTime:15,maxRounds:10,autoAdvance:!1,showDistanceCircle:!0,showArrow:!0,soundEffects:!0,distanceThreshold:100,precisionBonusThreshold:100,timeBonusThreshold:5,maxPlacesPerRound:5}});console.log("[GameModeManager] Instância singleton criada");const K1=()=>{const[s,r]=k.useState(!0),[o,l]=k.useState(null),[u,h]=k.useState(Hr.NEIGHBORHOODS),[g,x]=k.useState(null),[y,w]=k.useState(!1),b=k.useRef(q1),E=k.useRef(Om);k.useEffect(()=>((async()=>{try{r(!0),l(null),console.log("[useUnifiedGameMode] Inicializando gerenciador..."),await b.current.initialize(),M(),T(),r(!1),console.log("[useUnifiedGameMode] Gerenciador inicializado com sucesso")}catch(he){const fe=he instanceof Error?he.message:"Erro desconhecido";l(fe),r(!1),console.error("[useUnifiedGameMode] Erro na inicialização:",fe)}})(),()=>{console.log("[useUnifiedGameMode] Cleanup do hook")}),[]);const M=k.useCallback(()=>{const ce=E.current;ce.on("gameStart",he=>{console.log("[useUnifiedGameMode] Jogo iniciado:",he),w(!0),T()}),ce.on("gameEnd",he=>{console.log("[useUnifiedGameMode] Jogo finalizado:",he),w(!1),T()}),ce.on("gamePause",he=>{console.log("[useUnifiedGameMode] Jogo pausado:",he),w(!1)}),ce.on("gameResume",he=>{console.log("[useUnifiedGameMode] Jogo retomado:",he),w(!0)}),ce.on("roundComplete",he=>{console.log("[useUnifiedGameMode] Rodada completada:",he),T()}),ce.on("scoreUpdate",he=>{console.log("[useUnifiedGameMode] Pontuação atualizada:",he),T()}),ce.on("feedback",he=>{console.log("[useUnifiedGameMode] Feedback recebido:",he)})},[]),T=k.useCallback(async()=>{try{const ce=b.current.getModeStats();x(ce),ce&&(h(ce.mode),w(ce.isActive))}catch(ce){console.error("[useUnifiedGameMode] Erro ao atualizar estatísticas:",ce)}},[]),P=k.useCallback(async ce=>{try{r(!0),l(null),console.log(`[useUnifiedGameMode] Trocando para modo ${ce}`),await b.current.switchMode(ce),T(),console.log(`[useUnifiedGameMode] Modo alterado para ${ce}`)}catch(he){const fe=he instanceof Error?he.message:"Erro desconhecido";l(fe),console.error(`[useUnifiedGameMode] Erro ao trocar para modo ${ce}:`,fe)}finally{r(!1)}},[T]),R=k.useCallback(async(ce,he={})=>{try{console.log(`[useUnifiedGameMode] Executando ação ${ce}`);const fe=await b.current.executeAction(ce,he);return T(),fe}catch(fe){const Ce=fe instanceof Error?fe.message:"Erro desconhecido";throw l(Ce),console.error(`[useUnifiedGameMode] Erro ao executar ação ${ce}:`,Ce),fe}},[T]),z=k.useCallback(async()=>R("startGame"),[R]),V=k.useCallback(async()=>R("pauseGame"),[R]),Y=k.useCallback(async()=>R("resumeGame"),[R]),G=k.useCallback(async()=>R("endGame"),[R]),ee=k.useCallback(async ce=>R("handleMapClick",{latlng:ce}),[R]),oe=k.useCallback(async ce=>R("updateTimer",{timeLeft:ce}),[R]),ae=k.useCallback(async()=>R("startNewRound"),[R]),ge=k.useCallback(async()=>R("selectRandomTarget"),[R]),q=k.useCallback(()=>b.current.getDebugInfo(),[]),J=k.useCallback(()=>{try{console.log("[useUnifiedGameMode] Limpando recursos..."),b.current.cleanup()}catch(ce){console.error("[useUnifiedGameMode] Erro na limpeza:",ce)}},[]),xe=k.useCallback(()=>E.current.getStats(),[]),ve=k.useCallback(()=>E.current.getEventHistory(),[]),ne=k.useCallback(ce=>E.current.getEventsByType(ce),[]),je=k.useCallback(ce=>E.current.getEventsByMode(ce),[]);return{isLoading:s,error:o,activeMode:u,gameStats:g,isGameActive:y,switchMode:P,startGame:z,pauseGame:V,resumeGame:Y,endGame:G,handleMapClick:ee,updateTimer:oe,startNewRound:ae,selectRandomTarget:ge,getDebugInfo:q,getEventSystemStats:xe,getEventHistory:ve,getEventsByType:ne,getEventsByMode:je,cleanup:J,updateGameStats:T}},J1=()=>{const{isLoading:s,error:r,activeMode:o,gameStats:l,isGameActive:u,switchMode:h,startGame:g,pauseGame:x,resumeGame:y,endGame:w,handleMapClick:b,updateTimer:E,startNewRound:M,selectRandomTarget:T,getDebugInfo:P,getEventSystemStats:R,getEventHistory:z,getEventsByType:V,getEventsByMode:Y,cleanup:G}=K1(),[ee,oe]=k.useState(null),[ae,ge]=k.useState(null),[q,J]=k.useState([]),[xe,ve]=k.useState("all"),[ne,je]=k.useState("all"),ce=async j=>{try{await h(j)}catch(B){console.error("Erro ao trocar modo:",B)}},he=async(j,B={})=>{try{let se;switch(j){case"startGame":se=await g();break;case"pauseGame":se=await x();break;case"resumeGame":se=await y();break;case"endGame":se=await w();break;case"handleMapClick":se=await b({lat:-23.9618,lng:-46.3322});break;case"updateTimer":se=await E(10);break;case"startNewRound":se=await M();break;case"selectRandomTarget":se=await T();break;default:console.warn("Ação desconhecida:",j);return}console.log(`Ação ${j} executada:`,se)}catch(se){console.error(`Erro ao executar ação ${j}:`,se)}},fe=()=>{const j=P();oe(j),console.log("Debug info:",j)},Ce=()=>{const j=R();ge(j),console.log("Event stats:",j)},Z=()=>{const j=z();J(j),console.log("Event history:",j)},le=()=>{if(xe==="all")Z();else{const j=V(xe);J(j),console.log(`Events by type ${xe}:`,j)}},K=()=>{if(ne==="all")Z();else{const j=Y(ne);J(j),console.log(`Events by mode ${ne}:`,j)}};return f.jsxs("div",{className:"unified-game-mode-test",style:{padding:"20px",border:"2px solid #28a745",borderRadius:"8px",margin:"20px",backgroundColor:"#f8f9fa"},children:[f.jsx("h3",{style:{color:"#28a745",marginBottom:"20px"},children:"🎮 Teste do Sistema Unificado de Modos"}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"📊 Status do Sistema:"}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px"},children:[f.jsxs("div",{style:{padding:"10px",backgroundColor:s?"#fff3cd":"#d4edda",borderRadius:"4px"},children:[f.jsx("strong",{children:"Carregando:"})," ",s?"⏳ Sim":"✅ Não"]}),f.jsxs("div",{style:{padding:"10px",backgroundColor:r?"#f8d7da":"#d4edda",borderRadius:"4px"},children:[f.jsx("strong",{children:"Erro:"})," ",r?`❌ ${r}`:"✅ Nenhum"]}),f.jsxs("div",{style:{padding:"10px",backgroundColor:u?"#d4edda":"#f8d7da",borderRadius:"4px"},children:[f.jsx("strong",{children:"Jogo Ativo:"})," ",u?"✅ Sim":"❌ Não"]}),f.jsxs("div",{style:{padding:"10px",backgroundColor:"#e2e3e5",borderRadius:"4px"},children:[f.jsx("strong",{children:"Modo Ativo:"})," ",o]})]})]}),l&&f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"🎯 Estatísticas do Jogo:"}),f.jsx("div",{style:{padding:"15px",backgroundColor:"#e2e3e5",borderRadius:"4px"},children:f.jsx("pre",{style:{margin:0,fontSize:"12px"},children:JSON.stringify(l,null,2)})})]}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"🔄 Controles de Modo:"}),f.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[f.jsx("button",{onClick:()=>ce(Hr.NEIGHBORHOODS),disabled:s,style:{padding:"10px 20px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer"},children:"🏘️ Modo Bairros"}),f.jsx("button",{onClick:()=>ce(Hr.FAMOUS_PLACES),disabled:s,style:{padding:"10px 20px",backgroundColor:"#ffc107",color:"black",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer"},children:"🏛️ Modo Lugares Famosos"})]})]}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"🎮 Controles de Jogo:"}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"10px"},children:[f.jsx("button",{onClick:()=>he("startGame"),disabled:s||u,style:{padding:"8px 16px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:s||u?"not-allowed":"pointer"},children:"▶️ Iniciar"}),f.jsx("button",{onClick:()=>he("pauseGame"),disabled:s||!u,style:{padding:"8px 16px",backgroundColor:"#ffc107",color:"black",border:"none",borderRadius:"4px",cursor:s||!u?"not-allowed":"pointer"},children:"⏸️ Pausar"}),f.jsx("button",{onClick:()=>he("resumeGame"),disabled:s||u,style:{padding:"8px 16px",backgroundColor:"#17a2b8",color:"white",border:"none",borderRadius:"4px",cursor:s||u?"not-allowed":"pointer"},children:"▶️ Retomar"}),f.jsx("button",{onClick:()=>he("endGame"),disabled:s||!u,style:{padding:"8px 16px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:s||!u?"not-allowed":"pointer"},children:"⏹️ Finalizar"})]})]}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"🎯 Ações de Jogo:"}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"10px"},children:[f.jsx("button",{onClick:()=>he("handleMapClick"),disabled:s,style:{padding:"8px 16px",backgroundColor:"#6f42c1",color:"white",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer"},children:"🖱️ Clique no Mapa"}),f.jsx("button",{onClick:()=>he("updateTimer"),disabled:s,style:{padding:"8px 16px",backgroundColor:"#fd7e14",color:"white",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer"},children:"⏰ Atualizar Timer"}),f.jsx("button",{onClick:()=>he("startNewRound"),disabled:s,style:{padding:"8px 16px",backgroundColor:"#20c997",color:"white",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer"},children:"🔄 Nova Rodada"}),f.jsx("button",{onClick:()=>he("selectRandomTarget"),disabled:s,style:{padding:"8px 16px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer"},children:"🎯 Alvo Aleatório"})]})]}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"🐛 Informações de Debug:"}),f.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[f.jsx("button",{onClick:fe,style:{padding:"8px 16px",backgroundColor:"#6f42c1",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"📊 Debug Info"}),f.jsx("button",{onClick:Ce,style:{padding:"8px 16px",backgroundColor:"#17a2b8",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"📈 Event Stats"}),f.jsx("button",{onClick:Z,style:{padding:"8px 16px",backgroundColor:"#20c997",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"📜 Event History"}),f.jsx("button",{onClick:G,style:{padding:"8px 16px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"🗑️ Cleanup"})]})]}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"🔍 Filtros de Eventos:"}),f.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",flexWrap:"wrap"},children:[f.jsxs("label",{children:["Tipo de Evento:",f.jsxs("select",{value:xe,onChange:j=>ve(j.target.value),style:{marginLeft:"5px",padding:"5px"},children:[f.jsx("option",{value:"all",children:"Todos"}),f.jsx("option",{value:"gameStart",children:"Início de Jogo"}),f.jsx("option",{value:"gameEnd",children:"Fim de Jogo"}),f.jsx("option",{value:"gamePause",children:"Pausa"}),f.jsx("option",{value:"gameResume",children:"Retomada"}),f.jsx("option",{value:"roundComplete",children:"Rodada Completa"}),f.jsx("option",{value:"scoreUpdate",children:"Atualização de Pontuação"}),f.jsx("option",{value:"feedback",children:"Feedback"})]})]}),f.jsx("button",{onClick:le,style:{padding:"8px 16px",backgroundColor:"#6f42c1",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"🔍 Filtrar por Tipo"}),f.jsxs("label",{children:["Modo:",f.jsxs("select",{value:ne,onChange:j=>je(j.target.value),style:{marginLeft:"5px",padding:"5px"},children:[f.jsx("option",{value:"all",children:"Todos"}),f.jsx("option",{value:"neighborhoods",children:"Bairros"}),f.jsx("option",{value:"famous_places",children:"Lugares Famosos"})]})]}),f.jsx("button",{onClick:K,style:{padding:"8px 16px",backgroundColor:"#17a2b8",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"🔍 Filtrar por Modo"})]})]}),ee&&f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"🐛 Debug Info:"}),f.jsx("div",{style:{padding:"15px",backgroundColor:"#e2e3e5",borderRadius:"4px"},children:f.jsx("pre",{style:{margin:0,fontSize:"12px"},children:JSON.stringify(ee,null,2)})})]}),ae&&f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"📈 Event Stats:"}),f.jsx("div",{style:{padding:"15px",backgroundColor:"#e2e3e5",borderRadius:"4px"},children:f.jsx("pre",{style:{margin:0,fontSize:"12px"},children:JSON.stringify(ae,null,2)})})]}),q.length>0&&f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{children:"📜 Event History:"}),f.jsx("div",{style:{padding:"15px",backgroundColor:"#e2e3e5",borderRadius:"4px",maxHeight:"300px",overflow:"auto"},children:q.map((j,B)=>f.jsxs("div",{style:{marginBottom:"10px",padding:"10px",backgroundColor:"white",borderRadius:"4px"},children:[f.jsx("strong",{children:j.type})," - ",j.mode," - ",new Date(j.timestamp).toLocaleTimeString(),f.jsx("pre",{style:{margin:"5px 0 0 0",fontSize:"10px"},children:JSON.stringify(j.data,null,2)})]},B))})]}),r&&f.jsxs("div",{style:{padding:"15px",backgroundColor:"#f8d7da",color:"#721c24",border:"1px solid #f5c6cb",borderRadius:"4px",marginTop:"20px"},children:[f.jsx("strong",{children:"❌ Erro:"})," ",r]}),f.jsxs("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#d1ecf1",color:"#0c5460",border:"1px solid #bee5eb",borderRadius:"4px"},children:[f.jsx("h5",{children:"📋 Instruções de Uso:"}),f.jsxs("ol",{style:{margin:"10px 0",paddingLeft:"20px"},children:[f.jsx("li",{children:"Use os controles de modo para alternar entre Bairros e Lugares Famosos"}),f.jsx("li",{children:"Use os controles de jogo para gerenciar o estado do jogo"}),f.jsx("li",{children:"Use as ações de jogo para simular interações do usuário"}),f.jsx("li",{children:"Monitore o console para logs detalhados"}),f.jsx("li",{children:"Use as informações de debug para análise do sistema"})]})]})]})};function Y1(){return f.jsx(Dv,{basename:"/geosantos",children:f.jsxs(gv,{children:[f.jsx(Lo,{path:"/admin/famous-places",element:f.jsx(v_,{})}),f.jsx(Lo,{path:"/lugares-famosos",element:f.jsx(F1,{})}),f.jsx(Lo,{path:"/teste-sprites",element:f.jsx(D1,{})}),f.jsx(Lo,{path:"/debug-sprites",element:f.jsx(B1,{})}),f.jsx(Lo,{path:"/teste-carregamento",element:f.jsx(W1,{})}),f.jsx(Lo,{path:"/teste-unificado",element:f.jsx(J1,{})}),f.jsx(Lo,{path:"/",element:f.jsx("div",{style:{margin:0,padding:0,width:"100vw",height:"100vh",overflow:"hidden"},children:f.jsx(z1,{center:[-23.9618,-46.3322],zoom:13})})})]})})}Eg.createRoot(document.getElementById("root")).render(f.jsx(k.StrictMode,{children:f.jsx(Y1,{})}));
//# sourceMappingURL=index-CGTMwj4u.js.map
