(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function o(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(u){if(u.ep)return;u.ep=!0;const h=o(u);fetch(u.href,h)}})();function Pd(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function og(a){if(Object.prototype.hasOwnProperty.call(a,"__esModule"))return a;var r=a.default;if(typeof r=="function"){var o=function l(){return this instanceof l?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};o.prototype=r.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(a).forEach(function(l){var u=Object.getOwnPropertyDescriptor(a,l);Object.defineProperty(o,l,u.get?u:{enumerable:!0,get:function(){return a[l]}})}),o}var Zc={exports:{}},_a={},Vc={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sf;function sg(){if(Sf)return Be;Sf=1;var a=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),m=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),E=Symbol.iterator;function T(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,I={};function N(M,V,Z){this.props=M,this.context=V,this.refs=I,this.updater=Z||A}N.prototype.isReactComponent={},N.prototype.setState=function(M,V){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,V,"setState")},N.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function K(){}K.prototype=N.prototype;function G(M,V,Z){this.props=M,this.context=V,this.refs=I,this.updater=Z||A}var H=G.prototype=new K;H.constructor=G,C(H,N.prototype),H.isPureReactComponent=!0;var te=Array.isArray,ue=Object.prototype.hasOwnProperty,ae={current:null},J={key:!0,ref:!0,__self:!0,__source:!0};function ve(M,V,Z){var de,se={},ie=null,we=null;if(V!=null)for(de in V.ref!==void 0&&(we=V.ref),V.key!==void 0&&(ie=""+V.key),V)ue.call(V,de)&&!J.hasOwnProperty(de)&&(se[de]=V[de]);var ke=arguments.length-2;if(ke===1)se.children=Z;else if(1<ke){for(var Oe=Array(ke),qe=0;qe<ke;qe++)Oe[qe]=arguments[qe+2];se.children=Oe}if(M&&M.defaultProps)for(de in ke=M.defaultProps,ke)se[de]===void 0&&(se[de]=ke[de]);return{$$typeof:a,type:M,key:ie,ref:we,props:se,_owner:ae.current}}function re(M,V){return{$$typeof:a,type:M.type,key:V,ref:M.ref,props:M.props,_owner:M._owner}}function xe(M){return typeof M=="object"&&M!==null&&M.$$typeof===a}function Pe(M){var V={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(Z){return V[Z]})}var le=/\/+/g;function ze(M,V){return typeof M=="object"&&M!==null&&M.key!=null?Pe(""+M.key):V.toString(36)}function $e(M,V,Z,de,se){var ie=typeof M;(ie==="undefined"||ie==="boolean")&&(M=null);var we=!1;if(M===null)we=!0;else switch(ie){case"string":case"number":we=!0;break;case"object":switch(M.$$typeof){case a:case r:we=!0}}if(we)return we=M,se=se(we),M=de===""?"."+ze(we,0):de,te(se)?(Z="",M!=null&&(Z=M.replace(le,"$&/")+"/"),$e(se,V,Z,"",function(qe){return qe})):se!=null&&(xe(se)&&(se=re(se,Z+(!se.key||we&&we.key===se.key?"":(""+se.key).replace(le,"$&/")+"/")+M)),V.push(se)),1;if(we=0,de=de===""?".":de+":",te(M))for(var ke=0;ke<M.length;ke++){ie=M[ke];var Oe=de+ze(ie,ke);we+=$e(ie,V,Z,Oe,se)}else if(Oe=T(M),typeof Oe=="function")for(M=Oe.call(M),ke=0;!(ie=M.next()).done;)ie=ie.value,Oe=de+ze(ie,ke++),we+=$e(ie,V,Z,Oe,se);else if(ie==="object")throw V=String(M),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return we}function Fe(M,V,Z){if(M==null)return M;var de=[],se=0;return $e(M,de,"","",function(ie){return V.call(Z,ie,se++)}),de}function _e(M){if(M._status===-1){var V=M._result;V=V(),V.then(function(Z){(M._status===0||M._status===-1)&&(M._status=1,M._result=Z)},function(Z){(M._status===0||M._status===-1)&&(M._status=2,M._result=Z)}),M._status===-1&&(M._status=0,M._result=V)}if(M._status===1)return M._result.default;throw M._result}var je={current:null},U={transition:null},oe={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:U,ReactCurrentOwner:ae};function q(){throw Error("act(...) is not supported in production builds of React.")}return Be.Children={map:Fe,forEach:function(M,V,Z){Fe(M,function(){V.apply(this,arguments)},Z)},count:function(M){var V=0;return Fe(M,function(){V++}),V},toArray:function(M){return Fe(M,function(V){return V})||[]},only:function(M){if(!xe(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Be.Component=N,Be.Fragment=o,Be.Profiler=u,Be.PureComponent=G,Be.StrictMode=l,Be.Suspense=_,Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,Be.act=q,Be.cloneElement=function(M,V,Z){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var de=C({},M.props),se=M.key,ie=M.ref,we=M._owner;if(V!=null){if(V.ref!==void 0&&(ie=V.ref,we=ae.current),V.key!==void 0&&(se=""+V.key),M.type&&M.type.defaultProps)var ke=M.type.defaultProps;for(Oe in V)ue.call(V,Oe)&&!J.hasOwnProperty(Oe)&&(de[Oe]=V[Oe]===void 0&&ke!==void 0?ke[Oe]:V[Oe])}var Oe=arguments.length-2;if(Oe===1)de.children=Z;else if(1<Oe){ke=Array(Oe);for(var qe=0;qe<Oe;qe++)ke[qe]=arguments[qe+2];de.children=ke}return{$$typeof:a,type:M.type,key:se,ref:ie,props:de,_owner:we}},Be.createContext=function(M){return M={$$typeof:m,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:h,_context:M},M.Consumer=M},Be.createElement=ve,Be.createFactory=function(M){var V=ve.bind(null,M);return V.type=M,V},Be.createRef=function(){return{current:null}},Be.forwardRef=function(M){return{$$typeof:x,render:M}},Be.isValidElement=xe,Be.lazy=function(M){return{$$typeof:k,_payload:{_status:-1,_result:M},_init:_e}},Be.memo=function(M,V){return{$$typeof:w,type:M,compare:V===void 0?null:V}},Be.startTransition=function(M){var V=U.transition;U.transition={};try{M()}finally{U.transition=V}},Be.unstable_act=q,Be.useCallback=function(M,V){return je.current.useCallback(M,V)},Be.useContext=function(M){return je.current.useContext(M)},Be.useDebugValue=function(){},Be.useDeferredValue=function(M){return je.current.useDeferredValue(M)},Be.useEffect=function(M,V){return je.current.useEffect(M,V)},Be.useId=function(){return je.current.useId()},Be.useImperativeHandle=function(M,V,Z){return je.current.useImperativeHandle(M,V,Z)},Be.useInsertionEffect=function(M,V){return je.current.useInsertionEffect(M,V)},Be.useLayoutEffect=function(M,V){return je.current.useLayoutEffect(M,V)},Be.useMemo=function(M,V){return je.current.useMemo(M,V)},Be.useReducer=function(M,V,Z){return je.current.useReducer(M,V,Z)},Be.useRef=function(M){return je.current.useRef(M)},Be.useState=function(M){return je.current.useState(M)},Be.useSyncExternalStore=function(M,V,Z){return je.current.useSyncExternalStore(M,V,Z)},Be.useTransition=function(){return je.current.useTransition()},Be.version="18.3.1",Be}var kf;function Td(){return kf||(kf=1,Vc.exports=sg()),Vc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bf;function ag(){if(bf)return _a;bf=1;var a=Td(),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,u=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h={key:!0,ref:!0,__self:!0,__source:!0};function m(x,_,w){var k,E={},T=null,A=null;w!==void 0&&(T=""+w),_.key!==void 0&&(T=""+_.key),_.ref!==void 0&&(A=_.ref);for(k in _)l.call(_,k)&&!h.hasOwnProperty(k)&&(E[k]=_[k]);if(x&&x.defaultProps)for(k in _=x.defaultProps,_)E[k]===void 0&&(E[k]=_[k]);return{$$typeof:r,type:x,key:T,ref:A,props:E,_owner:u.current}}return _a.Fragment=o,_a.jsx=m,_a.jsxs=m,_a}var Ef;function lg(){return Ef||(Ef=1,Zc.exports=ag()),Zc.exports}var g=lg(),P=Td();const cd=Pd(P);var nu={},Gc={exports:{}},ln={},qc={exports:{}},Kc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pf;function ug(){return Pf||(Pf=1,function(a){function r(U,oe){var q=U.length;U.push(oe);e:for(;0<q;){var M=q-1>>>1,V=U[M];if(0<u(V,oe))U[M]=oe,U[q]=V,q=M;else break e}}function o(U){return U.length===0?null:U[0]}function l(U){if(U.length===0)return null;var oe=U[0],q=U.pop();if(q!==oe){U[0]=q;e:for(var M=0,V=U.length,Z=V>>>1;M<Z;){var de=2*(M+1)-1,se=U[de],ie=de+1,we=U[ie];if(0>u(se,q))ie<V&&0>u(we,se)?(U[M]=we,U[ie]=q,M=ie):(U[M]=se,U[de]=q,M=de);else if(ie<V&&0>u(we,q))U[M]=we,U[ie]=q,M=ie;else break e}}return oe}function u(U,oe){var q=U.sortIndex-oe.sortIndex;return q!==0?q:U.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var m=Date,x=m.now();a.unstable_now=function(){return m.now()-x}}var _=[],w=[],k=1,E=null,T=3,A=!1,C=!1,I=!1,N=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(U){for(var oe=o(w);oe!==null;){if(oe.callback===null)l(w);else if(oe.startTime<=U)l(w),oe.sortIndex=oe.expirationTime,r(_,oe);else break;oe=o(w)}}function te(U){if(I=!1,H(U),!C)if(o(_)!==null)C=!0,_e(ue);else{var oe=o(w);oe!==null&&je(te,oe.startTime-U)}}function ue(U,oe){C=!1,I&&(I=!1,K(ve),ve=-1),A=!0;var q=T;try{for(H(oe),E=o(_);E!==null&&(!(E.expirationTime>oe)||U&&!Pe());){var M=E.callback;if(typeof M=="function"){E.callback=null,T=E.priorityLevel;var V=M(E.expirationTime<=oe);oe=a.unstable_now(),typeof V=="function"?E.callback=V:E===o(_)&&l(_),H(oe)}else l(_);E=o(_)}if(E!==null)var Z=!0;else{var de=o(w);de!==null&&je(te,de.startTime-oe),Z=!1}return Z}finally{E=null,T=q,A=!1}}var ae=!1,J=null,ve=-1,re=5,xe=-1;function Pe(){return!(a.unstable_now()-xe<re)}function le(){if(J!==null){var U=a.unstable_now();xe=U;var oe=!0;try{oe=J(!0,U)}finally{oe?ze():(ae=!1,J=null)}}else ae=!1}var ze;if(typeof G=="function")ze=function(){G(le)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,Fe=$e.port2;$e.port1.onmessage=le,ze=function(){Fe.postMessage(null)}}else ze=function(){N(le,0)};function _e(U){J=U,ae||(ae=!0,ze())}function je(U,oe){ve=N(function(){U(a.unstable_now())},oe)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(U){U.callback=null},a.unstable_continueExecution=function(){C||A||(C=!0,_e(ue))},a.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<U?Math.floor(1e3/U):5},a.unstable_getCurrentPriorityLevel=function(){return T},a.unstable_getFirstCallbackNode=function(){return o(_)},a.unstable_next=function(U){switch(T){case 1:case 2:case 3:var oe=3;break;default:oe=T}var q=T;T=oe;try{return U()}finally{T=q}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(U,oe){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var q=T;T=U;try{return oe()}finally{T=q}},a.unstable_scheduleCallback=function(U,oe,q){var M=a.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?M+q:M):q=M,U){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=q+V,U={id:k++,callback:oe,priorityLevel:U,startTime:q,expirationTime:V,sortIndex:-1},q>M?(U.sortIndex=q,r(w,U),o(_)===null&&U===o(w)&&(I?(K(ve),ve=-1):I=!0,je(te,q-M))):(U.sortIndex=V,r(_,U),C||A||(C=!0,_e(ue))),U},a.unstable_shouldYield=Pe,a.unstable_wrapCallback=function(U){var oe=T;return function(){var q=T;T=oe;try{return U.apply(this,arguments)}finally{T=q}}}}(Kc)),Kc}var Tf;function cg(){return Tf||(Tf=1,qc.exports=ug()),qc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cf;function dg(){if(Cf)return ln;Cf=1;var a=Td(),r=cg();function o(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,u={};function h(e,n){m(e,n),m(e+"Capture",n)}function m(e,n){for(u[e]=n,e=0;e<n.length;e++)l.add(n[e])}var x=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,k={},E={};function T(e){return _.call(E,e)?!0:_.call(k,e)?!1:w.test(e)?E[e]=!0:(k[e]=!0,!1)}function A(e,n,s,d){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return d?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function C(e,n,s,d){if(n===null||typeof n>"u"||A(e,n,s,d))return!0;if(d)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function I(e,n,s,d,p,v,S){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=v,this.removeEmptyString=S}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){N[e]=new I(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];N[n]=new I(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){N[e]=new I(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){N[e]=new I(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){N[e]=new I(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){N[e]=new I(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){N[e]=new I(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){N[e]=new I(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){N[e]=new I(e,5,!1,e.toLowerCase(),null,!1,!1)});var K=/[\-:]([a-z])/g;function G(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(K,G);N[n]=new I(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(K,G);N[n]=new I(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(K,G);N[n]=new I(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){N[e]=new I(e,1,!1,e.toLowerCase(),null,!1,!1)}),N.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){N[e]=new I(e,1,!1,e.toLowerCase(),null,!0,!0)});function H(e,n,s,d){var p=N.hasOwnProperty(n)?N[n]:null;(p!==null?p.type!==0:d||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(C(n,s,p,d)&&(s=null),d||p===null?T(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):p.mustUseProperty?e[p.propertyName]=s===null?p.type===3?!1:"":s:(n=p.attributeName,d=p.attributeNamespace,s===null?e.removeAttribute(n):(p=p.type,s=p===3||p===4&&s===!0?"":""+s,d?e.setAttributeNS(d,n,s):e.setAttribute(n,s))))}var te=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ue=Symbol.for("react.element"),ae=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),ve=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),xe=Symbol.for("react.provider"),Pe=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),ze=Symbol.for("react.suspense"),$e=Symbol.for("react.suspense_list"),Fe=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),U=Symbol.iterator;function oe(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,M;function V(e){if(M===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);M=n&&n[1]||""}return`
`+M+e}var Z=!1;function de(e,n){if(!e||Z)return"";Z=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(W){var d=W}Reflect.construct(e,[],n)}else{try{n.call()}catch(W){d=W}e.call(n.prototype)}else{try{throw Error()}catch(W){d=W}e()}}catch(W){if(W&&d&&typeof W.stack=="string"){for(var p=W.stack.split(`
`),v=d.stack.split(`
`),S=p.length-1,j=v.length-1;1<=S&&0<=j&&p[S]!==v[j];)j--;for(;1<=S&&0<=j;S--,j--)if(p[S]!==v[j]){if(S!==1||j!==1)do if(S--,j--,0>j||p[S]!==v[j]){var R=`
`+p[S].replace(" at new "," at ");return e.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",e.displayName)),R}while(1<=S&&0<=j);break}}}finally{Z=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?V(e):""}function se(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=de(e.type,!1),e;case 11:return e=de(e.type.render,!1),e;case 1:return e=de(e.type,!0),e;default:return""}}function ie(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case ae:return"Portal";case re:return"Profiler";case ve:return"StrictMode";case ze:return"Suspense";case $e:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Pe:return(e.displayName||"Context")+".Consumer";case xe:return(e._context.displayName||"Context")+".Provider";case le:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fe:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case _e:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}function we(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(n);case 8:return n===ve?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function ke(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Oe(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function qe(e){var n=Oe(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),d=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var p=s.get,v=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return p.call(this)},set:function(S){d=""+S,v.call(this,S)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ut(e){e._valueTracker||(e._valueTracker=qe(e))}function zt(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),d="";return e&&(d=Oe(e)?e.checked?"true":"false":e.value),e=d,e!==s?(n.setValue(e),!0):!1}function Lt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function xt(e,n){var s=n.checked;return q({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Ne(e,n){var s=n.defaultValue==null?"":n.defaultValue,d=n.checked!=null?n.checked:n.defaultChecked;s=ke(n.value!=null?n.value:s),e._wrapperState={initialChecked:d,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function De(e,n){n=n.checked,n!=null&&H(e,"checked",n,!1)}function Ye(e,n){De(e,n);var s=ke(n.value),d=n.type;if(s!=null)d==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(d==="submit"||d==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Qe(e,n.type,s):n.hasOwnProperty("defaultValue")&&Qe(e,n.type,ke(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Ke(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var d=n.type;if(!(d!=="submit"&&d!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Qe(e,n,s){(n!=="number"||Lt(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var tt=Array.isArray;function ct(e,n,s,d){if(e=e.options,n){n={};for(var p=0;p<s.length;p++)n["$"+s[p]]=!0;for(s=0;s<e.length;s++)p=n.hasOwnProperty("$"+e[s].value),e[s].selected!==p&&(e[s].selected=p),p&&d&&(e[s].defaultSelected=!0)}else{for(s=""+ke(s),n=null,p=0;p<e.length;p++){if(e[p].value===s){e[p].selected=!0,d&&(e[p].defaultSelected=!0);return}n!==null||e[p].disabled||(n=e[p])}n!==null&&(n.selected=!0)}}function jt(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(o(91));return q({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cn(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(o(92));if(tt(s)){if(1<s.length)throw Error(o(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:ke(s)}}function gt(e,n){var s=ke(n.value),d=ke(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),d!=null&&(e.defaultValue=""+d)}function Nt(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Jn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fr(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Jn(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yn,za=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,d,p){MSApp.execUnsafeLocalFunction(function(){return e(n,s,d,p)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Yn=Yn||document.createElement("div"),Yn.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Yn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Wr(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Hr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wu=["Webkit","ms","Moz","O"];Object.keys(Hr).forEach(function(e){wu.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Hr[n]=Hr[e]})});function bs(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||Hr.hasOwnProperty(e)&&Hr[e]?(""+n).trim():n+"px"}function fo(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var d=s.indexOf("--")===0,p=bs(s,n[s],d);s==="float"&&(s="cssFloat"),d?e.setProperty(s,p):e[s]=p}}var Na=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Es(e,n){if(n){if(Na[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(o(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(o(61))}if(n.style!=null&&typeof n.style!="object")throw Error(o(62))}}function pr(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ps=null;function Ts(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var po=null,mr=null,gr=null;function Da(e){if(e=Cr(e)){if(typeof po!="function")throw Error(o(280));var n=e.stateNode;n&&(n=Uo(n),po(e.stateNode,e.type,n))}}function Fa(e){mr?gr?gr.push(e):gr=[e]:mr=e}function Ba(){if(mr){var e=mr,n=gr;if(gr=mr=null,Da(e),n)for(e=0;e<n.length;e++)Da(n[e])}}function Ua(e,n){return e(n)}function $a(){}var Cs=!1;function mo(e,n,s){if(Cs)return e(n,s);Cs=!0;try{return Ua(e,n,s)}finally{Cs=!1,(mr!==null||gr!==null)&&($a(),Ba())}}function Li(e,n){var s=e.stateNode;if(s===null)return null;var d=Uo(s);if(d===null)return null;s=d[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(e=e.type,d=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!d;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(o(231,n,typeof s));return s}var Ls=!1;if(x)try{var ji={};Object.defineProperty(ji,"passive",{get:function(){Ls=!0}}),window.addEventListener("test",ji,ji),window.removeEventListener("test",ji,ji)}catch{Ls=!1}function Su(e,n,s,d,p,v,S,j,R){var W=Array.prototype.slice.call(arguments,3);try{n.apply(s,W)}catch(X){this.onError(X)}}var Bt=!1,ge=null,Oi=!1,go=null,Wa={onError:function(e){Bt=!0,ge=e}};function Ha(e,n,s,d,p,v,S,j,R){Bt=!1,ge=null,Su.apply(Wa,arguments)}function js(e,n,s,d,p,v,S,j,R){if(Ha.apply(this,arguments),Bt){if(Bt){var W=ge;Bt=!1,ge=null}else throw Error(o(198));Oi||(Oi=!0,go=W)}}function Qn(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function vr(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Os(e){if(Qn(e)!==e)throw Error(o(188))}function ku(e){var n=e.alternate;if(!n){if(n=Qn(e),n===null)throw Error(o(188));return n!==e?null:e}for(var s=e,d=n;;){var p=s.return;if(p===null)break;var v=p.alternate;if(v===null){if(d=p.return,d!==null){s=d;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===s)return Os(p),e;if(v===d)return Os(p),n;v=v.sibling}throw Error(o(188))}if(s.return!==d.return)s=p,d=v;else{for(var S=!1,j=p.child;j;){if(j===s){S=!0,s=p,d=v;break}if(j===d){S=!0,d=p,s=v;break}j=j.sibling}if(!S){for(j=v.child;j;){if(j===s){S=!0,s=v,d=p;break}if(j===d){S=!0,d=v,s=p;break}j=j.sibling}if(!S)throw Error(o(189))}}if(s.alternate!==d)throw Error(o(190))}if(s.tag!==3)throw Error(o(188));return s.stateNode.current===s?e:n}function Za(e){return e=ku(e),e!==null?Va(e):null}function Va(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Va(e);if(n!==null)return n;e=e.sibling}return null}var Ga=r.unstable_scheduleCallback,Is=r.unstable_cancelCallback,bu=r.unstable_shouldYield,vo=r.unstable_requestPaint,dt=r.unstable_now,Eu=r.unstable_getCurrentPriorityLevel,Ms=r.unstable_ImmediatePriority,qa=r.unstable_UserBlockingPriority,yo=r.unstable_NormalPriority,As=r.unstable_LowPriority,Zr=r.unstable_IdlePriority,Ii=null,dn=null;function Mi(e){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(Ii,e,void 0,(e.current.flags&128)===128)}catch{}}var Me=Math.clz32?Math.clz32:Vr,ot=Math.log,_o=Math.LN2;function Vr(e){return e>>>=0,e===0?32:31-(ot(e)/_o|0)|0}var Rn=64,Gr=4194304;function Le(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function nt(e,n){var s=e.pendingLanes;if(s===0)return 0;var d=0,p=e.suspendedLanes,v=e.pingedLanes,S=s&268435455;if(S!==0){var j=S&~p;j!==0?d=Le(j):(v&=S,v!==0&&(d=Le(v)))}else S=s&~p,S!==0?d=Le(S):v!==0&&(d=Le(v));if(d===0)return 0;if(n!==0&&n!==d&&(n&p)===0&&(p=d&-d,v=n&-n,p>=v||p===16&&(v&4194240)!==0))return n;if((d&4)!==0&&(d|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=d;0<n;)s=31-Me(n),p=1<<s,d|=e[s],n&=~p;return d}function Rs(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xo(e,n){for(var s=e.suspendedLanes,d=e.pingedLanes,p=e.expirationTimes,v=e.pendingLanes;0<v;){var S=31-Me(v),j=1<<S,R=p[S];R===-1?((j&s)===0||(j&d)!==0)&&(p[S]=Rs(j,n)):R<=n&&(e.expiredLanes|=j),v&=~j}}function Ut(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ka(){var e=Rn;return Rn<<=1,(Rn&4194240)===0&&(Rn=64),e}function qr(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function hn(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Me(n),e[n]=s}function vt(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var d=e.eventTimes;for(e=e.expirationTimes;0<s;){var p=31-Me(s),v=1<<p;n[p]=0,d[p]=-1,e[p]=-1,s&=~v}}function zn(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var d=31-Me(s),p=1<<d;p&n|e[d]&n&&(e[d]|=n),s&=~p}}var Ze=0;function Kr(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var wo,yr,So,ko,Ai,Ri=!1,Jr=[],fn=null,Nn=null,Sn=null,zi=new Map,Te=new Map,Et=[],Xe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zs(e,n){switch(e){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":Nn=null;break;case"mouseover":case"mouseout":Sn=null;break;case"pointerover":case"pointerout":zi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Te.delete(n.pointerId)}}function _r(e,n,s,d,p,v){return e===null||e.nativeEvent!==v?(e={blockedOn:n,domEventName:s,eventSystemFlags:d,nativeEvent:v,targetContainers:[p]},n!==null&&(n=Cr(n),n!==null&&yr(n)),e):(e.eventSystemFlags|=d,n=e.targetContainers,p!==null&&n.indexOf(p)===-1&&n.push(p),e)}function Ns(e,n,s,d,p){switch(n){case"focusin":return fn=_r(fn,e,n,s,d,p),!0;case"dragenter":return Nn=_r(Nn,e,n,s,d,p),!0;case"mouseover":return Sn=_r(Sn,e,n,s,d,p),!0;case"pointerover":var v=p.pointerId;return zi.set(v,_r(zi.get(v)||null,e,n,s,d,p)),!0;case"gotpointercapture":return v=p.pointerId,Te.set(v,_r(Te.get(v)||null,e,n,s,d,p)),!0}return!1}function bo(e){var n=Tr(e.target);if(n!==null){var s=Qn(n);if(s!==null){if(n=s.tag,n===13){if(n=vr(s),n!==null){e.blockedOn=n,Ai(e.priority,function(){So(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kn(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=To(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var d=new s.constructor(s.type,s);Ps=d,s.target.dispatchEvent(d),Ps=null}else return n=Cr(s),n!==null&&yr(n),e.blockedOn=s,!1;n.shift()}return!0}function Eo(e,n,s){kn(e)&&s.delete(n)}function Ni(){Ri=!1,fn!==null&&kn(fn)&&(fn=null),Nn!==null&&kn(Nn)&&(Nn=null),Sn!==null&&kn(Sn)&&(Sn=null),zi.forEach(Eo),Te.forEach(Eo)}function ht(e,n){e.blockedOn===n&&(e.blockedOn=null,Ri||(Ri=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ni)))}function pn(e){function n(p){return ht(p,e)}if(0<Jr.length){ht(Jr[0],e);for(var s=1;s<Jr.length;s++){var d=Jr[s];d.blockedOn===e&&(d.blockedOn=null)}}for(fn!==null&&ht(fn,e),Nn!==null&&ht(Nn,e),Sn!==null&&ht(Sn,e),zi.forEach(n),Te.forEach(n),s=0;s<Et.length;s++)d=Et[s],d.blockedOn===e&&(d.blockedOn=null);for(;0<Et.length&&(s=Et[0],s.blockedOn===null);)bo(s),s.blockedOn===null&&Et.shift()}var xr=te.ReactCurrentBatchConfig,Di=!0;function Pu(e,n,s,d){var p=Ze,v=xr.transition;xr.transition=null;try{Ze=1,Fi(e,n,s,d)}finally{Ze=p,xr.transition=v}}function Ja(e,n,s,d){var p=Ze,v=xr.transition;xr.transition=null;try{Ze=4,Fi(e,n,s,d)}finally{Ze=p,xr.transition=v}}function Fi(e,n,s,d){if(Di){var p=To(e,n,s,d);if(p===null)t(e,n,d,Po,s),zs(e,d);else if(Ns(p,e,n,s,d))d.stopPropagation();else if(zs(e,d),n&4&&-1<Xe.indexOf(e)){for(;p!==null;){var v=Cr(p);if(v!==null&&wo(v),v=To(e,n,s,d),v===null&&t(e,n,d,Po,s),v===p)break;p=v}p!==null&&d.stopPropagation()}else t(e,n,d,null,s)}}var Po=null;function To(e,n,s,d){if(Po=null,e=Ts(d),e=Tr(e),e!==null)if(n=Qn(e),n===null)e=null;else if(s=n.tag,s===13){if(e=vr(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Po=e,null}function We(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Eu()){case Ms:return 1;case qa:return 4;case yo:case As:return 16;case Zr:return 536870912;default:return 16}default:return 16}}var Xn=null,Kt=null,er=null;function Ds(){if(er)return er;var e,n=Kt,s=n.length,d,p="value"in Xn?Xn.value:Xn.textContent,v=p.length;for(e=0;e<s&&n[e]===p[e];e++);var S=s-e;for(d=1;d<=S&&n[s-d]===p[v-d];d++);return er=p.slice(e,1<d?1-d:void 0)}function Co(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Yr(){return!0}function Ya(){return!1}function $t(e){function n(s,d,p,v,S){this._reactName=s,this._targetInst=p,this.type=d,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var j in e)e.hasOwnProperty(j)&&(s=e[j],this[j]=s?s(v):v[j]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Yr:Ya,this.isPropagationStopped=Ya,this}return q(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Yr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Yr)},persist:function(){},isPersistent:Yr}),n}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fs=$t(Qr),wr=q({},Qr,{view:0,detail:0}),Tu=$t(wr),en,Bs,Xr,mn=q({},wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xr&&(Xr&&e.type==="mousemove"?(en=e.screenX-Xr.screenX,Bs=e.screenY-Xr.screenY):Bs=en=0,Xr=e),en)},movementY:function(e){return"movementY"in e?e.movementY:Bs}}),Us=$t(mn),Qa=q({},mn,{dataTransfer:0}),$s=$t(Qa),Cu=q({},wr,{relatedTarget:0}),Lo=$t(Cu),Xa=q({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),Lu=$t(Xa),ju=q({},Qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ws=$t(ju),Ou=q({},Qr,{data:0}),Hs=$t(Ou),el={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Sr[e])?!!n[e]:!1}function kr(){return Iu}var tn=q({},wr,{key:function(e){if(e.key){var n=el[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Co(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(e){return e.type==="keypress"?Co(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Co(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tl=$t(tn),nl=q({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rl=$t(nl),Zs=q({},wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr}),Vs=$t(Zs),Mu=q({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Au=$t(Mu),il=q({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ru=$t(il),gn=[9,13,27,32],tr=x&&"CompositionEvent"in window,Bi=null;x&&"documentMode"in document&&(Bi=document.documentMode);var Dn=x&&"TextEvent"in window&&!Bi,ol=x&&(!tr||Bi&&8<Bi&&11>=Bi),br=" ",sl=!1;function ei(e,n){switch(e){case"keyup":return gn.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gs(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fn=!1;function zu(e,n){switch(e){case"compositionend":return Gs(n);case"keypress":return n.which!==32?null:(sl=!0,br);case"textInput":return e=n.data,e===br&&sl?null:e;default:return null}}function nr(e,n){if(Fn)return e==="compositionend"||!tr&&ei(e,n)?(e=Ds(),er=Kt=Xn=null,Fn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ol&&n.locale!=="ko"?null:n.data;default:return null}}var Oo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function al(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Oo[e.type]:n==="textarea"}function Io(e,n,s,d){Fa(d),n=c(n,"onChange"),0<n.length&&(s=new Fs("onChange","change",null,s,d),e.push({event:s,listeners:n}))}var Ui=null,Jt=null;function Nu(e){na(e,0)}function Bn(e){var n=Lr(e);if(zt(n))return e}function Du(e,n){if(e==="change")return n}var bn=!1;if(x){var ti;if(x){var Mo="oninput"in document;if(!Mo){var Ao=document.createElement("div");Ao.setAttribute("oninput","return;"),Mo=typeof Ao.oninput=="function"}ti=Mo}else ti=!1;bn=ti&&(!document.documentMode||9<document.documentMode)}function $i(){Ui&&(Ui.detachEvent("onpropertychange",Ro),Jt=Ui=null)}function Ro(e){if(e.propertyName==="value"&&Bn(Jt)){var n=[];Io(n,Jt,e,Ts(e)),mo(Nu,n)}}function zo(e,n,s){e==="focusin"?($i(),Ui=n,Jt=s,Ui.attachEvent("onpropertychange",Ro)):e==="focusout"&&$i()}function ni(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bn(Jt)}function No(e,n){if(e==="click")return Bn(n)}function qs(e,n){if(e==="input"||e==="change")return Bn(n)}function ll(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var vn=typeof Object.is=="function"?Object.is:ll;function rr(e,n){if(vn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),d=Object.keys(n);if(s.length!==d.length)return!1;for(d=0;d<s.length;d++){var p=s[d];if(!_.call(n,p)||!vn(e[p],n[p]))return!1}return!0}function ul(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ks(e,n){var s=ul(e);e=0;for(var d;s;){if(s.nodeType===3){if(d=e+s.textContent.length,e<=n&&d>=n)return{node:s,offset:n-e};e=d}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=ul(s)}}function cl(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?cl(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Js(){for(var e=window,n=Lt();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Lt(e.document)}return n}function Ys(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function En(e){var n=Js(),s=e.focusedElem,d=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&cl(s.ownerDocument.documentElement,s)){if(d!==null&&Ys(s)){if(n=d.start,e=d.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var p=s.textContent.length,v=Math.min(d.start,p);d=d.end===void 0?v:Math.min(d.end,p),!e.extend&&v>d&&(p=d,d=v,v=p),p=Ks(s,v);var S=Ks(s,d);p&&S&&(e.rangeCount!==1||e.anchorNode!==p.node||e.anchorOffset!==p.offset||e.focusNode!==S.node||e.focusOffset!==S.offset)&&(n=n.createRange(),n.setStart(p.node,p.offset),e.removeAllRanges(),v>d?(e.addRange(n),e.extend(S.node,S.offset)):(n.setEnd(S.node,S.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Do=x&&"documentMode"in document&&11>=document.documentMode,ri=null,ii=null,Wi=null,Fo=!1;function dl(e,n,s){var d=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Fo||ri==null||ri!==Lt(d)||(d=ri,"selectionStart"in d&&Ys(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Wi&&rr(Wi,d)||(Wi=d,d=c(ii,"onSelect"),0<d.length&&(n=new Fs("onSelect","select",null,n,s),e.push({event:n,listeners:d}),n.target=ri)))}function ir(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var oi={animationend:ir("Animation","AnimationEnd"),animationiteration:ir("Animation","AnimationIteration"),animationstart:ir("Animation","AnimationStart"),transitionend:ir("Transition","TransitionEnd")},or={},Qs={};x&&(Qs=document.createElement("div").style,"AnimationEvent"in window||(delete oi.animationend.animation,delete oi.animationiteration.animation,delete oi.animationstart.animation),"TransitionEvent"in window||delete oi.transitionend.transition);function Hi(e){if(or[e])return or[e];if(!oi[e])return e;var n=oi[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Qs)return or[e]=n[s];return e}var hl=Hi("animationend"),Pn=Hi("animationiteration"),Xs=Hi("animationstart"),ea=Hi("transitionend"),si=new Map,fl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yn(e,n){si.set(e,n),h(n,[e])}for(var Er=0;Er<fl.length;Er++){var Bo=fl[Er],pl=Bo.toLowerCase(),Fu=Bo[0].toUpperCase()+Bo.slice(1);yn(pl,"on"+Fu)}yn(hl,"onAnimationEnd"),yn(Pn,"onAnimationIteration"),yn(Xs,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(ea,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),h("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),h("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),h("onBeforeInput",["compositionend","keypress","textInput","paste"]),h("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ml=new Set("cancel close invalid load scroll toggle".split(" ").concat(ai));function ta(e,n,s){var d=e.type||"unknown-event";e.currentTarget=s,js(d,n,void 0,e),e.currentTarget=null}function na(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var d=e[s],p=d.event;d=d.listeners;e:{var v=void 0;if(n)for(var S=d.length-1;0<=S;S--){var j=d[S],R=j.instance,W=j.currentTarget;if(j=j.listener,R!==v&&p.isPropagationStopped())break e;ta(p,j,W),v=R}else for(S=0;S<d.length;S++){if(j=d[S],R=j.instance,W=j.currentTarget,j=j.listener,R!==v&&p.isPropagationStopped())break e;ta(p,j,W),v=R}}}if(Oi)throw e=go,Oi=!1,go=null,e}function et(e,n){var s=n[di];s===void 0&&(s=n[di]=new Set);var d=e+"__bubble";s.has(d)||(gl(n,e,2,!1),s.add(d))}function ra(e,n,s){var d=0;n&&(d|=4),gl(s,e,d,n)}var Zi="_reactListening"+Math.random().toString(36).slice(2);function li(e){if(!e[Zi]){e[Zi]=!0,l.forEach(function(s){s!=="selectionchange"&&(ml.has(s)||ra(s,!1,e),ra(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Zi]||(n[Zi]=!0,ra("selectionchange",!1,n))}}function gl(e,n,s,d){switch(We(n)){case 1:var p=Pu;break;case 4:p=Ja;break;default:p=Fi}s=p.bind(null,n,s,e),p=void 0,!Ls||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(p=!0),d?p!==void 0?e.addEventListener(n,s,{capture:!0,passive:p}):e.addEventListener(n,s,!0):p!==void 0?e.addEventListener(n,s,{passive:p}):e.addEventListener(n,s,!1)}function t(e,n,s,d,p){var v=d;if((n&1)===0&&(n&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var j=d.stateNode.containerInfo;if(j===p||j.nodeType===8&&j.parentNode===p)break;if(S===4)for(S=d.return;S!==null;){var R=S.tag;if((R===3||R===4)&&(R=S.stateNode.containerInfo,R===p||R.nodeType===8&&R.parentNode===p))return;S=S.return}for(;j!==null;){if(S=Tr(j),S===null)return;if(R=S.tag,R===5||R===6){d=v=S;continue e}j=j.parentNode}}d=d.return}mo(function(){var W=v,X=Ts(s),ee=[];e:{var Q=si.get(e);if(Q!==void 0){var he=Fs,pe=e;switch(e){case"keypress":if(Co(s)===0)break e;case"keydown":case"keyup":he=tl;break;case"focusin":pe="focus",he=Lo;break;case"focusout":pe="blur",he=Lo;break;case"beforeblur":case"afterblur":he=Lo;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=Us;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=$s;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=Vs;break;case hl:case Pn:case Xs:he=Lu;break;case ea:he=Au;break;case"scroll":he=Tu;break;case"wheel":he=Ru;break;case"copy":case"cut":case"paste":he=Ws;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=rl}var me=(n&4)!==0,_t=!me&&e==="scroll",F=me?Q!==null?Q+"Capture":null:Q;me=[];for(var z=W,B;z!==null;){B=z;var ne=B.stateNode;if(B.tag===5&&ne!==null&&(B=ne,F!==null&&(ne=Li(z,F),ne!=null&&me.push(i(z,ne,B)))),_t)break;z=z.return}0<me.length&&(Q=new he(Q,pe,null,s,X),ee.push({event:Q,listeners:me}))}}if((n&7)===0){e:{if(Q=e==="mouseover"||e==="pointerover",he=e==="mouseout"||e==="pointerout",Q&&s!==Ps&&(pe=s.relatedTarget||s.fromElement)&&(Tr(pe)||pe[Je]))break e;if((he||Q)&&(Q=X.window===X?X:(Q=X.ownerDocument)?Q.defaultView||Q.parentWindow:window,he?(pe=s.relatedTarget||s.toElement,he=W,pe=pe?Tr(pe):null,pe!==null&&(_t=Qn(pe),pe!==_t||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(he=null,pe=W),he!==pe)){if(me=Us,ne="onMouseLeave",F="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(me=rl,ne="onPointerLeave",F="onPointerEnter",z="pointer"),_t=he==null?Q:Lr(he),B=pe==null?Q:Lr(pe),Q=new me(ne,z+"leave",he,s,X),Q.target=_t,Q.relatedTarget=B,ne=null,Tr(X)===W&&(me=new me(F,z+"enter",pe,s,X),me.target=B,me.relatedTarget=_t,ne=me),_t=ne,he&&pe)t:{for(me=he,F=pe,z=0,B=me;B;B=f(B))z++;for(B=0,ne=F;ne;ne=f(ne))B++;for(;0<z-B;)me=f(me),z--;for(;0<B-z;)F=f(F),B--;for(;z--;){if(me===F||F!==null&&me===F.alternate)break t;me=f(me),F=f(F)}me=null}else me=null;he!==null&&y(ee,Q,he,me,!1),pe!==null&&_t!==null&&y(ee,_t,pe,me,!0)}}e:{if(Q=W?Lr(W):window,he=Q.nodeName&&Q.nodeName.toLowerCase(),he==="select"||he==="input"&&Q.type==="file")var ye=Du;else if(al(Q))if(bn)ye=qs;else{ye=ni;var be=zo}else(he=Q.nodeName)&&he.toLowerCase()==="input"&&(Q.type==="checkbox"||Q.type==="radio")&&(ye=No);if(ye&&(ye=ye(e,W))){Io(ee,ye,s,X);break e}be&&be(e,Q,W),e==="focusout"&&(be=Q._wrapperState)&&be.controlled&&Q.type==="number"&&Qe(Q,"number",Q.value)}switch(be=W?Lr(W):window,e){case"focusin":(al(be)||be.contentEditable==="true")&&(ri=be,ii=W,Wi=null);break;case"focusout":Wi=ii=ri=null;break;case"mousedown":Fo=!0;break;case"contextmenu":case"mouseup":case"dragend":Fo=!1,dl(ee,s,X);break;case"selectionchange":if(Do)break;case"keydown":case"keyup":dl(ee,s,X)}var Ee;if(tr)e:{switch(e){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Fn?ei(e,s)&&(Ce="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ce="onCompositionStart");Ce&&(ol&&s.locale!=="ko"&&(Fn||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Fn&&(Ee=Ds()):(Xn=X,Kt="value"in Xn?Xn.value:Xn.textContent,Fn=!0)),be=c(W,Ce),0<be.length&&(Ce=new Hs(Ce,e,null,s,X),ee.push({event:Ce,listeners:be}),Ee?Ce.data=Ee:(Ee=Gs(s),Ee!==null&&(Ce.data=Ee)))),(Ee=Dn?zu(e,s):nr(e,s))&&(W=c(W,"onBeforeInput"),0<W.length&&(X=new Hs("onBeforeInput","beforeinput",null,s,X),ee.push({event:X,listeners:W}),X.data=Ee))}na(ee,n)})}function i(e,n,s){return{instance:e,listener:n,currentTarget:s}}function c(e,n){for(var s=n+"Capture",d=[];e!==null;){var p=e,v=p.stateNode;p.tag===5&&v!==null&&(p=v,v=Li(e,s),v!=null&&d.unshift(i(e,v,p)),v=Li(e,n),v!=null&&d.push(i(e,v,p))),e=e.return}return d}function f(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function y(e,n,s,d,p){for(var v=n._reactName,S=[];s!==null&&s!==d;){var j=s,R=j.alternate,W=j.stateNode;if(R!==null&&R===d)break;j.tag===5&&W!==null&&(j=W,p?(R=Li(s,v),R!=null&&S.unshift(i(s,R,j))):p||(R=Li(s,v),R!=null&&S.push(i(s,R,j)))),s=s.return}S.length!==0&&e.push({event:n,listeners:S})}var b=/\r\n?/g,O=/\u0000|\uFFFD/g;function D(e){return(typeof e=="string"?e:""+e).replace(b,`
`).replace(O,"")}function $(e,n,s){if(n=D(n),D(e)!==n&&s)throw Error(o(425))}function Y(){}var ce=null,Se=null;function Ae(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Pt=typeof setTimeout=="function"?setTimeout:void 0,wt=typeof clearTimeout=="function"?clearTimeout:void 0,Yt=typeof Promise=="function"?Promise:void 0,Wt=typeof queueMicrotask=="function"?queueMicrotask:typeof Yt<"u"?function(e){return Yt.resolve(null).then(e).catch(ui)}:Pt;function ui(e){setTimeout(function(){throw e})}function ia(e,n){var s=n,d=0;do{var p=s.nextSibling;if(e.removeChild(s),p&&p.nodeType===8)if(s=p.data,s==="/$"){if(d===0){e.removeChild(p),pn(n);return}d--}else s!=="$"&&s!=="$?"&&s!=="$!"||d++;s=p}while(s);pn(n)}function sr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function vl(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var Pr=Math.random().toString(36).slice(2),Tn="__reactFiber$"+Pr,ci="__reactProps$"+Pr,Je="__reactContainer$"+Pr,di="__reactEvents$"+Pr,Bu="__reactListeners$"+Pr,Uu="__reactHandles$"+Pr;function Tr(e){var n=e[Tn];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Je]||s[Tn]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=vl(e);e!==null;){if(s=e[Tn])return s;e=vl(e)}return n}e=s,s=e.parentNode}return null}function Cr(e){return e=e[Tn]||e[Je],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Lr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function Uo(e){return e[ci]||null}var $u=[],$o=-1;function hi(e){return{current:e}}function st(e){0>$o||(e.current=$u[$o],$u[$o]=null,$o--)}function rt(e,n){$o++,$u[$o]=e.current,e.current=n}var fi={},Ht=hi(fi),nn=hi(!1),Vi=fi;function Wo(e,n){var s=e.type.contextTypes;if(!s)return fi;var d=e.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===n)return d.__reactInternalMemoizedMaskedChildContext;var p={},v;for(v in s)p[v]=n[v];return d&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=p),p}function rn(e){return e=e.childContextTypes,e!=null}function yl(){st(nn),st(Ht)}function Wd(e,n,s){if(Ht.current!==fi)throw Error(o(168));rt(Ht,n),rt(nn,s)}function Hd(e,n,s){var d=e.stateNode;if(n=n.childContextTypes,typeof d.getChildContext!="function")return s;d=d.getChildContext();for(var p in d)if(!(p in n))throw Error(o(108,we(e)||"Unknown",p));return q({},s,d)}function _l(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,Vi=Ht.current,rt(Ht,e),rt(nn,nn.current),!0}function Zd(e,n,s){var d=e.stateNode;if(!d)throw Error(o(169));s?(e=Hd(e,n,Vi),d.__reactInternalMemoizedMergedChildContext=e,st(nn),st(Ht),rt(Ht,e)):st(nn),rt(nn,s)}var jr=null,xl=!1,Wu=!1;function Vd(e){jr===null?jr=[e]:jr.push(e)}function bm(e){xl=!0,Vd(e)}function pi(){if(!Wu&&jr!==null){Wu=!0;var e=0,n=Ze;try{var s=jr;for(Ze=1;e<s.length;e++){var d=s[e];do d=d(!0);while(d!==null)}jr=null,xl=!1}catch(p){throw jr!==null&&(jr=jr.slice(e+1)),Ga(Ms,pi),p}finally{Ze=n,Wu=!1}}return null}var Ho=[],Zo=0,wl=null,Sl=0,Cn=[],Ln=0,Gi=null,Or=1,Ir="";function qi(e,n){Ho[Zo++]=Sl,Ho[Zo++]=wl,wl=e,Sl=n}function Gd(e,n,s){Cn[Ln++]=Or,Cn[Ln++]=Ir,Cn[Ln++]=Gi,Gi=e;var d=Or;e=Ir;var p=32-Me(d)-1;d&=~(1<<p),s+=1;var v=32-Me(n)+p;if(30<v){var S=p-p%5;v=(d&(1<<S)-1).toString(32),d>>=S,p-=S,Or=1<<32-Me(n)+p|s<<p|d,Ir=v+e}else Or=1<<v|s<<p|d,Ir=e}function Hu(e){e.return!==null&&(qi(e,1),Gd(e,1,0))}function Zu(e){for(;e===wl;)wl=Ho[--Zo],Ho[Zo]=null,Sl=Ho[--Zo],Ho[Zo]=null;for(;e===Gi;)Gi=Cn[--Ln],Cn[Ln]=null,Ir=Cn[--Ln],Cn[Ln]=null,Or=Cn[--Ln],Cn[Ln]=null}var _n=null,xn=null,lt=!1,Un=null;function qd(e,n){var s=Mn(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function Kd(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,_n=e,xn=sr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,_n=e,xn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=Gi!==null?{id:Or,overflow:Ir}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=Mn(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,_n=e,xn=null,!0):!1;default:return!1}}function Vu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Gu(e){if(lt){var n=xn;if(n){var s=n;if(!Kd(e,n)){if(Vu(e))throw Error(o(418));n=sr(s.nextSibling);var d=_n;n&&Kd(e,n)?qd(d,s):(e.flags=e.flags&-4097|2,lt=!1,_n=e)}}else{if(Vu(e))throw Error(o(418));e.flags=e.flags&-4097|2,lt=!1,_n=e}}}function Jd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_n=e}function kl(e){if(e!==_n)return!1;if(!lt)return Jd(e),lt=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Ae(e.type,e.memoizedProps)),n&&(n=xn)){if(Vu(e))throw Yd(),Error(o(418));for(;n;)qd(e,n),n=sr(n.nextSibling)}if(Jd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){xn=sr(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}xn=null}}else xn=_n?sr(e.stateNode.nextSibling):null;return!0}function Yd(){for(var e=xn;e;)e=sr(e.nextSibling)}function Vo(){xn=_n=null,lt=!1}function qu(e){Un===null?Un=[e]:Un.push(e)}var Em=te.ReactCurrentBatchConfig;function oa(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(o(309));var d=s.stateNode}if(!d)throw Error(o(147,e));var p=d,v=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===v?n.ref:(n=function(S){var j=p.refs;S===null?delete j[v]:j[v]=S},n._stringRef=v,n)}if(typeof e!="string")throw Error(o(284));if(!s._owner)throw Error(o(290,e))}return e}function bl(e,n){throw e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Qd(e){var n=e._init;return n(e._payload)}function Xd(e){function n(F,z){if(e){var B=F.deletions;B===null?(F.deletions=[z],F.flags|=16):B.push(z)}}function s(F,z){if(!e)return null;for(;z!==null;)n(F,z),z=z.sibling;return null}function d(F,z){for(F=new Map;z!==null;)z.key!==null?F.set(z.key,z):F.set(z.index,z),z=z.sibling;return F}function p(F,z){return F=Si(F,z),F.index=0,F.sibling=null,F}function v(F,z,B){return F.index=B,e?(B=F.alternate,B!==null?(B=B.index,B<z?(F.flags|=2,z):B):(F.flags|=2,z)):(F.flags|=1048576,z)}function S(F){return e&&F.alternate===null&&(F.flags|=2),F}function j(F,z,B,ne){return z===null||z.tag!==6?(z=Fc(B,F.mode,ne),z.return=F,z):(z=p(z,B),z.return=F,z)}function R(F,z,B,ne){var ye=B.type;return ye===J?X(F,z,B.props.children,ne,B.key):z!==null&&(z.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===_e&&Qd(ye)===z.type)?(ne=p(z,B.props),ne.ref=oa(F,z,B),ne.return=F,ne):(ne=ql(B.type,B.key,B.props,null,F.mode,ne),ne.ref=oa(F,z,B),ne.return=F,ne)}function W(F,z,B,ne){return z===null||z.tag!==4||z.stateNode.containerInfo!==B.containerInfo||z.stateNode.implementation!==B.implementation?(z=Bc(B,F.mode,ne),z.return=F,z):(z=p(z,B.children||[]),z.return=F,z)}function X(F,z,B,ne,ye){return z===null||z.tag!==7?(z=no(B,F.mode,ne,ye),z.return=F,z):(z=p(z,B),z.return=F,z)}function ee(F,z,B){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Fc(""+z,F.mode,B),z.return=F,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case ue:return B=ql(z.type,z.key,z.props,null,F.mode,B),B.ref=oa(F,null,z),B.return=F,B;case ae:return z=Bc(z,F.mode,B),z.return=F,z;case _e:var ne=z._init;return ee(F,ne(z._payload),B)}if(tt(z)||oe(z))return z=no(z,F.mode,B,null),z.return=F,z;bl(F,z)}return null}function Q(F,z,B,ne){var ye=z!==null?z.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return ye!==null?null:j(F,z,""+B,ne);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case ue:return B.key===ye?R(F,z,B,ne):null;case ae:return B.key===ye?W(F,z,B,ne):null;case _e:return ye=B._init,Q(F,z,ye(B._payload),ne)}if(tt(B)||oe(B))return ye!==null?null:X(F,z,B,ne,null);bl(F,B)}return null}function he(F,z,B,ne,ye){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return F=F.get(B)||null,j(z,F,""+ne,ye);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case ue:return F=F.get(ne.key===null?B:ne.key)||null,R(z,F,ne,ye);case ae:return F=F.get(ne.key===null?B:ne.key)||null,W(z,F,ne,ye);case _e:var be=ne._init;return he(F,z,B,be(ne._payload),ye)}if(tt(ne)||oe(ne))return F=F.get(B)||null,X(z,F,ne,ye,null);bl(z,ne)}return null}function pe(F,z,B,ne){for(var ye=null,be=null,Ee=z,Ce=z=0,Mt=null;Ee!==null&&Ce<B.length;Ce++){Ee.index>Ce?(Mt=Ee,Ee=null):Mt=Ee.sibling;var Ge=Q(F,Ee,B[Ce],ne);if(Ge===null){Ee===null&&(Ee=Mt);break}e&&Ee&&Ge.alternate===null&&n(F,Ee),z=v(Ge,z,Ce),be===null?ye=Ge:be.sibling=Ge,be=Ge,Ee=Mt}if(Ce===B.length)return s(F,Ee),lt&&qi(F,Ce),ye;if(Ee===null){for(;Ce<B.length;Ce++)Ee=ee(F,B[Ce],ne),Ee!==null&&(z=v(Ee,z,Ce),be===null?ye=Ee:be.sibling=Ee,be=Ee);return lt&&qi(F,Ce),ye}for(Ee=d(F,Ee);Ce<B.length;Ce++)Mt=he(Ee,F,Ce,B[Ce],ne),Mt!==null&&(e&&Mt.alternate!==null&&Ee.delete(Mt.key===null?Ce:Mt.key),z=v(Mt,z,Ce),be===null?ye=Mt:be.sibling=Mt,be=Mt);return e&&Ee.forEach(function(ki){return n(F,ki)}),lt&&qi(F,Ce),ye}function me(F,z,B,ne){var ye=oe(B);if(typeof ye!="function")throw Error(o(150));if(B=ye.call(B),B==null)throw Error(o(151));for(var be=ye=null,Ee=z,Ce=z=0,Mt=null,Ge=B.next();Ee!==null&&!Ge.done;Ce++,Ge=B.next()){Ee.index>Ce?(Mt=Ee,Ee=null):Mt=Ee.sibling;var ki=Q(F,Ee,Ge.value,ne);if(ki===null){Ee===null&&(Ee=Mt);break}e&&Ee&&ki.alternate===null&&n(F,Ee),z=v(ki,z,Ce),be===null?ye=ki:be.sibling=ki,be=ki,Ee=Mt}if(Ge.done)return s(F,Ee),lt&&qi(F,Ce),ye;if(Ee===null){for(;!Ge.done;Ce++,Ge=B.next())Ge=ee(F,Ge.value,ne),Ge!==null&&(z=v(Ge,z,Ce),be===null?ye=Ge:be.sibling=Ge,be=Ge);return lt&&qi(F,Ce),ye}for(Ee=d(F,Ee);!Ge.done;Ce++,Ge=B.next())Ge=he(Ee,F,Ce,Ge.value,ne),Ge!==null&&(e&&Ge.alternate!==null&&Ee.delete(Ge.key===null?Ce:Ge.key),z=v(Ge,z,Ce),be===null?ye=Ge:be.sibling=Ge,be=Ge);return e&&Ee.forEach(function(ig){return n(F,ig)}),lt&&qi(F,Ce),ye}function _t(F,z,B,ne){if(typeof B=="object"&&B!==null&&B.type===J&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case ue:e:{for(var ye=B.key,be=z;be!==null;){if(be.key===ye){if(ye=B.type,ye===J){if(be.tag===7){s(F,be.sibling),z=p(be,B.props.children),z.return=F,F=z;break e}}else if(be.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===_e&&Qd(ye)===be.type){s(F,be.sibling),z=p(be,B.props),z.ref=oa(F,be,B),z.return=F,F=z;break e}s(F,be);break}else n(F,be);be=be.sibling}B.type===J?(z=no(B.props.children,F.mode,ne,B.key),z.return=F,F=z):(ne=ql(B.type,B.key,B.props,null,F.mode,ne),ne.ref=oa(F,z,B),ne.return=F,F=ne)}return S(F);case ae:e:{for(be=B.key;z!==null;){if(z.key===be)if(z.tag===4&&z.stateNode.containerInfo===B.containerInfo&&z.stateNode.implementation===B.implementation){s(F,z.sibling),z=p(z,B.children||[]),z.return=F,F=z;break e}else{s(F,z);break}else n(F,z);z=z.sibling}z=Bc(B,F.mode,ne),z.return=F,F=z}return S(F);case _e:return be=B._init,_t(F,z,be(B._payload),ne)}if(tt(B))return pe(F,z,B,ne);if(oe(B))return me(F,z,B,ne);bl(F,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,z!==null&&z.tag===6?(s(F,z.sibling),z=p(z,B),z.return=F,F=z):(s(F,z),z=Fc(B,F.mode,ne),z.return=F,F=z),S(F)):s(F,z)}return _t}var Go=Xd(!0),eh=Xd(!1),El=hi(null),Pl=null,qo=null,Ku=null;function Ju(){Ku=qo=Pl=null}function Yu(e){var n=El.current;st(El),e._currentValue=n}function Qu(e,n,s){for(;e!==null;){var d=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,d!==null&&(d.childLanes|=n)):d!==null&&(d.childLanes&n)!==n&&(d.childLanes|=n),e===s)break;e=e.return}}function Ko(e,n){Pl=e,Ku=qo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(on=!0),e.firstContext=null)}function jn(e){var n=e._currentValue;if(Ku!==e)if(e={context:e,memoizedValue:n,next:null},qo===null){if(Pl===null)throw Error(o(308));qo=e,Pl.dependencies={lanes:0,firstContext:e}}else qo=qo.next=e;return n}var Ki=null;function Xu(e){Ki===null?Ki=[e]:Ki.push(e)}function th(e,n,s,d){var p=n.interleaved;return p===null?(s.next=s,Xu(n)):(s.next=p.next,p.next=s),n.interleaved=s,Mr(e,d)}function Mr(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var mi=!1;function ec(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ar(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function gi(e,n,s){var d=e.updateQueue;if(d===null)return null;if(d=d.shared,(Ve&2)!==0){var p=d.pending;return p===null?n.next=n:(n.next=p.next,p.next=n),d.pending=n,Mr(e,s)}return p=d.interleaved,p===null?(n.next=n,Xu(d)):(n.next=p.next,p.next=n),d.interleaved=n,Mr(e,s)}function Tl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var d=n.lanes;d&=e.pendingLanes,s|=d,n.lanes=s,zn(e,s)}}function rh(e,n){var s=e.updateQueue,d=e.alternate;if(d!==null&&(d=d.updateQueue,s===d)){var p=null,v=null;if(s=s.firstBaseUpdate,s!==null){do{var S={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};v===null?p=v=S:v=v.next=S,s=s.next}while(s!==null);v===null?p=v=n:v=v.next=n}else p=v=n;s={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:d.shared,effects:d.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function Cl(e,n,s,d){var p=e.updateQueue;mi=!1;var v=p.firstBaseUpdate,S=p.lastBaseUpdate,j=p.shared.pending;if(j!==null){p.shared.pending=null;var R=j,W=R.next;R.next=null,S===null?v=W:S.next=W,S=R;var X=e.alternate;X!==null&&(X=X.updateQueue,j=X.lastBaseUpdate,j!==S&&(j===null?X.firstBaseUpdate=W:j.next=W,X.lastBaseUpdate=R))}if(v!==null){var ee=p.baseState;S=0,X=W=R=null,j=v;do{var Q=j.lane,he=j.eventTime;if((d&Q)===Q){X!==null&&(X=X.next={eventTime:he,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var pe=e,me=j;switch(Q=n,he=s,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){ee=pe.call(he,ee,Q);break e}ee=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,Q=typeof pe=="function"?pe.call(he,ee,Q):pe,Q==null)break e;ee=q({},ee,Q);break e;case 2:mi=!0}}j.callback!==null&&j.lane!==0&&(e.flags|=64,Q=p.effects,Q===null?p.effects=[j]:Q.push(j))}else he={eventTime:he,lane:Q,tag:j.tag,payload:j.payload,callback:j.callback,next:null},X===null?(W=X=he,R=ee):X=X.next=he,S|=Q;if(j=j.next,j===null){if(j=p.shared.pending,j===null)break;Q=j,j=Q.next,Q.next=null,p.lastBaseUpdate=Q,p.shared.pending=null}}while(!0);if(X===null&&(R=ee),p.baseState=R,p.firstBaseUpdate=W,p.lastBaseUpdate=X,n=p.shared.interleaved,n!==null){p=n;do S|=p.lane,p=p.next;while(p!==n)}else v===null&&(p.shared.lanes=0);Qi|=S,e.lanes=S,e.memoizedState=ee}}function ih(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var d=e[n],p=d.callback;if(p!==null){if(d.callback=null,d=s,typeof p!="function")throw Error(o(191,p));p.call(d)}}}var sa={},ar=hi(sa),aa=hi(sa),la=hi(sa);function Ji(e){if(e===sa)throw Error(o(174));return e}function tc(e,n){switch(rt(la,n),rt(aa,e),rt(ar,sa),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:fr(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=fr(n,e)}st(ar),rt(ar,n)}function Jo(){st(ar),st(aa),st(la)}function oh(e){Ji(la.current);var n=Ji(ar.current),s=fr(n,e.type);n!==s&&(rt(aa,e),rt(ar,s))}function nc(e){aa.current===e&&(st(ar),st(aa))}var ft=hi(0);function Ll(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var rc=[];function ic(){for(var e=0;e<rc.length;e++)rc[e]._workInProgressVersionPrimary=null;rc.length=0}var jl=te.ReactCurrentDispatcher,oc=te.ReactCurrentBatchConfig,Yi=0,pt=null,Tt=null,Ot=null,Ol=!1,ua=!1,ca=0,Pm=0;function Zt(){throw Error(o(321))}function sc(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!vn(e[s],n[s]))return!1;return!0}function ac(e,n,s,d,p,v){if(Yi=v,pt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,jl.current=e===null||e.memoizedState===null?jm:Om,e=s(d,p),ua){v=0;do{if(ua=!1,ca=0,25<=v)throw Error(o(301));v+=1,Ot=Tt=null,n.updateQueue=null,jl.current=Im,e=s(d,p)}while(ua)}if(jl.current=Al,n=Tt!==null&&Tt.next!==null,Yi=0,Ot=Tt=pt=null,Ol=!1,n)throw Error(o(300));return e}function lc(){var e=ca!==0;return ca=0,e}function lr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?pt.memoizedState=Ot=e:Ot=Ot.next=e,Ot}function On(){if(Tt===null){var e=pt.alternate;e=e!==null?e.memoizedState:null}else e=Tt.next;var n=Ot===null?pt.memoizedState:Ot.next;if(n!==null)Ot=n,Tt=e;else{if(e===null)throw Error(o(310));Tt=e,e={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Ot===null?pt.memoizedState=Ot=e:Ot=Ot.next=e}return Ot}function da(e,n){return typeof n=="function"?n(e):n}function uc(e){var n=On(),s=n.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=e;var d=Tt,p=d.baseQueue,v=s.pending;if(v!==null){if(p!==null){var S=p.next;p.next=v.next,v.next=S}d.baseQueue=p=v,s.pending=null}if(p!==null){v=p.next,d=d.baseState;var j=S=null,R=null,W=v;do{var X=W.lane;if((Yi&X)===X)R!==null&&(R=R.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),d=W.hasEagerState?W.eagerState:e(d,W.action);else{var ee={lane:X,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};R===null?(j=R=ee,S=d):R=R.next=ee,pt.lanes|=X,Qi|=X}W=W.next}while(W!==null&&W!==v);R===null?S=d:R.next=j,vn(d,n.memoizedState)||(on=!0),n.memoizedState=d,n.baseState=S,n.baseQueue=R,s.lastRenderedState=d}if(e=s.interleaved,e!==null){p=e;do v=p.lane,pt.lanes|=v,Qi|=v,p=p.next;while(p!==e)}else p===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function cc(e){var n=On(),s=n.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=e;var d=s.dispatch,p=s.pending,v=n.memoizedState;if(p!==null){s.pending=null;var S=p=p.next;do v=e(v,S.action),S=S.next;while(S!==p);vn(v,n.memoizedState)||(on=!0),n.memoizedState=v,n.baseQueue===null&&(n.baseState=v),s.lastRenderedState=v}return[v,d]}function sh(){}function ah(e,n){var s=pt,d=On(),p=n(),v=!vn(d.memoizedState,p);if(v&&(d.memoizedState=p,on=!0),d=d.queue,dc(ch.bind(null,s,d,e),[e]),d.getSnapshot!==n||v||Ot!==null&&Ot.memoizedState.tag&1){if(s.flags|=2048,ha(9,uh.bind(null,s,d,p,n),void 0,null),It===null)throw Error(o(349));(Yi&30)!==0||lh(s,n,p)}return p}function lh(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=pt.updateQueue,n===null?(n={lastEffect:null,stores:null},pt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function uh(e,n,s,d){n.value=s,n.getSnapshot=d,dh(n)&&hh(e)}function ch(e,n,s){return s(function(){dh(n)&&hh(e)})}function dh(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!vn(e,s)}catch{return!0}}function hh(e){var n=Mr(e,1);n!==null&&Zn(n,e,1,-1)}function fh(e){var n=lr();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:e},n.queue=e,e=e.dispatch=Lm.bind(null,pt,e),[n.memoizedState,e]}function ha(e,n,s,d){return e={tag:e,create:n,destroy:s,deps:d,next:null},n=pt.updateQueue,n===null?(n={lastEffect:null,stores:null},pt.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(d=s.next,s.next=e,e.next=d,n.lastEffect=e)),e}function ph(){return On().memoizedState}function Il(e,n,s,d){var p=lr();pt.flags|=e,p.memoizedState=ha(1|n,s,void 0,d===void 0?null:d)}function Ml(e,n,s,d){var p=On();d=d===void 0?null:d;var v=void 0;if(Tt!==null){var S=Tt.memoizedState;if(v=S.destroy,d!==null&&sc(d,S.deps)){p.memoizedState=ha(n,s,v,d);return}}pt.flags|=e,p.memoizedState=ha(1|n,s,v,d)}function mh(e,n){return Il(8390656,8,e,n)}function dc(e,n){return Ml(2048,8,e,n)}function gh(e,n){return Ml(4,2,e,n)}function vh(e,n){return Ml(4,4,e,n)}function yh(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function _h(e,n,s){return s=s!=null?s.concat([e]):null,Ml(4,4,yh.bind(null,n,e),s)}function hc(){}function xh(e,n){var s=On();n=n===void 0?null:n;var d=s.memoizedState;return d!==null&&n!==null&&sc(n,d[1])?d[0]:(s.memoizedState=[e,n],e)}function wh(e,n){var s=On();n=n===void 0?null:n;var d=s.memoizedState;return d!==null&&n!==null&&sc(n,d[1])?d[0]:(e=e(),s.memoizedState=[e,n],e)}function Sh(e,n,s){return(Yi&21)===0?(e.baseState&&(e.baseState=!1,on=!0),e.memoizedState=s):(vn(s,n)||(s=Ka(),pt.lanes|=s,Qi|=s,e.baseState=!0),n)}function Tm(e,n){var s=Ze;Ze=s!==0&&4>s?s:4,e(!0);var d=oc.transition;oc.transition={};try{e(!1),n()}finally{Ze=s,oc.transition=d}}function kh(){return On().memoizedState}function Cm(e,n,s){var d=xi(e);if(s={lane:d,action:s,hasEagerState:!1,eagerState:null,next:null},bh(e))Eh(n,s);else if(s=th(e,n,s,d),s!==null){var p=Xt();Zn(s,e,d,p),Ph(s,n,d)}}function Lm(e,n,s){var d=xi(e),p={lane:d,action:s,hasEagerState:!1,eagerState:null,next:null};if(bh(e))Eh(n,p);else{var v=e.alternate;if(e.lanes===0&&(v===null||v.lanes===0)&&(v=n.lastRenderedReducer,v!==null))try{var S=n.lastRenderedState,j=v(S,s);if(p.hasEagerState=!0,p.eagerState=j,vn(j,S)){var R=n.interleaved;R===null?(p.next=p,Xu(n)):(p.next=R.next,R.next=p),n.interleaved=p;return}}catch{}finally{}s=th(e,n,p,d),s!==null&&(p=Xt(),Zn(s,e,d,p),Ph(s,n,d))}}function bh(e){var n=e.alternate;return e===pt||n!==null&&n===pt}function Eh(e,n){ua=Ol=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Ph(e,n,s){if((s&4194240)!==0){var d=n.lanes;d&=e.pendingLanes,s|=d,n.lanes=s,zn(e,s)}}var Al={readContext:jn,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},jm={readContext:jn,useCallback:function(e,n){return lr().memoizedState=[e,n===void 0?null:n],e},useContext:jn,useEffect:mh,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,Il(4194308,4,yh.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Il(4194308,4,e,n)},useInsertionEffect:function(e,n){return Il(4,2,e,n)},useMemo:function(e,n){var s=lr();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var d=lr();return n=s!==void 0?s(n):n,d.memoizedState=d.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},d.queue=e,e=e.dispatch=Cm.bind(null,pt,e),[d.memoizedState,e]},useRef:function(e){var n=lr();return e={current:e},n.memoizedState=e},useState:fh,useDebugValue:hc,useDeferredValue:function(e){return lr().memoizedState=e},useTransition:function(){var e=fh(!1),n=e[0];return e=Tm.bind(null,e[1]),lr().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var d=pt,p=lr();if(lt){if(s===void 0)throw Error(o(407));s=s()}else{if(s=n(),It===null)throw Error(o(349));(Yi&30)!==0||lh(d,n,s)}p.memoizedState=s;var v={value:s,getSnapshot:n};return p.queue=v,mh(ch.bind(null,d,v,e),[e]),d.flags|=2048,ha(9,uh.bind(null,d,v,s,n),void 0,null),s},useId:function(){var e=lr(),n=It.identifierPrefix;if(lt){var s=Ir,d=Or;s=(d&~(1<<32-Me(d)-1)).toString(32)+s,n=":"+n+"R"+s,s=ca++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=Pm++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Om={readContext:jn,useCallback:xh,useContext:jn,useEffect:dc,useImperativeHandle:_h,useInsertionEffect:gh,useLayoutEffect:vh,useMemo:wh,useReducer:uc,useRef:ph,useState:function(){return uc(da)},useDebugValue:hc,useDeferredValue:function(e){var n=On();return Sh(n,Tt.memoizedState,e)},useTransition:function(){var e=uc(da)[0],n=On().memoizedState;return[e,n]},useMutableSource:sh,useSyncExternalStore:ah,useId:kh,unstable_isNewReconciler:!1},Im={readContext:jn,useCallback:xh,useContext:jn,useEffect:dc,useImperativeHandle:_h,useInsertionEffect:gh,useLayoutEffect:vh,useMemo:wh,useReducer:cc,useRef:ph,useState:function(){return cc(da)},useDebugValue:hc,useDeferredValue:function(e){var n=On();return Tt===null?n.memoizedState=e:Sh(n,Tt.memoizedState,e)},useTransition:function(){var e=cc(da)[0],n=On().memoizedState;return[e,n]},useMutableSource:sh,useSyncExternalStore:ah,useId:kh,unstable_isNewReconciler:!1};function $n(e,n){if(e&&e.defaultProps){n=q({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function fc(e,n,s,d){n=e.memoizedState,s=s(d,n),s=s==null?n:q({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Rl={isMounted:function(e){return(e=e._reactInternals)?Qn(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var d=Xt(),p=xi(e),v=Ar(d,p);v.payload=n,s!=null&&(v.callback=s),n=gi(e,v,p),n!==null&&(Zn(n,e,p,d),Tl(n,e,p))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var d=Xt(),p=xi(e),v=Ar(d,p);v.tag=1,v.payload=n,s!=null&&(v.callback=s),n=gi(e,v,p),n!==null&&(Zn(n,e,p,d),Tl(n,e,p))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Xt(),d=xi(e),p=Ar(s,d);p.tag=2,n!=null&&(p.callback=n),n=gi(e,p,d),n!==null&&(Zn(n,e,d,s),Tl(n,e,d))}};function Th(e,n,s,d,p,v,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(d,v,S):n.prototype&&n.prototype.isPureReactComponent?!rr(s,d)||!rr(p,v):!0}function Ch(e,n,s){var d=!1,p=fi,v=n.contextType;return typeof v=="object"&&v!==null?v=jn(v):(p=rn(n)?Vi:Ht.current,d=n.contextTypes,v=(d=d!=null)?Wo(e,p):fi),n=new n(s,v),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Rl,e.stateNode=n,n._reactInternals=e,d&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=p,e.__reactInternalMemoizedMaskedChildContext=v),n}function Lh(e,n,s,d){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,d),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,d),n.state!==e&&Rl.enqueueReplaceState(n,n.state,null)}function pc(e,n,s,d){var p=e.stateNode;p.props=s,p.state=e.memoizedState,p.refs={},ec(e);var v=n.contextType;typeof v=="object"&&v!==null?p.context=jn(v):(v=rn(n)?Vi:Ht.current,p.context=Wo(e,v)),p.state=e.memoizedState,v=n.getDerivedStateFromProps,typeof v=="function"&&(fc(e,n,v,s),p.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(n=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),n!==p.state&&Rl.enqueueReplaceState(p,p.state,null),Cl(e,s,p,d),p.state=e.memoizedState),typeof p.componentDidMount=="function"&&(e.flags|=4194308)}function Yo(e,n){try{var s="",d=n;do s+=se(d),d=d.return;while(d);var p=s}catch(v){p=`
Error generating stack: `+v.message+`
`+v.stack}return{value:e,source:n,stack:p,digest:null}}function mc(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function gc(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var Mm=typeof WeakMap=="function"?WeakMap:Map;function jh(e,n,s){s=Ar(-1,s),s.tag=3,s.payload={element:null};var d=n.value;return s.callback=function(){$l||($l=!0,Oc=d),gc(e,n)},s}function Oh(e,n,s){s=Ar(-1,s),s.tag=3;var d=e.type.getDerivedStateFromError;if(typeof d=="function"){var p=n.value;s.payload=function(){return d(p)},s.callback=function(){gc(e,n)}}var v=e.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(s.callback=function(){gc(e,n),typeof d!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var S=n.stack;this.componentDidCatch(n.value,{componentStack:S!==null?S:""})}),s}function Ih(e,n,s){var d=e.pingCache;if(d===null){d=e.pingCache=new Mm;var p=new Set;d.set(n,p)}else p=d.get(n),p===void 0&&(p=new Set,d.set(n,p));p.has(s)||(p.add(s),e=Gm.bind(null,e,n,s),n.then(e,e))}function Mh(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Ah(e,n,s,d,p){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=Ar(-1,1),n.tag=2,gi(s,n,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=p,e)}var Am=te.ReactCurrentOwner,on=!1;function Qt(e,n,s,d){n.child=e===null?eh(n,null,s,d):Go(n,e.child,s,d)}function Rh(e,n,s,d,p){s=s.render;var v=n.ref;return Ko(n,p),d=ac(e,n,s,d,v,p),s=lc(),e!==null&&!on?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~p,Rr(e,n,p)):(lt&&s&&Hu(n),n.flags|=1,Qt(e,n,d,p),n.child)}function zh(e,n,s,d,p){if(e===null){var v=s.type;return typeof v=="function"&&!Dc(v)&&v.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=v,Nh(e,n,v,d,p)):(e=ql(s.type,null,d,n,n.mode,p),e.ref=n.ref,e.return=n,n.child=e)}if(v=e.child,(e.lanes&p)===0){var S=v.memoizedProps;if(s=s.compare,s=s!==null?s:rr,s(S,d)&&e.ref===n.ref)return Rr(e,n,p)}return n.flags|=1,e=Si(v,d),e.ref=n.ref,e.return=n,n.child=e}function Nh(e,n,s,d,p){if(e!==null){var v=e.memoizedProps;if(rr(v,d)&&e.ref===n.ref)if(on=!1,n.pendingProps=d=v,(e.lanes&p)!==0)(e.flags&131072)!==0&&(on=!0);else return n.lanes=e.lanes,Rr(e,n,p)}return vc(e,n,s,d,p)}function Dh(e,n,s){var d=n.pendingProps,p=d.children,v=e!==null?e.memoizedState:null;if(d.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Xo,wn),wn|=s;else{if((s&1073741824)===0)return e=v!==null?v.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,rt(Xo,wn),wn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:s,rt(Xo,wn),wn|=d}else v!==null?(d=v.baseLanes|s,n.memoizedState=null):d=s,rt(Xo,wn),wn|=d;return Qt(e,n,p,s),n.child}function Fh(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function vc(e,n,s,d,p){var v=rn(s)?Vi:Ht.current;return v=Wo(n,v),Ko(n,p),s=ac(e,n,s,d,v,p),d=lc(),e!==null&&!on?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~p,Rr(e,n,p)):(lt&&d&&Hu(n),n.flags|=1,Qt(e,n,s,p),n.child)}function Bh(e,n,s,d,p){if(rn(s)){var v=!0;_l(n)}else v=!1;if(Ko(n,p),n.stateNode===null)Nl(e,n),Ch(n,s,d),pc(n,s,d,p),d=!0;else if(e===null){var S=n.stateNode,j=n.memoizedProps;S.props=j;var R=S.context,W=s.contextType;typeof W=="object"&&W!==null?W=jn(W):(W=rn(s)?Vi:Ht.current,W=Wo(n,W));var X=s.getDerivedStateFromProps,ee=typeof X=="function"||typeof S.getSnapshotBeforeUpdate=="function";ee||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(j!==d||R!==W)&&Lh(n,S,d,W),mi=!1;var Q=n.memoizedState;S.state=Q,Cl(n,d,S,p),R=n.memoizedState,j!==d||Q!==R||nn.current||mi?(typeof X=="function"&&(fc(n,s,X,d),R=n.memoizedState),(j=mi||Th(n,s,j,d,Q,R,W))?(ee||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(n.flags|=4194308)):(typeof S.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=d,n.memoizedState=R),S.props=d,S.state=R,S.context=W,d=j):(typeof S.componentDidMount=="function"&&(n.flags|=4194308),d=!1)}else{S=n.stateNode,nh(e,n),j=n.memoizedProps,W=n.type===n.elementType?j:$n(n.type,j),S.props=W,ee=n.pendingProps,Q=S.context,R=s.contextType,typeof R=="object"&&R!==null?R=jn(R):(R=rn(s)?Vi:Ht.current,R=Wo(n,R));var he=s.getDerivedStateFromProps;(X=typeof he=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(j!==ee||Q!==R)&&Lh(n,S,d,R),mi=!1,Q=n.memoizedState,S.state=Q,Cl(n,d,S,p);var pe=n.memoizedState;j!==ee||Q!==pe||nn.current||mi?(typeof he=="function"&&(fc(n,s,he,d),pe=n.memoizedState),(W=mi||Th(n,s,W,d,Q,pe,R)||!1)?(X||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(d,pe,R),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(d,pe,R)),typeof S.componentDidUpdate=="function"&&(n.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof S.componentDidUpdate!="function"||j===e.memoizedProps&&Q===e.memoizedState||(n.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&Q===e.memoizedState||(n.flags|=1024),n.memoizedProps=d,n.memoizedState=pe),S.props=d,S.state=pe,S.context=R,d=W):(typeof S.componentDidUpdate!="function"||j===e.memoizedProps&&Q===e.memoizedState||(n.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&Q===e.memoizedState||(n.flags|=1024),d=!1)}return yc(e,n,s,d,v,p)}function yc(e,n,s,d,p,v){Fh(e,n);var S=(n.flags&128)!==0;if(!d&&!S)return p&&Zd(n,s,!1),Rr(e,n,v);d=n.stateNode,Am.current=n;var j=S&&typeof s.getDerivedStateFromError!="function"?null:d.render();return n.flags|=1,e!==null&&S?(n.child=Go(n,e.child,null,v),n.child=Go(n,null,j,v)):Qt(e,n,j,v),n.memoizedState=d.state,p&&Zd(n,s,!0),n.child}function Uh(e){var n=e.stateNode;n.pendingContext?Wd(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Wd(e,n.context,!1),tc(e,n.containerInfo)}function $h(e,n,s,d,p){return Vo(),qu(p),n.flags|=256,Qt(e,n,s,d),n.child}var _c={dehydrated:null,treeContext:null,retryLane:0};function xc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wh(e,n,s){var d=n.pendingProps,p=ft.current,v=!1,S=(n.flags&128)!==0,j;if((j=S)||(j=e!==null&&e.memoizedState===null?!1:(p&2)!==0),j?(v=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(p|=1),rt(ft,p&1),e===null)return Gu(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(S=d.children,e=d.fallback,v?(d=n.mode,v=n.child,S={mode:"hidden",children:S},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=S):v=Kl(S,d,0,null),e=no(e,d,s,null),v.return=n,e.return=n,v.sibling=e,n.child=v,n.child.memoizedState=xc(s),n.memoizedState=_c,e):wc(n,S));if(p=e.memoizedState,p!==null&&(j=p.dehydrated,j!==null))return Rm(e,n,S,d,j,p,s);if(v){v=d.fallback,S=n.mode,p=e.child,j=p.sibling;var R={mode:"hidden",children:d.children};return(S&1)===0&&n.child!==p?(d=n.child,d.childLanes=0,d.pendingProps=R,n.deletions=null):(d=Si(p,R),d.subtreeFlags=p.subtreeFlags&14680064),j!==null?v=Si(j,v):(v=no(v,S,s,null),v.flags|=2),v.return=n,d.return=n,d.sibling=v,n.child=d,d=v,v=n.child,S=e.child.memoizedState,S=S===null?xc(s):{baseLanes:S.baseLanes|s,cachePool:null,transitions:S.transitions},v.memoizedState=S,v.childLanes=e.childLanes&~s,n.memoizedState=_c,d}return v=e.child,e=v.sibling,d=Si(v,{mode:"visible",children:d.children}),(n.mode&1)===0&&(d.lanes=s),d.return=n,d.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=d,n.memoizedState=null,d}function wc(e,n){return n=Kl({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function zl(e,n,s,d){return d!==null&&qu(d),Go(n,e.child,null,s),e=wc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Rm(e,n,s,d,p,v,S){if(s)return n.flags&256?(n.flags&=-257,d=mc(Error(o(422))),zl(e,n,S,d)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(v=d.fallback,p=n.mode,d=Kl({mode:"visible",children:d.children},p,0,null),v=no(v,p,S,null),v.flags|=2,d.return=n,v.return=n,d.sibling=v,n.child=d,(n.mode&1)!==0&&Go(n,e.child,null,S),n.child.memoizedState=xc(S),n.memoizedState=_c,v);if((n.mode&1)===0)return zl(e,n,S,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var j=d.dgst;return d=j,v=Error(o(419)),d=mc(v,d,void 0),zl(e,n,S,d)}if(j=(S&e.childLanes)!==0,on||j){if(d=It,d!==null){switch(S&-S){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|S))!==0?0:p,p!==0&&p!==v.retryLane&&(v.retryLane=p,Mr(e,p),Zn(d,e,p,-1))}return Nc(),d=mc(Error(o(421))),zl(e,n,S,d)}return p.data==="$?"?(n.flags|=128,n.child=e.child,n=qm.bind(null,e),p._reactRetry=n,null):(e=v.treeContext,xn=sr(p.nextSibling),_n=n,lt=!0,Un=null,e!==null&&(Cn[Ln++]=Or,Cn[Ln++]=Ir,Cn[Ln++]=Gi,Or=e.id,Ir=e.overflow,Gi=n),n=wc(n,d.children),n.flags|=4096,n)}function Hh(e,n,s){e.lanes|=n;var d=e.alternate;d!==null&&(d.lanes|=n),Qu(e.return,n,s)}function Sc(e,n,s,d,p){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:d,tail:s,tailMode:p}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=s,v.tailMode=p)}function Zh(e,n,s){var d=n.pendingProps,p=d.revealOrder,v=d.tail;if(Qt(e,n,d.children,s),d=ft.current,(d&2)!==0)d=d&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hh(e,s,n);else if(e.tag===19)Hh(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}d&=1}if(rt(ft,d),(n.mode&1)===0)n.memoizedState=null;else switch(p){case"forwards":for(s=n.child,p=null;s!==null;)e=s.alternate,e!==null&&Ll(e)===null&&(p=s),s=s.sibling;s=p,s===null?(p=n.child,n.child=null):(p=s.sibling,s.sibling=null),Sc(n,!1,p,s,v);break;case"backwards":for(s=null,p=n.child,n.child=null;p!==null;){if(e=p.alternate,e!==null&&Ll(e)===null){n.child=p;break}e=p.sibling,p.sibling=s,s=p,p=e}Sc(n,!0,s,null,v);break;case"together":Sc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Nl(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Rr(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Qi|=n.lanes,(s&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,s=Si(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Si(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function zm(e,n,s){switch(n.tag){case 3:Uh(n),Vo();break;case 5:oh(n);break;case 1:rn(n.type)&&_l(n);break;case 4:tc(n,n.stateNode.containerInfo);break;case 10:var d=n.type._context,p=n.memoizedProps.value;rt(El,d._currentValue),d._currentValue=p;break;case 13:if(d=n.memoizedState,d!==null)return d.dehydrated!==null?(rt(ft,ft.current&1),n.flags|=128,null):(s&n.child.childLanes)!==0?Wh(e,n,s):(rt(ft,ft.current&1),e=Rr(e,n,s),e!==null?e.sibling:null);rt(ft,ft.current&1);break;case 19:if(d=(s&n.childLanes)!==0,(e.flags&128)!==0){if(d)return Zh(e,n,s);n.flags|=128}if(p=n.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),rt(ft,ft.current),d)break;return null;case 22:case 23:return n.lanes=0,Dh(e,n,s)}return Rr(e,n,s)}var Vh,kc,Gh,qh;Vh=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},kc=function(){},Gh=function(e,n,s,d){var p=e.memoizedProps;if(p!==d){e=n.stateNode,Ji(ar.current);var v=null;switch(s){case"input":p=xt(e,p),d=xt(e,d),v=[];break;case"select":p=q({},p,{value:void 0}),d=q({},d,{value:void 0}),v=[];break;case"textarea":p=jt(e,p),d=jt(e,d),v=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(e.onclick=Y)}Es(s,d);var S;s=null;for(W in p)if(!d.hasOwnProperty(W)&&p.hasOwnProperty(W)&&p[W]!=null)if(W==="style"){var j=p[W];for(S in j)j.hasOwnProperty(S)&&(s||(s={}),s[S]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(u.hasOwnProperty(W)?v||(v=[]):(v=v||[]).push(W,null));for(W in d){var R=d[W];if(j=p!=null?p[W]:void 0,d.hasOwnProperty(W)&&R!==j&&(R!=null||j!=null))if(W==="style")if(j){for(S in j)!j.hasOwnProperty(S)||R&&R.hasOwnProperty(S)||(s||(s={}),s[S]="");for(S in R)R.hasOwnProperty(S)&&j[S]!==R[S]&&(s||(s={}),s[S]=R[S])}else s||(v||(v=[]),v.push(W,s)),s=R;else W==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,j=j?j.__html:void 0,R!=null&&j!==R&&(v=v||[]).push(W,R)):W==="children"?typeof R!="string"&&typeof R!="number"||(v=v||[]).push(W,""+R):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(u.hasOwnProperty(W)?(R!=null&&W==="onScroll"&&et("scroll",e),v||j===R||(v=[])):(v=v||[]).push(W,R))}s&&(v=v||[]).push("style",s);var W=v;(n.updateQueue=W)&&(n.flags|=4)}},qh=function(e,n,s,d){s!==d&&(n.flags|=4)};function fa(e,n){if(!lt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var d=null;s!==null;)s.alternate!==null&&(d=s),s=s.sibling;d===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:d.sibling=null}}function Vt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,d=0;if(n)for(var p=e.child;p!==null;)s|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)s|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=d,e.childLanes=s,n}function Nm(e,n,s){var d=n.pendingProps;switch(Zu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(n),null;case 1:return rn(n.type)&&yl(),Vt(n),null;case 3:return d=n.stateNode,Jo(),st(nn),st(Ht),ic(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(e===null||e.child===null)&&(kl(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Un!==null&&(Ac(Un),Un=null))),kc(e,n),Vt(n),null;case 5:nc(n);var p=Ji(la.current);if(s=n.type,e!==null&&n.stateNode!=null)Gh(e,n,s,d,p),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!d){if(n.stateNode===null)throw Error(o(166));return Vt(n),null}if(e=Ji(ar.current),kl(n)){d=n.stateNode,s=n.type;var v=n.memoizedProps;switch(d[Tn]=n,d[ci]=v,e=(n.mode&1)!==0,s){case"dialog":et("cancel",d),et("close",d);break;case"iframe":case"object":case"embed":et("load",d);break;case"video":case"audio":for(p=0;p<ai.length;p++)et(ai[p],d);break;case"source":et("error",d);break;case"img":case"image":case"link":et("error",d),et("load",d);break;case"details":et("toggle",d);break;case"input":Ne(d,v),et("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},et("invalid",d);break;case"textarea":cn(d,v),et("invalid",d)}Es(s,v),p=null;for(var S in v)if(v.hasOwnProperty(S)){var j=v[S];S==="children"?typeof j=="string"?d.textContent!==j&&(v.suppressHydrationWarning!==!0&&$(d.textContent,j,e),p=["children",j]):typeof j=="number"&&d.textContent!==""+j&&(v.suppressHydrationWarning!==!0&&$(d.textContent,j,e),p=["children",""+j]):u.hasOwnProperty(S)&&j!=null&&S==="onScroll"&&et("scroll",d)}switch(s){case"input":ut(d),Ke(d,v,!0);break;case"textarea":ut(d),Nt(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=Y)}d=p,n.updateQueue=d,d!==null&&(n.flags|=4)}else{S=p.nodeType===9?p:p.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jn(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=S.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof d.is=="string"?e=S.createElement(s,{is:d.is}):(e=S.createElement(s),s==="select"&&(S=e,d.multiple?S.multiple=!0:d.size&&(S.size=d.size))):e=S.createElementNS(e,s),e[Tn]=n,e[ci]=d,Vh(e,n,!1,!1),n.stateNode=e;e:{switch(S=pr(s,d),s){case"dialog":et("cancel",e),et("close",e),p=d;break;case"iframe":case"object":case"embed":et("load",e),p=d;break;case"video":case"audio":for(p=0;p<ai.length;p++)et(ai[p],e);p=d;break;case"source":et("error",e),p=d;break;case"img":case"image":case"link":et("error",e),et("load",e),p=d;break;case"details":et("toggle",e),p=d;break;case"input":Ne(e,d),p=xt(e,d),et("invalid",e);break;case"option":p=d;break;case"select":e._wrapperState={wasMultiple:!!d.multiple},p=q({},d,{value:void 0}),et("invalid",e);break;case"textarea":cn(e,d),p=jt(e,d),et("invalid",e);break;default:p=d}Es(s,p),j=p;for(v in j)if(j.hasOwnProperty(v)){var R=j[v];v==="style"?fo(e,R):v==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&za(e,R)):v==="children"?typeof R=="string"?(s!=="textarea"||R!=="")&&Wr(e,R):typeof R=="number"&&Wr(e,""+R):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(u.hasOwnProperty(v)?R!=null&&v==="onScroll"&&et("scroll",e):R!=null&&H(e,v,R,S))}switch(s){case"input":ut(e),Ke(e,d,!1);break;case"textarea":ut(e),Nt(e);break;case"option":d.value!=null&&e.setAttribute("value",""+ke(d.value));break;case"select":e.multiple=!!d.multiple,v=d.value,v!=null?ct(e,!!d.multiple,v,!1):d.defaultValue!=null&&ct(e,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(e.onclick=Y)}switch(s){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Vt(n),null;case 6:if(e&&n.stateNode!=null)qh(e,n,e.memoizedProps,d);else{if(typeof d!="string"&&n.stateNode===null)throw Error(o(166));if(s=Ji(la.current),Ji(ar.current),kl(n)){if(d=n.stateNode,s=n.memoizedProps,d[Tn]=n,(v=d.nodeValue!==s)&&(e=_n,e!==null))switch(e.tag){case 3:$(d.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$(d.nodeValue,s,(e.mode&1)!==0)}v&&(n.flags|=4)}else d=(s.nodeType===9?s:s.ownerDocument).createTextNode(d),d[Tn]=n,n.stateNode=d}return Vt(n),null;case 13:if(st(ft),d=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(lt&&xn!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Yd(),Vo(),n.flags|=98560,v=!1;else if(v=kl(n),d!==null&&d.dehydrated!==null){if(e===null){if(!v)throw Error(o(318));if(v=n.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(o(317));v[Tn]=n}else Vo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Vt(n),v=!1}else Un!==null&&(Ac(Un),Un=null),v=!0;if(!v)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=s,n):(d=d!==null,d!==(e!==null&&e.memoizedState!==null)&&d&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(ft.current&1)!==0?Ct===0&&(Ct=3):Nc())),n.updateQueue!==null&&(n.flags|=4),Vt(n),null);case 4:return Jo(),kc(e,n),e===null&&li(n.stateNode.containerInfo),Vt(n),null;case 10:return Yu(n.type._context),Vt(n),null;case 17:return rn(n.type)&&yl(),Vt(n),null;case 19:if(st(ft),v=n.memoizedState,v===null)return Vt(n),null;if(d=(n.flags&128)!==0,S=v.rendering,S===null)if(d)fa(v,!1);else{if(Ct!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(S=Ll(e),S!==null){for(n.flags|=128,fa(v,!1),d=S.updateQueue,d!==null&&(n.updateQueue=d,n.flags|=4),n.subtreeFlags=0,d=s,s=n.child;s!==null;)v=s,e=d,v.flags&=14680066,S=v.alternate,S===null?(v.childLanes=0,v.lanes=e,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=S.childLanes,v.lanes=S.lanes,v.child=S.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=S.memoizedProps,v.memoizedState=S.memoizedState,v.updateQueue=S.updateQueue,v.type=S.type,e=S.dependencies,v.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return rt(ft,ft.current&1|2),n.child}e=e.sibling}v.tail!==null&&dt()>es&&(n.flags|=128,d=!0,fa(v,!1),n.lanes=4194304)}else{if(!d)if(e=Ll(S),e!==null){if(n.flags|=128,d=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),fa(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!lt)return Vt(n),null}else 2*dt()-v.renderingStartTime>es&&s!==1073741824&&(n.flags|=128,d=!0,fa(v,!1),n.lanes=4194304);v.isBackwards?(S.sibling=n.child,n.child=S):(s=v.last,s!==null?s.sibling=S:n.child=S,v.last=S)}return v.tail!==null?(n=v.tail,v.rendering=n,v.tail=n.sibling,v.renderingStartTime=dt(),n.sibling=null,s=ft.current,rt(ft,d?s&1|2:s&1),n):(Vt(n),null);case 22:case 23:return zc(),d=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==d&&(n.flags|=8192),d&&(n.mode&1)!==0?(wn&1073741824)!==0&&(Vt(n),n.subtreeFlags&6&&(n.flags|=8192)):Vt(n),null;case 24:return null;case 25:return null}throw Error(o(156,n.tag))}function Dm(e,n){switch(Zu(n),n.tag){case 1:return rn(n.type)&&yl(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Jo(),st(nn),st(Ht),ic(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return nc(n),null;case 13:if(st(ft),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));Vo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return st(ft),null;case 4:return Jo(),null;case 10:return Yu(n.type._context),null;case 22:case 23:return zc(),null;case 24:return null;default:return null}}var Dl=!1,Gt=!1,Fm=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Qo(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(d){yt(e,n,d)}else s.current=null}function bc(e,n,s){try{s()}catch(d){yt(e,n,d)}}var Kh=!1;function Bm(e,n){if(ce=Di,e=Js(),Ys(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var d=s.getSelection&&s.getSelection();if(d&&d.rangeCount!==0){s=d.anchorNode;var p=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{s.nodeType,v.nodeType}catch{s=null;break e}var S=0,j=-1,R=-1,W=0,X=0,ee=e,Q=null;t:for(;;){for(var he;ee!==s||p!==0&&ee.nodeType!==3||(j=S+p),ee!==v||d!==0&&ee.nodeType!==3||(R=S+d),ee.nodeType===3&&(S+=ee.nodeValue.length),(he=ee.firstChild)!==null;)Q=ee,ee=he;for(;;){if(ee===e)break t;if(Q===s&&++W===p&&(j=S),Q===v&&++X===d&&(R=S),(he=ee.nextSibling)!==null)break;ee=Q,Q=ee.parentNode}ee=he}s=j===-1||R===-1?null:{start:j,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(Se={focusedElem:e,selectionRange:s},Di=!1,fe=n;fe!==null;)if(n=fe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,fe=e;else for(;fe!==null;){n=fe;try{var pe=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,_t=pe.memoizedState,F=n.stateNode,z=F.getSnapshotBeforeUpdate(n.elementType===n.type?me:$n(n.type,me),_t);F.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var B=n.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ne){yt(n,n.return,ne)}if(e=n.sibling,e!==null){e.return=n.return,fe=e;break}fe=n.return}return pe=Kh,Kh=!1,pe}function pa(e,n,s){var d=n.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&e)===e){var v=p.destroy;p.destroy=void 0,v!==void 0&&bc(n,s,v)}p=p.next}while(p!==d)}}function Fl(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var d=s.create;s.destroy=d()}s=s.next}while(s!==n)}}function Ec(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function Jh(e){var n=e.alternate;n!==null&&(e.alternate=null,Jh(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Tn],delete n[ci],delete n[di],delete n[Bu],delete n[Uu])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Yh(e){return e.tag===5||e.tag===3||e.tag===4}function Qh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Yh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pc(e,n,s){var d=e.tag;if(d===5||d===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Y));else if(d!==4&&(e=e.child,e!==null))for(Pc(e,n,s),e=e.sibling;e!==null;)Pc(e,n,s),e=e.sibling}function Tc(e,n,s){var d=e.tag;if(d===5||d===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(d!==4&&(e=e.child,e!==null))for(Tc(e,n,s),e=e.sibling;e!==null;)Tc(e,n,s),e=e.sibling}var Dt=null,Wn=!1;function vi(e,n,s){for(s=s.child;s!==null;)Xh(e,n,s),s=s.sibling}function Xh(e,n,s){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(Ii,s)}catch{}switch(s.tag){case 5:Gt||Qo(s,n);case 6:var d=Dt,p=Wn;Dt=null,vi(e,n,s),Dt=d,Wn=p,Dt!==null&&(Wn?(e=Dt,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Dt.removeChild(s.stateNode));break;case 18:Dt!==null&&(Wn?(e=Dt,s=s.stateNode,e.nodeType===8?ia(e.parentNode,s):e.nodeType===1&&ia(e,s),pn(e)):ia(Dt,s.stateNode));break;case 4:d=Dt,p=Wn,Dt=s.stateNode.containerInfo,Wn=!0,vi(e,n,s),Dt=d,Wn=p;break;case 0:case 11:case 14:case 15:if(!Gt&&(d=s.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var v=p,S=v.destroy;v=v.tag,S!==void 0&&((v&2)!==0||(v&4)!==0)&&bc(s,n,S),p=p.next}while(p!==d)}vi(e,n,s);break;case 1:if(!Gt&&(Qo(s,n),d=s.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=s.memoizedProps,d.state=s.memoizedState,d.componentWillUnmount()}catch(j){yt(s,n,j)}vi(e,n,s);break;case 21:vi(e,n,s);break;case 22:s.mode&1?(Gt=(d=Gt)||s.memoizedState!==null,vi(e,n,s),Gt=d):vi(e,n,s);break;default:vi(e,n,s)}}function ef(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Fm),n.forEach(function(d){var p=Km.bind(null,e,d);s.has(d)||(s.add(d),d.then(p,p))})}}function Hn(e,n){var s=n.deletions;if(s!==null)for(var d=0;d<s.length;d++){var p=s[d];try{var v=e,S=n,j=S;e:for(;j!==null;){switch(j.tag){case 5:Dt=j.stateNode,Wn=!1;break e;case 3:Dt=j.stateNode.containerInfo,Wn=!0;break e;case 4:Dt=j.stateNode.containerInfo,Wn=!0;break e}j=j.return}if(Dt===null)throw Error(o(160));Xh(v,S,p),Dt=null,Wn=!1;var R=p.alternate;R!==null&&(R.return=null),p.return=null}catch(W){yt(p,n,W)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)tf(n,e),n=n.sibling}function tf(e,n){var s=e.alternate,d=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Hn(n,e),ur(e),d&4){try{pa(3,e,e.return),Fl(3,e)}catch(me){yt(e,e.return,me)}try{pa(5,e,e.return)}catch(me){yt(e,e.return,me)}}break;case 1:Hn(n,e),ur(e),d&512&&s!==null&&Qo(s,s.return);break;case 5:if(Hn(n,e),ur(e),d&512&&s!==null&&Qo(s,s.return),e.flags&32){var p=e.stateNode;try{Wr(p,"")}catch(me){yt(e,e.return,me)}}if(d&4&&(p=e.stateNode,p!=null)){var v=e.memoizedProps,S=s!==null?s.memoizedProps:v,j=e.type,R=e.updateQueue;if(e.updateQueue=null,R!==null)try{j==="input"&&v.type==="radio"&&v.name!=null&&De(p,v),pr(j,S);var W=pr(j,v);for(S=0;S<R.length;S+=2){var X=R[S],ee=R[S+1];X==="style"?fo(p,ee):X==="dangerouslySetInnerHTML"?za(p,ee):X==="children"?Wr(p,ee):H(p,X,ee,W)}switch(j){case"input":Ye(p,v);break;case"textarea":gt(p,v);break;case"select":var Q=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!v.multiple;var he=v.value;he!=null?ct(p,!!v.multiple,he,!1):Q!==!!v.multiple&&(v.defaultValue!=null?ct(p,!!v.multiple,v.defaultValue,!0):ct(p,!!v.multiple,v.multiple?[]:"",!1))}p[ci]=v}catch(me){yt(e,e.return,me)}}break;case 6:if(Hn(n,e),ur(e),d&4){if(e.stateNode===null)throw Error(o(162));p=e.stateNode,v=e.memoizedProps;try{p.nodeValue=v}catch(me){yt(e,e.return,me)}}break;case 3:if(Hn(n,e),ur(e),d&4&&s!==null&&s.memoizedState.isDehydrated)try{pn(n.containerInfo)}catch(me){yt(e,e.return,me)}break;case 4:Hn(n,e),ur(e);break;case 13:Hn(n,e),ur(e),p=e.child,p.flags&8192&&(v=p.memoizedState!==null,p.stateNode.isHidden=v,!v||p.alternate!==null&&p.alternate.memoizedState!==null||(jc=dt())),d&4&&ef(e);break;case 22:if(X=s!==null&&s.memoizedState!==null,e.mode&1?(Gt=(W=Gt)||X,Hn(n,e),Gt=W):Hn(n,e),ur(e),d&8192){if(W=e.memoizedState!==null,(e.stateNode.isHidden=W)&&!X&&(e.mode&1)!==0)for(fe=e,X=e.child;X!==null;){for(ee=fe=X;fe!==null;){switch(Q=fe,he=Q.child,Q.tag){case 0:case 11:case 14:case 15:pa(4,Q,Q.return);break;case 1:Qo(Q,Q.return);var pe=Q.stateNode;if(typeof pe.componentWillUnmount=="function"){d=Q,s=Q.return;try{n=d,pe.props=n.memoizedProps,pe.state=n.memoizedState,pe.componentWillUnmount()}catch(me){yt(d,s,me)}}break;case 5:Qo(Q,Q.return);break;case 22:if(Q.memoizedState!==null){of(ee);continue}}he!==null?(he.return=Q,fe=he):of(ee)}X=X.sibling}e:for(X=null,ee=e;;){if(ee.tag===5){if(X===null){X=ee;try{p=ee.stateNode,W?(v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(j=ee.stateNode,R=ee.memoizedProps.style,S=R!=null&&R.hasOwnProperty("display")?R.display:null,j.style.display=bs("display",S))}catch(me){yt(e,e.return,me)}}}else if(ee.tag===6){if(X===null)try{ee.stateNode.nodeValue=W?"":ee.memoizedProps}catch(me){yt(e,e.return,me)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===e)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===e)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===e)break e;X===ee&&(X=null),ee=ee.return}X===ee&&(X=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:Hn(n,e),ur(e),d&4&&ef(e);break;case 21:break;default:Hn(n,e),ur(e)}}function ur(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(Yh(s)){var d=s;break e}s=s.return}throw Error(o(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(Wr(p,""),d.flags&=-33);var v=Qh(e);Tc(e,v,p);break;case 3:case 4:var S=d.stateNode.containerInfo,j=Qh(e);Pc(e,j,S);break;default:throw Error(o(161))}}catch(R){yt(e,e.return,R)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Um(e,n,s){fe=e,nf(e)}function nf(e,n,s){for(var d=(e.mode&1)!==0;fe!==null;){var p=fe,v=p.child;if(p.tag===22&&d){var S=p.memoizedState!==null||Dl;if(!S){var j=p.alternate,R=j!==null&&j.memoizedState!==null||Gt;j=Dl;var W=Gt;if(Dl=S,(Gt=R)&&!W)for(fe=p;fe!==null;)S=fe,R=S.child,S.tag===22&&S.memoizedState!==null?sf(p):R!==null?(R.return=S,fe=R):sf(p);for(;v!==null;)fe=v,nf(v),v=v.sibling;fe=p,Dl=j,Gt=W}rf(e)}else(p.subtreeFlags&8772)!==0&&v!==null?(v.return=p,fe=v):rf(e)}}function rf(e){for(;fe!==null;){var n=fe;if((n.flags&8772)!==0){var s=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Gt||Fl(5,n);break;case 1:var d=n.stateNode;if(n.flags&4&&!Gt)if(s===null)d.componentDidMount();else{var p=n.elementType===n.type?s.memoizedProps:$n(n.type,s.memoizedProps);d.componentDidUpdate(p,s.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=n.updateQueue;v!==null&&ih(n,v,d);break;case 3:var S=n.updateQueue;if(S!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}ih(n,S,s)}break;case 5:var j=n.stateNode;if(s===null&&n.flags&4){s=j;var R=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&s.focus();break;case"img":R.src&&(s.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var W=n.alternate;if(W!==null){var X=W.memoizedState;if(X!==null){var ee=X.dehydrated;ee!==null&&pn(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}Gt||n.flags&512&&Ec(n)}catch(Q){yt(n,n.return,Q)}}if(n===e){fe=null;break}if(s=n.sibling,s!==null){s.return=n.return,fe=s;break}fe=n.return}}function of(e){for(;fe!==null;){var n=fe;if(n===e){fe=null;break}var s=n.sibling;if(s!==null){s.return=n.return,fe=s;break}fe=n.return}}function sf(e){for(;fe!==null;){var n=fe;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{Fl(4,n)}catch(R){yt(n,s,R)}break;case 1:var d=n.stateNode;if(typeof d.componentDidMount=="function"){var p=n.return;try{d.componentDidMount()}catch(R){yt(n,p,R)}}var v=n.return;try{Ec(n)}catch(R){yt(n,v,R)}break;case 5:var S=n.return;try{Ec(n)}catch(R){yt(n,S,R)}}}catch(R){yt(n,n.return,R)}if(n===e){fe=null;break}var j=n.sibling;if(j!==null){j.return=n.return,fe=j;break}fe=n.return}}var $m=Math.ceil,Bl=te.ReactCurrentDispatcher,Cc=te.ReactCurrentOwner,In=te.ReactCurrentBatchConfig,Ve=0,It=null,St=null,Ft=0,wn=0,Xo=hi(0),Ct=0,ma=null,Qi=0,Ul=0,Lc=0,ga=null,sn=null,jc=0,es=1/0,zr=null,$l=!1,Oc=null,yi=null,Wl=!1,_i=null,Hl=0,va=0,Ic=null,Zl=-1,Vl=0;function Xt(){return(Ve&6)!==0?dt():Zl!==-1?Zl:Zl=dt()}function xi(e){return(e.mode&1)===0?1:(Ve&2)!==0&&Ft!==0?Ft&-Ft:Em.transition!==null?(Vl===0&&(Vl=Ka()),Vl):(e=Ze,e!==0||(e=window.event,e=e===void 0?16:We(e.type)),e)}function Zn(e,n,s,d){if(50<va)throw va=0,Ic=null,Error(o(185));hn(e,s,d),((Ve&2)===0||e!==It)&&(e===It&&((Ve&2)===0&&(Ul|=s),Ct===4&&wi(e,Ft)),an(e,d),s===1&&Ve===0&&(n.mode&1)===0&&(es=dt()+500,xl&&pi()))}function an(e,n){var s=e.callbackNode;xo(e,n);var d=nt(e,e===It?Ft:0);if(d===0)s!==null&&Is(s),e.callbackNode=null,e.callbackPriority=0;else if(n=d&-d,e.callbackPriority!==n){if(s!=null&&Is(s),n===1)e.tag===0?bm(lf.bind(null,e)):Vd(lf.bind(null,e)),Wt(function(){(Ve&6)===0&&pi()}),s=null;else{switch(Kr(d)){case 1:s=Ms;break;case 4:s=qa;break;case 16:s=yo;break;case 536870912:s=Zr;break;default:s=yo}s=gf(s,af.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function af(e,n){if(Zl=-1,Vl=0,(Ve&6)!==0)throw Error(o(327));var s=e.callbackNode;if(ts()&&e.callbackNode!==s)return null;var d=nt(e,e===It?Ft:0);if(d===0)return null;if((d&30)!==0||(d&e.expiredLanes)!==0||n)n=Gl(e,d);else{n=d;var p=Ve;Ve|=2;var v=cf();(It!==e||Ft!==n)&&(zr=null,es=dt()+500,eo(e,n));do try{Zm();break}catch(j){uf(e,j)}while(!0);Ju(),Bl.current=v,Ve=p,St!==null?n=0:(It=null,Ft=0,n=Ct)}if(n!==0){if(n===2&&(p=Ut(e),p!==0&&(d=p,n=Mc(e,p))),n===1)throw s=ma,eo(e,0),wi(e,d),an(e,dt()),s;if(n===6)wi(e,d);else{if(p=e.current.alternate,(d&30)===0&&!Wm(p)&&(n=Gl(e,d),n===2&&(v=Ut(e),v!==0&&(d=v,n=Mc(e,v))),n===1))throw s=ma,eo(e,0),wi(e,d),an(e,dt()),s;switch(e.finishedWork=p,e.finishedLanes=d,n){case 0:case 1:throw Error(o(345));case 2:to(e,sn,zr);break;case 3:if(wi(e,d),(d&130023424)===d&&(n=jc+500-dt(),10<n)){if(nt(e,0)!==0)break;if(p=e.suspendedLanes,(p&d)!==d){Xt(),e.pingedLanes|=e.suspendedLanes&p;break}e.timeoutHandle=Pt(to.bind(null,e,sn,zr),n);break}to(e,sn,zr);break;case 4:if(wi(e,d),(d&4194240)===d)break;for(n=e.eventTimes,p=-1;0<d;){var S=31-Me(d);v=1<<S,S=n[S],S>p&&(p=S),d&=~v}if(d=p,d=dt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*$m(d/1960))-d,10<d){e.timeoutHandle=Pt(to.bind(null,e,sn,zr),d);break}to(e,sn,zr);break;case 5:to(e,sn,zr);break;default:throw Error(o(329))}}}return an(e,dt()),e.callbackNode===s?af.bind(null,e):null}function Mc(e,n){var s=ga;return e.current.memoizedState.isDehydrated&&(eo(e,n).flags|=256),e=Gl(e,n),e!==2&&(n=sn,sn=s,n!==null&&Ac(n)),e}function Ac(e){sn===null?sn=e:sn.push.apply(sn,e)}function Wm(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var d=0;d<s.length;d++){var p=s[d],v=p.getSnapshot;p=p.value;try{if(!vn(v(),p))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function wi(e,n){for(n&=~Lc,n&=~Ul,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-Me(n),d=1<<s;e[s]=-1,n&=~d}}function lf(e){if((Ve&6)!==0)throw Error(o(327));ts();var n=nt(e,0);if((n&1)===0)return an(e,dt()),null;var s=Gl(e,n);if(e.tag!==0&&s===2){var d=Ut(e);d!==0&&(n=d,s=Mc(e,d))}if(s===1)throw s=ma,eo(e,0),wi(e,n),an(e,dt()),s;if(s===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,to(e,sn,zr),an(e,dt()),null}function Rc(e,n){var s=Ve;Ve|=1;try{return e(n)}finally{Ve=s,Ve===0&&(es=dt()+500,xl&&pi())}}function Xi(e){_i!==null&&_i.tag===0&&(Ve&6)===0&&ts();var n=Ve;Ve|=1;var s=In.transition,d=Ze;try{if(In.transition=null,Ze=1,e)return e()}finally{Ze=d,In.transition=s,Ve=n,(Ve&6)===0&&pi()}}function zc(){wn=Xo.current,st(Xo)}function eo(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,wt(s)),St!==null)for(s=St.return;s!==null;){var d=s;switch(Zu(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&yl();break;case 3:Jo(),st(nn),st(Ht),ic();break;case 5:nc(d);break;case 4:Jo();break;case 13:st(ft);break;case 19:st(ft);break;case 10:Yu(d.type._context);break;case 22:case 23:zc()}s=s.return}if(It=e,St=e=Si(e.current,null),Ft=wn=n,Ct=0,ma=null,Lc=Ul=Qi=0,sn=ga=null,Ki!==null){for(n=0;n<Ki.length;n++)if(s=Ki[n],d=s.interleaved,d!==null){s.interleaved=null;var p=d.next,v=s.pending;if(v!==null){var S=v.next;v.next=p,d.next=S}s.pending=d}Ki=null}return e}function uf(e,n){do{var s=St;try{if(Ju(),jl.current=Al,Ol){for(var d=pt.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Ol=!1}if(Yi=0,Ot=Tt=pt=null,ua=!1,ca=0,Cc.current=null,s===null||s.return===null){Ct=1,ma=n,St=null;break}e:{var v=e,S=s.return,j=s,R=n;if(n=Ft,j.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var W=R,X=j,ee=X.tag;if((X.mode&1)===0&&(ee===0||ee===11||ee===15)){var Q=X.alternate;Q?(X.updateQueue=Q.updateQueue,X.memoizedState=Q.memoizedState,X.lanes=Q.lanes):(X.updateQueue=null,X.memoizedState=null)}var he=Mh(S);if(he!==null){he.flags&=-257,Ah(he,S,j,v,n),he.mode&1&&Ih(v,W,n),n=he,R=W;var pe=n.updateQueue;if(pe===null){var me=new Set;me.add(R),n.updateQueue=me}else pe.add(R);break e}else{if((n&1)===0){Ih(v,W,n),Nc();break e}R=Error(o(426))}}else if(lt&&j.mode&1){var _t=Mh(S);if(_t!==null){(_t.flags&65536)===0&&(_t.flags|=256),Ah(_t,S,j,v,n),qu(Yo(R,j));break e}}v=R=Yo(R,j),Ct!==4&&(Ct=2),ga===null?ga=[v]:ga.push(v),v=S;do{switch(v.tag){case 3:v.flags|=65536,n&=-n,v.lanes|=n;var F=jh(v,R,n);rh(v,F);break e;case 1:j=R;var z=v.type,B=v.stateNode;if((v.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(yi===null||!yi.has(B)))){v.flags|=65536,n&=-n,v.lanes|=n;var ne=Oh(v,j,n);rh(v,ne);break e}}v=v.return}while(v!==null)}hf(s)}catch(ye){n=ye,St===s&&s!==null&&(St=s=s.return);continue}break}while(!0)}function cf(){var e=Bl.current;return Bl.current=Al,e===null?Al:e}function Nc(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),It===null||(Qi&268435455)===0&&(Ul&268435455)===0||wi(It,Ft)}function Gl(e,n){var s=Ve;Ve|=2;var d=cf();(It!==e||Ft!==n)&&(zr=null,eo(e,n));do try{Hm();break}catch(p){uf(e,p)}while(!0);if(Ju(),Ve=s,Bl.current=d,St!==null)throw Error(o(261));return It=null,Ft=0,Ct}function Hm(){for(;St!==null;)df(St)}function Zm(){for(;St!==null&&!bu();)df(St)}function df(e){var n=mf(e.alternate,e,wn);e.memoizedProps=e.pendingProps,n===null?hf(e):St=n,Cc.current=null}function hf(e){var n=e;do{var s=n.alternate;if(e=n.return,(n.flags&32768)===0){if(s=Nm(s,n,wn),s!==null){St=s;return}}else{if(s=Dm(s,n),s!==null){s.flags&=32767,St=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ct=6,St=null;return}}if(n=n.sibling,n!==null){St=n;return}St=n=e}while(n!==null);Ct===0&&(Ct=5)}function to(e,n,s){var d=Ze,p=In.transition;try{In.transition=null,Ze=1,Vm(e,n,s,d)}finally{In.transition=p,Ze=d}return null}function Vm(e,n,s,d){do ts();while(_i!==null);if((Ve&6)!==0)throw Error(o(327));s=e.finishedWork;var p=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var v=s.lanes|s.childLanes;if(vt(e,v),e===It&&(St=It=null,Ft=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||Wl||(Wl=!0,gf(yo,function(){return ts(),null})),v=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||v){v=In.transition,In.transition=null;var S=Ze;Ze=1;var j=Ve;Ve|=4,Cc.current=null,Bm(e,s),tf(s,e),En(Se),Di=!!ce,Se=ce=null,e.current=s,Um(s),vo(),Ve=j,Ze=S,In.transition=v}else e.current=s;if(Wl&&(Wl=!1,_i=e,Hl=p),v=e.pendingLanes,v===0&&(yi=null),Mi(s.stateNode),an(e,dt()),n!==null)for(d=e.onRecoverableError,s=0;s<n.length;s++)p=n[s],d(p.value,{componentStack:p.stack,digest:p.digest});if($l)throw $l=!1,e=Oc,Oc=null,e;return(Hl&1)!==0&&e.tag!==0&&ts(),v=e.pendingLanes,(v&1)!==0?e===Ic?va++:(va=0,Ic=e):va=0,pi(),null}function ts(){if(_i!==null){var e=Kr(Hl),n=In.transition,s=Ze;try{if(In.transition=null,Ze=16>e?16:e,_i===null)var d=!1;else{if(e=_i,_i=null,Hl=0,(Ve&6)!==0)throw Error(o(331));var p=Ve;for(Ve|=4,fe=e.current;fe!==null;){var v=fe,S=v.child;if((fe.flags&16)!==0){var j=v.deletions;if(j!==null){for(var R=0;R<j.length;R++){var W=j[R];for(fe=W;fe!==null;){var X=fe;switch(X.tag){case 0:case 11:case 15:pa(8,X,v)}var ee=X.child;if(ee!==null)ee.return=X,fe=ee;else for(;fe!==null;){X=fe;var Q=X.sibling,he=X.return;if(Jh(X),X===W){fe=null;break}if(Q!==null){Q.return=he,fe=Q;break}fe=he}}}var pe=v.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var _t=me.sibling;me.sibling=null,me=_t}while(me!==null)}}fe=v}}if((v.subtreeFlags&2064)!==0&&S!==null)S.return=v,fe=S;else e:for(;fe!==null;){if(v=fe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:pa(9,v,v.return)}var F=v.sibling;if(F!==null){F.return=v.return,fe=F;break e}fe=v.return}}var z=e.current;for(fe=z;fe!==null;){S=fe;var B=S.child;if((S.subtreeFlags&2064)!==0&&B!==null)B.return=S,fe=B;else e:for(S=z;fe!==null;){if(j=fe,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:Fl(9,j)}}catch(ye){yt(j,j.return,ye)}if(j===S){fe=null;break e}var ne=j.sibling;if(ne!==null){ne.return=j.return,fe=ne;break e}fe=j.return}}if(Ve=p,pi(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(Ii,e)}catch{}d=!0}return d}finally{Ze=s,In.transition=n}}return!1}function ff(e,n,s){n=Yo(s,n),n=jh(e,n,1),e=gi(e,n,1),n=Xt(),e!==null&&(hn(e,1,n),an(e,n))}function yt(e,n,s){if(e.tag===3)ff(e,e,s);else for(;n!==null;){if(n.tag===3){ff(n,e,s);break}else if(n.tag===1){var d=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(yi===null||!yi.has(d))){e=Yo(s,e),e=Oh(n,e,1),n=gi(n,e,1),e=Xt(),n!==null&&(hn(n,1,e),an(n,e));break}}n=n.return}}function Gm(e,n,s){var d=e.pingCache;d!==null&&d.delete(n),n=Xt(),e.pingedLanes|=e.suspendedLanes&s,It===e&&(Ft&s)===s&&(Ct===4||Ct===3&&(Ft&130023424)===Ft&&500>dt()-jc?eo(e,0):Lc|=s),an(e,n)}function pf(e,n){n===0&&((e.mode&1)===0?n=1:(n=Gr,Gr<<=1,(Gr&130023424)===0&&(Gr=4194304)));var s=Xt();e=Mr(e,n),e!==null&&(hn(e,n,s),an(e,s))}function qm(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),pf(e,s)}function Km(e,n){var s=0;switch(e.tag){case 13:var d=e.stateNode,p=e.memoizedState;p!==null&&(s=p.retryLane);break;case 19:d=e.stateNode;break;default:throw Error(o(314))}d!==null&&d.delete(n),pf(e,s)}var mf;mf=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||nn.current)on=!0;else{if((e.lanes&s)===0&&(n.flags&128)===0)return on=!1,zm(e,n,s);on=(e.flags&131072)!==0}else on=!1,lt&&(n.flags&1048576)!==0&&Gd(n,Sl,n.index);switch(n.lanes=0,n.tag){case 2:var d=n.type;Nl(e,n),e=n.pendingProps;var p=Wo(n,Ht.current);Ko(n,s),p=ac(null,n,d,e,p,s);var v=lc();return n.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,rn(d)?(v=!0,_l(n)):v=!1,n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,ec(n),p.updater=Rl,n.stateNode=p,p._reactInternals=n,pc(n,d,e,s),n=yc(null,n,d,!0,v,s)):(n.tag=0,lt&&v&&Hu(n),Qt(null,n,p,s),n=n.child),n;case 16:d=n.elementType;e:{switch(Nl(e,n),e=n.pendingProps,p=d._init,d=p(d._payload),n.type=d,p=n.tag=Ym(d),e=$n(d,e),p){case 0:n=vc(null,n,d,e,s);break e;case 1:n=Bh(null,n,d,e,s);break e;case 11:n=Rh(null,n,d,e,s);break e;case 14:n=zh(null,n,d,$n(d.type,e),s);break e}throw Error(o(306,d,""))}return n;case 0:return d=n.type,p=n.pendingProps,p=n.elementType===d?p:$n(d,p),vc(e,n,d,p,s);case 1:return d=n.type,p=n.pendingProps,p=n.elementType===d?p:$n(d,p),Bh(e,n,d,p,s);case 3:e:{if(Uh(n),e===null)throw Error(o(387));d=n.pendingProps,v=n.memoizedState,p=v.element,nh(e,n),Cl(n,d,null,s);var S=n.memoizedState;if(d=S.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},n.updateQueue.baseState=v,n.memoizedState=v,n.flags&256){p=Yo(Error(o(423)),n),n=$h(e,n,d,s,p);break e}else if(d!==p){p=Yo(Error(o(424)),n),n=$h(e,n,d,s,p);break e}else for(xn=sr(n.stateNode.containerInfo.firstChild),_n=n,lt=!0,Un=null,s=eh(n,null,d,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Vo(),d===p){n=Rr(e,n,s);break e}Qt(e,n,d,s)}n=n.child}return n;case 5:return oh(n),e===null&&Gu(n),d=n.type,p=n.pendingProps,v=e!==null?e.memoizedProps:null,S=p.children,Ae(d,p)?S=null:v!==null&&Ae(d,v)&&(n.flags|=32),Fh(e,n),Qt(e,n,S,s),n.child;case 6:return e===null&&Gu(n),null;case 13:return Wh(e,n,s);case 4:return tc(n,n.stateNode.containerInfo),d=n.pendingProps,e===null?n.child=Go(n,null,d,s):Qt(e,n,d,s),n.child;case 11:return d=n.type,p=n.pendingProps,p=n.elementType===d?p:$n(d,p),Rh(e,n,d,p,s);case 7:return Qt(e,n,n.pendingProps,s),n.child;case 8:return Qt(e,n,n.pendingProps.children,s),n.child;case 12:return Qt(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(d=n.type._context,p=n.pendingProps,v=n.memoizedProps,S=p.value,rt(El,d._currentValue),d._currentValue=S,v!==null)if(vn(v.value,S)){if(v.children===p.children&&!nn.current){n=Rr(e,n,s);break e}}else for(v=n.child,v!==null&&(v.return=n);v!==null;){var j=v.dependencies;if(j!==null){S=v.child;for(var R=j.firstContext;R!==null;){if(R.context===d){if(v.tag===1){R=Ar(-1,s&-s),R.tag=2;var W=v.updateQueue;if(W!==null){W=W.shared;var X=W.pending;X===null?R.next=R:(R.next=X.next,X.next=R),W.pending=R}}v.lanes|=s,R=v.alternate,R!==null&&(R.lanes|=s),Qu(v.return,s,n),j.lanes|=s;break}R=R.next}}else if(v.tag===10)S=v.type===n.type?null:v.child;else if(v.tag===18){if(S=v.return,S===null)throw Error(o(341));S.lanes|=s,j=S.alternate,j!==null&&(j.lanes|=s),Qu(S,s,n),S=v.sibling}else S=v.child;if(S!==null)S.return=v;else for(S=v;S!==null;){if(S===n){S=null;break}if(v=S.sibling,v!==null){v.return=S.return,S=v;break}S=S.return}v=S}Qt(e,n,p.children,s),n=n.child}return n;case 9:return p=n.type,d=n.pendingProps.children,Ko(n,s),p=jn(p),d=d(p),n.flags|=1,Qt(e,n,d,s),n.child;case 14:return d=n.type,p=$n(d,n.pendingProps),p=$n(d.type,p),zh(e,n,d,p,s);case 15:return Nh(e,n,n.type,n.pendingProps,s);case 17:return d=n.type,p=n.pendingProps,p=n.elementType===d?p:$n(d,p),Nl(e,n),n.tag=1,rn(d)?(e=!0,_l(n)):e=!1,Ko(n,s),Ch(n,d,p),pc(n,d,p,s),yc(null,n,d,!0,e,s);case 19:return Zh(e,n,s);case 22:return Dh(e,n,s)}throw Error(o(156,n.tag))};function gf(e,n){return Ga(e,n)}function Jm(e,n,s,d){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(e,n,s,d){return new Jm(e,n,s,d)}function Dc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ym(e){if(typeof e=="function")return Dc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===le)return 11;if(e===Fe)return 14}return 2}function Si(e,n){var s=e.alternate;return s===null?(s=Mn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function ql(e,n,s,d,p,v){var S=2;if(d=e,typeof e=="function")Dc(e)&&(S=1);else if(typeof e=="string")S=5;else e:switch(e){case J:return no(s.children,p,v,n);case ve:S=8,p|=8;break;case re:return e=Mn(12,s,n,p|2),e.elementType=re,e.lanes=v,e;case ze:return e=Mn(13,s,n,p),e.elementType=ze,e.lanes=v,e;case $e:return e=Mn(19,s,n,p),e.elementType=$e,e.lanes=v,e;case je:return Kl(s,p,v,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xe:S=10;break e;case Pe:S=9;break e;case le:S=11;break e;case Fe:S=14;break e;case _e:S=16,d=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return n=Mn(S,s,n,p),n.elementType=e,n.type=d,n.lanes=v,n}function no(e,n,s,d){return e=Mn(7,e,d,n),e.lanes=s,e}function Kl(e,n,s,d){return e=Mn(22,e,d,n),e.elementType=je,e.lanes=s,e.stateNode={isHidden:!1},e}function Fc(e,n,s){return e=Mn(6,e,null,n),e.lanes=s,e}function Bc(e,n,s){return n=Mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Qm(e,n,s,d,p){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qr(0),this.expirationTimes=qr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qr(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Uc(e,n,s,d,p,v,S,j,R){return e=new Qm(e,n,s,j,R),n===1?(n=1,v===!0&&(n|=8)):n=0,v=Mn(3,null,null,n),e.current=v,v.stateNode=e,v.memoizedState={element:d,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ec(v),e}function Xm(e,n,s){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:d==null?null:""+d,children:e,containerInfo:n,implementation:s}}function vf(e){if(!e)return fi;e=e._reactInternals;e:{if(Qn(e)!==e||e.tag!==1)throw Error(o(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(rn(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(o(171))}if(e.tag===1){var s=e.type;if(rn(s))return Hd(e,s,n)}return n}function yf(e,n,s,d,p,v,S,j,R){return e=Uc(s,d,!0,e,p,v,S,j,R),e.context=vf(null),s=e.current,d=Xt(),p=xi(s),v=Ar(d,p),v.callback=n??null,gi(s,v,p),e.current.lanes=p,hn(e,p,d),an(e,d),e}function Jl(e,n,s,d){var p=n.current,v=Xt(),S=xi(p);return s=vf(s),n.context===null?n.context=s:n.pendingContext=s,n=Ar(v,S),n.payload={element:e},d=d===void 0?null:d,d!==null&&(n.callback=d),e=gi(p,n,S),e!==null&&(Zn(e,p,S,v),Tl(e,p,S)),S}function Yl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _f(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function $c(e,n){_f(e,n),(e=e.alternate)&&_f(e,n)}function eg(){return null}var xf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wc(e){this._internalRoot=e}Ql.prototype.render=Wc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));Jl(e,n,null,null)},Ql.prototype.unmount=Wc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Xi(function(){Jl(null,e,null,null)}),n[Je]=null}};function Ql(e){this._internalRoot=e}Ql.prototype.unstable_scheduleHydration=function(e){if(e){var n=ko();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Et.length&&n!==0&&n<Et[s].priority;s++);Et.splice(s,0,e),s===0&&bo(e)}};function Hc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wf(){}function tg(e,n,s,d,p){if(p){if(typeof d=="function"){var v=d;d=function(){var W=Yl(S);v.call(W)}}var S=yf(n,d,e,0,null,!1,!1,"",wf);return e._reactRootContainer=S,e[Je]=S.current,li(e.nodeType===8?e.parentNode:e),Xi(),S}for(;p=e.lastChild;)e.removeChild(p);if(typeof d=="function"){var j=d;d=function(){var W=Yl(R);j.call(W)}}var R=Uc(e,0,!1,null,null,!1,!1,"",wf);return e._reactRootContainer=R,e[Je]=R.current,li(e.nodeType===8?e.parentNode:e),Xi(function(){Jl(n,R,s,d)}),R}function eu(e,n,s,d,p){var v=s._reactRootContainer;if(v){var S=v;if(typeof p=="function"){var j=p;p=function(){var R=Yl(S);j.call(R)}}Jl(n,S,e,p)}else S=tg(s,n,e,p,d);return Yl(S)}wo=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=Le(n.pendingLanes);s!==0&&(zn(n,s|1),an(n,dt()),(Ve&6)===0&&(es=dt()+500,pi()))}break;case 13:Xi(function(){var d=Mr(e,1);if(d!==null){var p=Xt();Zn(d,e,1,p)}}),$c(e,1)}},yr=function(e){if(e.tag===13){var n=Mr(e,134217728);if(n!==null){var s=Xt();Zn(n,e,134217728,s)}$c(e,134217728)}},So=function(e){if(e.tag===13){var n=xi(e),s=Mr(e,n);if(s!==null){var d=Xt();Zn(s,e,n,d)}$c(e,n)}},ko=function(){return Ze},Ai=function(e,n){var s=Ze;try{return Ze=e,n()}finally{Ze=s}},po=function(e,n,s){switch(n){case"input":if(Ye(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var d=s[n];if(d!==e&&d.form===e.form){var p=Uo(d);if(!p)throw Error(o(90));zt(d),Ye(d,p)}}}break;case"textarea":gt(e,s);break;case"select":n=s.value,n!=null&&ct(e,!!s.multiple,n,!1)}},Ua=Rc,$a=Xi;var ng={usingClientEntryPoint:!1,Events:[Cr,Lr,Uo,Fa,Ba,Rc]},ya={findFiberByHostInstance:Tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rg={bundleType:ya.bundleType,version:ya.version,rendererPackageName:ya.rendererPackageName,rendererConfig:ya.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:te.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Za(e),e===null?null:e.stateNode},findFiberByHostInstance:ya.findFiberByHostInstance||eg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tu.isDisabled&&tu.supportsFiber)try{Ii=tu.inject(rg),dn=tu}catch{}}return ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ng,ln.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hc(n))throw Error(o(200));return Xm(e,n,null,s)},ln.createRoot=function(e,n){if(!Hc(e))throw Error(o(299));var s=!1,d="",p=xf;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(d=n.identifierPrefix),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=Uc(e,1,!1,null,null,s,!1,d,p),e[Je]=n.current,li(e.nodeType===8?e.parentNode:e),new Wc(n)},ln.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=Za(n),e=e===null?null:e.stateNode,e},ln.flushSync=function(e){return Xi(e)},ln.hydrate=function(e,n,s){if(!Xl(n))throw Error(o(200));return eu(null,e,n,!0,s)},ln.hydrateRoot=function(e,n,s){if(!Hc(e))throw Error(o(405));var d=s!=null&&s.hydratedSources||null,p=!1,v="",S=xf;if(s!=null&&(s.unstable_strictMode===!0&&(p=!0),s.identifierPrefix!==void 0&&(v=s.identifierPrefix),s.onRecoverableError!==void 0&&(S=s.onRecoverableError)),n=yf(n,null,e,1,s??null,p,!1,v,S),e[Je]=n.current,li(e),d)for(e=0;e<d.length;e++)s=d[e],p=s._getVersion,p=p(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,p]:n.mutableSourceEagerHydrationData.push(s,p);return new Ql(n)},ln.render=function(e,n,s){if(!Xl(n))throw Error(o(200));return eu(null,e,n,!1,s)},ln.unmountComponentAtNode=function(e){if(!Xl(e))throw Error(o(40));return e._reactRootContainer?(Xi(function(){eu(null,null,e,!1,function(){e._reactRootContainer=null,e[Je]=null})}),!0):!1},ln.unstable_batchedUpdates=Rc,ln.unstable_renderSubtreeIntoContainer=function(e,n,s,d){if(!Xl(s))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return eu(e,n,s,!1,d)},ln.version="18.3.1-next-f1338f8080-20240426",ln}var Lf;function Sp(){if(Lf)return Gc.exports;Lf=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(r){console.error(r)}}return a(),Gc.exports=dg(),Gc.exports}var jf;function hg(){if(jf)return nu;jf=1;var a=Sp();return nu.createRoot=a.createRoot,nu.hydrateRoot=a.hydrateRoot,nu}var fg=hg();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Of="popstate";function pg(a={}){function r(l,u){let{pathname:h,search:m,hash:x}=l.location;return dd("",{pathname:h,search:m,hash:x},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function o(l,u){return typeof u=="string"?u:Ta(u)}return gg(r,o,null,a)}function mt(a,r){if(a===!1||a===null||typeof a>"u")throw new Error(r)}function dr(a,r){if(!a){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function mg(){return Math.random().toString(36).substring(2,10)}function If(a,r){return{usr:a.state,key:a.key,idx:r}}function dd(a,r,o=null,l){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof r=="string"?ws(r):r,state:o,key:r&&r.key||l||mg()}}function Ta({pathname:a="/",search:r="",hash:o=""}){return r&&r!=="?"&&(a+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(a+=o.charAt(0)==="#"?o:"#"+o),a}function ws(a){let r={};if(a){let o=a.indexOf("#");o>=0&&(r.hash=a.substring(o),a=a.substring(0,o));let l=a.indexOf("?");l>=0&&(r.search=a.substring(l),a=a.substring(0,l)),a&&(r.pathname=a)}return r}function gg(a,r,o,l={}){let{window:u=document.defaultView,v5Compat:h=!1}=l,m=u.history,x="POP",_=null,w=k();w==null&&(w=0,m.replaceState({...m.state,idx:w},""));function k(){return(m.state||{idx:null}).idx}function E(){x="POP";let N=k(),K=N==null?null:N-w;w=N,_&&_({action:x,location:I.location,delta:K})}function T(N,K){x="PUSH";let G=dd(I.location,N,K);w=k()+1;let H=If(G,w),te=I.createHref(G);try{m.pushState(H,"",te)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;u.location.assign(te)}h&&_&&_({action:x,location:I.location,delta:1})}function A(N,K){x="REPLACE";let G=dd(I.location,N,K);w=k();let H=If(G,w),te=I.createHref(G);m.replaceState(H,"",te),h&&_&&_({action:x,location:I.location,delta:0})}function C(N){return vg(N)}let I={get action(){return x},get location(){return a(u,m)},listen(N){if(_)throw new Error("A history only accepts one active listener");return u.addEventListener(Of,E),_=N,()=>{u.removeEventListener(Of,E),_=null}},createHref(N){return r(u,N)},createURL:C,encodeLocation(N){let K=C(N);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:T,replace:A,go(N){return m.go(N)}};return I}function vg(a,r=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),mt(o,"No window.location.(origin|href) available to create URL");let l=typeof a=="string"?a:Ta(a);return l=l.replace(/ $/,"%20"),!r&&l.startsWith("//")&&(l=o+l),new URL(l,o)}function kp(a,r,o="/"){return yg(a,r,o,!1)}function yg(a,r,o,l){let u=typeof r=="string"?ws(r):r,h=Ur(u.pathname||"/",o);if(h==null)return null;let m=bp(a);_g(m);let x=null;for(let _=0;x==null&&_<m.length;++_){let w=jg(h);x=Cg(m[_],w,l)}return x}function bp(a,r=[],o=[],l=""){let u=(h,m,x)=>{let _={relativePath:x===void 0?h.path||"":x,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};_.relativePath.startsWith("/")&&(mt(_.relativePath.startsWith(l),`Absolute route path "${_.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(l.length));let w=Br([l,_.relativePath]),k=o.concat(_);h.children&&h.children.length>0&&(mt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),bp(h.children,r,k,w)),!(h.path==null&&!h.index)&&r.push({path:w,score:Pg(w,h.index),routesMeta:k})};return a.forEach((h,m)=>{var x;if(h.path===""||!((x=h.path)!=null&&x.includes("?")))u(h,m);else for(let _ of Ep(h.path))u(h,m,_)}),r}function Ep(a){let r=a.split("/");if(r.length===0)return[];let[o,...l]=r,u=o.endsWith("?"),h=o.replace(/\?$/,"");if(l.length===0)return u?[h,""]:[h];let m=Ep(l.join("/")),x=[];return x.push(...m.map(_=>_===""?h:[h,_].join("/"))),u&&x.push(...m),x.map(_=>a.startsWith("/")&&_===""?"/":_)}function _g(a){a.sort((r,o)=>r.score!==o.score?o.score-r.score:Tg(r.routesMeta.map(l=>l.childrenIndex),o.routesMeta.map(l=>l.childrenIndex)))}var xg=/^:[\w-]+$/,wg=3,Sg=2,kg=1,bg=10,Eg=-2,Mf=a=>a==="*";function Pg(a,r){let o=a.split("/"),l=o.length;return o.some(Mf)&&(l+=Eg),r&&(l+=Sg),o.filter(u=>!Mf(u)).reduce((u,h)=>u+(xg.test(h)?wg:h===""?kg:bg),l)}function Tg(a,r){return a.length===r.length&&a.slice(0,-1).every((l,u)=>l===r[u])?a[a.length-1]-r[r.length-1]:0}function Cg(a,r,o=!1){let{routesMeta:l}=a,u={},h="/",m=[];for(let x=0;x<l.length;++x){let _=l[x],w=x===l.length-1,k=h==="/"?r:r.slice(h.length)||"/",E=cu({path:_.relativePath,caseSensitive:_.caseSensitive,end:w},k),T=_.route;if(!E&&w&&o&&!l[l.length-1].route.index&&(E=cu({path:_.relativePath,caseSensitive:_.caseSensitive,end:!1},k)),!E)return null;Object.assign(u,E.params),m.push({params:u,pathname:Br([h,E.pathname]),pathnameBase:Ag(Br([h,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(h=Br([h,E.pathnameBase]))}return m}function cu(a,r){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[o,l]=Lg(a.path,a.caseSensitive,a.end),u=r.match(o);if(!u)return null;let h=u[0],m=h.replace(/(.)\/+$/,"$1"),x=u.slice(1);return{params:l.reduce((w,{paramName:k,isOptional:E},T)=>{if(k==="*"){let C=x[T]||"";m=h.slice(0,h.length-C.length).replace(/(.)\/+$/,"$1")}const A=x[T];return E&&!A?w[k]=void 0:w[k]=(A||"").replace(/%2F/g,"/"),w},{}),pathname:h,pathnameBase:m,pattern:a}}function Lg(a,r=!1,o=!0){dr(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let l=[],u="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,x,_)=>(l.push({paramName:x,isOptional:_!=null}),_?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(l.push({paramName:"*"}),u+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?u+="\\/*$":a!==""&&a!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,r?void 0:"i"),l]}function jg(a){try{return a.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return dr(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),a}}function Ur(a,r){if(r==="/")return a;if(!a.toLowerCase().startsWith(r.toLowerCase()))return null;let o=r.endsWith("/")?r.length-1:r.length,l=a.charAt(o);return l&&l!=="/"?null:a.slice(o)||"/"}function Og(a,r="/"){let{pathname:o,search:l="",hash:u=""}=typeof a=="string"?ws(a):a;return{pathname:o?o.startsWith("/")?o:Ig(o,r):r,search:Rg(l),hash:zg(u)}}function Ig(a,r){let o=r.replace(/\/+$/,"").split("/");return a.split("/").forEach(u=>{u===".."?o.length>1&&o.pop():u!=="."&&o.push(u)}),o.length>1?o.join("/"):"/"}function Jc(a,r,o,l){return`Cannot include a '${a}' character in a manually specified \`to.${r}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Mg(a){return a.filter((r,o)=>o===0||r.route.path&&r.route.path.length>0)}function Pp(a){let r=Mg(a);return r.map((o,l)=>l===r.length-1?o.pathname:o.pathnameBase)}function Tp(a,r,o,l=!1){let u;typeof a=="string"?u=ws(a):(u={...a},mt(!u.pathname||!u.pathname.includes("?"),Jc("?","pathname","search",u)),mt(!u.pathname||!u.pathname.includes("#"),Jc("#","pathname","hash",u)),mt(!u.search||!u.search.includes("#"),Jc("#","search","hash",u)));let h=a===""||u.pathname==="",m=h?"/":u.pathname,x;if(m==null)x=o;else{let E=r.length-1;if(!l&&m.startsWith("..")){let T=m.split("/");for(;T[0]==="..";)T.shift(),E-=1;u.pathname=T.join("/")}x=E>=0?r[E]:"/"}let _=Og(u,x),w=m&&m!=="/"&&m.endsWith("/"),k=(h||m===".")&&o.endsWith("/");return!_.pathname.endsWith("/")&&(w||k)&&(_.pathname+="/"),_}var Br=a=>a.join("/").replace(/\/\/+/g,"/"),Ag=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),Rg=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,zg=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function Ng(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var Cp=["POST","PUT","PATCH","DELETE"];new Set(Cp);var Dg=["GET",...Cp];new Set(Dg);var Ss=P.createContext(null);Ss.displayName="DataRouter";var fu=P.createContext(null);fu.displayName="DataRouterState";P.createContext(!1);var Lp=P.createContext({isTransitioning:!1});Lp.displayName="ViewTransition";var Fg=P.createContext(new Map);Fg.displayName="Fetchers";var Bg=P.createContext(null);Bg.displayName="Await";var hr=P.createContext(null);hr.displayName="Navigation";var ja=P.createContext(null);ja.displayName="Location";var $r=P.createContext({outlet:null,matches:[],isDataRoute:!1});$r.displayName="Route";var Cd=P.createContext(null);Cd.displayName="RouteError";function Ug(a,{relative:r}={}){mt(Oa(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:l}=P.useContext(hr),{hash:u,pathname:h,search:m}=Ia(a,{relative:r}),x=h;return o!=="/"&&(x=h==="/"?o:Br([o,h])),l.createHref({pathname:x,search:m,hash:u})}function Oa(){return P.useContext(ja)!=null}function co(){return mt(Oa(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(ja).location}var jp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Op(a){P.useContext(hr).static||P.useLayoutEffect(a)}function $g(){let{isDataRoute:a}=P.useContext($r);return a?tv():Wg()}function Wg(){mt(Oa(),"useNavigate() may be used only in the context of a <Router> component.");let a=P.useContext(Ss),{basename:r,navigator:o}=P.useContext(hr),{matches:l}=P.useContext($r),{pathname:u}=co(),h=JSON.stringify(Pp(l)),m=P.useRef(!1);return Op(()=>{m.current=!0}),P.useCallback((_,w={})=>{if(dr(m.current,jp),!m.current)return;if(typeof _=="number"){o.go(_);return}let k=Tp(_,JSON.parse(h),u,w.relative==="path");a==null&&r!=="/"&&(k.pathname=k.pathname==="/"?r:Br([r,k.pathname])),(w.replace?o.replace:o.push)(k,w.state,w)},[r,o,h,u,a])}P.createContext(null);function Ia(a,{relative:r}={}){let{matches:o}=P.useContext($r),{pathname:l}=co(),u=JSON.stringify(Pp(o));return P.useMemo(()=>Tp(a,JSON.parse(u),l,r==="path"),[a,u,l,r])}function Hg(a,r){return Ip(a,r)}function Ip(a,r,o,l){var K;mt(Oa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=P.useContext(hr),{matches:h}=P.useContext($r),m=h[h.length-1],x=m?m.params:{},_=m?m.pathname:"/",w=m?m.pathnameBase:"/",k=m&&m.route;{let G=k&&k.path||"";Mp(_,!k||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let E=co(),T;if(r){let G=typeof r=="string"?ws(r):r;mt(w==="/"||((K=G.pathname)==null?void 0:K.startsWith(w)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${G.pathname}" was given in the \`location\` prop.`),T=G}else T=E;let A=T.pathname||"/",C=A;if(w!=="/"){let G=w.replace(/^\//,"").split("/");C="/"+A.replace(/^\//,"").split("/").slice(G.length).join("/")}let I=kp(a,{pathname:C});dr(k||I!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),dr(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=Kg(I&&I.map(G=>Object.assign({},G,{params:Object.assign({},x,G.params),pathname:Br([w,u.encodeLocation?u.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?w:Br([w,u.encodeLocation?u.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),h,o,l);return r&&N?P.createElement(ja.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},N):N}function Zg(){let a=ev(),r=Ng(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),o=a instanceof Error?a.stack:null,l="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:l},h={padding:"2px 4px",backgroundColor:l},m=null;return console.error("Error handled by React Router default ErrorBoundary:",a),m=P.createElement(P.Fragment,null,P.createElement("p",null,"💿 Hey developer 👋"),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:h},"ErrorBoundary")," or"," ",P.createElement("code",{style:h},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},r),o?P.createElement("pre",{style:u},o):null,m)}var Vg=P.createElement(Zg,null),Gg=class extends P.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,r){return r.location!==a.location||r.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:r.error,location:r.location,revalidation:a.revalidation||r.revalidation}}componentDidCatch(a,r){console.error("React Router caught the following error during render",a,r)}render(){return this.state.error!==void 0?P.createElement($r.Provider,{value:this.props.routeContext},P.createElement(Cd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qg({routeContext:a,match:r,children:o}){let l=P.useContext(Ss);return l&&l.static&&l.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=r.route.id),P.createElement($r.Provider,{value:a},o)}function Kg(a,r=[],o=null,l=null){if(a==null){if(!o)return null;if(o.errors)a=o.matches;else if(r.length===0&&!o.initialized&&o.matches.length>0)a=o.matches;else return null}let u=a,h=o==null?void 0:o.errors;if(h!=null){let _=u.findIndex(w=>w.route.id&&(h==null?void 0:h[w.route.id])!==void 0);mt(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,_+1))}let m=!1,x=-1;if(o)for(let _=0;_<u.length;_++){let w=u[_];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(x=_),w.route.id){let{loaderData:k,errors:E}=o,T=w.route.loader&&!k.hasOwnProperty(w.route.id)&&(!E||E[w.route.id]===void 0);if(w.route.lazy||T){m=!0,x>=0?u=u.slice(0,x+1):u=[u[0]];break}}}return u.reduceRight((_,w,k)=>{let E,T=!1,A=null,C=null;o&&(E=h&&w.route.id?h[w.route.id]:void 0,A=w.route.errorElement||Vg,m&&(x<0&&k===0?(Mp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,C=null):x===k&&(T=!0,C=w.route.hydrateFallbackElement||null)));let I=r.concat(u.slice(0,k+1)),N=()=>{let K;return E?K=A:T?K=C:w.route.Component?K=P.createElement(w.route.Component,null):w.route.element?K=w.route.element:K=_,P.createElement(qg,{match:w,routeContext:{outlet:_,matches:I,isDataRoute:o!=null},children:K})};return o&&(w.route.ErrorBoundary||w.route.errorElement||k===0)?P.createElement(Gg,{location:o.location,revalidation:o.revalidation,component:A,error:E,children:N(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):N()},null)}function Ld(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jg(a){let r=P.useContext(Ss);return mt(r,Ld(a)),r}function Yg(a){let r=P.useContext(fu);return mt(r,Ld(a)),r}function Qg(a){let r=P.useContext($r);return mt(r,Ld(a)),r}function jd(a){let r=Qg(a),o=r.matches[r.matches.length-1];return mt(o.route.id,`${a} can only be used on routes that contain a unique "id"`),o.route.id}function Xg(){return jd("useRouteId")}function ev(){var l;let a=P.useContext(Cd),r=Yg("useRouteError"),o=jd("useRouteError");return a!==void 0?a:(l=r.errors)==null?void 0:l[o]}function tv(){let{router:a}=Jg("useNavigate"),r=jd("useNavigate"),o=P.useRef(!1);return Op(()=>{o.current=!0}),P.useCallback(async(u,h={})=>{dr(o.current,jp),o.current&&(typeof u=="number"?a.navigate(u):await a.navigate(u,{fromRouteId:r,...h}))},[a,r])}var Af={};function Mp(a,r,o){!r&&!Af[a]&&(Af[a]=!0,dr(!1,o))}P.memo(nv);function nv({routes:a,future:r,state:o}){return Ip(a,void 0,o,r)}function fs(a){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rv({basename:a="/",children:r=null,location:o,navigationType:l="POP",navigator:u,static:h=!1}){mt(!Oa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=a.replace(/^\/*/,"/"),x=P.useMemo(()=>({basename:m,navigator:u,static:h,future:{}}),[m,u,h]);typeof o=="string"&&(o=ws(o));let{pathname:_="/",search:w="",hash:k="",state:E=null,key:T="default"}=o,A=P.useMemo(()=>{let C=Ur(_,m);return C==null?null:{location:{pathname:C,search:w,hash:k,state:E,key:T},navigationType:l}},[m,_,w,k,E,T,l]);return dr(A!=null,`<Router basename="${m}"> is not able to match the URL "${_}${w}${k}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:P.createElement(hr.Provider,{value:x},P.createElement(ja.Provider,{children:r,value:A}))}function iv({children:a,location:r}){return Hg(hd(a),r)}function hd(a,r=[]){let o=[];return P.Children.forEach(a,(l,u)=>{if(!P.isValidElement(l))return;let h=[...r,u];if(l.type===P.Fragment){o.push.apply(o,hd(l.props.children,h));return}mt(l.type===fs,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!l.props.index||!l.props.children,"An index route cannot have child routes.");let m={id:l.props.id||h.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(m.children=hd(l.props.children,h)),o.push(m)}),o}var lu="get",uu="application/x-www-form-urlencoded";function pu(a){return a!=null&&typeof a.tagName=="string"}function ov(a){return pu(a)&&a.tagName.toLowerCase()==="button"}function sv(a){return pu(a)&&a.tagName.toLowerCase()==="form"}function av(a){return pu(a)&&a.tagName.toLowerCase()==="input"}function lv(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function uv(a,r){return a.button===0&&(!r||r==="_self")&&!lv(a)}var ru=null;function cv(){if(ru===null)try{new FormData(document.createElement("form"),0),ru=!1}catch{ru=!0}return ru}var dv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yc(a){return a!=null&&!dv.has(a)?(dr(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uu}"`),null):a}function hv(a,r){let o,l,u,h,m;if(sv(a)){let x=a.getAttribute("action");l=x?Ur(x,r):null,o=a.getAttribute("method")||lu,u=Yc(a.getAttribute("enctype"))||uu,h=new FormData(a)}else if(ov(a)||av(a)&&(a.type==="submit"||a.type==="image")){let x=a.form;if(x==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let _=a.getAttribute("formaction")||x.getAttribute("action");if(l=_?Ur(_,r):null,o=a.getAttribute("formmethod")||x.getAttribute("method")||lu,u=Yc(a.getAttribute("formenctype"))||Yc(x.getAttribute("enctype"))||uu,h=new FormData(x,a),!cv()){let{name:w,type:k,value:E}=a;if(k==="image"){let T=w?`${w}.`:"";h.append(`${T}x`,"0"),h.append(`${T}y`,"0")}else w&&h.append(w,E)}}else{if(pu(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=lu,l=null,u=uu,m=a}return h&&u==="text/plain"&&(m=h,h=void 0),{action:l,method:o.toLowerCase(),encType:u,formData:h,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Od(a,r){if(a===!1||a===null||typeof a>"u")throw new Error(r)}function fv(a,r,o){let l=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return l.pathname==="/"?l.pathname=`_root.${o}`:r&&Ur(l.pathname,r)==="/"?l.pathname=`${r.replace(/\/$/,"")}/_root.${o}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${o}`,l}async function pv(a,r){if(a.id in r)return r[a.id];try{let o=await import(a.module);return r[a.id]=o,o}catch(o){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mv(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function gv(a,r,o){let l=await Promise.all(a.map(async u=>{let h=r.routes[u.route.id];if(h){let m=await pv(h,o);return m.links?m.links():[]}return[]}));return xv(l.flat(1).filter(mv).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function Rf(a,r,o,l,u,h){let m=(_,w)=>o[w]?_.route.id!==o[w].route.id:!0,x=(_,w)=>{var k;return o[w].pathname!==_.pathname||((k=o[w].route.path)==null?void 0:k.endsWith("*"))&&o[w].params["*"]!==_.params["*"]};return h==="assets"?r.filter((_,w)=>m(_,w)||x(_,w)):h==="data"?r.filter((_,w)=>{var E;let k=l.routes[_.route.id];if(!k||!k.hasLoader)return!1;if(m(_,w)||x(_,w))return!0;if(_.route.shouldRevalidate){let T=_.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:((E=o[0])==null?void 0:E.params)||{},nextUrl:new URL(a,window.origin),nextParams:_.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function vv(a,r,{includeHydrateFallback:o}={}){return yv(a.map(l=>{let u=r.routes[l.route.id];if(!u)return[];let h=[u.module];return u.clientActionModule&&(h=h.concat(u.clientActionModule)),u.clientLoaderModule&&(h=h.concat(u.clientLoaderModule)),o&&u.hydrateFallbackModule&&(h=h.concat(u.hydrateFallbackModule)),u.imports&&(h=h.concat(u.imports)),h}).flat(1))}function yv(a){return[...new Set(a)]}function _v(a){let r={},o=Object.keys(a).sort();for(let l of o)r[l]=a[l];return r}function xv(a,r){let o=new Set;return new Set(r),a.reduce((l,u)=>{let h=JSON.stringify(_v(u));return o.has(h)||(o.add(h),l.push({key:h,link:u})),l},[])}function Ap(){let a=P.useContext(Ss);return Od(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function wv(){let a=P.useContext(fu);return Od(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Id=P.createContext(void 0);Id.displayName="FrameworkContext";function Rp(){let a=P.useContext(Id);return Od(a,"You must render this element inside a <HydratedRouter> element"),a}function Sv(a,r){let o=P.useContext(Id),[l,u]=P.useState(!1),[h,m]=P.useState(!1),{onFocus:x,onBlur:_,onMouseEnter:w,onMouseLeave:k,onTouchStart:E}=r,T=P.useRef(null);P.useEffect(()=>{if(a==="render"&&m(!0),a==="viewport"){let I=K=>{K.forEach(G=>{m(G.isIntersecting)})},N=new IntersectionObserver(I,{threshold:.5});return T.current&&N.observe(T.current),()=>{N.disconnect()}}},[a]),P.useEffect(()=>{if(l){let I=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(I)}}},[l]);let A=()=>{u(!0)},C=()=>{u(!1),m(!1)};return o?a!=="intent"?[h,T,{}]:[h,T,{onFocus:xa(x,A),onBlur:xa(_,C),onMouseEnter:xa(w,A),onMouseLeave:xa(k,C),onTouchStart:xa(E,A)}]:[!1,T,{}]}function xa(a,r){return o=>{a&&a(o),o.defaultPrevented||r(o)}}function kv({page:a,...r}){let{router:o}=Ap(),l=P.useMemo(()=>kp(o.routes,a,o.basename),[o.routes,a,o.basename]);return l?P.createElement(Ev,{page:a,matches:l,...r}):null}function bv(a){let{manifest:r,routeModules:o}=Rp(),[l,u]=P.useState([]);return P.useEffect(()=>{let h=!1;return gv(a,r,o).then(m=>{h||u(m)}),()=>{h=!0}},[a,r,o]),l}function Ev({page:a,matches:r,...o}){let l=co(),{manifest:u,routeModules:h}=Rp(),{basename:m}=Ap(),{loaderData:x,matches:_}=wv(),w=P.useMemo(()=>Rf(a,r,_,u,l,"data"),[a,r,_,u,l]),k=P.useMemo(()=>Rf(a,r,_,u,l,"assets"),[a,r,_,u,l]),E=P.useMemo(()=>{if(a===l.pathname+l.search+l.hash)return[];let C=new Set,I=!1;if(r.forEach(K=>{var H;let G=u.routes[K.route.id];!G||!G.hasLoader||(!w.some(te=>te.route.id===K.route.id)&&K.route.id in x&&((H=h[K.route.id])!=null&&H.shouldRevalidate)||G.hasClientLoader?I=!0:C.add(K.route.id))}),C.size===0)return[];let N=fv(a,m,"data");return I&&C.size>0&&N.searchParams.set("_routes",r.filter(K=>C.has(K.route.id)).map(K=>K.route.id).join(",")),[N.pathname+N.search]},[m,x,l,u,w,r,a,h]),T=P.useMemo(()=>vv(k,u),[k,u]),A=bv(k);return P.createElement(P.Fragment,null,E.map(C=>P.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...o})),T.map(C=>P.createElement("link",{key:C,rel:"modulepreload",href:C,...o})),A.map(({key:C,link:I})=>P.createElement("link",{key:C,...I})))}function Pv(...a){return r=>{a.forEach(o=>{typeof o=="function"?o(r):o!=null&&(o.current=r)})}}var zp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zp&&(window.__reactRouterVersion="7.7.0")}catch{}function Tv({basename:a,children:r,window:o}){let l=P.useRef();l.current==null&&(l.current=pg({window:o,v5Compat:!0}));let u=l.current,[h,m]=P.useState({action:u.action,location:u.location}),x=P.useCallback(_=>{P.startTransition(()=>m(_))},[m]);return P.useLayoutEffect(()=>u.listen(x),[u,x]),P.createElement(rv,{basename:a,children:r,location:h.location,navigationType:h.action,navigator:u})}var Np=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gs=P.forwardRef(function({onClick:r,discover:o="render",prefetch:l="none",relative:u,reloadDocument:h,replace:m,state:x,target:_,to:w,preventScrollReset:k,viewTransition:E,...T},A){let{basename:C}=P.useContext(hr),I=typeof w=="string"&&Np.test(w),N,K=!1;if(typeof w=="string"&&I&&(N=w,zp))try{let re=new URL(window.location.href),xe=w.startsWith("//")?new URL(re.protocol+w):new URL(w),Pe=Ur(xe.pathname,C);xe.origin===re.origin&&Pe!=null?w=Pe+xe.search+xe.hash:K=!0}catch{dr(!1,`<Link to="${w}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=Ug(w,{relative:u}),[H,te,ue]=Sv(l,T),ae=Ov(w,{replace:m,state:x,target:_,preventScrollReset:k,relative:u,viewTransition:E});function J(re){r&&r(re),re.defaultPrevented||ae(re)}let ve=P.createElement("a",{...T,...ue,href:N||G,onClick:K||h?r:J,ref:Pv(A,te),target:_,"data-discover":!I&&o==="render"?"true":void 0});return H&&!I?P.createElement(P.Fragment,null,ve,P.createElement(kv,{page:G})):ve});gs.displayName="Link";var Cv=P.forwardRef(function({"aria-current":r="page",caseSensitive:o=!1,className:l="",end:u=!1,style:h,to:m,viewTransition:x,children:_,...w},k){let E=Ia(m,{relative:w.relative}),T=co(),A=P.useContext(fu),{navigator:C,basename:I}=P.useContext(hr),N=A!=null&&zv(E)&&x===!0,K=C.encodeLocation?C.encodeLocation(E).pathname:E.pathname,G=T.pathname,H=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;o||(G=G.toLowerCase(),H=H?H.toLowerCase():null,K=K.toLowerCase()),H&&I&&(H=Ur(H,I)||H);const te=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let ue=G===K||!u&&G.startsWith(K)&&G.charAt(te)==="/",ae=H!=null&&(H===K||!u&&H.startsWith(K)&&H.charAt(K.length)==="/"),J={isActive:ue,isPending:ae,isTransitioning:N},ve=ue?r:void 0,re;typeof l=="function"?re=l(J):re=[l,ue?"active":null,ae?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let xe=typeof h=="function"?h(J):h;return P.createElement(gs,{...w,"aria-current":ve,className:re,ref:k,style:xe,to:m,viewTransition:x},typeof _=="function"?_(J):_)});Cv.displayName="NavLink";var Lv=P.forwardRef(({discover:a="render",fetcherKey:r,navigate:o,reloadDocument:l,replace:u,state:h,method:m=lu,action:x,onSubmit:_,relative:w,preventScrollReset:k,viewTransition:E,...T},A)=>{let C=Av(),I=Rv(x,{relative:w}),N=m.toLowerCase()==="get"?"get":"post",K=typeof x=="string"&&Np.test(x),G=H=>{if(_&&_(H),H.defaultPrevented)return;H.preventDefault();let te=H.nativeEvent.submitter,ue=(te==null?void 0:te.getAttribute("formmethod"))||m;C(te||H.currentTarget,{fetcherKey:r,method:ue,navigate:o,replace:u,state:h,relative:w,preventScrollReset:k,viewTransition:E})};return P.createElement("form",{ref:A,method:N,action:I,onSubmit:l?_:G,...T,"data-discover":!K&&a==="render"?"true":void 0})});Lv.displayName="Form";function jv(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dp(a){let r=P.useContext(Ss);return mt(r,jv(a)),r}function Ov(a,{target:r,replace:o,state:l,preventScrollReset:u,relative:h,viewTransition:m}={}){let x=$g(),_=co(),w=Ia(a,{relative:h});return P.useCallback(k=>{if(uv(k,r)){k.preventDefault();let E=o!==void 0?o:Ta(_)===Ta(w);x(a,{replace:E,state:l,preventScrollReset:u,relative:h,viewTransition:m})}},[_,x,w,o,l,r,a,u,h,m])}var Iv=0,Mv=()=>`__${String(++Iv)}__`;function Av(){let{router:a}=Dp("useSubmit"),{basename:r}=P.useContext(hr),o=Xg();return P.useCallback(async(l,u={})=>{let{action:h,method:m,encType:x,formData:_,body:w}=hv(l,r);if(u.navigate===!1){let k=u.fetcherKey||Mv();await a.fetch(k,o,u.action||h,{preventScrollReset:u.preventScrollReset,formData:_,body:w,formMethod:u.method||m,formEncType:u.encType||x,flushSync:u.flushSync})}else await a.navigate(u.action||h,{preventScrollReset:u.preventScrollReset,formData:_,body:w,formMethod:u.method||m,formEncType:u.encType||x,replace:u.replace,state:u.state,fromRouteId:o,flushSync:u.flushSync,viewTransition:u.viewTransition})},[a,r,o])}function Rv(a,{relative:r}={}){let{basename:o}=P.useContext(hr),l=P.useContext($r);mt(l,"useFormAction must be used inside a RouteContext");let[u]=l.matches.slice(-1),h={...Ia(a||".",{relative:r})},m=co();if(a==null){h.search=m.search;let x=new URLSearchParams(h.search),_=x.getAll("index");if(_.some(k=>k==="")){x.delete("index"),_.filter(E=>E).forEach(E=>x.append("index",E));let k=x.toString();h.search=k?`?${k}`:""}}return(!a||a===".")&&u.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(h.pathname=h.pathname==="/"?o:Br([o,h.pathname])),Ta(h)}function zv(a,r={}){let o=P.useContext(Lp);mt(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Dp("useViewTransitionState"),u=Ia(a,{relative:r.relative});if(!o.isTransitioning)return!1;let h=Ur(o.currentLocation.pathname,l)||o.currentLocation.pathname,m=Ur(o.nextLocation.pathname,l)||o.nextLocation.pathname;return cu(u.pathname,m)!=null||cu(u.pathname,h)!=null}var Nv=Sp();const Dv="modulepreload",Fv=function(a){return"/geosantos/"+a},zf={},Ma=function(r,o,l){let u=Promise.resolve();if(o&&o.length>0){let m=function(w){return Promise.all(w.map(k=>Promise.resolve(k).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};document.getElementsByTagName("link");const x=document.querySelector("meta[property=csp-nonce]"),_=(x==null?void 0:x.nonce)||(x==null?void 0:x.getAttribute("nonce"));u=m(o.map(w=>{if(w=Fv(w),w in zf)return;zf[w]=!0;const k=w.endsWith(".css"),E=k?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${w}"]${E}`))return;const T=document.createElement("link");if(T.rel=k?"stylesheet":Dv,k||(T.as="script"),T.crossOrigin="",T.href=w,_&&T.setAttribute("nonce",_),document.head.appendChild(T),k)return new Promise((A,C)=>{T.addEventListener("load",A),T.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${w}`)))})}))}function h(m){const x=new Event("vite:preloadError",{cancelable:!0});if(x.payload=m,window.dispatchEvent(x),!x.defaultPrevented)throw m}return u.then(m=>{for(const x of m||[])x.status==="rejected"&&h(x.reason);return r().catch(h)})},Bv=a=>{let r;return a?r=a:typeof fetch>"u"?r=(...o)=>Ma(async()=>{const{default:l}=await Promise.resolve().then(()=>ks);return{default:l}},[]).then(({default:l})=>l(...o)):r=fetch,(...o)=>r(...o)};class Md extends Error{constructor(r,o="FunctionsError",l){super(r),this.name=o,this.context=l}}class Uv extends Md{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class Nf extends Md{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Df extends Md{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var fd;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(fd||(fd={}));var $v=function(a,r,o,l){function u(h){return h instanceof o?h:new o(function(m){m(h)})}return new(o||(o=Promise))(function(h,m){function x(k){try{w(l.next(k))}catch(E){m(E)}}function _(k){try{w(l.throw(k))}catch(E){m(E)}}function w(k){k.done?h(k.value):u(k.value).then(x,_)}w((l=l.apply(a,r||[])).next())})};class Wv{constructor(r,{headers:o={},customFetch:l,region:u=fd.Any}={}){this.url=r,this.headers=o,this.region=u,this.fetch=Bv(l)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,o={}){var l;return $v(this,void 0,void 0,function*(){try{const{headers:u,method:h,body:m}=o;let x={},{region:_}=o;_||(_=this.region);const w=new URL(`${this.url}/${r}`);_&&_!=="any"&&(x["x-region"]=_,w.searchParams.set("forceFunctionRegion",_));let k;m&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)&&(typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",k=m):typeof m=="string"?(x["Content-Type"]="text/plain",k=m):typeof FormData<"u"&&m instanceof FormData?k=m:(x["Content-Type"]="application/json",k=JSON.stringify(m)));const E=yield this.fetch(w.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),u),body:k}).catch(I=>{throw new Uv(I)}),T=E.headers.get("x-relay-error");if(T&&T==="true")throw new Nf(E);if(!E.ok)throw new Df(E);let A=((l=E.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),C;return A==="application/json"?C=yield E.json():A==="application/octet-stream"?C=yield E.blob():A==="text/event-stream"?C=E:A==="multipart/form-data"?C=yield E.formData():C=yield E.text(),{data:C,error:null,response:E}}catch(u){return{data:null,error:u,response:u instanceof Df||u instanceof Nf?u.context:void 0}}})}}var At={},ns={},rs={},is={},os={},ss={},Hv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},vs=Hv();const Zv=vs.fetch,Fp=vs.fetch.bind(vs),Bp=vs.Headers,Vv=vs.Request,Gv=vs.Response,ks=Object.freeze(Object.defineProperty({__proto__:null,Headers:Bp,Request:Vv,Response:Gv,default:Fp,fetch:Zv},Symbol.toStringTag,{value:"Module"})),qv=og(ks);var iu={},Ff;function Up(){if(Ff)return iu;Ff=1,Object.defineProperty(iu,"__esModule",{value:!0});class a extends Error{constructor(o){super(o.message),this.name="PostgrestError",this.details=o.details,this.hint=o.hint,this.code=o.code}}return iu.default=a,iu}var Bf;function $p(){if(Bf)return ss;Bf=1;var a=ss&&ss.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(ss,"__esModule",{value:!0});const r=a(qv),o=a(Up());class l{constructor(h){this.shouldThrowOnError=!1,this.method=h.method,this.url=h.url,this.headers=h.headers,this.schema=h.schema,this.body=h.body,this.shouldThrowOnError=h.shouldThrowOnError,this.signal=h.signal,this.isMaybeSingle=h.isMaybeSingle,h.fetch?this.fetch=h.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(h,m){return this.headers=Object.assign({},this.headers),this.headers[h]=m,this}then(h,m){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const x=this.fetch;let _=x(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async w=>{var k,E,T;let A=null,C=null,I=null,N=w.status,K=w.statusText;if(w.ok){if(this.method!=="HEAD"){const ue=await w.text();ue===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?C=ue:C=JSON.parse(ue))}const H=(k=this.headers.Prefer)===null||k===void 0?void 0:k.match(/count=(exact|planned|estimated)/),te=(E=w.headers.get("content-range"))===null||E===void 0?void 0:E.split("/");H&&te&&te.length>1&&(I=parseInt(te[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(C)&&(C.length>1?(A={code:"PGRST116",details:`Results contain ${C.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},C=null,I=null,N=406,K="Not Acceptable"):C.length===1?C=C[0]:C=null)}else{const H=await w.text();try{A=JSON.parse(H),Array.isArray(A)&&w.status===404&&(C=[],A=null,N=200,K="OK")}catch{w.status===404&&H===""?(N=204,K="No Content"):A={message:H}}if(A&&this.isMaybeSingle&&(!((T=A==null?void 0:A.details)===null||T===void 0)&&T.includes("0 rows"))&&(A=null,N=200,K="OK"),A&&this.shouldThrowOnError)throw new o.default(A)}return{error:A,data:C,count:I,status:N,statusText:K}});return this.shouldThrowOnError||(_=_.catch(w=>{var k,E,T;return{error:{message:`${(k=w==null?void 0:w.name)!==null&&k!==void 0?k:"FetchError"}: ${w==null?void 0:w.message}`,details:`${(E=w==null?void 0:w.stack)!==null&&E!==void 0?E:""}`,hint:"",code:`${(T=w==null?void 0:w.code)!==null&&T!==void 0?T:""}`},data:null,count:null,status:0,statusText:""}})),_.then(h,m)}returns(){return this}overrideTypes(){return this}}return ss.default=l,ss}var Uf;function Wp(){if(Uf)return os;Uf=1;var a=os&&os.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(os,"__esModule",{value:!0});const r=a($p());class o extends r.default{select(u){let h=!1;const m=(u??"*").split("").map(x=>/\s/.test(x)&&!h?"":(x==='"'&&(h=!h),x)).join("");return this.url.searchParams.set("select",m),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(u,{ascending:h=!0,nullsFirst:m,foreignTable:x,referencedTable:_=x}={}){const w=_?`${_}.order`:"order",k=this.url.searchParams.get(w);return this.url.searchParams.set(w,`${k?`${k},`:""}${u}.${h?"asc":"desc"}${m===void 0?"":m?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:h,referencedTable:m=h}={}){const x=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(x,`${u}`),this}range(u,h,{foreignTable:m,referencedTable:x=m}={}){const _=typeof x>"u"?"offset":`${x}.offset`,w=typeof x>"u"?"limit":`${x}.limit`;return this.url.searchParams.set(_,`${u}`),this.url.searchParams.set(w,`${h-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:u=!1,verbose:h=!1,settings:m=!1,buffers:x=!1,wal:_=!1,format:w="text"}={}){var k;const E=[u?"analyze":null,h?"verbose":null,m?"settings":null,x?"buffers":null,_?"wal":null].filter(Boolean).join("|"),T=(k=this.headers.Accept)!==null&&k!==void 0?k:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${w}; for="${T}"; options=${E};`,w==="json"?this:this}rollback(){var u;return((u=this.headers.Prefer)!==null&&u!==void 0?u:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return os.default=o,os}var $f;function Ad(){if($f)return is;$f=1;var a=is&&is.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(is,"__esModule",{value:!0});const r=a(Wp());class o extends r.default{eq(u,h){return this.url.searchParams.append(u,`eq.${h}`),this}neq(u,h){return this.url.searchParams.append(u,`neq.${h}`),this}gt(u,h){return this.url.searchParams.append(u,`gt.${h}`),this}gte(u,h){return this.url.searchParams.append(u,`gte.${h}`),this}lt(u,h){return this.url.searchParams.append(u,`lt.${h}`),this}lte(u,h){return this.url.searchParams.append(u,`lte.${h}`),this}like(u,h){return this.url.searchParams.append(u,`like.${h}`),this}likeAllOf(u,h){return this.url.searchParams.append(u,`like(all).{${h.join(",")}}`),this}likeAnyOf(u,h){return this.url.searchParams.append(u,`like(any).{${h.join(",")}}`),this}ilike(u,h){return this.url.searchParams.append(u,`ilike.${h}`),this}ilikeAllOf(u,h){return this.url.searchParams.append(u,`ilike(all).{${h.join(",")}}`),this}ilikeAnyOf(u,h){return this.url.searchParams.append(u,`ilike(any).{${h.join(",")}}`),this}is(u,h){return this.url.searchParams.append(u,`is.${h}`),this}in(u,h){const m=Array.from(new Set(h)).map(x=>typeof x=="string"&&new RegExp("[,()]").test(x)?`"${x}"`:`${x}`).join(",");return this.url.searchParams.append(u,`in.(${m})`),this}contains(u,h){return typeof h=="string"?this.url.searchParams.append(u,`cs.${h}`):Array.isArray(h)?this.url.searchParams.append(u,`cs.{${h.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(h)}`),this}containedBy(u,h){return typeof h=="string"?this.url.searchParams.append(u,`cd.${h}`):Array.isArray(h)?this.url.searchParams.append(u,`cd.{${h.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(h)}`),this}rangeGt(u,h){return this.url.searchParams.append(u,`sr.${h}`),this}rangeGte(u,h){return this.url.searchParams.append(u,`nxl.${h}`),this}rangeLt(u,h){return this.url.searchParams.append(u,`sl.${h}`),this}rangeLte(u,h){return this.url.searchParams.append(u,`nxr.${h}`),this}rangeAdjacent(u,h){return this.url.searchParams.append(u,`adj.${h}`),this}overlaps(u,h){return typeof h=="string"?this.url.searchParams.append(u,`ov.${h}`):this.url.searchParams.append(u,`ov.{${h.join(",")}}`),this}textSearch(u,h,{config:m,type:x}={}){let _="";x==="plain"?_="pl":x==="phrase"?_="ph":x==="websearch"&&(_="w");const w=m===void 0?"":`(${m})`;return this.url.searchParams.append(u,`${_}fts${w}.${h}`),this}match(u){return Object.entries(u).forEach(([h,m])=>{this.url.searchParams.append(h,`eq.${m}`)}),this}not(u,h,m){return this.url.searchParams.append(u,`not.${h}.${m}`),this}or(u,{foreignTable:h,referencedTable:m=h}={}){const x=m?`${m}.or`:"or";return this.url.searchParams.append(x,`(${u})`),this}filter(u,h,m){return this.url.searchParams.append(u,`${h}.${m}`),this}}return is.default=o,is}var Wf;function Hp(){if(Wf)return rs;Wf=1;var a=rs&&rs.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(rs,"__esModule",{value:!0});const r=a(Ad());class o{constructor(u,{headers:h={},schema:m,fetch:x}){this.url=u,this.headers=h,this.schema=m,this.fetch=x}select(u,{head:h=!1,count:m}={}){const x=h?"HEAD":"GET";let _=!1;const w=(u??"*").split("").map(k=>/\s/.test(k)&&!_?"":(k==='"'&&(_=!_),k)).join("");return this.url.searchParams.set("select",w),m&&(this.headers.Prefer=`count=${m}`),new r.default({method:x,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(u,{count:h,defaultToNull:m=!0}={}){const x="POST",_=[];if(this.headers.Prefer&&_.push(this.headers.Prefer),h&&_.push(`count=${h}`),m||_.push("missing=default"),this.headers.Prefer=_.join(","),Array.isArray(u)){const w=u.reduce((k,E)=>k.concat(Object.keys(E)),[]);if(w.length>0){const k=[...new Set(w)].map(E=>`"${E}"`);this.url.searchParams.set("columns",k.join(","))}}return new r.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:this.fetch,allowEmpty:!1})}upsert(u,{onConflict:h,ignoreDuplicates:m=!1,count:x,defaultToNull:_=!0}={}){const w="POST",k=[`resolution=${m?"ignore":"merge"}-duplicates`];if(h!==void 0&&this.url.searchParams.set("on_conflict",h),this.headers.Prefer&&k.push(this.headers.Prefer),x&&k.push(`count=${x}`),_||k.push("missing=default"),this.headers.Prefer=k.join(","),Array.isArray(u)){const E=u.reduce((T,A)=>T.concat(Object.keys(A)),[]);if(E.length>0){const T=[...new Set(E)].map(A=>`"${A}"`);this.url.searchParams.set("columns",T.join(","))}}return new r.default({method:w,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:this.fetch,allowEmpty:!1})}update(u,{count:h}={}){const m="PATCH",x=[];return this.headers.Prefer&&x.push(this.headers.Prefer),h&&x.push(`count=${h}`),this.headers.Prefer=x.join(","),new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:this.fetch,allowEmpty:!1})}delete({count:u}={}){const h="DELETE",m=[];return u&&m.push(`count=${u}`),this.headers.Prefer&&m.unshift(this.headers.Prefer),this.headers.Prefer=m.join(","),new r.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return rs.default=o,rs}var wa={},Sa={},Hf;function Kv(){return Hf||(Hf=1,Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.version=void 0,Sa.version="0.0.0-automated"),Sa}var Zf;function Jv(){if(Zf)return wa;Zf=1,Object.defineProperty(wa,"__esModule",{value:!0}),wa.DEFAULT_HEADERS=void 0;const a=Kv();return wa.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${a.version}`},wa}var Vf;function Yv(){if(Vf)return ns;Vf=1;var a=ns&&ns.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(ns,"__esModule",{value:!0});const r=a(Hp()),o=a(Ad()),l=Jv();class u{constructor(m,{headers:x={},schema:_,fetch:w}={}){this.url=m,this.headers=Object.assign(Object.assign({},l.DEFAULT_HEADERS),x),this.schemaName=_,this.fetch=w}from(m){const x=new URL(`${this.url}/${m}`);return new r.default(x,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(m){return new u(this.url,{headers:this.headers,schema:m,fetch:this.fetch})}rpc(m,x={},{head:_=!1,get:w=!1,count:k}={}){let E;const T=new URL(`${this.url}/rpc/${m}`);let A;_||w?(E=_?"HEAD":"GET",Object.entries(x).filter(([I,N])=>N!==void 0).map(([I,N])=>[I,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([I,N])=>{T.searchParams.append(I,N)})):(E="POST",A=x);const C=Object.assign({},this.headers);return k&&(C.Prefer=`count=${k}`),new o.default({method:E,url:T,headers:C,schema:this.schemaName,body:A,fetch:this.fetch,allowEmpty:!1})}}return ns.default=u,ns}var Gf;function Qv(){if(Gf)return At;Gf=1;var a=At&&At.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(At,"__esModule",{value:!0}),At.PostgrestError=At.PostgrestBuilder=At.PostgrestTransformBuilder=At.PostgrestFilterBuilder=At.PostgrestQueryBuilder=At.PostgrestClient=void 0;const r=a(Yv());At.PostgrestClient=r.default;const o=a(Hp());At.PostgrestQueryBuilder=o.default;const l=a(Ad());At.PostgrestFilterBuilder=l.default;const u=a(Wp());At.PostgrestTransformBuilder=u.default;const h=a($p());At.PostgrestBuilder=h.default;const m=a(Up());return At.PostgrestError=m.default,At.default={PostgrestClient:r.default,PostgrestQueryBuilder:o.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:h.default,PostgrestError:m.default},At}var Xv=Qv();const e0=Pd(Xv),{PostgrestClient:t0,PostgrestQueryBuilder:C1,PostgrestFilterBuilder:L1,PostgrestTransformBuilder:j1,PostgrestBuilder:O1,PostgrestError:I1}=e0;function n0(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const r0=n0(),i0="2.11.15",o0=`realtime-js/${i0}`,s0="1.0.0",Zp=1e4,a0=1e3;var Ea;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(Ea||(Ea={}));var qt;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(qt||(qt={}));var Gn;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(Gn||(Gn={}));var pd;(function(a){a.websocket="websocket"})(pd||(pd={}));var lo;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(lo||(lo={}));class l0{constructor(){this.HEADER_LENGTH=1}decode(r,o){return r.constructor===ArrayBuffer?o(this._binaryDecode(r)):o(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const o=new DataView(r),l=new TextDecoder;return this._decodeBroadcast(r,o,l)}_decodeBroadcast(r,o,l){const u=o.getUint8(1),h=o.getUint8(2);let m=this.HEADER_LENGTH+2;const x=l.decode(r.slice(m,m+u));m=m+u;const _=l.decode(r.slice(m,m+h));m=m+h;const w=JSON.parse(l.decode(r.slice(m,r.byteLength)));return{ref:null,topic:x,event:_,payload:w}}}class Vp{constructor(r,o){this.callback=r,this.timerCalc=o,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=o}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var it;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(it||(it={}));const qf=(a,r,o={})=>{var l;const u=(l=o.skipTypes)!==null&&l!==void 0?l:[];return Object.keys(r).reduce((h,m)=>(h[m]=u0(m,a,r,u),h),{})},u0=(a,r,o,l)=>{const u=r.find(x=>x.name===a),h=u==null?void 0:u.type,m=o[a];return h&&!l.includes(h)?Gp(h,m):md(m)},Gp=(a,r)=>{if(a.charAt(0)==="_"){const o=a.slice(1,a.length);return f0(r,o)}switch(a){case it.bool:return c0(r);case it.float4:case it.float8:case it.int2:case it.int4:case it.int8:case it.numeric:case it.oid:return d0(r);case it.json:case it.jsonb:return h0(r);case it.timestamp:return p0(r);case it.abstime:case it.date:case it.daterange:case it.int4range:case it.int8range:case it.money:case it.reltime:case it.text:case it.time:case it.timestamptz:case it.timetz:case it.tsrange:case it.tstzrange:return md(r);default:return md(r)}},md=a=>a,c0=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},d0=a=>{if(typeof a=="string"){const r=parseFloat(a);if(!Number.isNaN(r))return r}return a},h0=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch(r){return console.log(`JSON parse error: ${r}`),a}return a},f0=(a,r)=>{if(typeof a!="string")return a;const o=a.length-1,l=a[o];if(a[0]==="{"&&l==="}"){let h;const m=a.slice(1,o);try{h=JSON.parse("["+m+"]")}catch{h=m?m.split(","):[]}return h.map(x=>Gp(r,x))}return a},p0=a=>typeof a=="string"?a.replace(" ","T"):a,qp=a=>{let r=a;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")};class Qc{constructor(r,o,l={},u=Zp){this.channel=r,this.event=o,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,o){var l;return this._hasReceived(r)&&o((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:r,callback:o}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=o=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=o,this._matchReceive(o)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,o){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:o})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:o}){this.recHooks.filter(l=>l.status===r).forEach(l=>l.callback(o))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Kf;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(Kf||(Kf={}));class Pa{constructor(r,o){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(o==null?void 0:o.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:h,onLeave:m,onSync:x}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pa.syncState(this.state,u,h,m),this.pendingDiffs.forEach(_=>{this.state=Pa.syncDiff(this.state,_,h,m)}),this.pendingDiffs=[],x()}),this.channel._on(l.diff,{},u=>{const{onJoin:h,onLeave:m,onSync:x}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Pa.syncDiff(this.state,u,h,m),x())}),this.onJoin((u,h,m)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:h,newPresences:m})}),this.onLeave((u,h,m)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:h,leftPresences:m})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,o,l,u){const h=this.cloneDeep(r),m=this.transformState(o),x={},_={};return this.map(h,(w,k)=>{m[w]||(_[w]=k)}),this.map(m,(w,k)=>{const E=h[w];if(E){const T=k.map(N=>N.presence_ref),A=E.map(N=>N.presence_ref),C=k.filter(N=>A.indexOf(N.presence_ref)<0),I=E.filter(N=>T.indexOf(N.presence_ref)<0);C.length>0&&(x[w]=C),I.length>0&&(_[w]=I)}else x[w]=k}),this.syncDiff(h,{joins:x,leaves:_},l,u)}static syncDiff(r,o,l,u){const{joins:h,leaves:m}={joins:this.transformState(o.joins),leaves:this.transformState(o.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(h,(x,_)=>{var w;const k=(w=r[x])!==null&&w!==void 0?w:[];if(r[x]=this.cloneDeep(_),k.length>0){const E=r[x].map(A=>A.presence_ref),T=k.filter(A=>E.indexOf(A.presence_ref)<0);r[x].unshift(...T)}l(x,k,_)}),this.map(m,(x,_)=>{let w=r[x];if(!w)return;const k=_.map(E=>E.presence_ref);w=w.filter(E=>k.indexOf(E.presence_ref)<0),r[x]=w,u(x,w,_),w.length===0&&delete r[x]}),r}static map(r,o){return Object.getOwnPropertyNames(r).map(l=>o(l,r[l]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((o,l)=>{const u=r[l];return"metas"in u?o[l]=u.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):o[l]=u,o},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Jf;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(Jf||(Jf={}));var Yf;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(Yf||(Yf={}));var Dr;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(Dr||(Dr={}));class Rd{constructor(r,o={config:{}},l){this.topic=r,this.params=o,this.socket=l,this.bindings={},this.state=qt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},o.config),this.timeout=this.socket.timeout,this.joinPush=new Qc(this,Gn.join,this.params,this.timeout),this.rejoinTimer=new Vp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Gn.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new Pa(this),this.broadcastEndpointURL=qp(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(r,o=this.timeout){var l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==qt.closed){const{config:{broadcast:h,presence:m,private:x}}=this.params;this._onError(k=>r==null?void 0:r(Dr.CHANNEL_ERROR,k)),this._onClose(()=>r==null?void 0:r(Dr.CLOSED));const _={},w={broadcast:h,presence:m,postgres_changes:(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(k=>k.filter))!==null&&u!==void 0?u:[],private:x};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:w},_)),this.joinedOnce=!0,this._rejoin(o),this.joinPush.receive("ok",async({postgres_changes:k})=>{var E;if(this.socket.setAuth(),k===void 0){r==null||r(Dr.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,A=(E=T==null?void 0:T.length)!==null&&E!==void 0?E:0,C=[];for(let I=0;I<A;I++){const N=T[I],{filter:{event:K,schema:G,table:H,filter:te}}=N,ue=k&&k[I];if(ue&&ue.event===K&&ue.schema===G&&ue.table===H&&ue.filter===te)C.push(Object.assign(Object.assign({},N),{id:ue.id}));else{this.unsubscribe(),this.state=qt.errored,r==null||r(Dr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,r&&r(Dr.SUBSCRIBED);return}}).receive("error",k=>{this.state=qt.errored,r==null||r(Dr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(k).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(Dr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,o={}){return await this.send({type:"presence",event:"track",payload:r},o.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,o,l){return this._on(r,o,l)}async send(r,o={}){var l,u;if(!this._canPush()&&r.type==="broadcast"){const{event:h,payload:m}=r,_={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:m,private:this.private}]})};try{const w=await this._fetchWithTimeout(this.broadcastEndpointURL,_,(l=o.timeout)!==null&&l!==void 0?l:this.timeout);return await((u=w.body)===null||u===void 0?void 0:u.cancel()),w.ok?"ok":"error"}catch(w){return w.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var m,x,_;const w=this._push(r.type,r,o.timeout||this.timeout);r.type==="broadcast"&&!(!((_=(x=(m=this.params)===null||m===void 0?void 0:m.config)===null||x===void 0?void 0:x.broadcast)===null||_===void 0)&&_.ack)&&h("ok"),w.receive("ok",()=>h("ok")),w.receive("error",()=>h("error")),w.receive("timeout",()=>h("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=qt.leaving;const o=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Gn.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(u=>{l=new Qc(this,Gn.leave,{},r),l.receive("ok",()=>{o(),u("ok")}).receive("timeout",()=>{o(),u("timed out")}).receive("error",()=>{u("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l==null||l.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(r,o,l){const u=new AbortController,h=setTimeout(()=>u.abort(),l),m=await this.socket.fetch(r,Object.assign(Object.assign({},o),{signal:u.signal}));return clearTimeout(h),m}_push(r,o,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Qc(this,r,o,l);return this._canPush()?u.send():(u.startTimeout(),this.pushBuffer.push(u)),u}_onMessage(r,o,l){return o}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,o,l){var u,h;const m=r.toLocaleLowerCase(),{close:x,error:_,leave:w,join:k}=Gn;if(l&&[x,_,w,k].indexOf(m)>=0&&l!==this._joinRef())return;let T=this._onMessage(m,o,l);if(o&&!T)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(m)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(A=>{var C,I,N;return((C=A.filter)===null||C===void 0?void 0:C.event)==="*"||((N=(I=A.filter)===null||I===void 0?void 0:I.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===m}).map(A=>A.callback(T,l)):(h=this.bindings[m])===null||h===void 0||h.filter(A=>{var C,I,N,K,G,H;if(["broadcast","presence","postgres_changes"].includes(m))if("id"in A){const te=A.id,ue=(C=A.filter)===null||C===void 0?void 0:C.event;return te&&((I=o.ids)===null||I===void 0?void 0:I.includes(te))&&(ue==="*"||(ue==null?void 0:ue.toLocaleLowerCase())===((N=o.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const te=(G=(K=A==null?void 0:A.filter)===null||K===void 0?void 0:K.event)===null||G===void 0?void 0:G.toLocaleLowerCase();return te==="*"||te===((H=o==null?void 0:o.event)===null||H===void 0?void 0:H.toLocaleLowerCase())}else return A.type.toLocaleLowerCase()===m}).map(A=>{if(typeof T=="object"&&"ids"in T){const C=T.data,{schema:I,table:N,commit_timestamp:K,type:G,errors:H}=C;T=Object.assign(Object.assign({},{schema:I,table:N,commit_timestamp:K,eventType:G,new:{},old:{},errors:H}),this._getPayloadRecords(C))}A.callback(T,l)})}_isClosed(){return this.state===qt.closed}_isJoined(){return this.state===qt.joined}_isJoining(){return this.state===qt.joining}_isLeaving(){return this.state===qt.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,o,l){const u=r.toLocaleLowerCase(),h={type:u,filter:o,callback:l};return this.bindings[u]?this.bindings[u].push(h):this.bindings[u]=[h],this}_off(r,o){const l=r.toLocaleLowerCase();return this.bindings[l]=this.bindings[l].filter(u=>{var h;return!(((h=u.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===l&&Rd.isEqual(u.filter,o))}),this}static isEqual(r,o){if(Object.keys(r).length!==Object.keys(o).length)return!1;for(const l in r)if(r[l]!==o[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Gn.close,{},r)}_onError(r){this._on(Gn.error,{},o=>r(o))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qt.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const o={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(o.new=qf(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(o.old=qf(r.columns,r.old_record)),o}}const Qf=()=>{},m0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class g0{constructor(r,o){var l;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zp,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qf,this.ref=0,this.logger=Qf,this.conn=null,this.sendBuffer=[],this.serializer=new l0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=h=>{let m;return h?m=h:typeof fetch>"u"?m=(...x)=>Ma(async()=>{const{default:_}=await Promise.resolve().then(()=>ks);return{default:_}},void 0).then(({default:_})=>_(...x)):m=fetch,(...x)=>m(...x)},this.endPoint=`${r}/${pd.websocket}`,this.httpEndpoint=qp(r),o!=null&&o.transport?this.transport=o.transport:this.transport=null,o!=null&&o.params&&(this.params=o.params),o!=null&&o.timeout&&(this.timeout=o.timeout),o!=null&&o.logger&&(this.logger=o.logger),(o!=null&&o.logLevel||o!=null&&o.log_level)&&(this.logLevel=o.logLevel||o.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),o!=null&&o.heartbeatIntervalMs&&(this.heartbeatIntervalMs=o.heartbeatIntervalMs);const u=(l=o==null?void 0:o.params)===null||l===void 0?void 0:l.apikey;if(u&&(this.accessTokenValue=u,this.apiKey=u),this.reconnectAfterMs=o!=null&&o.reconnectAfterMs?o.reconnectAfterMs:h=>[1e3,2e3,5e3,1e4][h-1]||1e4,this.encode=o!=null&&o.encode?o.encode:(h,m)=>m(JSON.stringify(h)),this.decode=o!=null&&o.decode?o.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Vp(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(o==null?void 0:o.fetch),o!=null&&o.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(o==null?void 0:o.worker)||!1,this.workerUrl=o==null?void 0:o.workerUrl}this.accessToken=(o==null?void 0:o.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=r0),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:s0}))}disconnect(r,o){this.conn&&(this.conn.onclose=function(){},r?this.conn.close(r,o??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(l=>l.teardown()))}getChannels(){return this.channels}async removeChannel(r){const o=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),o}async removeAllChannels(){const r=await Promise.all(this.channels.map(o=>o.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,o,l){this.logger(r,o,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Ea.connecting:return lo.Connecting;case Ea.open:return lo.Open;case Ea.closing:return lo.Closing;default:return lo.Closed}}isConnected(){return this.connectionState()===lo.Open}channel(r,o={config:{}}){const l=`realtime:${r}`,u=this.getChannels().find(h=>h.topic===l);if(u)return u;{const h=new Rd(`realtime:${r}`,o,this);return this.channels.push(h),h}}push(r){const{topic:o,event:l,payload:u,ref:h}=r,m=()=>{this.encode(r,x=>{var _;(_=this.conn)===null||_===void 0||_.send(x)})};this.log("push",`${o} ${l} (${h})`,u),this.isConnected()?m():this.sendBuffer.push(m)}async setAuth(r=null){let o=r||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=o&&(this.accessTokenValue=o,this.channels.forEach(l=>{const u={access_token:o,version:o0};o&&l.updateJoinPayload(u),l.joinedOnce&&l._isJoined()&&l._push(Gn.access_token,{access_token:o})}))}async sendHeartbeat(){var r;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(r=this.conn)===null||r===void 0||r.close(a0,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let o=this.channels.find(l=>l.topic===r&&(l._isJoined()||l._isJoining()));o&&(this.log("transport",`leaving duplicate topic "${r}"`),o.unsubscribe())}_remove(r){this.channels=this.channels.filter(o=>o.topic!==r.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_onConnMessage(r){this.decode(r.data,o=>{let{topic:l,event:u,payload:h,ref:m}=o;l==="phoenix"&&u==="phx_reply"&&this.heartbeatCallback(o.payload.status=="ok"?"ok":"error"),m&&m===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${h.status||""} ${l} ${u} ${m&&"("+m+")"||""}`,h),Array.from(this.channels).filter(x=>x._isMember(l)).forEach(x=>x._trigger(u,h,m)),this.stateChangeCallbacks.message.forEach(x=>x(o))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(r=>r())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=o=>{this.log("worker","worker error",o.message),this.workerRef.terminate()},this.workerRef.onmessage=o=>{o.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){this.log("transport","close",r),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(o=>o(r))}_onConnError(r){this.log("transport",`${r}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(o=>o(r))}_triggerChanError(){this.channels.forEach(r=>r._trigger(Gn.error))}_appendParams(r,o){if(Object.keys(o).length===0)return r;const l=r.match(/\?/)?"&":"?",u=new URLSearchParams(o);return`${r}${l}${u}`}_workerObjectUrl(r){let o;if(r)o=r;else{const l=new Blob([m0],{type:"application/javascript"});o=URL.createObjectURL(l)}return o}}class zd extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Rt(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}class v0 extends zd{constructor(r,o){super(r),this.name="StorageApiError",this.status=o}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class gd extends zd{constructor(r,o){super(r),this.name="StorageUnknownError",this.originalError=o}}var y0=function(a,r,o,l){function u(h){return h instanceof o?h:new o(function(m){m(h)})}return new(o||(o=Promise))(function(h,m){function x(k){try{w(l.next(k))}catch(E){m(E)}}function _(k){try{w(l.throw(k))}catch(E){m(E)}}function w(k){k.done?h(k.value):u(k.value).then(x,_)}w((l=l.apply(a,r||[])).next())})};const Kp=a=>{let r;return a?r=a:typeof fetch>"u"?r=(...o)=>Ma(async()=>{const{default:l}=await Promise.resolve().then(()=>ks);return{default:l}},void 0).then(({default:l})=>l(...o)):r=fetch,(...o)=>r(...o)},_0=()=>y0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ma(()=>Promise.resolve().then(()=>ks),void 0)).Response:Response}),vd=a=>{if(Array.isArray(a))return a.map(o=>vd(o));if(typeof a=="function"||a!==Object(a))return a;const r={};return Object.entries(a).forEach(([o,l])=>{const u=o.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));r[u]=vd(l)}),r};var ho=function(a,r,o,l){function u(h){return h instanceof o?h:new o(function(m){m(h)})}return new(o||(o=Promise))(function(h,m){function x(k){try{w(l.next(k))}catch(E){m(E)}}function _(k){try{w(l.throw(k))}catch(E){m(E)}}function w(k){k.done?h(k.value):u(k.value).then(x,_)}w((l=l.apply(a,r||[])).next())})};const Xc=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),x0=(a,r,o)=>ho(void 0,void 0,void 0,function*(){const l=yield _0();a instanceof l&&!(o!=null&&o.noResolveJson)?a.json().then(u=>{r(new v0(Xc(u),a.status||500))}).catch(u=>{r(new gd(Xc(u),u))}):r(new gd(Xc(a),a))}),w0=(a,r,o,l)=>{const u={method:a,headers:(r==null?void 0:r.headers)||{}};return a==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),l&&(u.body=JSON.stringify(l)),Object.assign(Object.assign({},u),o))};function Aa(a,r,o,l,u,h){return ho(this,void 0,void 0,function*(){return new Promise((m,x)=>{a(o,w0(r,l,u,h)).then(_=>{if(!_.ok)throw _;return l!=null&&l.noResolveJson?_:_.json()}).then(_=>m(_)).catch(_=>x0(_,x,l))})})}function du(a,r,o,l){return ho(this,void 0,void 0,function*(){return Aa(a,"GET",r,o,l)})}function Pi(a,r,o,l,u){return ho(this,void 0,void 0,function*(){return Aa(a,"POST",r,l,u,o)})}function S0(a,r,o,l,u){return ho(this,void 0,void 0,function*(){return Aa(a,"PUT",r,l,u,o)})}function k0(a,r,o,l){return ho(this,void 0,void 0,function*(){return Aa(a,"HEAD",r,Object.assign(Object.assign({},o),{noResolveJson:!0}),l)})}function Jp(a,r,o,l,u){return ho(this,void 0,void 0,function*(){return Aa(a,"DELETE",r,l,u,o)})}var un=function(a,r,o,l){function u(h){return h instanceof o?h:new o(function(m){m(h)})}return new(o||(o=Promise))(function(h,m){function x(k){try{w(l.next(k))}catch(E){m(E)}}function _(k){try{w(l.throw(k))}catch(E){m(E)}}function w(k){k.done?h(k.value):u(k.value).then(x,_)}w((l=l.apply(a,r||[])).next())})};const b0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Xf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class E0{constructor(r,o={},l,u){this.url=r,this.headers=o,this.bucketId=l,this.fetch=Kp(u)}uploadOrUpdate(r,o,l,u){return un(this,void 0,void 0,function*(){try{let h;const m=Object.assign(Object.assign({},Xf),u);let x=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(m.upsert)});const _=m.metadata;typeof Blob<"u"&&l instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),_&&h.append("metadata",this.encodeMetadata(_)),h.append("",l)):typeof FormData<"u"&&l instanceof FormData?(h=l,h.append("cacheControl",m.cacheControl),_&&h.append("metadata",this.encodeMetadata(_))):(h=l,x["cache-control"]=`max-age=${m.cacheControl}`,x["content-type"]=m.contentType,_&&(x["x-metadata"]=this.toBase64(this.encodeMetadata(_)))),u!=null&&u.headers&&(x=Object.assign(Object.assign({},x),u.headers));const w=this._removeEmptyFolders(o),k=this._getFinalPath(w),E=yield this.fetch(`${this.url}/object/${k}`,Object.assign({method:r,body:h,headers:x},m!=null&&m.duplex?{duplex:m.duplex}:{})),T=yield E.json();return E.ok?{data:{path:w,id:T.Id,fullPath:T.Key},error:null}:{data:null,error:T}}catch(h){if(Rt(h))return{data:null,error:h};throw h}})}upload(r,o,l){return un(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,o,l)})}uploadToSignedUrl(r,o,l,u){return un(this,void 0,void 0,function*(){const h=this._removeEmptyFolders(r),m=this._getFinalPath(h),x=new URL(this.url+`/object/upload/sign/${m}`);x.searchParams.set("token",o);try{let _;const w=Object.assign({upsert:Xf.upsert},u),k=Object.assign(Object.assign({},this.headers),{"x-upsert":String(w.upsert)});typeof Blob<"u"&&l instanceof Blob?(_=new FormData,_.append("cacheControl",w.cacheControl),_.append("",l)):typeof FormData<"u"&&l instanceof FormData?(_=l,_.append("cacheControl",w.cacheControl)):(_=l,k["cache-control"]=`max-age=${w.cacheControl}`,k["content-type"]=w.contentType);const E=yield this.fetch(x.toString(),{method:"PUT",body:_,headers:k}),T=yield E.json();return E.ok?{data:{path:h,fullPath:T.Key},error:null}:{data:null,error:T}}catch(_){if(Rt(_))return{data:null,error:_};throw _}})}createSignedUploadUrl(r,o){return un(this,void 0,void 0,function*(){try{let l=this._getFinalPath(r);const u=Object.assign({},this.headers);o!=null&&o.upsert&&(u["x-upsert"]="true");const h=yield Pi(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:u}),m=new URL(this.url+h.url),x=m.searchParams.get("token");if(!x)throw new zd("No token returned by API");return{data:{signedUrl:m.toString(),path:r,token:x},error:null}}catch(l){if(Rt(l))return{data:null,error:l};throw l}})}update(r,o,l){return un(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,o,l)})}move(r,o,l){return un(this,void 0,void 0,function*(){try{return{data:yield Pi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:o,destinationBucket:l==null?void 0:l.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(Rt(u))return{data:null,error:u};throw u}})}copy(r,o,l){return un(this,void 0,void 0,function*(){try{return{data:{path:(yield Pi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:o,destinationBucket:l==null?void 0:l.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(Rt(u))return{data:null,error:u};throw u}})}createSignedUrl(r,o,l){return un(this,void 0,void 0,function*(){try{let u=this._getFinalPath(r),h=yield Pi(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:o},l!=null&&l.transform?{transform:l.transform}:{}),{headers:this.headers});const m=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return h={signedUrl:encodeURI(`${this.url}${h.signedURL}${m}`)},{data:h,error:null}}catch(u){if(Rt(u))return{data:null,error:u};throw u}})}createSignedUrls(r,o,l){return un(this,void 0,void 0,function*(){try{const u=yield Pi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:o,paths:r},{headers:this.headers}),h=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return{data:u.map(m=>Object.assign(Object.assign({},m),{signedUrl:m.signedURL?encodeURI(`${this.url}${m.signedURL}${h}`):null})),error:null}}catch(u){if(Rt(u))return{data:null,error:u};throw u}})}download(r,o){return un(this,void 0,void 0,function*(){const u=typeof(o==null?void 0:o.transform)<"u"?"render/image/authenticated":"object",h=this.transformOptsToQueryString((o==null?void 0:o.transform)||{}),m=h?`?${h}`:"";try{const x=this._getFinalPath(r);return{data:yield(yield du(this.fetch,`${this.url}/${u}/${x}${m}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(x){if(Rt(x))return{data:null,error:x};throw x}})}info(r){return un(this,void 0,void 0,function*(){const o=this._getFinalPath(r);try{const l=yield du(this.fetch,`${this.url}/object/info/${o}`,{headers:this.headers});return{data:vd(l),error:null}}catch(l){if(Rt(l))return{data:null,error:l};throw l}})}exists(r){return un(this,void 0,void 0,function*(){const o=this._getFinalPath(r);try{return yield k0(this.fetch,`${this.url}/object/${o}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(Rt(l)&&l instanceof gd){const u=l.originalError;if([400,404].includes(u==null?void 0:u.status))return{data:!1,error:l}}throw l}})}getPublicUrl(r,o){const l=this._getFinalPath(r),u=[],h=o!=null&&o.download?`download=${o.download===!0?"":o.download}`:"";h!==""&&u.push(h);const x=typeof(o==null?void 0:o.transform)<"u"?"render/image":"object",_=this.transformOptsToQueryString((o==null?void 0:o.transform)||{});_!==""&&u.push(_);let w=u.join("&");return w!==""&&(w=`?${w}`),{data:{publicUrl:encodeURI(`${this.url}/${x}/public/${l}${w}`)}}}remove(r){return un(this,void 0,void 0,function*(){try{return{data:yield Jp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(o){if(Rt(o))return{data:null,error:o};throw o}})}list(r,o,l){return un(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},b0),o),{prefix:r||""});return{data:yield Pi(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},l),error:null}}catch(u){if(Rt(u))return{data:null,error:u};throw u}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const o=[];return r.width&&o.push(`width=${r.width}`),r.height&&o.push(`height=${r.height}`),r.resize&&o.push(`resize=${r.resize}`),r.format&&o.push(`format=${r.format}`),r.quality&&o.push(`quality=${r.quality}`),o.join("&")}}const P0="2.7.1",T0={"X-Client-Info":`storage-js/${P0}`};var as=function(a,r,o,l){function u(h){return h instanceof o?h:new o(function(m){m(h)})}return new(o||(o=Promise))(function(h,m){function x(k){try{w(l.next(k))}catch(E){m(E)}}function _(k){try{w(l.throw(k))}catch(E){m(E)}}function w(k){k.done?h(k.value):u(k.value).then(x,_)}w((l=l.apply(a,r||[])).next())})};class C0{constructor(r,o={},l){this.url=r,this.headers=Object.assign(Object.assign({},T0),o),this.fetch=Kp(l)}listBuckets(){return as(this,void 0,void 0,function*(){try{return{data:yield du(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}})}getBucket(r){return as(this,void 0,void 0,function*(){try{return{data:yield du(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(o){if(Rt(o))return{data:null,error:o};throw o}})}createBucket(r,o={public:!1}){return as(this,void 0,void 0,function*(){try{return{data:yield Pi(this.fetch,`${this.url}/bucket`,{id:r,name:r,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(Rt(l))return{data:null,error:l};throw l}})}updateBucket(r,o){return as(this,void 0,void 0,function*(){try{return{data:yield S0(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(Rt(l))return{data:null,error:l};throw l}})}emptyBucket(r){return as(this,void 0,void 0,function*(){try{return{data:yield Pi(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(o){if(Rt(o))return{data:null,error:o};throw o}})}deleteBucket(r){return as(this,void 0,void 0,function*(){try{return{data:yield Jp(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(o){if(Rt(o))return{data:null,error:o};throw o}})}}class L0 extends C0{constructor(r,o={},l){super(r,o,l)}from(r){return new E0(this.url,this.headers,r,this.fetch)}}const j0="2.52.0";let ka="";typeof Deno<"u"?ka="deno":typeof document<"u"?ka="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ka="react-native":ka="node";const O0={"X-Client-Info":`supabase-js-${ka}/${j0}`},I0={headers:O0},M0={schema:"public"},A0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},R0={};var z0=function(a,r,o,l){function u(h){return h instanceof o?h:new o(function(m){m(h)})}return new(o||(o=Promise))(function(h,m){function x(k){try{w(l.next(k))}catch(E){m(E)}}function _(k){try{w(l.throw(k))}catch(E){m(E)}}function w(k){k.done?h(k.value):u(k.value).then(x,_)}w((l=l.apply(a,r||[])).next())})};const N0=a=>{let r;return a?r=a:typeof fetch>"u"?r=Fp:r=fetch,(...o)=>r(...o)},D0=()=>typeof Headers>"u"?Bp:Headers,F0=(a,r,o)=>{const l=N0(o),u=D0();return(h,m)=>z0(void 0,void 0,void 0,function*(){var x;const _=(x=yield r())!==null&&x!==void 0?x:a;let w=new u(m==null?void 0:m.headers);return w.has("apikey")||w.set("apikey",a),w.has("Authorization")||w.set("Authorization",`Bearer ${_}`),l(h,Object.assign(Object.assign({},m),{headers:w}))})};var B0=function(a,r,o,l){function u(h){return h instanceof o?h:new o(function(m){m(h)})}return new(o||(o=Promise))(function(h,m){function x(k){try{w(l.next(k))}catch(E){m(E)}}function _(k){try{w(l.throw(k))}catch(E){m(E)}}function w(k){k.done?h(k.value):u(k.value).then(x,_)}w((l=l.apply(a,r||[])).next())})};function U0(a){return a.endsWith("/")?a:a+"/"}function $0(a,r){var o,l;const{db:u,auth:h,realtime:m,global:x}=a,{db:_,auth:w,realtime:k,global:E}=r,T={db:Object.assign(Object.assign({},_),u),auth:Object.assign(Object.assign({},w),h),realtime:Object.assign(Object.assign({},k),m),global:Object.assign(Object.assign(Object.assign({},E),x),{headers:Object.assign(Object.assign({},(o=E==null?void 0:E.headers)!==null&&o!==void 0?o:{}),(l=x==null?void 0:x.headers)!==null&&l!==void 0?l:{})}),accessToken:()=>B0(this,void 0,void 0,function*(){return""})};return a.accessToken?T.accessToken=a.accessToken:delete T.accessToken,T}const Yp="2.71.1",ps=30*1e3,yd=3,ed=yd*ps,W0="http://localhost:9999",H0="supabase.auth.token",Z0={"X-Client-Info":`gotrue-js/${Yp}`},_d="X-Supabase-Api-Version",Qp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},V0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,G0=10*60*1e3;class Nd extends Error{constructor(r,o,l){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=o,this.code=l}}function Re(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class q0 extends Nd{constructor(r,o,l){super(r,o,l),this.name="AuthApiError",this.status=o,this.code=l}}function K0(a){return Re(a)&&a.name==="AuthApiError"}class Xp extends Nd{constructor(r,o){super(r),this.name="AuthUnknownError",this.originalError=o}}class Ci extends Nd{constructor(r,o,l,u){super(r,l,u),this.name=o,this.status=l}}class Ei extends Ci{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function J0(a){return Re(a)&&a.name==="AuthSessionMissingError"}class ou extends Ci{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class su extends Ci{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class au extends Ci{constructor(r,o=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Y0(a){return Re(a)&&a.name==="AuthImplicitGrantRedirectError"}class ep extends Ci{constructor(r,o=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xd extends Ci{constructor(r,o){super(r,"AuthRetryableFetchError",o,void 0)}}function td(a){return Re(a)&&a.name==="AuthRetryableFetchError"}class tp extends Ci{constructor(r,o,l){super(r,"AuthWeakPasswordError",o,"weak_password"),this.reasons=l}}class wd extends Ci{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const hu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),np=` 	
\r=`.split(""),Q0=(()=>{const a=new Array(128);for(let r=0;r<a.length;r+=1)a[r]=-1;for(let r=0;r<np.length;r+=1)a[np[r].charCodeAt(0)]=-2;for(let r=0;r<hu.length;r+=1)a[hu[r].charCodeAt(0)]=r;return a})();function rp(a,r,o){if(a!==null)for(r.queue=r.queue<<8|a,r.queuedBits+=8;r.queuedBits>=6;){const l=r.queue>>r.queuedBits-6&63;o(hu[l]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const l=r.queue>>r.queuedBits-6&63;o(hu[l]),r.queuedBits-=6}}function em(a,r,o){const l=Q0[a];if(l>-1)for(r.queue=r.queue<<6|l,r.queuedBits+=6;r.queuedBits>=8;)o(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function ip(a){const r=[],o=m=>{r.push(String.fromCodePoint(m))},l={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},h=m=>{ty(m,l,o)};for(let m=0;m<a.length;m+=1)em(a.charCodeAt(m),u,h);return r.join("")}function X0(a,r){if(a<=127){r(a);return}else if(a<=2047){r(192|a>>6),r(128|a&63);return}else if(a<=65535){r(224|a>>12),r(128|a>>6&63),r(128|a&63);return}else if(a<=1114111){r(240|a>>18),r(128|a>>12&63),r(128|a>>6&63),r(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function ey(a,r){for(let o=0;o<a.length;o+=1){let l=a.charCodeAt(o);if(l>55295&&l<=56319){const u=(l-55296)*1024&65535;l=(a.charCodeAt(o+1)-56320&65535|u)+65536,o+=1}X0(l,r)}}function ty(a,r,o){if(r.utf8seq===0){if(a<=127){o(a);return}for(let l=1;l<6;l+=1)if((a>>7-l&1)===0){r.utf8seq=l;break}if(r.utf8seq===2)r.codepoint=a&31;else if(r.utf8seq===3)r.codepoint=a&15;else if(r.utf8seq===4)r.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|a&63,r.utf8seq-=1,r.utf8seq===0&&o(r.codepoint)}}function ny(a){const r=[],o={queue:0,queuedBits:0},l=u=>{r.push(u)};for(let u=0;u<a.length;u+=1)em(a.charCodeAt(u),o,l);return new Uint8Array(r)}function ry(a){const r=[];return ey(a,o=>r.push(o)),new Uint8Array(r)}function iy(a){const r=[],o={queue:0,queuedBits:0},l=u=>{r.push(u)};return a.forEach(u=>rp(u,o,l)),rp(null,o,l),r.join("")}function oy(a){return Math.round(Date.now()/1e3)+a}function sy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){const r=Math.random()*16|0;return(a=="x"?r:r&3|8).toString(16)})}const Vn=()=>typeof window<"u"&&typeof document<"u",ro={tested:!1,writable:!1},tm=()=>{if(!Vn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ro.tested)return ro.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),ro.tested=!0,ro.writable=!0}catch{ro.tested=!0,ro.writable=!1}return ro.writable};function ay(a){const r={},o=new URL(a);if(o.hash&&o.hash[0]==="#")try{new URLSearchParams(o.hash.substring(1)).forEach((u,h)=>{r[h]=u})}catch{}return o.searchParams.forEach((l,u)=>{r[u]=l}),r}const nm=a=>{let r;return a?r=a:typeof fetch>"u"?r=(...o)=>Ma(async()=>{const{default:l}=await Promise.resolve().then(()=>ks);return{default:l}},void 0).then(({default:l})=>l(...o)):r=fetch,(...o)=>r(...o)},ly=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",ms=async(a,r,o)=>{await a.setItem(r,JSON.stringify(o))},io=async(a,r)=>{const o=await a.getItem(r);if(!o)return null;try{return JSON.parse(o)}catch{return o}},bi=async(a,r)=>{await a.removeItem(r)};class mu{constructor(){this.promise=new mu.promiseConstructor((r,o)=>{this.resolve=r,this.reject=o})}}mu.promiseConstructor=Promise;function nd(a){const r=a.split(".");if(r.length!==3)throw new wd("Invalid JWT structure");for(let l=0;l<r.length;l++)if(!V0.test(r[l]))throw new wd("JWT not in base64url format");return{header:JSON.parse(ip(r[0])),payload:JSON.parse(ip(r[1])),signature:ny(r[2]),raw:{header:r[0],payload:r[1]}}}async function uy(a){return await new Promise(r=>{setTimeout(()=>r(null),a)})}function cy(a,r){return new Promise((l,u)=>{(async()=>{for(let h=0;h<1/0;h++)try{const m=await a(h);if(!r(h,null,m)){l(m);return}}catch(m){if(!r(h,m)){u(m);return}}})()})}function dy(a){return("0"+a.toString(16)).substr(-2)}function hy(){const r=new Uint32Array(56);if(typeof crypto>"u"){const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=o.length;let u="";for(let h=0;h<56;h++)u+=o.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(r),Array.from(r,dy).join("")}async function fy(a){const o=new TextEncoder().encode(a),l=await crypto.subtle.digest("SHA-256",o),u=new Uint8Array(l);return Array.from(u).map(h=>String.fromCharCode(h)).join("")}async function py(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const o=await fy(a);return btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ls(a,r,o=!1){const l=hy();let u=l;o&&(u+="/PASSWORD_RECOVERY"),await ms(a,`${r}-code-verifier`,u);const h=await py(l);return[h,l===h?"plain":"s256"]}const my=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gy(a){const r=a.headers.get(_d);if(!r||!r.match(my))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function vy(a){if(!a)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(a<=r)throw new Error("JWT has expired")}function yy(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _y=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function us(a){if(!_y.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function rd(){const a={};return new Proxy(a,{get:(r,o)=>{if(o==="__isUserNotAvailableProxy")return!0;if(typeof o=="symbol"){const l=o.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${o}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function op(a){return JSON.parse(JSON.stringify(a))}var xy=function(a,r){var o={};for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&r.indexOf(l)<0&&(o[l]=a[l]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(a);u<l.length;u++)r.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(a,l[u])&&(o[l[u]]=a[l[u]]);return o};const ao=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),wy=[502,503,504];async function sp(a){var r;if(!ly(a))throw new xd(ao(a),0);if(wy.includes(a.status))throw new xd(ao(a),a.status);let o;try{o=await a.json()}catch(h){throw new Xp(ao(h),h)}let l;const u=gy(a);if(u&&u.getTime()>=Qp["2024-01-01"].timestamp&&typeof o=="object"&&o&&typeof o.code=="string"?l=o.code:typeof o=="object"&&o&&typeof o.error_code=="string"&&(l=o.error_code),l){if(l==="weak_password")throw new tp(ao(o),a.status,((r=o.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(l==="session_not_found")throw new Ei}else if(typeof o=="object"&&o&&typeof o.weak_password=="object"&&o.weak_password&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.reasons.reduce((h,m)=>h&&typeof m=="string",!0))throw new tp(ao(o),a.status,o.weak_password.reasons);throw new q0(ao(o),a.status||500,l)}const Sy=(a,r,o,l)=>{const u={method:a,headers:(r==null?void 0:r.headers)||{}};return a==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),o))};async function He(a,r,o,l){var u;const h=Object.assign({},l==null?void 0:l.headers);h[_d]||(h[_d]=Qp["2024-01-01"].name),l!=null&&l.jwt&&(h.Authorization=`Bearer ${l.jwt}`);const m=(u=l==null?void 0:l.query)!==null&&u!==void 0?u:{};l!=null&&l.redirectTo&&(m.redirect_to=l.redirectTo);const x=Object.keys(m).length?"?"+new URLSearchParams(m).toString():"",_=await ky(a,r,o+x,{headers:h,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(_):{data:Object.assign({},_),error:null}}async function ky(a,r,o,l,u,h){const m=Sy(r,l,u,h);let x;try{x=await a(o,Object.assign({},m))}catch(_){throw console.error(_),new xd(ao(_),0)}if(x.ok||await sp(x),l!=null&&l.noResolveJson)return x;try{return await x.json()}catch(_){await sp(_)}}function Nr(a){var r;let o=null;Ty(a)&&(o=Object.assign({},a),a.expires_at||(o.expires_at=oy(a.expires_in)));const l=(r=a.user)!==null&&r!==void 0?r:a;return{data:{session:o,user:l},error:null}}function ap(a){const r=Nr(a);return!r.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0)&&(r.data.weak_password=a.weak_password),r}function Ti(a){var r;return{data:{user:(r=a.user)!==null&&r!==void 0?r:a},error:null}}function by(a){return{data:a,error:null}}function Ey(a){const{action_link:r,email_otp:o,hashed_token:l,redirect_to:u,verification_type:h}=a,m=xy(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),x={action_link:r,email_otp:o,hashed_token:l,redirect_to:u,verification_type:h},_=Object.assign({},m);return{data:{properties:x,user:_},error:null}}function Py(a){return a}function Ty(a){return a.access_token&&a.refresh_token&&a.expires_in}const id=["global","local","others"];var Cy=function(a,r){var o={};for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&r.indexOf(l)<0&&(o[l]=a[l]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(a);u<l.length;u++)r.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(a,l[u])&&(o[l[u]]=a[l[u]]);return o};class Ly{constructor({url:r="",headers:o={},fetch:l}){this.url=r,this.headers=o,this.fetch=nm(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,o=id[0]){if(id.indexOf(o)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${id.join(", ")}`);try{return await He(this.fetch,"POST",`${this.url}/logout?scope=${o}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(l){if(Re(l))return{data:null,error:l};throw l}}async inviteUserByEmail(r,o={}){try{return await He(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:o.data},headers:this.headers,redirectTo:o.redirectTo,xform:Ti})}catch(l){if(Re(l))return{data:{user:null},error:l};throw l}}async generateLink(r){try{const{options:o}=r,l=Cy(r,["options"]),u=Object.assign(Object.assign({},l),o);return"newEmail"in l&&(u.new_email=l==null?void 0:l.newEmail,delete u.newEmail),await He(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:Ey,redirectTo:o==null?void 0:o.redirectTo})}catch(o){if(Re(o))return{data:{properties:null,user:null},error:o};throw o}}async createUser(r){try{return await He(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Ti})}catch(o){if(Re(o))return{data:{user:null},error:o};throw o}}async listUsers(r){var o,l,u,h,m,x,_;try{const w={nextPage:null,lastPage:0,total:0},k=await He(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(o=r==null?void 0:r.page)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:"",per_page:(h=(u=r==null?void 0:r.perPage)===null||u===void 0?void 0:u.toString())!==null&&h!==void 0?h:""},xform:Py});if(k.error)throw k.error;const E=await k.json(),T=(m=k.headers.get("x-total-count"))!==null&&m!==void 0?m:0,A=(_=(x=k.headers.get("link"))===null||x===void 0?void 0:x.split(","))!==null&&_!==void 0?_:[];return A.length>0&&(A.forEach(C=>{const I=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(C.split(";")[1].split("=")[1]);w[`${N}Page`]=I}),w.total=parseInt(T)),{data:Object.assign(Object.assign({},E),w),error:null}}catch(w){if(Re(w))return{data:{users:[]},error:w};throw w}}async getUserById(r){us(r);try{return await He(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Ti})}catch(o){if(Re(o))return{data:{user:null},error:o};throw o}}async updateUserById(r,o){us(r);try{return await He(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:o,headers:this.headers,xform:Ti})}catch(l){if(Re(l))return{data:{user:null},error:l};throw l}}async deleteUser(r,o=!1){us(r);try{return await He(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:o},xform:Ti})}catch(l){if(Re(l))return{data:{user:null},error:l};throw l}}async _listFactors(r){us(r.userId);try{const{data:o,error:l}=await He(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:o,error:l}}catch(o){if(Re(o))return{data:null,error:o};throw o}}async _deleteFactor(r){us(r.userId),us(r.id);try{return{data:await He(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(o){if(Re(o))return{data:null,error:o};throw o}}}function lp(a={}){return{getItem:r=>a[r]||null,setItem:(r,o)=>{a[r]=o},removeItem:r=>{delete a[r]}}}function jy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const cs={debug:!!(globalThis&&tm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class rm extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class Oy extends rm{}async function Iy(a,r,o){cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,r);const l=new globalThis.AbortController;return r>0&&setTimeout(()=>{l.abort(),cs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async u=>{if(u){cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,u.name);try{return await o()}finally{cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,u.name)}}else{if(r===0)throw cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new Oy(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(cs.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await o()}}))}jy();const My={url:W0,storageKey:H0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Z0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function up(a,r,o){return await o()}const ds={};class Ca{constructor(r){var o,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ca.nextInstanceID,Ca.nextInstanceID+=1,this.instanceID>0&&Vn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const u=Object.assign(Object.assign({},My),r);if(this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.persistSession=u.persistSession,this.storageKey=u.storageKey,this.autoRefreshToken=u.autoRefreshToken,this.admin=new Ly({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=nm(u.fetch),this.lock=u.lock||up,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,u.lock?this.lock=u.lock:Vn()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=Iy:this.lock=up,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:tm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=lp(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=lp(this.memoryStorage)),Vn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}get jwks(){var r,o;return(o=(r=ds[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&o!==void 0?o:{keys:[]}}set jwks(r){ds[this.storageKey]=Object.assign(Object.assign({},ds[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,o;return(o=(r=ds[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&o!==void 0?o:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){ds[this.storageKey]=Object.assign(Object.assign({},ds[this.storageKey]),{cachedAt:r})}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Yp}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const o=ay(window.location.href);let l="none";if(this._isImplicitGrantCallback(o)?l="implicit":await this._isPKCECallback(o)&&(l="pkce"),Vn()&&this.detectSessionInUrl&&l!=="none"){const{data:u,error:h}=await this._getSessionFromURL(o,l);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),Y0(h)){const _=(r=h.details)===null||r===void 0?void 0:r.code;if(_==="identity_already_exists"||_==="identity_not_found"||_==="single_identity_not_deletable")return{error:h}}return await this._removeSession(),{error:h}}const{session:m,redirectType:x}=u;return this._debug("#_initialize()","detected session in URL",m,"redirect type",x),await this._saveSession(m),setTimeout(async()=>{x==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",m):await this._notifyAllSubscribers("SIGNED_IN",m)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(o){return Re(o)?{error:o}:{error:new Xp("Unexpected error during initialization",o)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var o,l,u;try{const h=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(o=r==null?void 0:r.options)===null||o===void 0?void 0:o.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(u=r==null?void 0:r.options)===null||u===void 0?void 0:u.captchaToken}},xform:Nr}),{data:m,error:x}=h;if(x||!m)return{data:{user:null,session:null},error:x};const _=m.session,w=m.user;return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",_)),{data:{user:w,session:_},error:null}}catch(h){if(Re(h))return{data:{user:null,session:null},error:h};throw h}}async signUp(r){var o,l,u;try{let h;if("email"in r){const{email:k,password:E,options:T}=r;let A=null,C=null;this.flowType==="pkce"&&([A,C]=await ls(this.storage,this.storageKey)),h=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:T==null?void 0:T.emailRedirectTo,body:{email:k,password:E,data:(o=T==null?void 0:T.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:T==null?void 0:T.captchaToken},code_challenge:A,code_challenge_method:C},xform:Nr})}else if("phone"in r){const{phone:k,password:E,options:T}=r;h=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:k,password:E,data:(l=T==null?void 0:T.data)!==null&&l!==void 0?l:{},channel:(u=T==null?void 0:T.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:T==null?void 0:T.captchaToken}},xform:Nr})}else throw new su("You must provide either an email or phone number and a password");const{data:m,error:x}=h;if(x||!m)return{data:{user:null,session:null},error:x};const _=m.session,w=m.user;return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",_)),{data:{user:w,session:_},error:null}}catch(h){if(Re(h))return{data:{user:null,session:null},error:h};throw h}}async signInWithPassword(r){try{let o;if("email"in r){const{email:h,password:m,options:x}=r;o=await He(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:m,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:ap})}else if("phone"in r){const{phone:h,password:m,options:x}=r;o=await He(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:m,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:ap})}else throw new su("You must provide either an email or phone number and a password");const{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ou}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:u})}catch(o){if(Re(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithOAuth(r){var o,l,u,h;return await this._handleProviderSignIn(r.provider,{redirectTo:(o=r.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=r.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=r.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(h=r.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:o}=r;if(o==="solana")return await this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${o}"`)}async signInWithSolana(r){var o,l,u,h,m,x,_,w,k,E,T,A;let C,I;if("message"in r)C=r.message,I=r.signature;else{const{chain:N,wallet:K,statement:G,options:H}=r;let te;if(Vn())if(typeof K=="object")te=K;else{const ae=window;if("solana"in ae&&typeof ae.solana=="object"&&("signIn"in ae.solana&&typeof ae.solana.signIn=="function"||"signMessage"in ae.solana&&typeof ae.solana.signMessage=="function"))te=ae.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof K!="object"||!(H!=null&&H.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");te=K}const ue=new URL((o=H==null?void 0:H.url)!==null&&o!==void 0?o:window.location.href);if("signIn"in te&&te.signIn){const ae=await te.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},H==null?void 0:H.signInWithSolana),{version:"1",domain:ue.host,uri:ue.href}),G?{statement:G}:null));let J;if(Array.isArray(ae)&&ae[0]&&typeof ae[0]=="object")J=ae[0];else if(ae&&typeof ae=="object"&&"signedMessage"in ae&&"signature"in ae)J=ae;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)C=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),I=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in te)||typeof te.signMessage!="function"||!("publicKey"in te)||typeof te!="object"||!te.publicKey||!("toBase58"in te.publicKey)||typeof te.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${ue.host} wants you to sign in with your Solana account:`,te.publicKey.toBase58(),...G?["",G,""]:[""],"Version: 1",`URI: ${ue.href}`,`Issued At: ${(u=(l=H==null?void 0:H.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((h=H==null?void 0:H.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${H.signInWithSolana.notBefore}`]:[],...!((m=H==null?void 0:H.signInWithSolana)===null||m===void 0)&&m.expirationTime?[`Expiration Time: ${H.signInWithSolana.expirationTime}`]:[],...!((x=H==null?void 0:H.signInWithSolana)===null||x===void 0)&&x.chainId?[`Chain ID: ${H.signInWithSolana.chainId}`]:[],...!((_=H==null?void 0:H.signInWithSolana)===null||_===void 0)&&_.nonce?[`Nonce: ${H.signInWithSolana.nonce}`]:[],...!((w=H==null?void 0:H.signInWithSolana)===null||w===void 0)&&w.requestId?[`Request ID: ${H.signInWithSolana.requestId}`]:[],...!((E=(k=H==null?void 0:H.signInWithSolana)===null||k===void 0?void 0:k.resources)===null||E===void 0)&&E.length?["Resources",...H.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);const ae=await te.signMessage(new TextEncoder().encode(C),"utf8");if(!ae||!(ae instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");I=ae}}try{const{data:N,error:K}=await He(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:iy(I)},!((T=r.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(A=r.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:Nr});if(K)throw K;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new ou}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:K})}catch(N){if(Re(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(r){const o=await io(this.storage,`${this.storageKey}-code-verifier`),[l,u]=(o??"").split("/");try{const{data:h,error:m}=await He(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:l},xform:Nr});if(await bi(this.storage,`${this.storageKey}-code-verifier`),m)throw m;return!h||!h.session||!h.user?{data:{user:null,session:null,redirectType:null},error:new ou}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:Object.assign(Object.assign({},h),{redirectType:u??null}),error:m})}catch(h){if(Re(h))return{data:{user:null,session:null,redirectType:null},error:h};throw h}}async signInWithIdToken(r){try{const{options:o,provider:l,token:u,access_token:h,nonce:m}=r,x=await He(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:h,nonce:m,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Nr}),{data:_,error:w}=x;return w?{data:{user:null,session:null},error:w}:!_||!_.session||!_.user?{data:{user:null,session:null},error:new ou}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:_,error:w})}catch(o){if(Re(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithOtp(r){var o,l,u,h,m;try{if("email"in r){const{email:x,options:_}=r;let w=null,k=null;this.flowType==="pkce"&&([w,k]=await ls(this.storage,this.storageKey));const{error:E}=await He(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:x,data:(o=_==null?void 0:_.data)!==null&&o!==void 0?o:{},create_user:(l=_==null?void 0:_.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:w,code_challenge_method:k},redirectTo:_==null?void 0:_.emailRedirectTo});return{data:{user:null,session:null},error:E}}if("phone"in r){const{phone:x,options:_}=r,{data:w,error:k}=await He(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:x,data:(u=_==null?void 0:_.data)!==null&&u!==void 0?u:{},create_user:(h=_==null?void 0:_.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},channel:(m=_==null?void 0:_.channel)!==null&&m!==void 0?m:"sms"}});return{data:{user:null,session:null,messageId:w==null?void 0:w.message_id},error:k}}throw new su("You must provide either an email or phone number.")}catch(x){if(Re(x))return{data:{user:null,session:null},error:x};throw x}}async verifyOtp(r){var o,l;try{let u,h;"options"in r&&(u=(o=r.options)===null||o===void 0?void 0:o.redirectTo,h=(l=r.options)===null||l===void 0?void 0:l.captchaToken);const{data:m,error:x}=await He(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:h}}),redirectTo:u,xform:Nr});if(x)throw x;if(!m)throw new Error("An error occurred on token verification.");const _=m.session,w=m.user;return _!=null&&_.access_token&&(await this._saveSession(_),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",_)),{data:{user:w,session:_},error:null}}catch(u){if(Re(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithSSO(r){var o,l,u;try{let h=null,m=null;return this.flowType==="pkce"&&([h,m]=await ls(this.storage,this.storageKey)),await He(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(l=(o=r.options)===null||o===void 0?void 0:o.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=r==null?void 0:r.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:m}),headers:this.headers,xform:by})}catch(h){if(Re(h))return{data:null,error:h};throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:o},error:l}=r;if(l)throw l;if(!o)throw new Ei;const{error:u}=await He(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:o.access_token});return{data:{user:null,session:null},error:u}})}catch(r){if(Re(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const o=`${this.url}/resend`;if("email"in r){const{email:l,type:u,options:h}=r,{error:m}=await He(this.fetch,"POST",o,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:m}}else if("phone"in r){const{phone:l,type:u,options:h}=r,{data:m,error:x}=await He(this.fetch,"POST",o,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:x}}throw new su("You must provide either an email or phone number and a type")}catch(o){if(Re(o))return{data:{user:null,session:null},error:o};throw o}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async o=>o))}async _acquireLock(r,o){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await o()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=o();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const o=await this.__loadSession();return await r(o)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const o=await io(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",o),o!==null&&(this._isValidSession(o)?r=o:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const l=r.expires_at?r.expires_at*1e3-Date.now()<ed:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",r.expires_at),!l){if(this.userStorage){const m=await io(this.userStorage,this.storageKey+"-user");m!=null&&m.user?r.user=m.user:r.user=rd()}if(this.storage.isServer&&r.user){let m=this.suppressGetSessionWarning;r=new Proxy(r,{get:(_,w,k)=>(!m&&w==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),m=!0,this.suppressGetSessionWarning=!0),Reflect.get(_,w,k))})}return{data:{session:r},error:null}}const{session:u,error:h}=await this._callRefreshToken(r.refresh_token);return h?{data:{session:null},error:h}:{data:{session:u},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await He(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Ti}):await this._useSession(async o=>{var l,u,h;const{data:m,error:x}=o;if(x)throw x;return!(!((l=m.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ei}:await He(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0,xform:Ti})})}catch(o){if(Re(o))return J0(o)&&(await this._removeSession(),await bi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:o};throw o}}async updateUser(r,o={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,o))}async _updateUser(r,o={}){try{return await this._useSession(async l=>{const{data:u,error:h}=l;if(h)throw h;if(!u.session)throw new Ei;const m=u.session;let x=null,_=null;this.flowType==="pkce"&&r.email!=null&&([x,_]=await ls(this.storage,this.storageKey));const{data:w,error:k}=await He(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:o==null?void 0:o.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:x,code_challenge_method:_}),jwt:m.access_token,xform:Ti});if(k)throw k;return m.user=w.user,await this._saveSession(m),await this._notifyAllSubscribers("USER_UPDATED",m),{data:{user:m.user},error:null}})}catch(l){if(Re(l))return{data:{user:null},error:l};throw l}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new Ei;const o=Date.now()/1e3;let l=o,u=!0,h=null;const{payload:m}=nd(r.access_token);if(m.exp&&(l=m.exp,u=l<=o),u){const{session:x,error:_}=await this._callRefreshToken(r.refresh_token);if(_)return{data:{user:null,session:null},error:_};if(!x)return{data:{user:null,session:null},error:null};h=x}else{const{data:x,error:_}=await this._getUser(r.access_token);if(_)throw _;h={access_token:r.access_token,refresh_token:r.refresh_token,user:x.user,token_type:"bearer",expires_in:l-o,expires_at:l},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return{data:{user:h.user,session:h},error:null}}catch(o){if(Re(o))return{data:{session:null,user:null},error:o};throw o}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async o=>{var l;if(!r){const{data:m,error:x}=o;if(x)throw x;r=(l=m.session)!==null&&l!==void 0?l:void 0}if(!(r!=null&&r.refresh_token))throw new Ei;const{session:u,error:h}=await this._callRefreshToken(r.refresh_token);return h?{data:{user:null,session:null},error:h}:u?{data:{user:u.user,session:u},error:null}:{data:{user:null,session:null},error:null}})}catch(o){if(Re(o))return{data:{user:null,session:null},error:o};throw o}}async _getSessionFromURL(r,o){try{if(!Vn())throw new au("No browser detected.");if(r.error||r.error_description||r.error_code)throw new au(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(o){case"implicit":if(this.flowType==="pkce")throw new ep("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new au("Not a valid implicit grant flow url.");break;default:}if(o==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new ep("No code detected.");const{data:G,error:H}=await this._exchangeCodeForSession(r.code);if(H)throw H;const te=new URL(window.location.href);return te.searchParams.delete("code"),window.history.replaceState(window.history.state,"",te.toString()),{data:{session:G.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:u,access_token:h,refresh_token:m,expires_in:x,expires_at:_,token_type:w}=r;if(!h||!x||!m||!w)throw new au("No session defined in URL");const k=Math.round(Date.now()/1e3),E=parseInt(x);let T=k+E;_&&(T=parseInt(_));const A=T-k;A*1e3<=ps&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${E}s`);const C=T-E;k-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,T,k):k-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,T,k);const{data:I,error:N}=await this._getUser(h);if(N)throw N;const K={provider_token:l,provider_refresh_token:u,access_token:h,expires_in:E,expires_at:T,refresh_token:m,token_type:w,user:I.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:K,redirectType:r.type},error:null}}catch(l){if(Re(l))return{data:{session:null,redirectType:null},error:l};throw l}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const o=await io(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&o)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async o=>{var l;const{data:u,error:h}=o;if(h)return{error:h};const m=(l=u.session)===null||l===void 0?void 0:l.access_token;if(m){const{error:x}=await this.admin.signOut(m,r);if(x&&!(K0(x)&&(x.status===404||x.status===401||x.status===403)))return{error:x}}return r!=="others"&&(await this._removeSession(),await bi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const o=sy(),l={id:o,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",o),this.stateChangeEmitters.delete(o)}};return this._debug("#onAuthStateChange()","registered callback with id",o),this.stateChangeEmitters.set(o,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(o)})))(),{data:{subscription:l}}}async _emitInitialSession(r){return await this._useSession(async o=>{var l,u;try{const{data:{session:h},error:m}=o;if(m)throw m;await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",r,"session",h)}catch(h){await((u=this.stateChangeEmitters.get(r))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",h),console.error(h)}})}async resetPasswordForEmail(r,o={}){let l=null,u=null;this.flowType==="pkce"&&([l,u]=await ls(this.storage,this.storageKey,!0));try{return await He(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:o.captchaToken}},headers:this.headers,redirectTo:o.redirectTo})}catch(h){if(Re(h))return{data:null,error:h};throw h}}async getUserIdentities(){var r;try{const{data:o,error:l}=await this.getUser();if(l)throw l;return{data:{identities:(r=o.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(o){if(Re(o))return{data:null,error:o};throw o}}async linkIdentity(r){var o;try{const{data:l,error:u}=await this._useSession(async h=>{var m,x,_,w,k;const{data:E,error:T}=h;if(T)throw T;const A=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(m=r.options)===null||m===void 0?void 0:m.redirectTo,scopes:(x=r.options)===null||x===void 0?void 0:x.scopes,queryParams:(_=r.options)===null||_===void 0?void 0:_.queryParams,skipBrowserRedirect:!0});return await He(this.fetch,"GET",A,{headers:this.headers,jwt:(k=(w=E.session)===null||w===void 0?void 0:w.access_token)!==null&&k!==void 0?k:void 0})});if(u)throw u;return Vn()&&!(!((o=r.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(l==null?void 0:l.url),{data:{provider:r.provider,url:l==null?void 0:l.url},error:null}}catch(l){if(Re(l))return{data:{provider:r.provider,url:null},error:l};throw l}}async unlinkIdentity(r){try{return await this._useSession(async o=>{var l,u;const{data:h,error:m}=o;if(m)throw m;return await He(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(u=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})})}catch(o){if(Re(o))return{data:null,error:o};throw o}}async _refreshAccessToken(r){const o=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(o,"begin");try{const l=Date.now();return await cy(async u=>(u>0&&await uy(200*Math.pow(2,u-1)),this._debug(o,"refreshing attempt",u),await He(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Nr})),(u,h)=>{const m=200*Math.pow(2,u);return h&&td(h)&&Date.now()+m-l<ps})}catch(l){if(this._debug(o,"error",l),Re(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(o,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,o){const l=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:o.redirectTo,scopes:o.scopes,queryParams:o.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",o,"url",l),Vn()&&!o.skipBrowserRedirect&&window.location.assign(l),{data:{provider:r,url:l},error:null}}async _recoverAndRefresh(){var r,o;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const u=await io(this.storage,this.storageKey);if(u&&this.userStorage){let m=await io(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!m&&(m={user:u.user},await ms(this.userStorage,this.storageKey+"-user",m)),u.user=(r=m==null?void 0:m.user)!==null&&r!==void 0?r:rd()}else if(u&&!u.user&&!u.user){const m=await io(this.storage,this.storageKey+"-user");m&&(m!=null&&m.user)?(u.user=m.user,await bi(this.storage,this.storageKey+"-user"),await ms(this.storage,this.storageKey,u)):u.user=rd()}if(this._debug(l,"session from storage",u),!this._isValidSession(u)){this._debug(l,"session is not valid"),u!==null&&await this._removeSession();return}const h=((o=u.expires_at)!==null&&o!==void 0?o:1/0)*1e3-Date.now()<ed;if(this._debug(l,`session has${h?"":" not"} expired with margin of ${ed}s`),h){if(this.autoRefreshToken&&u.refresh_token){const{error:m}=await this._callRefreshToken(u.refresh_token);m&&(console.error(m),td(m)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",m),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:m,error:x}=await this._getUser(u.access_token);!x&&(m!=null&&m.user)?(u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(m){console.error("Error getting user data:",m),this._debug(l,"error getting user data, skipping SIGNED_IN notification",m)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(l,"error",u),console.error(u);return}finally{this._debug(l,"end")}}async _callRefreshToken(r){var o,l;if(!r)throw new Ei;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new mu;const{data:h,error:m}=await this._refreshAccessToken(r);if(m)throw m;if(!h.session)throw new Ei;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const x={session:h.session,error:null};return this.refreshingDeferred.resolve(x),x}catch(h){if(this._debug(u,"error",h),Re(h)){const m={session:null,error:h};return td(h)||await this._removeSession(),(o=this.refreshingDeferred)===null||o===void 0||o.resolve(m),m}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(h),h}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(r,o,l=!0){const u=`#_notifyAllSubscribers(${r})`;this._debug(u,"begin",o,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:r,session:o});const h=[],m=Array.from(this.stateChangeEmitters.values()).map(async x=>{try{await x.callback(r,o)}catch(_){h.push(_)}});if(await Promise.all(m),h.length>0){for(let x=0;x<h.length;x+=1)console.error(h[x]);throw h[0]}}finally{this._debug(u,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const o=Object.assign({},r),l=o.user&&o.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&o.user&&await ms(this.userStorage,this.storageKey+"-user",{user:o.user});const u=Object.assign({},o);delete u.user;const h=op(u);await ms(this.storage,this.storageKey,h)}else{const u=op(o);await ms(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),await bi(this.storage,this.storageKey),await bi(this.storage,this.storageKey+"-code-verifier"),await bi(this.storage,this.storageKey+"-user"),this.userStorage&&await bi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Vn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(o){console.error("removing visibilitychange callback failed",o)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),ps);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async o=>{const{data:{session:l}}=o;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-r)/ps);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${ps}ms, refresh threshold is ${yd} ticks`),u<=yd&&await this._callRefreshToken(l.refresh_token)})}catch(o){console.error("Auto refresh tick failed with error. This is likely a transient error.",o)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof rm)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const o=`#_onVisibilityChanged(${r})`;this._debug(o,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(o,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,o,l){const u=[`provider=${encodeURIComponent(o)}`];if(l!=null&&l.redirectTo&&u.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l!=null&&l.scopes&&u.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[h,m]=await ls(this.storage,this.storageKey),x=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(m)}`});u.push(x.toString())}if(l!=null&&l.queryParams){const h=new URLSearchParams(l.queryParams);u.push(h.toString())}return l!=null&&l.skipBrowserRedirect&&u.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${r}?${u.join("&")}`}async _unenroll(r){try{return await this._useSession(async o=>{var l;const{data:u,error:h}=o;return h?{data:null,error:h}:await He(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token})})}catch(o){if(Re(o))return{data:null,error:o};throw o}}async _enroll(r){try{return await this._useSession(async o=>{var l,u;const{data:h,error:m}=o;if(m)return{data:null,error:m};const x=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:_,error:w}=await He(this.fetch,"POST",`${this.url}/factors`,{body:x,headers:this.headers,jwt:(l=h==null?void 0:h.session)===null||l===void 0?void 0:l.access_token});return w?{data:null,error:w}:(r.factorType==="totp"&&(!((u=_==null?void 0:_.totp)===null||u===void 0)&&u.qr_code)&&(_.totp.qr_code=`data:image/svg+xml;utf-8,${_.totp.qr_code}`),{data:_,error:null})})}catch(o){if(Re(o))return{data:null,error:o};throw o}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async o=>{var l;const{data:u,error:h}=o;if(h)return{data:null,error:h};const{data:m,error:x}=await He(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token});return x?{data:null,error:x}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),{data:m,error:x})})}catch(o){if(Re(o))return{data:null,error:o};throw o}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async o=>{var l;const{data:u,error:h}=o;return h?{data:null,error:h}:await He(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token})})}catch(o){if(Re(o))return{data:null,error:o};throw o}})}async _challengeAndVerify(r){const{data:o,error:l}=await this._challenge({factorId:r.factorId});return l?{data:null,error:l}:await this._verify({factorId:r.factorId,challengeId:o.id,code:r.code})}async _listFactors(){const{data:{user:r},error:o}=await this.getUser();if(o)return{data:null,error:o};const l=(r==null?void 0:r.factors)||[],u=l.filter(m=>m.factor_type==="totp"&&m.status==="verified"),h=l.filter(m=>m.factor_type==="phone"&&m.status==="verified");return{data:{all:l,totp:u,phone:h},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var o,l;const{data:{session:u},error:h}=r;if(h)return{data:null,error:h};if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:m}=nd(u.access_token);let x=null;m.aal&&(x=m.aal);let _=x;((l=(o=u.user.factors)===null||o===void 0?void 0:o.filter(E=>E.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(_="aal2");const k=m.amr||[];return{data:{currentLevel:x,nextLevel:_,currentAuthenticationMethods:k},error:null}}))}async fetchJwk(r,o={keys:[]}){let l=o.keys.find(x=>x.kid===r);if(l)return l;const u=Date.now();if(l=this.jwks.keys.find(x=>x.kid===r),l&&this.jwks_cached_at+G0>u)return l;const{data:h,error:m}=await He(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(m)throw m;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=u,l=h.keys.find(x=>x.kid===r),!l)?null:l}async getClaims(r,o={}){try{let l=r;if(!l){const{data:A,error:C}=await this.getSession();if(C||!A.session)return{data:null,error:C};l=A.session.access_token}const{header:u,payload:h,signature:m,raw:{header:x,payload:_}}=nd(l);o!=null&&o.allowExpired||vy(h.exp);const w=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,o!=null&&o.keys?{keys:o.keys}:o==null?void 0:o.jwks);if(!w){const{error:A}=await this.getUser(l);if(A)throw A;return{data:{claims:h,header:u,signature:m},error:null}}const k=yy(u.alg),E=await crypto.subtle.importKey("jwk",w,k,!0,["verify"]);if(!await crypto.subtle.verify(k,E,m,ry(`${x}.${_}`)))throw new wd("Invalid JWT signature");return{data:{claims:h,header:u,signature:m},error:null}}catch(l){if(Re(l))return{data:null,error:l};throw l}}}Ca.nextInstanceID=0;const Ay=Ca;class Ry extends Ay{constructor(r){super(r)}}var zy=function(a,r,o,l){function u(h){return h instanceof o?h:new o(function(m){m(h)})}return new(o||(o=Promise))(function(h,m){function x(k){try{w(l.next(k))}catch(E){m(E)}}function _(k){try{w(l.throw(k))}catch(E){m(E)}}function w(k){k.done?h(k.value):u(k.value).then(x,_)}w((l=l.apply(a,r||[])).next())})};class Ny{constructor(r,o,l){var u,h,m;if(this.supabaseUrl=r,this.supabaseKey=o,!r)throw new Error("supabaseUrl is required.");if(!o)throw new Error("supabaseKey is required.");const x=U0(r),_=new URL(x);this.realtimeUrl=new URL("realtime/v1",_),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",_),this.storageUrl=new URL("storage/v1",_),this.functionsUrl=new URL("functions/v1",_);const w=`sb-${_.hostname.split(".")[0]}-auth-token`,k={db:M0,realtime:R0,auth:Object.assign(Object.assign({},A0),{storageKey:w}),global:I0},E=$0(l??{},k);this.storageKey=(u=E.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(h=E.global.headers)!==null&&h!==void 0?h:{},E.accessToken?(this.accessToken=E.accessToken,this.auth=new Proxy({},{get:(T,A)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(A)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((m=E.auth)!==null&&m!==void 0?m:{},this.headers,E.global.fetch),this.fetch=F0(o,this._getAccessToken.bind(this),E.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},E.realtime)),this.rest=new t0(new URL("rest/v1",_).href,{headers:this.headers,schema:E.db.schema,fetch:this.fetch}),E.accessToken||this._listenForAuthEvents()}get functions(){return new Wv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new L0(this.storageUrl.href,this.headers,this.fetch)}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,o={},l={}){return this.rest.rpc(r,o,l)}channel(r,o={config:{}}){return this.realtime.channel(r,o)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,o;return zy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:l}=yield this.auth.getSession();return(o=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:null})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:o,detectSessionInUrl:l,storage:u,storageKey:h,flowType:m,lock:x,debug:_},w,k){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ry({url:this.authUrl.href,headers:Object.assign(Object.assign({},E),w),storageKey:h,autoRefreshToken:r,persistSession:o,detectSessionInUrl:l,storage:u,flowType:m,lock:x,debug:_,fetch:k,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(r){return new g0(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((o,l)=>{this._handleTokenChanged(o,"CLIENT",l==null?void 0:l.access_token)})}_handleTokenChanged(r,o,l){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==l?this.changedAccessToken=l:r==="SIGNED_OUT"&&(this.realtime.setAuth(),o=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Dy=(a,r,o)=>new Ny(a,r,o),Fy="https://qbdofilxcfnxhaimuilu.supabase.co",By="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFiZG9maWx4Y2ZueGhhaW11aWx1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMwMTEzOTEsImV4cCI6MjA2ODU4NzM5MX0.4s_8p_jMPfL-TWqPqzX26ca-GkuEFBX1KbJmKy8RieI",Kn=Dy(Fy,By),Uy={async getFamousPlaces(){const{data:a,error:r}=await Kn.from("famous_places").select("*");return r?(console.error("Erro ao buscar lugares famosos:",r),[]):a.map(o=>({id:o.id,name:o.name,description:o.description,latitude:o.latitude,longitude:o.longitude,category:o.category,address:o.address,imageUrl:o.image_url&&o.image_url!==""?o.image_url:"https://via.placeholder.com/56"}))||[]}},uo={async getTopPlayers(a=10){const{data:r,error:o}=await Kn.from("ranking").select("*").order("score",{ascending:!1}).limit(a);return o?(console.error("Erro ao buscar ranking:",o),[]):r||[]},async addScore(a){const{error:r}=await Kn.from("ranking").insert([a]);return r?(console.error("Erro ao adicionar pontuação:",r),!1):!0},async getPlayerPosition(a,r){const{data:o,error:l}=await Kn.from("ranking").select("score").order("score",{ascending:!1});if(l)return console.error("Erro ao buscar posição:",l),-1;const u=(o==null?void 0:o.findIndex(h=>h.score<=r))+1;return u>0?u:((o==null?void 0:o.length)||0)+1},async getPlayerStats(a){const{data:r,error:o}=await Kn.from("ranking").select("*").eq("player_name",a).order("score",{ascending:!1}).limit(1).single();return o?(console.error("Erro ao buscar estatísticas do jogador:",o),null):r}};function im(a,r){const o=P.useRef(r);P.useEffect(function(){r!==o.current&&a.attributionControl!=null&&(o.current!=null&&a.attributionControl.removeAttribution(o.current),r!=null&&a.attributionControl.addAttribution(r)),o.current=r},[a,r])}const $y=1;function Wy(a){return Object.freeze({__version:$y,map:a})}function Dd(a,r){return Object.freeze({...a,...r})}const om=P.createContext(null),sm=om.Provider;function gu(){const a=P.useContext(om);if(a==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return a}function am(a){function r(o,l){const{instance:u,context:h}=a(o).current;return P.useImperativeHandle(l,()=>u),o.children==null?null:cd.createElement(sm,{value:h},o.children)}return P.forwardRef(r)}function Hy(a){function r(o,l){const[u,h]=P.useState(!1),{instance:m}=a(o,h).current;P.useImperativeHandle(l,()=>m),P.useEffect(function(){u&&m.update()},[m,u,o.children]);const x=m._contentNode;return x?Nv.createPortal(o.children,x):null}return P.forwardRef(r)}function Zy(a){function r(o,l){const{instance:u}=a(o).current;return P.useImperativeHandle(l,()=>u),null}return P.forwardRef(r)}function Fd(a,r){const o=P.useRef();P.useEffect(function(){return r!=null&&a.instance.on(r),o.current=r,function(){o.current!=null&&a.instance.off(o.current),o.current=null}},[a,r])}function vu(a,r){const o=a.pane??r.pane;return o?{...a,pane:o}:a}function Vy(a,r){return function(l,u){const h=gu(),m=a(vu(l,h),h);return im(h.map,l.attribution),Fd(m.current,l.eventHandlers),r(m.current,h,l,u),m}}var ba={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Gy=ba.exports,cp;function qy(){return cp||(cp=1,function(a,r){(function(o,l){l(r)})(Gy,function(o){var l="1.9.4";function u(t){var i,c,f,y;for(c=1,f=arguments.length;c<f;c++){y=arguments[c];for(i in y)t[i]=y[i]}return t}var h=Object.create||function(){function t(){}return function(i){return t.prototype=i,new t}}();function m(t,i){var c=Array.prototype.slice;if(t.bind)return t.bind.apply(t,c.call(arguments,1));var f=c.call(arguments,2);return function(){return t.apply(i,f.length?f.concat(c.call(arguments)):arguments)}}var x=0;function _(t){return"_leaflet_id"in t||(t._leaflet_id=++x),t._leaflet_id}function w(t,i,c){var f,y,b,O;return O=function(){f=!1,y&&(b.apply(c,y),y=!1)},b=function(){f?y=arguments:(t.apply(c,arguments),setTimeout(O,i),f=!0)},b}function k(t,i,c){var f=i[1],y=i[0],b=f-y;return t===f&&c?t:((t-y)%b+b)%b+y}function E(){return!1}function T(t,i){if(i===!1)return t;var c=Math.pow(10,i===void 0?6:i);return Math.round(t*c)/c}function A(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function C(t){return A(t).split(/\s+/)}function I(t,i){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?h(t.options):{});for(var c in i)t.options[c]=i[c];return t.options}function N(t,i,c){var f=[];for(var y in t)f.push(encodeURIComponent(c?y.toUpperCase():y)+"="+encodeURIComponent(t[y]));return(!i||i.indexOf("?")===-1?"?":"&")+f.join("&")}var K=/\{ *([\w_ -]+) *\}/g;function G(t,i){return t.replace(K,function(c,f){var y=i[f];if(y===void 0)throw new Error("No value provided for variable "+c);return typeof y=="function"&&(y=y(i)),y})}var H=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function te(t,i){for(var c=0;c<t.length;c++)if(t[c]===i)return c;return-1}var ue="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ae(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var J=0;function ve(t){var i=+new Date,c=Math.max(0,16-(i-J));return J=i+c,window.setTimeout(t,c)}var re=window.requestAnimationFrame||ae("RequestAnimationFrame")||ve,xe=window.cancelAnimationFrame||ae("CancelAnimationFrame")||ae("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function Pe(t,i,c){if(c&&re===ve)t.call(i);else return re.call(window,m(t,i))}function le(t){t&&xe.call(window,t)}var ze={__proto__:null,extend:u,create:h,bind:m,get lastId(){return x},stamp:_,throttle:w,wrapNum:k,falseFn:E,formatNum:T,trim:A,splitWords:C,setOptions:I,getParamString:N,template:G,isArray:H,indexOf:te,emptyImageUrl:ue,requestFn:re,cancelFn:xe,requestAnimFrame:Pe,cancelAnimFrame:le};function $e(){}$e.extend=function(t){var i=function(){I(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=i.__super__=this.prototype,f=h(c);f.constructor=i,i.prototype=f;for(var y in this)Object.prototype.hasOwnProperty.call(this,y)&&y!=="prototype"&&y!=="__super__"&&(i[y]=this[y]);return t.statics&&u(i,t.statics),t.includes&&(Fe(t.includes),u.apply(null,[f].concat(t.includes))),u(f,t),delete f.statics,delete f.includes,f.options&&(f.options=c.options?h(c.options):{},u(f.options,t.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var b=0,O=f._initHooks.length;b<O;b++)f._initHooks[b].call(this)}},i},$e.include=function(t){var i=this.prototype.options;return u(this.prototype,t),t.options&&(this.prototype.options=i,this.mergeOptions(t.options)),this},$e.mergeOptions=function(t){return u(this.prototype.options,t),this},$e.addInitHook=function(t){var i=Array.prototype.slice.call(arguments,1),c=typeof t=="function"?t:function(){this[t].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function Fe(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=H(t)?t:[t];for(var i=0;i<t.length;i++)t[i]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var _e={on:function(t,i,c){if(typeof t=="object")for(var f in t)this._on(f,t[f],i);else{t=C(t);for(var y=0,b=t.length;y<b;y++)this._on(t[y],i,c)}return this},off:function(t,i,c){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var f in t)this._off(f,t[f],i);else{t=C(t);for(var y=arguments.length===1,b=0,O=t.length;b<O;b++)y?this._off(t[b]):this._off(t[b],i,c)}return this},_on:function(t,i,c,f){if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}if(this._listens(t,i,c)===!1){c===this&&(c=void 0);var y={fn:i,ctx:c};f&&(y.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(y)}},_off:function(t,i,c){var f,y,b;if(this._events&&(f=this._events[t],!!f)){if(arguments.length===1){if(this._firingCount)for(y=0,b=f.length;y<b;y++)f[y].fn=E;delete this._events[t];return}if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}var O=this._listens(t,i,c);if(O!==!1){var D=f[O];this._firingCount&&(D.fn=E,this._events[t]=f=f.slice()),f.splice(O,1)}}},fire:function(t,i,c){if(!this.listens(t,c))return this;var f=u({},i,{type:t,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var y=this._events[t];if(y){this._firingCount=this._firingCount+1||1;for(var b=0,O=y.length;b<O;b++){var D=y[b],$=D.fn;D.once&&this.off(t,$,D.ctx),$.call(D.ctx||this,f)}this._firingCount--}}return c&&this._propagateEvent(f),this},listens:function(t,i,c,f){typeof t!="string"&&console.warn('"string" type argument expected');var y=i;typeof i!="function"&&(f=!!i,y=void 0,c=void 0);var b=this._events&&this._events[t];if(b&&b.length&&this._listens(t,y,c)!==!1)return!0;if(f){for(var O in this._eventParents)if(this._eventParents[O].listens(t,i,c,f))return!0}return!1},_listens:function(t,i,c){if(!this._events)return!1;var f=this._events[t]||[];if(!i)return!!f.length;c===this&&(c=void 0);for(var y=0,b=f.length;y<b;y++)if(f[y].fn===i&&f[y].ctx===c)return y;return!1},once:function(t,i,c){if(typeof t=="object")for(var f in t)this._on(f,t[f],i,!0);else{t=C(t);for(var y=0,b=t.length;y<b;y++)this._on(t[y],i,c,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[_(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[_(t)],this},_propagateEvent:function(t){for(var i in this._eventParents)this._eventParents[i].fire(t.type,u({layer:t.target,propagatedFrom:t.target},t),!0)}};_e.addEventListener=_e.on,_e.removeEventListener=_e.clearAllEventListeners=_e.off,_e.addOneTimeEventListener=_e.once,_e.fireEvent=_e.fire,_e.hasEventListeners=_e.listens;var je=$e.extend(_e);function U(t,i,c){this.x=c?Math.round(t):t,this.y=c?Math.round(i):i}var oe=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};U.prototype={clone:function(){return new U(this.x,this.y)},add:function(t){return this.clone()._add(q(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(q(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new U(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new U(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=oe(this.x),this.y=oe(this.y),this},distanceTo:function(t){t=q(t);var i=t.x-this.x,c=t.y-this.y;return Math.sqrt(i*i+c*c)},equals:function(t){return t=q(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=q(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+T(this.x)+", "+T(this.y)+")"}};function q(t,i,c){return t instanceof U?t:H(t)?new U(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new U(t.x,t.y):new U(t,i,c)}function M(t,i){if(t)for(var c=i?[t,i]:t,f=0,y=c.length;f<y;f++)this.extend(c[f])}M.prototype={extend:function(t){var i,c;if(!t)return this;if(t instanceof U||typeof t[0]=="number"||"x"in t)i=c=q(t);else if(t=V(t),i=t.min,c=t.max,!i||!c)return this;return!this.min&&!this.max?(this.min=i.clone(),this.max=c.clone()):(this.min.x=Math.min(i.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(i.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(t){return q((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return q(this.min.x,this.max.y)},getTopRight:function(){return q(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var i,c;return typeof t[0]=="number"||t instanceof U?t=q(t):t=V(t),t instanceof M?(i=t.min,c=t.max):i=c=t,i.x>=this.min.x&&c.x<=this.max.x&&i.y>=this.min.y&&c.y<=this.max.y},intersects:function(t){t=V(t);var i=this.min,c=this.max,f=t.min,y=t.max,b=y.x>=i.x&&f.x<=c.x,O=y.y>=i.y&&f.y<=c.y;return b&&O},overlaps:function(t){t=V(t);var i=this.min,c=this.max,f=t.min,y=t.max,b=y.x>i.x&&f.x<c.x,O=y.y>i.y&&f.y<c.y;return b&&O},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var i=this.min,c=this.max,f=Math.abs(i.x-c.x)*t,y=Math.abs(i.y-c.y)*t;return V(q(i.x-f,i.y-y),q(c.x+f,c.y+y))},equals:function(t){return t?(t=V(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function V(t,i){return!t||t instanceof M?t:new M(t,i)}function Z(t,i){if(t)for(var c=i?[t,i]:t,f=0,y=c.length;f<y;f++)this.extend(c[f])}Z.prototype={extend:function(t){var i=this._southWest,c=this._northEast,f,y;if(t instanceof se)f=t,y=t;else if(t instanceof Z){if(f=t._southWest,y=t._northEast,!f||!y)return this}else return t?this.extend(ie(t)||de(t)):this;return!i&&!c?(this._southWest=new se(f.lat,f.lng),this._northEast=new se(y.lat,y.lng)):(i.lat=Math.min(f.lat,i.lat),i.lng=Math.min(f.lng,i.lng),c.lat=Math.max(y.lat,c.lat),c.lng=Math.max(y.lng,c.lng)),this},pad:function(t){var i=this._southWest,c=this._northEast,f=Math.abs(i.lat-c.lat)*t,y=Math.abs(i.lng-c.lng)*t;return new Z(new se(i.lat-f,i.lng-y),new se(c.lat+f,c.lng+y))},getCenter:function(){return new se((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new se(this.getNorth(),this.getWest())},getSouthEast:function(){return new se(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof se||"lat"in t?t=ie(t):t=de(t);var i=this._southWest,c=this._northEast,f,y;return t instanceof Z?(f=t.getSouthWest(),y=t.getNorthEast()):f=y=t,f.lat>=i.lat&&y.lat<=c.lat&&f.lng>=i.lng&&y.lng<=c.lng},intersects:function(t){t=de(t);var i=this._southWest,c=this._northEast,f=t.getSouthWest(),y=t.getNorthEast(),b=y.lat>=i.lat&&f.lat<=c.lat,O=y.lng>=i.lng&&f.lng<=c.lng;return b&&O},overlaps:function(t){t=de(t);var i=this._southWest,c=this._northEast,f=t.getSouthWest(),y=t.getNorthEast(),b=y.lat>i.lat&&f.lat<c.lat,O=y.lng>i.lng&&f.lng<c.lng;return b&&O},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,i){return t?(t=de(t),this._southWest.equals(t.getSouthWest(),i)&&this._northEast.equals(t.getNorthEast(),i)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function de(t,i){return t instanceof Z?t:new Z(t,i)}function se(t,i,c){if(isNaN(t)||isNaN(i))throw new Error("Invalid LatLng object: ("+t+", "+i+")");this.lat=+t,this.lng=+i,c!==void 0&&(this.alt=+c)}se.prototype={equals:function(t,i){if(!t)return!1;t=ie(t);var c=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return c<=(i===void 0?1e-9:i)},toString:function(t){return"LatLng("+T(this.lat,t)+", "+T(this.lng,t)+")"},distanceTo:function(t){return ke.distance(this,ie(t))},wrap:function(){return ke.wrapLatLng(this)},toBounds:function(t){var i=180*t/40075017,c=i/Math.cos(Math.PI/180*this.lat);return de([this.lat-i,this.lng-c],[this.lat+i,this.lng+c])},clone:function(){return new se(this.lat,this.lng,this.alt)}};function ie(t,i,c){return t instanceof se?t:H(t)&&typeof t[0]!="object"?t.length===3?new se(t[0],t[1],t[2]):t.length===2?new se(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new se(t.lat,"lng"in t?t.lng:t.lon,t.alt):i===void 0?null:new se(t,i,c)}var we={latLngToPoint:function(t,i){var c=this.projection.project(t),f=this.scale(i);return this.transformation._transform(c,f)},pointToLatLng:function(t,i){var c=this.scale(i),f=this.transformation.untransform(t,c);return this.projection.unproject(f)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var i=this.projection.bounds,c=this.scale(t),f=this.transformation.transform(i.min,c),y=this.transformation.transform(i.max,c);return new M(f,y)},infinite:!1,wrapLatLng:function(t){var i=this.wrapLng?k(t.lng,this.wrapLng,!0):t.lng,c=this.wrapLat?k(t.lat,this.wrapLat,!0):t.lat,f=t.alt;return new se(c,i,f)},wrapLatLngBounds:function(t){var i=t.getCenter(),c=this.wrapLatLng(i),f=i.lat-c.lat,y=i.lng-c.lng;if(f===0&&y===0)return t;var b=t.getSouthWest(),O=t.getNorthEast(),D=new se(b.lat-f,b.lng-y),$=new se(O.lat-f,O.lng-y);return new Z(D,$)}},ke=u({},we,{wrapLng:[-180,180],R:6371e3,distance:function(t,i){var c=Math.PI/180,f=t.lat*c,y=i.lat*c,b=Math.sin((i.lat-t.lat)*c/2),O=Math.sin((i.lng-t.lng)*c/2),D=b*b+Math.cos(f)*Math.cos(y)*O*O,$=2*Math.atan2(Math.sqrt(D),Math.sqrt(1-D));return this.R*$}}),Oe=6378137,qe={R:Oe,MAX_LATITUDE:85.0511287798,project:function(t){var i=Math.PI/180,c=this.MAX_LATITUDE,f=Math.max(Math.min(c,t.lat),-c),y=Math.sin(f*i);return new U(this.R*t.lng*i,this.R*Math.log((1+y)/(1-y))/2)},unproject:function(t){var i=180/Math.PI;return new se((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*i,t.x*i/this.R)},bounds:function(){var t=Oe*Math.PI;return new M([-t,-t],[t,t])}()};function ut(t,i,c,f){if(H(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=i,this._c=c,this._d=f}ut.prototype={transform:function(t,i){return this._transform(t.clone(),i)},_transform:function(t,i){return i=i||1,t.x=i*(this._a*t.x+this._b),t.y=i*(this._c*t.y+this._d),t},untransform:function(t,i){return i=i||1,new U((t.x/i-this._b)/this._a,(t.y/i-this._d)/this._c)}};function zt(t,i,c,f){return new ut(t,i,c,f)}var Lt=u({},ke,{code:"EPSG:3857",projection:qe,transformation:function(){var t=.5/(Math.PI*qe.R);return zt(t,.5,-t,.5)}()}),xt=u({},Lt,{code:"EPSG:900913"});function Ne(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function De(t,i){var c="",f,y,b,O,D,$;for(f=0,b=t.length;f<b;f++){for(D=t[f],y=0,O=D.length;y<O;y++)$=D[y],c+=(y?"L":"M")+$.x+" "+$.y;c+=i?ge.svg?"z":"x":""}return c||"M0 0"}var Ye=document.documentElement.style,Ke="ActiveXObject"in window,Qe=Ke&&!document.addEventListener,tt="msLaunchUri"in navigator&&!("documentMode"in document),ct=Bt("webkit"),jt=Bt("android"),cn=Bt("android 2")||Bt("android 3"),gt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Nt=jt&&Bt("Google")&&gt<537&&!("AudioNode"in window),Jn=!!window.opera,fr=!tt&&Bt("chrome"),Yn=Bt("gecko")&&!ct&&!Jn&&!Ke,za=!fr&&Bt("safari"),Wr=Bt("phantom"),Hr="OTransition"in Ye,wu=navigator.platform.indexOf("Win")===0,bs=Ke&&"transition"in Ye,fo="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!cn,Na="MozPerspective"in Ye,Es=!window.L_DISABLE_3D&&(bs||fo||Na)&&!Hr&&!Wr,pr=typeof orientation<"u"||Bt("mobile"),Ps=pr&&ct,Ts=pr&&fo,po=!window.PointerEvent&&window.MSPointerEvent,mr=!!(window.PointerEvent||po),gr="ontouchstart"in window||!!window.TouchEvent,Da=!window.L_NO_TOUCH&&(gr||mr),Fa=pr&&Jn,Ba=pr&&Yn,Ua=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,$a=function(){var t=!1;try{var i=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",E,i),window.removeEventListener("testPassiveEventSupport",E,i)}catch{}return t}(),Cs=function(){return!!document.createElement("canvas").getContext}(),mo=!!(document.createElementNS&&Ne("svg").createSVGRect),Li=!!mo&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ls=!mo&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var i=t.firstChild;return i.style.behavior="url(#default#VML)",i&&typeof i.adj=="object"}catch{return!1}}(),ji=navigator.platform.indexOf("Mac")===0,Su=navigator.platform.indexOf("Linux")===0;function Bt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var ge={ie:Ke,ielt9:Qe,edge:tt,webkit:ct,android:jt,android23:cn,androidStock:Nt,opera:Jn,chrome:fr,gecko:Yn,safari:za,phantom:Wr,opera12:Hr,win:wu,ie3d:bs,webkit3d:fo,gecko3d:Na,any3d:Es,mobile:pr,mobileWebkit:Ps,mobileWebkit3d:Ts,msPointer:po,pointer:mr,touch:Da,touchNative:gr,mobileOpera:Fa,mobileGecko:Ba,retina:Ua,passiveEvents:$a,canvas:Cs,svg:mo,vml:Ls,inlineSvg:Li,mac:ji,linux:Su},Oi=ge.msPointer?"MSPointerDown":"pointerdown",go=ge.msPointer?"MSPointerMove":"pointermove",Wa=ge.msPointer?"MSPointerUp":"pointerup",Ha=ge.msPointer?"MSPointerCancel":"pointercancel",js={touchstart:Oi,touchmove:go,touchend:Wa,touchcancel:Ha},Qn={touchstart:dt,touchmove:vo,touchend:vo,touchcancel:vo},vr={},Os=!1;function ku(t,i,c){return i==="touchstart"&&bu(),Qn[i]?(c=Qn[i].bind(this,c),t.addEventListener(js[i],c,!1),c):(console.warn("wrong event specified:",i),E)}function Za(t,i,c){if(!js[i]){console.warn("wrong event specified:",i);return}t.removeEventListener(js[i],c,!1)}function Va(t){vr[t.pointerId]=t}function Ga(t){vr[t.pointerId]&&(vr[t.pointerId]=t)}function Is(t){delete vr[t.pointerId]}function bu(){Os||(document.addEventListener(Oi,Va,!0),document.addEventListener(go,Ga,!0),document.addEventListener(Wa,Is,!0),document.addEventListener(Ha,Is,!0),Os=!0)}function vo(t,i){if(i.pointerType!==(i.MSPOINTER_TYPE_MOUSE||"mouse")){i.touches=[];for(var c in vr)i.touches.push(vr[c]);i.changedTouches=[i],t(i)}}function dt(t,i){i.MSPOINTER_TYPE_TOUCH&&i.pointerType===i.MSPOINTER_TYPE_TOUCH&&ht(i),vo(t,i)}function Eu(t){var i={},c,f;for(f in t)c=t[f],i[f]=c&&c.bind?c.bind(t):c;return t=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var Ms=200;function qa(t,i){t.addEventListener("dblclick",i);var c=0,f;function y(b){if(b.detail!==1){f=b.detail;return}if(!(b.pointerType==="mouse"||b.sourceCapabilities&&!b.sourceCapabilities.firesTouchEvents)){var O=xr(b);if(!(O.some(function($){return $ instanceof HTMLLabelElement&&$.attributes.for})&&!O.some(function($){return $ instanceof HTMLInputElement||$ instanceof HTMLSelectElement}))){var D=Date.now();D-c<=Ms?(f++,f===2&&i(Eu(b))):f=1,c=D}}}return t.addEventListener("click",y),{dblclick:i,simDblclick:y}}function yo(t,i){t.removeEventListener("dblclick",i.dblclick),t.removeEventListener("click",i.simDblclick)}var As=qr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Zr=qr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ii=Zr==="webkitTransition"||Zr==="OTransition"?Zr+"End":"transitionend";function dn(t){return typeof t=="string"?document.getElementById(t):t}function Mi(t,i){var c=t.style[i]||t.currentStyle&&t.currentStyle[i];if((!c||c==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(t,null);c=f?f[i]:null}return c==="auto"?null:c}function Me(t,i,c){var f=document.createElement(t);return f.className=i||"",c&&c.appendChild(f),f}function ot(t){var i=t.parentNode;i&&i.removeChild(t)}function _o(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Vr(t){var i=t.parentNode;i&&i.lastChild!==t&&i.appendChild(t)}function Rn(t){var i=t.parentNode;i&&i.firstChild!==t&&i.insertBefore(t,i.firstChild)}function Gr(t,i){if(t.classList!==void 0)return t.classList.contains(i);var c=xo(t);return c.length>0&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(c)}function Le(t,i){if(t.classList!==void 0)for(var c=C(i),f=0,y=c.length;f<y;f++)t.classList.add(c[f]);else if(!Gr(t,i)){var b=xo(t);Rs(t,(b?b+" ":"")+i)}}function nt(t,i){t.classList!==void 0?t.classList.remove(i):Rs(t,A((" "+xo(t)+" ").replace(" "+i+" "," ")))}function Rs(t,i){t.className.baseVal===void 0?t.className=i:t.className.baseVal=i}function xo(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Ut(t,i){"opacity"in t.style?t.style.opacity=i:"filter"in t.style&&Ka(t,i)}function Ka(t,i){var c=!1,f="DXImageTransform.Microsoft.Alpha";try{c=t.filters.item(f)}catch{if(i===1)return}i=Math.round(i*100),c?(c.Enabled=i!==100,c.Opacity=i):t.style.filter+=" progid:"+f+"(opacity="+i+")"}function qr(t){for(var i=document.documentElement.style,c=0;c<t.length;c++)if(t[c]in i)return t[c];return!1}function hn(t,i,c){var f=i||new U(0,0);t.style[As]=(ge.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(c?" scale("+c+")":"")}function vt(t,i){t._leaflet_pos=i,ge.any3d?hn(t,i):(t.style.left=i.x+"px",t.style.top=i.y+"px")}function zn(t){return t._leaflet_pos||new U(0,0)}var Ze,Kr,wo;if("onselectstart"in document)Ze=function(){Te(window,"selectstart",ht)},Kr=function(){Xe(window,"selectstart",ht)};else{var yr=qr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ze=function(){if(yr){var t=document.documentElement.style;wo=t[yr],t[yr]="none"}},Kr=function(){yr&&(document.documentElement.style[yr]=wo,wo=void 0)}}function So(){Te(window,"dragstart",ht)}function ko(){Xe(window,"dragstart",ht)}var Ai,Ri;function Jr(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(fn(),Ai=t,Ri=t.style.outlineStyle,t.style.outlineStyle="none",Te(window,"keydown",fn))}function fn(){Ai&&(Ai.style.outlineStyle=Ri,Ai=void 0,Ri=void 0,Xe(window,"keydown",fn))}function Nn(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Sn(t){var i=t.getBoundingClientRect();return{x:i.width/t.offsetWidth||1,y:i.height/t.offsetHeight||1,boundingClientRect:i}}var zi={__proto__:null,TRANSFORM:As,TRANSITION:Zr,TRANSITION_END:Ii,get:dn,getStyle:Mi,create:Me,remove:ot,empty:_o,toFront:Vr,toBack:Rn,hasClass:Gr,addClass:Le,removeClass:nt,setClass:Rs,getClass:xo,setOpacity:Ut,testProp:qr,setTransform:hn,setPosition:vt,getPosition:zn,get disableTextSelection(){return Ze},get enableTextSelection(){return Kr},disableImageDrag:So,enableImageDrag:ko,preventOutline:Jr,restoreOutline:fn,getSizedParentNode:Nn,getScale:Sn};function Te(t,i,c,f){if(i&&typeof i=="object")for(var y in i)Ns(t,y,i[y],c);else{i=C(i);for(var b=0,O=i.length;b<O;b++)Ns(t,i[b],c,f)}return this}var Et="_leaflet_events";function Xe(t,i,c,f){if(arguments.length===1)zs(t),delete t[Et];else if(i&&typeof i=="object")for(var y in i)bo(t,y,i[y],c);else if(i=C(i),arguments.length===2)zs(t,function(D){return te(i,D)!==-1});else for(var b=0,O=i.length;b<O;b++)bo(t,i[b],c,f);return this}function zs(t,i){for(var c in t[Et]){var f=c.split(/\d/)[0];(!i||i(f))&&bo(t,f,null,null,c)}}var _r={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ns(t,i,c,f){var y=i+_(c)+(f?"_"+_(f):"");if(t[Et]&&t[Et][y])return this;var b=function(D){return c.call(f||t,D||window.event)},O=b;!ge.touchNative&&ge.pointer&&i.indexOf("touch")===0?b=ku(t,i,b):ge.touch&&i==="dblclick"?b=qa(t,b):"addEventListener"in t?i==="touchstart"||i==="touchmove"||i==="wheel"||i==="mousewheel"?t.addEventListener(_r[i]||i,b,ge.passiveEvents?{passive:!1}:!1):i==="mouseenter"||i==="mouseleave"?(b=function(D){D=D||window.event,Fi(t,D)&&O(D)},t.addEventListener(_r[i],b,!1)):t.addEventListener(i,O,!1):t.attachEvent("on"+i,b),t[Et]=t[Et]||{},t[Et][y]=b}function bo(t,i,c,f,y){y=y||i+_(c)+(f?"_"+_(f):"");var b=t[Et]&&t[Et][y];if(!b)return this;!ge.touchNative&&ge.pointer&&i.indexOf("touch")===0?Za(t,i,b):ge.touch&&i==="dblclick"?yo(t,b):"removeEventListener"in t?t.removeEventListener(_r[i]||i,b,!1):t.detachEvent("on"+i,b),t[Et][y]=null}function kn(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Eo(t){return Ns(t,"wheel",kn),this}function Ni(t){return Te(t,"mousedown touchstart dblclick contextmenu",kn),t._leaflet_disable_click=!0,this}function ht(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function pn(t){return ht(t),kn(t),this}function xr(t){if(t.composedPath)return t.composedPath();for(var i=[],c=t.target;c;)i.push(c),c=c.parentNode;return i}function Di(t,i){if(!i)return new U(t.clientX,t.clientY);var c=Sn(i),f=c.boundingClientRect;return new U((t.clientX-f.left)/c.x-i.clientLeft,(t.clientY-f.top)/c.y-i.clientTop)}var Pu=ge.linux&&ge.chrome?window.devicePixelRatio:ge.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ja(t){return ge.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Pu:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function Fi(t,i){var c=i.relatedTarget;if(!c)return!0;try{for(;c&&c!==t;)c=c.parentNode}catch{return!1}return c!==t}var Po={__proto__:null,on:Te,off:Xe,stopPropagation:kn,disableScrollPropagation:Eo,disableClickPropagation:Ni,preventDefault:ht,stop:pn,getPropagationPath:xr,getMousePosition:Di,getWheelDelta:Ja,isExternalTarget:Fi,addListener:Te,removeListener:Xe},To=je.extend({run:function(t,i,c,f){this.stop(),this._el=t,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=zn(t),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Pe(this._animate,this),this._step()},_step:function(t){var i=+new Date-this._startTime,c=this._duration*1e3;i<c?this._runFrame(this._easeOut(i/c),t):(this._runFrame(1),this._complete())},_runFrame:function(t,i){var c=this._startPos.add(this._offset.multiplyBy(t));i&&c._round(),vt(this._el,c),this.fire("step")},_complete:function(){le(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),We=je.extend({options:{crs:Lt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,i){i=I(this,i),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),i.zoom!==void 0&&(this._zoom=this._limitZoom(i.zoom)),i.center&&i.zoom!==void 0&&this.setView(ie(i.center),i.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Zr&&ge.any3d&&!ge.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Te(this._proxy,Ii,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,i,c){if(i=i===void 0?this._zoom:this._limitZoom(i),t=this._limitCenter(ie(t),i,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=u({animate:c.animate},c.zoom),c.pan=u({animate:c.animate,duration:c.duration},c.pan));var f=this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,i,c.zoom):this._tryAnimatedPan(t,c.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(t,i,c.pan&&c.pan.noMoveStart),this},setZoom:function(t,i){return this._loaded?this.setView(this.getCenter(),t,{zoom:i}):(this._zoom=t,this)},zoomIn:function(t,i){return t=t||(ge.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,i)},zoomOut:function(t,i){return t=t||(ge.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,i)},setZoomAround:function(t,i,c){var f=this.getZoomScale(i),y=this.getSize().divideBy(2),b=t instanceof U?t:this.latLngToContainerPoint(t),O=b.subtract(y).multiplyBy(1-1/f),D=this.containerPointToLatLng(y.add(O));return this.setView(D,i,{zoom:c})},_getBoundsCenterZoom:function(t,i){i=i||{},t=t.getBounds?t.getBounds():de(t);var c=q(i.paddingTopLeft||i.padding||[0,0]),f=q(i.paddingBottomRight||i.padding||[0,0]),y=this.getBoundsZoom(t,!1,c.add(f));if(y=typeof i.maxZoom=="number"?Math.min(i.maxZoom,y):y,y===1/0)return{center:t.getCenter(),zoom:y};var b=f.subtract(c).divideBy(2),O=this.project(t.getSouthWest(),y),D=this.project(t.getNorthEast(),y),$=this.unproject(O.add(D).divideBy(2).add(b),y);return{center:$,zoom:y}},fitBounds:function(t,i){if(t=de(t),!t.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(t,i);return this.setView(c.center,c.zoom,i)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,i){return this.setView(t,this._zoom,{pan:i})},panBy:function(t,i){if(t=q(t).round(),i=i||{},!t.x&&!t.y)return this.fire("moveend");if(i.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new To,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire("movestart"),i.animate!==!1){Le(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,c,i.duration||.25,i.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,i,c){if(c=c||{},c.animate===!1||!ge.any3d)return this.setView(t,i,c);this._stop();var f=this.project(this.getCenter()),y=this.project(t),b=this.getSize(),O=this._zoom;t=ie(t),i=i===void 0?O:i;var D=Math.max(b.x,b.y),$=D*this.getZoomScale(O,i),Y=y.distanceTo(f)||1,ce=1.42,Se=ce*ce;function Ae(Je){var di=Je?-1:1,Bu=Je?$:D,Uu=$*$-D*D+di*Se*Se*Y*Y,Tr=2*Bu*Se*Y,Cr=Uu/Tr,Lr=Math.sqrt(Cr*Cr+1)-Cr,Uo=Lr<1e-9?-18:Math.log(Lr);return Uo}function Pt(Je){return(Math.exp(Je)-Math.exp(-Je))/2}function wt(Je){return(Math.exp(Je)+Math.exp(-Je))/2}function Yt(Je){return Pt(Je)/wt(Je)}var Wt=Ae(0);function ui(Je){return D*(wt(Wt)/wt(Wt+ce*Je))}function ia(Je){return D*(wt(Wt)*Yt(Wt+ce*Je)-Pt(Wt))/Se}function sr(Je){return 1-Math.pow(1-Je,1.5)}var vl=Date.now(),Pr=(Ae(1)-Wt)/ce,Tn=c.duration?1e3*c.duration:1e3*Pr*.8;function ci(){var Je=(Date.now()-vl)/Tn,di=sr(Je)*Pr;Je<=1?(this._flyToFrame=Pe(ci,this),this._move(this.unproject(f.add(y.subtract(f).multiplyBy(ia(di)/Y)),O),this.getScaleZoom(D/ui(di),O),{flyTo:!0})):this._move(t,i)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),ci.call(this),this},flyToBounds:function(t,i){var c=this._getBoundsCenterZoom(t,i);return this.flyTo(c.center,c.zoom,i)},setMaxBounds:function(t){return t=de(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var i=this.options.minZoom;return this.options.minZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var i=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,i){this._enforcingBounds=!0;var c=this.getCenter(),f=this._limitCenter(c,this._zoom,de(t));return c.equals(f)||this.panTo(f,i),this._enforcingBounds=!1,this},panInside:function(t,i){i=i||{};var c=q(i.paddingTopLeft||i.padding||[0,0]),f=q(i.paddingBottomRight||i.padding||[0,0]),y=this.project(this.getCenter()),b=this.project(t),O=this.getPixelBounds(),D=V([O.min.add(c),O.max.subtract(f)]),$=D.getSize();if(!D.contains(b)){this._enforcingBounds=!0;var Y=b.subtract(D.getCenter()),ce=D.extend(b).getSize().subtract($);y.x+=Y.x<0?-ce.x:ce.x,y.y+=Y.y<0?-ce.y:ce.y,this.panTo(this.unproject(y),i),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=u({animate:!1,pan:!0},t===!0?{animate:!0}:t);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),f=i.divideBy(2).round(),y=c.divideBy(2).round(),b=f.subtract(y);return!b.x&&!b.y?this:(t.animate&&t.pan?this.panBy(b):(t.pan&&this._rawPanBy(b),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=u({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=m(this._handleGeolocationResponse,this),c=m(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,c,t):navigator.geolocation.getCurrentPosition(i,c,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var i=t.code,c=t.message||(i===1?"permission denied":i===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:i,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var i=t.coords.latitude,c=t.coords.longitude,f=new se(i,c),y=f.toBounds(t.coords.accuracy*2),b=this._locateOptions;if(b.setView){var O=this.getBoundsZoom(y);this.setView(f,b.maxZoom?Math.min(O,b.maxZoom):O)}var D={latlng:f,bounds:y,timestamp:t.timestamp};for(var $ in t.coords)typeof t.coords[$]=="number"&&(D[$]=t.coords[$]);this.fire("locationfound",D)}},addHandler:function(t,i){if(!i)return this;var c=this[t]=new i(this);return this._handlers.push(c),this.options[t]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ot(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(le(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)ot(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,i){var c="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),f=Me("div",c,i||this._mapPane);return t&&(this._panes[t]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),i=this.unproject(t.getBottomLeft()),c=this.unproject(t.getTopRight());return new Z(i,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,i,c){t=de(t),c=q(c||[0,0]);var f=this.getZoom()||0,y=this.getMinZoom(),b=this.getMaxZoom(),O=t.getNorthWest(),D=t.getSouthEast(),$=this.getSize().subtract(c),Y=V(this.project(D,f),this.project(O,f)).getSize(),ce=ge.any3d?this.options.zoomSnap:1,Se=$.x/Y.x,Ae=$.y/Y.y,Pt=i?Math.max(Se,Ae):Math.min(Se,Ae);return f=this.getScaleZoom(Pt,f),ce&&(f=Math.round(f/(ce/100))*(ce/100),f=i?Math.ceil(f/ce)*ce:Math.floor(f/ce)*ce),Math.max(y,Math.min(b,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new U(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,i){var c=this._getTopLeftPoint(t,i);return new M(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,i){var c=this.options.crs;return i=i===void 0?this._zoom:i,c.scale(t)/c.scale(i)},getScaleZoom:function(t,i){var c=this.options.crs;i=i===void 0?this._zoom:i;var f=c.zoom(t*c.scale(i));return isNaN(f)?1/0:f},project:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.latLngToPoint(ie(t),i)},unproject:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.pointToLatLng(q(t),i)},layerPointToLatLng:function(t){var i=q(t).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(t){var i=this.project(ie(t))._round();return i._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(ie(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(de(t))},distance:function(t,i){return this.options.crs.distance(ie(t),ie(i))},containerPointToLayerPoint:function(t){return q(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return q(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var i=this.containerPointToLayerPoint(q(t));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ie(t)))},mouseEventToContainerPoint:function(t){return Di(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var i=this._container=dn(t);if(i){if(i._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Te(i,"scroll",this._onScroll,this),this._containerId=_(i)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&ge.any3d,Le(t,"leaflet-container"+(ge.touch?" leaflet-touch":"")+(ge.retina?" leaflet-retina":"")+(ge.ielt9?" leaflet-oldie":"")+(ge.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var i=Mi(t,"position");i!=="absolute"&&i!=="relative"&&i!=="fixed"&&i!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),vt(this._mapPane,new U(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Le(t.markerPane,"leaflet-zoom-hide"),Le(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,i,c){vt(this._mapPane,new U(0,0));var f=!this._loaded;this._loaded=!0,i=this._limitZoom(i),this.fire("viewprereset");var y=this._zoom!==i;this._moveStart(y,c)._move(t,i)._moveEnd(y),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(t,i){return t&&this.fire("zoomstart"),i||this.fire("movestart"),this},_move:function(t,i,c,f){i===void 0&&(i=this._zoom);var y=this._zoom!==i;return this._zoom=i,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),f?c&&c.pinch&&this.fire("zoom",c):((y||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return le(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){vt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[_(this._container)]=this;var i=t?Xe:Te;i(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&i(window,"resize",this._onResize,this),ge.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){le(this._resizeRequest),this._resizeRequest=Pe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,i){for(var c=[],f,y=i==="mouseout"||i==="mouseover",b=t.target||t.srcElement,O=!1;b;){if(f=this._targets[_(b)],f&&(i==="click"||i==="preclick")&&this._draggableMoved(f)){O=!0;break}if(f&&f.listens(i,!0)&&(y&&!Fi(b,t)||(c.push(f),y))||b===this._container)break;b=b.parentNode}return!c.length&&!O&&!y&&this.listens(i,!0)&&(c=[this]),c},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var i=t.target||t.srcElement;if(!(!this._loaded||i._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(i))){var c=t.type;c==="mousedown"&&Jr(i),this._fireDOMEvent(t,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,i,c){if(t.type==="click"){var f=u({},t);f.type="preclick",this._fireDOMEvent(f,f.type,c)}var y=this._findEventTargets(t,i);if(c){for(var b=[],O=0;O<c.length;O++)c[O].listens(i,!0)&&b.push(c[O]);y=b.concat(y)}if(y.length){i==="contextmenu"&&ht(t);var D=y[0],$={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var Y=D.getLatLng&&(!D._radius||D._radius<=10);$.containerPoint=Y?this.latLngToContainerPoint(D.getLatLng()):this.mouseEventToContainerPoint(t),$.layerPoint=this.containerPointToLayerPoint($.containerPoint),$.latlng=Y?D.getLatLng():this.layerPointToLatLng($.layerPoint)}for(O=0;O<y.length;O++)if(y[O].fire(i,$,!0),$.originalEvent._stopped||y[O].options.bubblingMouseEvents===!1&&te(this._mouseEvents,i)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,i=this._handlers.length;t<i;t++)this._handlers[t].disable()},whenReady:function(t,i){return this._loaded?t.call(i||this,{target:this}):this.on("load",t,i),this},_getMapPanePos:function(){return zn(this._mapPane)||new U(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,i){var c=t&&i!==void 0?this._getNewPixelOrigin(t,i):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,i){var c=this.getSize()._divideBy(2);return this.project(t,i)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,i,c){var f=this._getNewPixelOrigin(c,i);return this.project(t,i)._subtract(f)},_latLngBoundsToNewLayerBounds:function(t,i,c){var f=this._getNewPixelOrigin(c,i);return V([this.project(t.getSouthWest(),i)._subtract(f),this.project(t.getNorthWest(),i)._subtract(f),this.project(t.getSouthEast(),i)._subtract(f),this.project(t.getNorthEast(),i)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,i,c){if(!c)return t;var f=this.project(t,i),y=this.getSize().divideBy(2),b=new M(f.subtract(y),f.add(y)),O=this._getBoundsOffset(b,c,i);return Math.abs(O.x)<=1&&Math.abs(O.y)<=1?t:this.unproject(f.add(O),i)},_limitOffset:function(t,i){if(!i)return t;var c=this.getPixelBounds(),f=new M(c.min.add(t),c.max.add(t));return t.add(this._getBoundsOffset(f,i))},_getBoundsOffset:function(t,i,c){var f=V(this.project(i.getNorthEast(),c),this.project(i.getSouthWest(),c)),y=f.min.subtract(t.min),b=f.max.subtract(t.max),O=this._rebound(y.x,-b.x),D=this._rebound(y.y,-b.y);return new U(O,D)},_rebound:function(t,i){return t+i>0?Math.round(t-i)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(i))},_limitZoom:function(t){var i=this.getMinZoom(),c=this.getMaxZoom(),f=ge.any3d?this.options.zoomSnap:1;return f&&(t=Math.round(t/f)*f),Math.max(i,Math.min(c,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){nt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,i){var c=this._getCenterOffset(t)._trunc();return(i&&i.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,i),!0)},_createAnimProxy:function(){var t=this._proxy=Me("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(i){var c=As,f=this._proxy.style[c];hn(this._proxy,this.project(i.center,i.zoom),this.getZoomScale(i.zoom,1)),f===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ot(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),i=this.getZoom();hn(this._proxy,this.project(t,i),this.getZoomScale(i,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,i,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(i),y=this._getCenterOffset(t)._divideBy(1-1/f);return c.animate!==!0&&!this.getSize().contains(y)?!1:(Pe(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(t,i,!0)},this),!0)},_animateZoom:function(t,i,c,f){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=i,Le(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:i,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&nt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Xn(t,i){return new We(t,i)}var Kt=$e.extend({options:{position:"topright"},initialize:function(t){I(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var i=this._map;return i&&i.removeControl(this),this.options.position=t,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var i=this._container=this.onAdd(t),c=this.getPosition(),f=t._controlCorners[c];return Le(i,"leaflet-control"),c.indexOf("bottom")!==-1?f.insertBefore(i,f.firstChild):f.appendChild(i),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ot(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),er=function(t){return new Kt(t)};We.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},i="leaflet-",c=this._controlContainer=Me("div",i+"control-container",this._container);function f(y,b){var O=i+y+" "+i+b;t[y+b]=Me("div",O,c)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ot(this._controlCorners[t]);ot(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ds=Kt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,i,c,f){return c<f?-1:f<c?1:0}},initialize:function(t,i,c){I(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in t)this._addLayer(t[f],f);for(f in i)this._addLayer(i[f],f,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Kt.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,i){return this._addLayer(t,i),this._map?this._update():this},addOverlay:function(t,i){return this._addLayer(t,i,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var i=this._getLayer(_(t));return i&&this._layers.splice(this._layers.indexOf(i),1),this._map?this._update():this},expand:function(){Le(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(Le(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):nt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return nt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",i=this._container=Me("div",t),c=this.options.collapsed;i.setAttribute("aria-haspopup",!0),Ni(i),Eo(i);var f=this._section=Me("section",t+"-list");c&&(this._map.on("click",this.collapse,this),Te(i,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var y=this._layersLink=Me("a",t+"-toggle",i);y.href="#",y.title="Layers",y.setAttribute("role","button"),Te(y,{keydown:function(b){b.keyCode===13&&this._expandSafely()},click:function(b){ht(b),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=Me("div",t+"-base",f),this._separator=Me("div",t+"-separator",f),this._overlaysList=Me("div",t+"-overlays",f),i.appendChild(f)},_getLayer:function(t){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&_(this._layers[i].layer)===t)return this._layers[i]},_addLayer:function(t,i,c){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:i,overlay:c}),this.options.sortLayers&&this._layers.sort(m(function(f,y){return this.options.sortFunction(f.layer,y.layer,f.name,y.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;_o(this._baseLayersList),_o(this._overlaysList),this._layerControlInputs=[];var t,i,c,f,y=0;for(c=0;c<this._layers.length;c++)f=this._layers[c],this._addItem(f),i=i||f.overlay,t=t||!f.overlay,y+=f.overlay?0:1;return this.options.hideSingleBase&&(t=t&&y>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=i&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var i=this._getLayer(_(t.target)),c=i.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;c&&this._map.fire(c,i)},_createRadioElement:function(t,i){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(i?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=c,f.firstChild},_addItem:function(t){var i=document.createElement("label"),c=this._map.hasLayer(t.layer),f;t.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=c):f=this._createRadioElement("leaflet-base-layers_"+_(this),c),this._layerControlInputs.push(f),f.layerId=_(t.layer),Te(f,"click",this._onInputClick,this);var y=document.createElement("span");y.innerHTML=" "+t.name;var b=document.createElement("span");i.appendChild(b),b.appendChild(f),b.appendChild(y);var O=t.overlay?this._overlaysList:this._baseLayersList;return O.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,i,c,f=[],y=[];this._handlingClick=!0;for(var b=t.length-1;b>=0;b--)i=t[b],c=this._getLayer(i.layerId).layer,i.checked?f.push(c):i.checked||y.push(c);for(b=0;b<y.length;b++)this._map.hasLayer(y[b])&&this._map.removeLayer(y[b]);for(b=0;b<f.length;b++)this._map.hasLayer(f[b])||this._map.addLayer(f[b]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,i,c,f=this._map.getZoom(),y=t.length-1;y>=0;y--)i=t[y],c=this._getLayer(i.layerId).layer,i.disabled=c.options.minZoom!==void 0&&f<c.options.minZoom||c.options.maxZoom!==void 0&&f>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,Te(t,"click",ht),this.expand();var i=this;setTimeout(function(){Xe(t,"click",ht),i._preventClick=!1})}}),Co=function(t,i,c){return new Ds(t,i,c)},Yr=Kt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var i="leaflet-control-zoom",c=Me("div",i+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,i+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,i+"-out",c,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,i,c,f,y){var b=Me("a",c,f);return b.innerHTML=t,b.href="#",b.title=i,b.setAttribute("role","button"),b.setAttribute("aria-label",i),Ni(b),Te(b,"click",pn),Te(b,"click",y,this),Te(b,"click",this._refocusOnMap,this),b},_updateDisabled:function(){var t=this._map,i="leaflet-disabled";nt(this._zoomInButton,i),nt(this._zoomOutButton,i),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(Le(this._zoomOutButton,i),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(Le(this._zoomInButton,i),this._zoomInButton.setAttribute("aria-disabled","true"))}});We.mergeOptions({zoomControl:!0}),We.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Yr,this.addControl(this.zoomControl))});var Ya=function(t){return new Yr(t)},$t=Kt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var i="leaflet-control-scale",c=Me("div",i),f=this.options;return this._addScales(f,i+"-line",c),t.on(f.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),c},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,i,c){t.metric&&(this._mScale=Me("div",i,c)),t.imperial&&(this._iScale=Me("div",i,c))},_update:function(){var t=this._map,i=t.getSize().y/2,c=t.distance(t.containerPointToLatLng([0,i]),t.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(c)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var i=this._getRoundNum(t),c=i<1e3?i+" m":i/1e3+" km";this._updateScale(this._mScale,c,i/t)},_updateImperial:function(t){var i=t*3.2808399,c,f,y;i>5280?(c=i/5280,f=this._getRoundNum(c),this._updateScale(this._iScale,f+" mi",f/c)):(y=this._getRoundNum(i),this._updateScale(this._iScale,y+" ft",y/i))},_updateScale:function(t,i,c){t.style.width=Math.round(this.options.maxWidth*c)+"px",t.innerHTML=i},_getRoundNum:function(t){var i=Math.pow(10,(Math.floor(t)+"").length-1),c=t/i;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,i*c}}),Qr=function(t){return new $t(t)},Fs='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',wr=Kt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ge.inlineSvg?Fs+" ":"")+"Leaflet</a>"},initialize:function(t){I(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=Me("div","leaflet-control-attribution"),Ni(this._container);for(var i in t._layers)t._layers[i].getAttribution&&this.addAttribution(t._layers[i].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var i in this._attributions)this._attributions[i]&&t.push(i);var c=[];this.options.prefix&&c.push(this.options.prefix),t.length&&c.push(t.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});We.mergeOptions({attributionControl:!0}),We.addInitHook(function(){this.options.attributionControl&&new wr().addTo(this)});var Tu=function(t){return new wr(t)};Kt.Layers=Ds,Kt.Zoom=Yr,Kt.Scale=$t,Kt.Attribution=wr,er.layers=Co,er.zoom=Ya,er.scale=Qr,er.attribution=Tu;var en=$e.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});en.addTo=function(t,i){return t.addHandler(i,this),this};var Bs={Events:_e},Xr=ge.touch?"touchstart mousedown":"mousedown",mn=je.extend({options:{clickTolerance:3},initialize:function(t,i,c,f){I(this,f),this._element=t,this._dragStartTarget=i||t,this._preventOutline=c},enable:function(){this._enabled||(Te(this._dragStartTarget,Xr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(mn._dragging===this&&this.finishDrag(!0),Xe(this._dragStartTarget,Xr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!Gr(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){mn._dragging===this&&this.finishDrag();return}if(!(mn._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(mn._dragging=this,this._preventOutline&&Jr(this._element),So(),Ze(),!this._moving)){this.fire("down");var i=t.touches?t.touches[0]:t,c=Nn(this._element);this._startPoint=new U(i.clientX,i.clientY),this._startPos=zn(this._element),this._parentScale=Sn(c);var f=t.type==="mousedown";Te(document,f?"mousemove":"touchmove",this._onMove,this),Te(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var i=t.touches&&t.touches.length===1?t.touches[0]:t,c=new U(i.clientX,i.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,ht(t),this._moved||(this.fire("dragstart"),this._moved=!0,Le(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Le(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),vt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){nt(document.body,"leaflet-dragging"),this._lastTarget&&(nt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Xe(document,"mousemove touchmove",this._onMove,this),Xe(document,"mouseup touchend touchcancel",this._onUp,this),ko(),Kr();var i=this._moved&&this._moving;this._moving=!1,mn._dragging=!1,i&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Us(t,i,c){var f,y=[1,4,2,8],b,O,D,$,Y,ce,Se,Ae;for(b=0,ce=t.length;b<ce;b++)t[b]._code=Sr(t[b],i);for(D=0;D<4;D++){for(Se=y[D],f=[],b=0,ce=t.length,O=ce-1;b<ce;O=b++)$=t[b],Y=t[O],$._code&Se?Y._code&Se||(Ae=jo(Y,$,Se,i,c),Ae._code=Sr(Ae,i),f.push(Ae)):(Y._code&Se&&(Ae=jo(Y,$,Se,i,c),Ae._code=Sr(Ae,i),f.push(Ae)),f.push($));t=f}return t}function Qa(t,i){var c,f,y,b,O,D,$,Y,ce;if(!t||t.length===0)throw new Error("latlngs not passed");tn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Se=ie([0,0]),Ae=de(t),Pt=Ae.getNorthWest().distanceTo(Ae.getSouthWest())*Ae.getNorthEast().distanceTo(Ae.getNorthWest());Pt<1700&&(Se=$s(t));var wt=t.length,Yt=[];for(c=0;c<wt;c++){var Wt=ie(t[c]);Yt.push(i.project(ie([Wt.lat-Se.lat,Wt.lng-Se.lng])))}for(D=$=Y=0,c=0,f=wt-1;c<wt;f=c++)y=Yt[c],b=Yt[f],O=y.y*b.x-b.y*y.x,$+=(y.x+b.x)*O,Y+=(y.y+b.y)*O,D+=O*3;D===0?ce=Yt[0]:ce=[$/D,Y/D];var ui=i.unproject(q(ce));return ie([ui.lat+Se.lat,ui.lng+Se.lng])}function $s(t){for(var i=0,c=0,f=0,y=0;y<t.length;y++){var b=ie(t[y]);i+=b.lat,c+=b.lng,f++}return ie([i/f,c/f])}var Cu={__proto__:null,clipPolygon:Us,polygonCenter:Qa,centroid:$s};function Lo(t,i){if(!i||!t.length)return t.slice();var c=i*i;return t=Ou(t,c),t=ju(t,c),t}function Xa(t,i,c){return Math.sqrt(kr(t,i,c,!0))}function Lu(t,i,c){return kr(t,i,c)}function ju(t,i){var c=t.length,f=typeof Uint8Array<"u"?Uint8Array:Array,y=new f(c);y[0]=y[c-1]=1,Ws(t,y,i,0,c-1);var b,O=[];for(b=0;b<c;b++)y[b]&&O.push(t[b]);return O}function Ws(t,i,c,f,y){var b=0,O,D,$;for(D=f+1;D<=y-1;D++)$=kr(t[D],t[f],t[y],!0),$>b&&(O=D,b=$);b>c&&(i[O]=1,Ws(t,i,c,f,O),Ws(t,i,c,O,y))}function Ou(t,i){for(var c=[t[0]],f=1,y=0,b=t.length;f<b;f++)Iu(t[f],t[y])>i&&(c.push(t[f]),y=f);return y<b-1&&c.push(t[b-1]),c}var Hs;function el(t,i,c,f,y){var b=f?Hs:Sr(t,c),O=Sr(i,c),D,$,Y;for(Hs=O;;){if(!(b|O))return[t,i];if(b&O)return!1;D=b||O,$=jo(t,i,D,c,y),Y=Sr($,c),D===b?(t=$,b=Y):(i=$,O=Y)}}function jo(t,i,c,f,y){var b=i.x-t.x,O=i.y-t.y,D=f.min,$=f.max,Y,ce;return c&8?(Y=t.x+b*($.y-t.y)/O,ce=$.y):c&4?(Y=t.x+b*(D.y-t.y)/O,ce=D.y):c&2?(Y=$.x,ce=t.y+O*($.x-t.x)/b):c&1&&(Y=D.x,ce=t.y+O*(D.x-t.x)/b),new U(Y,ce,y)}function Sr(t,i){var c=0;return t.x<i.min.x?c|=1:t.x>i.max.x&&(c|=2),t.y<i.min.y?c|=4:t.y>i.max.y&&(c|=8),c}function Iu(t,i){var c=i.x-t.x,f=i.y-t.y;return c*c+f*f}function kr(t,i,c,f){var y=i.x,b=i.y,O=c.x-y,D=c.y-b,$=O*O+D*D,Y;return $>0&&(Y=((t.x-y)*O+(t.y-b)*D)/$,Y>1?(y=c.x,b=c.y):Y>0&&(y+=O*Y,b+=D*Y)),O=t.x-y,D=t.y-b,f?O*O+D*D:new U(y,b)}function tn(t){return!H(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function tl(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),tn(t)}function nl(t,i){var c,f,y,b,O,D,$,Y;if(!t||t.length===0)throw new Error("latlngs not passed");tn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var ce=ie([0,0]),Se=de(t),Ae=Se.getNorthWest().distanceTo(Se.getSouthWest())*Se.getNorthEast().distanceTo(Se.getNorthWest());Ae<1700&&(ce=$s(t));var Pt=t.length,wt=[];for(c=0;c<Pt;c++){var Yt=ie(t[c]);wt.push(i.project(ie([Yt.lat-ce.lat,Yt.lng-ce.lng])))}for(c=0,f=0;c<Pt-1;c++)f+=wt[c].distanceTo(wt[c+1])/2;if(f===0)Y=wt[0];else for(c=0,b=0;c<Pt-1;c++)if(O=wt[c],D=wt[c+1],y=O.distanceTo(D),b+=y,b>f){$=(b-f)/y,Y=[D.x-$*(D.x-O.x),D.y-$*(D.y-O.y)];break}var Wt=i.unproject(q(Y));return ie([Wt.lat+ce.lat,Wt.lng+ce.lng])}var rl={__proto__:null,simplify:Lo,pointToSegmentDistance:Xa,closestPointOnSegment:Lu,clipSegment:el,_getEdgeIntersection:jo,_getBitCode:Sr,_sqClosestPointOnSegment:kr,isFlat:tn,_flat:tl,polylineCenter:nl},Zs={project:function(t){return new U(t.lng,t.lat)},unproject:function(t){return new se(t.y,t.x)},bounds:new M([-180,-90],[180,90])},Vs={R:6378137,R_MINOR:6356752314245179e-9,bounds:new M([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var i=Math.PI/180,c=this.R,f=t.lat*i,y=this.R_MINOR/c,b=Math.sqrt(1-y*y),O=b*Math.sin(f),D=Math.tan(Math.PI/4-f/2)/Math.pow((1-O)/(1+O),b/2);return f=-c*Math.log(Math.max(D,1e-10)),new U(t.lng*i*c,f)},unproject:function(t){for(var i=180/Math.PI,c=this.R,f=this.R_MINOR/c,y=Math.sqrt(1-f*f),b=Math.exp(-t.y/c),O=Math.PI/2-2*Math.atan(b),D=0,$=.1,Y;D<15&&Math.abs($)>1e-7;D++)Y=y*Math.sin(O),Y=Math.pow((1-Y)/(1+Y),y/2),$=Math.PI/2-2*Math.atan(b*Y)-O,O+=$;return new se(O*i,t.x*i/c)}},Mu={__proto__:null,LonLat:Zs,Mercator:Vs,SphericalMercator:qe},Au=u({},ke,{code:"EPSG:3395",projection:Vs,transformation:function(){var t=.5/(Math.PI*Vs.R);return zt(t,.5,-t,.5)}()}),il=u({},ke,{code:"EPSG:4326",projection:Zs,transformation:zt(1/180,1,-1/180,.5)}),Ru=u({},we,{projection:Zs,transformation:zt(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,i){var c=i.lng-t.lng,f=i.lat-t.lat;return Math.sqrt(c*c+f*f)},infinite:!0});we.Earth=ke,we.EPSG3395=Au,we.EPSG3857=Lt,we.EPSG900913=xt,we.EPSG4326=il,we.Simple=Ru;var gn=je.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[_(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[_(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var i=t.target;if(i.hasLayer(this)){if(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents){var c=this.getEvents();i.on(c,this),this.once("remove",function(){i.off(c,this)},this)}this.onAdd(i),this.fire("add"),i.fire("layeradd",{layer:this})}}});We.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var i=_(t);return this._layers[i]?this:(this._layers[i]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var i=_(t);return this._layers[i]?(this._loaded&&t.onRemove(this),delete this._layers[i],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return _(t)in this._layers},eachLayer:function(t,i){for(var c in this._layers)t.call(i,this._layers[c]);return this},_addLayers:function(t){t=t?H(t)?t:[t]:[];for(var i=0,c=t.length;i<c;i++)this.addLayer(t[i])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[_(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var i=_(t);this._zoomBoundLayers[i]&&(delete this._zoomBoundLayers[i],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,i=-1/0,c=this._getZoomSpan();for(var f in this._zoomBoundLayers){var y=this._zoomBoundLayers[f].options;t=y.minZoom===void 0?t:Math.min(t,y.minZoom),i=y.maxZoom===void 0?i:Math.max(i,y.maxZoom)}this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=t===1/0?void 0:t,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var tr=gn.extend({initialize:function(t,i){I(this,i),this._layers={};var c,f;if(t)for(c=0,f=t.length;c<f;c++)this.addLayer(t[c])},addLayer:function(t){var i=this.getLayerId(t);return this._layers[i]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var i=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[i]&&this._map.removeLayer(this._layers[i]),delete this._layers[i],this},hasLayer:function(t){var i=typeof t=="number"?t:this.getLayerId(t);return i in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var i=Array.prototype.slice.call(arguments,1),c,f;for(c in this._layers)f=this._layers[c],f[t]&&f[t].apply(f,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,i){for(var c in this._layers)t.call(i,this._layers[c]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return _(t)}}),Bi=function(t,i){return new tr(t,i)},Dn=tr.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),tr.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),tr.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new Z;for(var i in this._layers){var c=this._layers[i];t.extend(c.getBounds?c.getBounds():c.getLatLng())}return t}}),ol=function(t,i){return new Dn(t,i)},br=$e.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){I(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,i){var c=this._getIconUrl(t);if(!c){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(c,i&&i.tagName==="IMG"?i:null);return this._setIconStyles(f,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(t,i){var c=this.options,f=c[i+"Size"];typeof f=="number"&&(f=[f,f]);var y=q(f),b=q(i==="shadow"&&c.shadowAnchor||c.iconAnchor||y&&y.divideBy(2,!0));t.className="leaflet-marker-"+i+" "+(c.className||""),b&&(t.style.marginLeft=-b.x+"px",t.style.marginTop=-b.y+"px"),y&&(t.style.width=y.x+"px",t.style.height=y.y+"px")},_createImg:function(t,i){return i=i||document.createElement("img"),i.src=t,i},_getIconUrl:function(t){return ge.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function sl(t){return new br(t)}var ei=br.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof ei.imagePath!="string"&&(ei.imagePath=this._detectIconPath()),(this.options.imagePath||ei.imagePath)+br.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var i=function(c,f,y){var b=f.exec(c);return b&&b[y]};return t=i(t,/^url\((['"])?(.+)\1\)$/,2),t&&i(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=Me("div","leaflet-default-icon-path",document.body),i=Mi(t,"background-image")||Mi(t,"backgroundImage");if(document.body.removeChild(t),i=this._stripUrl(i),i)return i;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),Gs=en.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new mn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Le(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&nt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var i=this._marker,c=i._map,f=this._marker.options.autoPanSpeed,y=this._marker.options.autoPanPadding,b=zn(i._icon),O=c.getPixelBounds(),D=c.getPixelOrigin(),$=V(O.min._subtract(D).add(y),O.max._subtract(D).subtract(y));if(!$.contains(b)){var Y=q((Math.max($.max.x,b.x)-$.max.x)/(O.max.x-$.max.x)-(Math.min($.min.x,b.x)-$.min.x)/(O.min.x-$.min.x),(Math.max($.max.y,b.y)-$.max.y)/(O.max.y-$.max.y)-(Math.min($.min.y,b.y)-$.min.y)/(O.min.y-$.min.y)).multiplyBy(f);c.panBy(Y,{animate:!1}),this._draggable._newPos._add(Y),this._draggable._startPos._add(Y),vt(i._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=Pe(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(le(this._panRequest),this._panRequest=Pe(this._adjustPan.bind(this,t)))},_onDrag:function(t){var i=this._marker,c=i._shadow,f=zn(i._icon),y=i._map.layerPointToLatLng(f);c&&vt(c,f),i._latlng=y,t.latlng=y,t.oldLatLng=this._oldLatLng,i.fire("move",t).fire("drag",t)},_onDragEnd:function(t){le(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Fn=gn.extend({options:{icon:new ei,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,i){I(this,i),this._latlng=ie(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var i=this._latlng;return this._latlng=ie(t),this.update(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,i="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=t.icon.createIcon(this._icon),f=!1;c!==this._icon&&(this._icon&&this._removeIcon(),f=!0,t.title&&(c.title=t.title),c.tagName==="IMG"&&(c.alt=t.alt||"")),Le(c,i),t.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Te(c,"focus",this._panOnFocus,this);var y=t.icon.createShadow(this._shadow),b=!1;y!==this._shadow&&(this._removeShadow(),b=!0),y&&(Le(y,i),y.alt=""),this._shadow=y,t.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),y&&b&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Xe(this._icon,"focus",this._panOnFocus,this),ot(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ot(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&vt(this._icon,t),this._shadow&&vt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(i)},_initInteraction:function(){if(this.options.interactive&&(Le(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Gs)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Gs(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Ut(this._icon,t),this._shadow&&Ut(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var i=this.options.icon.options,c=i.iconSize?q(i.iconSize):q(0,0),f=i.iconAnchor?q(i.iconAnchor):q(0,0);t.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:c.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function zu(t,i){return new Fn(t,i)}var nr=gn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return I(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Oo=nr.extend({options:{fill:!0,radius:10},initialize:function(t,i){I(this,i),this._latlng=ie(t),this._radius=this.options.radius},setLatLng:function(t){var i=this._latlng;return this._latlng=ie(t),this.redraw(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var i=t&&t.radius||this._radius;return nr.prototype.setStyle.call(this,t),this.setRadius(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,i=this._radiusY||t,c=this._clickTolerance(),f=[t+c,i+c];this._pxBounds=new M(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function al(t,i){return new Oo(t,i)}var Io=Oo.extend({initialize:function(t,i,c){if(typeof i=="number"&&(i=u({},c,{radius:i})),I(this,i),this._latlng=ie(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new Z(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:nr.prototype.setStyle,_project:function(){var t=this._latlng.lng,i=this._latlng.lat,c=this._map,f=c.options.crs;if(f.distance===ke.distance){var y=Math.PI/180,b=this._mRadius/ke.R/y,O=c.project([i+b,t]),D=c.project([i-b,t]),$=O.add(D).divideBy(2),Y=c.unproject($).lat,ce=Math.acos((Math.cos(b*y)-Math.sin(i*y)*Math.sin(Y*y))/(Math.cos(i*y)*Math.cos(Y*y)))/y;(isNaN(ce)||ce===0)&&(ce=b/Math.cos(Math.PI/180*i)),this._point=$.subtract(c.getPixelOrigin()),this._radius=isNaN(ce)?0:$.x-c.project([Y,t-ce]).x,this._radiusY=$.y-O.y}else{var Se=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(Se).x}this._updateBounds()}});function Ui(t,i,c){return new Io(t,i,c)}var Jt=nr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,i){I(this,i),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var i=1/0,c=null,f=kr,y,b,O=0,D=this._parts.length;O<D;O++)for(var $=this._parts[O],Y=1,ce=$.length;Y<ce;Y++){y=$[Y-1],b=$[Y];var Se=f(t,y,b,!0);Se<i&&(i=Se,c=f(t,y,b))}return c&&(c.distance=Math.sqrt(i)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return nl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,i){return i=i||this._defaultShape(),t=ie(t),i.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new Z,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return tn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var i=[],c=tn(t),f=0,y=t.length;f<y;f++)c?(i[f]=ie(t[f]),this._bounds.extend(i[f])):i[f]=this._convertLatLngs(t[f]);return i},_project:function(){var t=new M;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),i=new U(t,t);this._rawPxBounds&&(this._pxBounds=new M([this._rawPxBounds.min.subtract(i),this._rawPxBounds.max.add(i)]))},_projectLatlngs:function(t,i,c){var f=t[0]instanceof se,y=t.length,b,O;if(f){for(O=[],b=0;b<y;b++)O[b]=this._map.latLngToLayerPoint(t[b]),c.extend(O[b]);i.push(O)}else for(b=0;b<y;b++)this._projectLatlngs(t[b],i,c)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var i=this._parts,c,f,y,b,O,D,$;for(c=0,y=0,b=this._rings.length;c<b;c++)for($=this._rings[c],f=0,O=$.length;f<O-1;f++)D=el($[f],$[f+1],t,f,!0),D&&(i[y]=i[y]||[],i[y].push(D[0]),(D[1]!==$[f+1]||f===O-2)&&(i[y].push(D[1]),y++))}},_simplifyPoints:function(){for(var t=this._parts,i=this.options.smoothFactor,c=0,f=t.length;c<f;c++)t[c]=Lo(t[c],i)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,i){var c,f,y,b,O,D,$=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(c=0,b=this._parts.length;c<b;c++)for(D=this._parts[c],f=0,O=D.length,y=O-1;f<O;y=f++)if(!(!i&&f===0)&&Xa(t,D[y],D[f])<=$)return!0;return!1}});function Nu(t,i){return new Jt(t,i)}Jt._flat=tl;var Bn=Jt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Qa(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var i=Jt.prototype._convertLatLngs.call(this,t),c=i.length;return c>=2&&i[0]instanceof se&&i[0].equals(i[c-1])&&i.pop(),i},_setLatLngs:function(t){Jt.prototype._setLatLngs.call(this,t),tn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return tn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,i=this.options.weight,c=new U(i,i);if(t=new M(t.min.subtract(c),t.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,y=this._rings.length,b;f<y;f++)b=Us(this._rings[f],t,!0),b.length&&this._parts.push(b)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var i=!1,c,f,y,b,O,D,$,Y;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(b=0,$=this._parts.length;b<$;b++)for(c=this._parts[b],O=0,Y=c.length,D=Y-1;O<Y;D=O++)f=c[O],y=c[D],f.y>t.y!=y.y>t.y&&t.x<(y.x-f.x)*(t.y-f.y)/(y.y-f.y)+f.x&&(i=!i);return i||Jt.prototype._containsPoint.call(this,t,!0)}});function Du(t,i){return new Bn(t,i)}var bn=Dn.extend({initialize:function(t,i){I(this,i),this._layers={},t&&this.addData(t)},addData:function(t){var i=H(t)?t:t.features,c,f,y;if(i){for(c=0,f=i.length;c<f;c++)y=i[c],(y.geometries||y.geometry||y.features||y.coordinates)&&this.addData(y);return this}var b=this.options;if(b.filter&&!b.filter(t))return this;var O=ti(t,b);return O?(O.feature=No(t),O.defaultOptions=O.options,this.resetStyle(O),b.onEachFeature&&b.onEachFeature(t,O),this.addLayer(O)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=u({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(i){this._setLayerStyle(i,t)},this)},_setLayerStyle:function(t,i){t.setStyle&&(typeof i=="function"&&(i=i(t.feature)),t.setStyle(i))}});function ti(t,i){var c=t.type==="Feature"?t.geometry:t,f=c?c.coordinates:null,y=[],b=i&&i.pointToLayer,O=i&&i.coordsToLatLng||Ao,D,$,Y,ce;if(!f&&!c)return null;switch(c.type){case"Point":return D=O(f),Mo(b,t,D,i);case"MultiPoint":for(Y=0,ce=f.length;Y<ce;Y++)D=O(f[Y]),y.push(Mo(b,t,D,i));return new Dn(y);case"LineString":case"MultiLineString":return $=$i(f,c.type==="LineString"?0:1,O),new Jt($,i);case"Polygon":case"MultiPolygon":return $=$i(f,c.type==="Polygon"?1:2,O),new Bn($,i);case"GeometryCollection":for(Y=0,ce=c.geometries.length;Y<ce;Y++){var Se=ti({geometry:c.geometries[Y],type:"Feature",properties:t.properties},i);Se&&y.push(Se)}return new Dn(y);case"FeatureCollection":for(Y=0,ce=c.features.length;Y<ce;Y++){var Ae=ti(c.features[Y],i);Ae&&y.push(Ae)}return new Dn(y);default:throw new Error("Invalid GeoJSON object.")}}function Mo(t,i,c,f){return t?t(i,c):new Fn(c,f&&f.markersInheritOptions&&f)}function Ao(t){return new se(t[1],t[0],t[2])}function $i(t,i,c){for(var f=[],y=0,b=t.length,O;y<b;y++)O=i?$i(t[y],i-1,c):(c||Ao)(t[y]),f.push(O);return f}function Ro(t,i){return t=ie(t),t.alt!==void 0?[T(t.lng,i),T(t.lat,i),T(t.alt,i)]:[T(t.lng,i),T(t.lat,i)]}function zo(t,i,c,f){for(var y=[],b=0,O=t.length;b<O;b++)y.push(i?zo(t[b],tn(t[b])?0:i-1,c,f):Ro(t[b],f));return!i&&c&&y.length>0&&y.push(y[0].slice()),y}function ni(t,i){return t.feature?u({},t.feature,{geometry:i}):No(i)}function No(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var qs={toGeoJSON:function(t){return ni(this,{type:"Point",coordinates:Ro(this.getLatLng(),t)})}};Fn.include(qs),Io.include(qs),Oo.include(qs),Jt.include({toGeoJSON:function(t){var i=!tn(this._latlngs),c=zo(this._latlngs,i?1:0,!1,t);return ni(this,{type:(i?"Multi":"")+"LineString",coordinates:c})}}),Bn.include({toGeoJSON:function(t){var i=!tn(this._latlngs),c=i&&!tn(this._latlngs[0]),f=zo(this._latlngs,c?2:i?1:0,!0,t);return i||(f=[f]),ni(this,{type:(c?"Multi":"")+"Polygon",coordinates:f})}}),tr.include({toMultiPoint:function(t){var i=[];return this.eachLayer(function(c){i.push(c.toGeoJSON(t).geometry.coordinates)}),ni(this,{type:"MultiPoint",coordinates:i})},toGeoJSON:function(t){var i=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(i==="MultiPoint")return this.toMultiPoint(t);var c=i==="GeometryCollection",f=[];return this.eachLayer(function(y){if(y.toGeoJSON){var b=y.toGeoJSON(t);if(c)f.push(b.geometry);else{var O=No(b);O.type==="FeatureCollection"?f.push.apply(f,O.features):f.push(O)}}}),c?ni(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function ll(t,i){return new bn(t,i)}var vn=ll,rr=gn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,i,c){this._url=t,this._bounds=de(i),I(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Le(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ot(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Vr(this._image),this},bringToBack:function(){return this._map&&Rn(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=de(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",i=this._image=t?this._url:Me("img");if(Le(i,"leaflet-image-layer"),this._zoomAnimated&&Le(i,"leaflet-zoom-animated"),this.options.className&&Le(i,this.options.className),i.onselectstart=E,i.onmousemove=E,i.onload=m(this.fire,this,"load"),i.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=i.src;return}i.src=this._url,i.alt=this.options.alt},_animateZoom:function(t){var i=this._map.getZoomScale(t.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;hn(this._image,c,i)},_reset:function(){var t=this._image,i=new M(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=i.getSize();vt(t,i.min),t.style.width=c.x+"px",t.style.height=c.y+"px"},_updateOpacity:function(){Ut(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),ul=function(t,i,c){return new rr(t,i,c)},Ks=rr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",i=this._image=t?this._url:Me("video");if(Le(i,"leaflet-image-layer"),this._zoomAnimated&&Le(i,"leaflet-zoom-animated"),this.options.className&&Le(i,this.options.className),i.onselectstart=E,i.onmousemove=E,i.onloadeddata=m(this.fire,this,"load"),t){for(var c=i.getElementsByTagName("source"),f=[],y=0;y<c.length;y++)f.push(c[y].src);this._url=c.length>0?f:[i.src];return}H(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(i.style,"objectFit")&&(i.style.objectFit="fill"),i.autoplay=!!this.options.autoplay,i.loop=!!this.options.loop,i.muted=!!this.options.muted,i.playsInline=!!this.options.playsInline;for(var b=0;b<this._url.length;b++){var O=Me("source");O.src=this._url[b],i.appendChild(O)}}});function cl(t,i,c){return new Ks(t,i,c)}var Js=rr.extend({_initImage:function(){var t=this._image=this._url;Le(t,"leaflet-image-layer"),this._zoomAnimated&&Le(t,"leaflet-zoom-animated"),this.options.className&&Le(t,this.options.className),t.onselectstart=E,t.onmousemove=E}});function Ys(t,i,c){return new Js(t,i,c)}var En=gn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,i){t&&(t instanceof se||H(t))?(this._latlng=ie(t),I(this,i)):(I(this,t),this._source=i),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Ut(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Ut(this._container,1),this.bringToFront(),this.options.interactive&&(Le(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Ut(this._container,0),this._removeTimeout=setTimeout(m(ot,void 0,this._container),200)):ot(this._container),this.options.interactive&&(nt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=ie(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Vr(this._container),this},bringToBack:function(){return this._map&&Rn(this._container),this},_prepareOpen:function(t){var i=this._source;if(!i._map)return!1;if(i instanceof Dn){i=null;var c=this._source._layers;for(var f in c)if(c[f]._map){i=c[f];break}if(!i)return!1;this._source=i}if(!t)if(i.getCenter)t=i.getCenter();else if(i.getLatLng)t=i.getLatLng();else if(i.getBounds)t=i.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,i=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof i=="string")t.innerHTML=i;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(i)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),i=q(this.options.offset),c=this._getAnchor();this._zoomAnimated?vt(this._container,t.add(c)):i=i.add(t).add(c);var f=this._containerBottom=-i.y,y=this._containerLeft=-Math.round(this._containerWidth/2)+i.x;this._container.style.bottom=f+"px",this._container.style.left=y+"px"}},_getAnchor:function(){return[0,0]}});We.include({_initOverlay:function(t,i,c,f){var y=i;return y instanceof t||(y=new t(f).setContent(i)),c&&y.setLatLng(c),y}}),gn.include({_initOverlay:function(t,i,c,f){var y=c;return y instanceof t?(I(y,f),y._source=this):(y=i&&!f?i:new t(f,this),y.setContent(c)),y}});var Do=En.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,En.prototype.openOn.call(this,t)},onAdd:function(t){En.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof nr||this._source.on("preclick",kn))},onRemove:function(t){En.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof nr||this._source.off("preclick",kn))},getEvents:function(){var t=En.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",i=this._container=Me("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=Me("div",t+"-content-wrapper",i);if(this._contentNode=Me("div",t+"-content",c),Ni(i),Eo(this._contentNode),Te(i,"contextmenu",kn),this._tipContainer=Me("div",t+"-tip-container",i),this._tip=Me("div",t+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=Me("a",t+"-close-button",i);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',Te(f,"click",function(y){ht(y),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,i=t.style;i.width="",i.whiteSpace="nowrap";var c=t.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),i.width=c+1+"px",i.whiteSpace="",i.height="";var f=t.offsetHeight,y=this.options.maxHeight,b="leaflet-popup-scrolled";y&&f>y?(i.height=y+"px",Le(t,b)):nt(t,b),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),c=this._getAnchor();vt(this._container,i.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,i=parseInt(Mi(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+i,f=this._containerWidth,y=new U(this._containerLeft,-c-this._containerBottom);y._add(zn(this._container));var b=t.layerPointToContainerPoint(y),O=q(this.options.autoPanPadding),D=q(this.options.autoPanPaddingTopLeft||O),$=q(this.options.autoPanPaddingBottomRight||O),Y=t.getSize(),ce=0,Se=0;b.x+f+$.x>Y.x&&(ce=b.x+f-Y.x+$.x),b.x-ce-D.x<0&&(ce=b.x-D.x),b.y+c+$.y>Y.y&&(Se=b.y+c-Y.y+$.y),b.y-Se-D.y<0&&(Se=b.y-D.y),(ce||Se)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([ce,Se]))}},_getAnchor:function(){return q(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ri=function(t,i){return new Do(t,i)};We.mergeOptions({closePopupOnClick:!0}),We.include({openPopup:function(t,i,c){return this._initOverlay(Do,t,i,c).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),gn.include({bindPopup:function(t,i){return this._popup=this._initOverlay(Do,this._popup,t,i),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Dn||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){pn(t);var i=t.layer||t.target;if(this._popup._source===i&&!(i instanceof nr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=i,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var ii=En.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){En.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){En.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=En.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",i=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Me("div",i),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+_(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var i,c,f=this._map,y=this._container,b=f.latLngToContainerPoint(f.getCenter()),O=f.layerPointToContainerPoint(t),D=this.options.direction,$=y.offsetWidth,Y=y.offsetHeight,ce=q(this.options.offset),Se=this._getAnchor();D==="top"?(i=$/2,c=Y):D==="bottom"?(i=$/2,c=0):D==="center"?(i=$/2,c=Y/2):D==="right"?(i=0,c=Y/2):D==="left"?(i=$,c=Y/2):O.x<b.x?(D="right",i=0,c=Y/2):(D="left",i=$+(ce.x+Se.x)*2,c=Y/2),t=t.subtract(q(i,c,!0)).add(ce).add(Se),nt(y,"leaflet-tooltip-right"),nt(y,"leaflet-tooltip-left"),nt(y,"leaflet-tooltip-top"),nt(y,"leaflet-tooltip-bottom"),Le(y,"leaflet-tooltip-"+D),vt(y,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Ut(this._container,t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(i)},_getAnchor:function(){return q(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Wi=function(t,i){return new ii(t,i)};We.include({openTooltip:function(t,i,c){return this._initOverlay(ii,t,i,c).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),gn.include({bindTooltip:function(t,i){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ii,this._tooltip,t,i),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var i=t?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[i](c),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Dn||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var i=typeof t.getElement=="function"&&t.getElement();i&&(Te(i,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),Te(i,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var i=typeof t.getElement=="function"&&t.getElement();i&&i.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var i=this;this._map.once("moveend",function(){i._openOnceFlag=!1,i._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var i=t.latlng,c,f;this._tooltip.options.sticky&&t.originalEvent&&(c=this._map.mouseEventToContainerPoint(t.originalEvent),f=this._map.containerPointToLayerPoint(c),i=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(i)}});var Fo=br.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var i=t&&t.tagName==="DIV"?t:document.createElement("div"),c=this.options;if(c.html instanceof Element?(_o(i),i.appendChild(c.html)):i.innerHTML=c.html!==!1?c.html:"",c.bgPos){var f=q(c.bgPos);i.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(i,"icon"),i},createShadow:function(){return null}});function dl(t){return new Fo(t)}br.Default=ei;var ir=gn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ge.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){I(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ot(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Vr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Rn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=w(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof U?t:new U(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var i=this.getPane().children,c=-t(-1/0,1/0),f=0,y=i.length,b;f<y;f++)b=i[f].style.zIndex,i[f]!==this._container&&b&&(c=t(c,+b));isFinite(c)&&(this.options.zIndex=c+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ge.ielt9){Ut(this._container,this.options.opacity);var t=+new Date,i=!1,c=!1;for(var f in this._tiles){var y=this._tiles[f];if(!(!y.current||!y.loaded)){var b=Math.min(1,(t-y.loaded)/200);Ut(y.el,b),b<1?i=!0:(y.active?c=!0:this._onOpaqueTile(y),y.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),i&&(le(this._fadeFrame),this._fadeFrame=Pe(this._updateOpacity,this))}},_onOpaqueTile:E,_initContainer:function(){this._container||(this._container=Me("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,i=this.options.maxZoom;if(t!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===t?(this._levels[c].el.style.zIndex=i-Math.abs(t-c),this._onUpdateLevel(c)):(ot(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var f=this._levels[t],y=this._map;return f||(f=this._levels[t]={},f.el=Me("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=i,f.origin=y.project(y.unproject(y.getPixelOrigin()),t).round(),f.zoom=t,this._setZoomTransform(f,y.getCenter(),y.getZoom()),E(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:E,_onRemoveLevel:E,_onCreateLevel:E,_pruneTiles:function(){if(this._map){var t,i,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)i=this._tiles[t],i.retain=i.current;for(t in this._tiles)if(i=this._tiles[t],i.current&&!i.active){var f=i.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var i in this._tiles)this._tiles[i].coords.z===t&&this._removeTile(i)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ot(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,i,c,f){var y=Math.floor(t/2),b=Math.floor(i/2),O=c-1,D=new U(+y,+b);D.z=+O;var $=this._tileCoordsToKey(D),Y=this._tiles[$];return Y&&Y.active?(Y.retain=!0,!0):(Y&&Y.loaded&&(Y.retain=!0),O>f?this._retainParent(y,b,O,f):!1)},_retainChildren:function(t,i,c,f){for(var y=2*t;y<2*t+2;y++)for(var b=2*i;b<2*i+2;b++){var O=new U(y,b);O.z=c+1;var D=this._tileCoordsToKey(O),$=this._tiles[D];if($&&$.active){$.retain=!0;continue}else $&&$.loaded&&($.retain=!0);c+1<f&&this._retainChildren(y,b,c+1,f)}},_resetView:function(t){var i=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),i,i)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var i=this.options;return i.minNativeZoom!==void 0&&t<i.minNativeZoom?i.minNativeZoom:i.maxNativeZoom!==void 0&&i.maxNativeZoom<t?i.maxNativeZoom:t},_setView:function(t,i,c,f){var y=Math.round(i);this.options.maxZoom!==void 0&&y>this.options.maxZoom||this.options.minZoom!==void 0&&y<this.options.minZoom?y=void 0:y=this._clampZoom(y);var b=this.options.updateWhenZooming&&y!==this._tileZoom;(!f||b)&&(this._tileZoom=y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),y!==void 0&&this._update(t),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(t,i)},_setZoomTransforms:function(t,i){for(var c in this._levels)this._setZoomTransform(this._levels[c],t,i)},_setZoomTransform:function(t,i,c){var f=this._map.getZoomScale(c,t.zoom),y=t.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(i,c)).round();ge.any3d?hn(t.el,y,f):vt(t.el,y)},_resetGrid:function(){var t=this._map,i=t.options.crs,c=this._tileSize=this.getTileSize(),f=this._tileZoom,y=this._map.getPixelWorldBounds(this._tileZoom);y&&(this._globalTileRange=this._pxBoundsToTileRange(y)),this._wrapX=i.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,i.wrapLng[0]],f).x/c.x),Math.ceil(t.project([0,i.wrapLng[1]],f).x/c.y)],this._wrapY=i.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([i.wrapLat[0],0],f).y/c.x),Math.ceil(t.project([i.wrapLat[1],0],f).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var i=this._map,c=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),f=i.getZoomScale(c,this._tileZoom),y=i.project(t,this._tileZoom).floor(),b=i.getSize().divideBy(f*2);return new M(y.subtract(b),y.add(b))},_update:function(t){var i=this._map;if(i){var c=this._clampZoom(i.getZoom());if(t===void 0&&(t=i.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(t),y=this._pxBoundsToTileRange(f),b=y.getCenter(),O=[],D=this.options.keepBuffer,$=new M(y.getBottomLeft().subtract([D,-D]),y.getTopRight().add([D,-D]));if(!(isFinite(y.min.x)&&isFinite(y.min.y)&&isFinite(y.max.x)&&isFinite(y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Y in this._tiles){var ce=this._tiles[Y].coords;(ce.z!==this._tileZoom||!$.contains(new U(ce.x,ce.y)))&&(this._tiles[Y].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(t,c);return}for(var Se=y.min.y;Se<=y.max.y;Se++)for(var Ae=y.min.x;Ae<=y.max.x;Ae++){var Pt=new U(Ae,Se);if(Pt.z=this._tileZoom,!!this._isValidTile(Pt)){var wt=this._tiles[this._tileCoordsToKey(Pt)];wt?wt.current=!0:O.push(Pt)}}if(O.sort(function(Wt,ui){return Wt.distanceTo(b)-ui.distanceTo(b)}),O.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Yt=document.createDocumentFragment();for(Ae=0;Ae<O.length;Ae++)this._addTile(O[Ae],Yt);this._level.el.appendChild(Yt)}}}},_isValidTile:function(t){var i=this._map.options.crs;if(!i.infinite){var c=this._globalTileRange;if(!i.wrapLng&&(t.x<c.min.x||t.x>c.max.x)||!i.wrapLat&&(t.y<c.min.y||t.y>c.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(t);return de(this.options.bounds).overlaps(f)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var i=this._map,c=this.getTileSize(),f=t.scaleBy(c),y=f.add(c),b=i.unproject(f,t.z),O=i.unproject(y,t.z);return[b,O]},_tileCoordsToBounds:function(t){var i=this._tileCoordsToNwSe(t),c=new Z(i[0],i[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var i=t.split(":"),c=new U(+i[0],+i[1]);return c.z=+i[2],c},_removeTile:function(t){var i=this._tiles[t];i&&(ot(i.el),delete this._tiles[t],this.fire("tileunload",{tile:i.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){Le(t,"leaflet-tile");var i=this.getTileSize();t.style.width=i.x+"px",t.style.height=i.y+"px",t.onselectstart=E,t.onmousemove=E,ge.ielt9&&this.options.opacity<1&&Ut(t,this.options.opacity)},_addTile:function(t,i){var c=this._getTilePos(t),f=this._tileCoordsToKey(t),y=this.createTile(this._wrapCoords(t),m(this._tileReady,this,t));this._initTile(y),this.createTile.length<2&&Pe(m(this._tileReady,this,t,null,y)),vt(y,c),this._tiles[f]={el:y,coords:t,current:!0},i.appendChild(y),this.fire("tileloadstart",{tile:y,coords:t})},_tileReady:function(t,i,c){i&&this.fire("tileerror",{error:i,tile:c,coords:t});var f=this._tileCoordsToKey(t);c=this._tiles[f],c&&(c.loaded=+new Date,this._map._fadeAnimated?(Ut(c.el,0),le(this._fadeFrame),this._fadeFrame=Pe(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),i||(Le(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ge.ielt9||!this._map._fadeAnimated?Pe(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var i=new U(this._wrapX?k(t.x,this._wrapX):t.x,this._wrapY?k(t.y,this._wrapY):t.y);return i.z=t.z,i},_pxBoundsToTileRange:function(t){var i=this.getTileSize();return new M(t.min.unscaleBy(i).floor(),t.max.unscaleBy(i).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function oi(t){return new ir(t)}var or=ir.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,i){this._url=t,i=I(this,i),i.detectRetina&&ge.retina&&i.maxZoom>0?(i.tileSize=Math.floor(i.tileSize/2),i.zoomReverse?(i.zoomOffset--,i.minZoom=Math.min(i.maxZoom,i.minZoom+1)):(i.zoomOffset++,i.maxZoom=Math.max(i.minZoom,i.maxZoom-1)),i.minZoom=Math.max(0,i.minZoom)):i.zoomReverse?i.minZoom=Math.min(i.maxZoom,i.minZoom):i.maxZoom=Math.max(i.minZoom,i.maxZoom),typeof i.subdomains=="string"&&(i.subdomains=i.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,i){return this._url===t&&i===void 0&&(i=!0),this._url=t,i||this.redraw(),this},createTile:function(t,i){var c=document.createElement("img");return Te(c,"load",m(this._tileOnLoad,this,i,c)),Te(c,"error",m(this._tileOnError,this,i,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(t),c},getTileUrl:function(t){var i={r:ge.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-t.y;this.options.tms&&(i.y=c),i["-y"]=c}return G(this._url,u(i,this.options))},_tileOnLoad:function(t,i){ge.ielt9?setTimeout(m(t,this,null,i),0):t(null,i)},_tileOnError:function(t,i,c){var f=this.options.errorTileUrl;f&&i.getAttribute("src")!==f&&(i.src=f),t(c,i)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,i=this.options.maxZoom,c=this.options.zoomReverse,f=this.options.zoomOffset;return c&&(t=i-t),t+f},_getSubdomain:function(t){var i=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[i]},_abortLoading:function(){var t,i;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(i=this._tiles[t].el,i.onload=E,i.onerror=E,!i.complete)){i.src=ue;var c=this._tiles[t].coords;ot(i),delete this._tiles[t],this.fire("tileabort",{tile:i,coords:c})}},_removeTile:function(t){var i=this._tiles[t];if(i)return i.el.setAttribute("src",ue),ir.prototype._removeTile.call(this,t)},_tileReady:function(t,i,c){if(!(!this._map||c&&c.getAttribute("src")===ue))return ir.prototype._tileReady.call(this,t,i,c)}});function Qs(t,i){return new or(t,i)}var Hi=or.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,i){this._url=t;var c=u({},this.defaultWmsParams);for(var f in i)f in this.options||(c[f]=i[f]);i=I(this,i);var y=i.detectRetina&&ge.retina?2:1,b=this.getTileSize();c.width=b.x*y,c.height=b.y*y,this.wmsParams=c},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[i]=this._crs.code,or.prototype.onAdd.call(this,t)},getTileUrl:function(t){var i=this._tileCoordsToNwSe(t),c=this._crs,f=V(c.project(i[0]),c.project(i[1])),y=f.min,b=f.max,O=(this._wmsVersion>=1.3&&this._crs===il?[y.y,y.x,b.y,b.x]:[y.x,y.y,b.x,b.y]).join(","),D=or.prototype.getTileUrl.call(this,t);return D+N(this.wmsParams,D,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+O},setParams:function(t,i){return u(this.wmsParams,t),i||this.redraw(),this}});function hl(t,i){return new Hi(t,i)}or.WMS=Hi,Qs.wms=hl;var Pn=gn.extend({options:{padding:.1},initialize:function(t){I(this,t),_(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Le(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,i){var c=this._map.getZoomScale(i,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),y=this._map.project(this._center,i),b=f.multiplyBy(-c).add(y).subtract(this._map._getNewPixelOrigin(t,i));ge.any3d?hn(this._container,b,c):vt(this._container,b)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,i=this._map.getSize(),c=this._map.containerPointToLayerPoint(i.multiplyBy(-t)).round();this._bounds=new M(c,c.add(i.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Xs=Pn.extend({options:{tolerance:0},getEvents:function(){var t=Pn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Pn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Te(t,"mousemove",this._onMouseMove,this),Te(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Te(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){le(this._redrawRequest),delete this._ctx,ot(this._container),Xe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var i in this._layers)t=this._layers[i],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Pn.prototype._update.call(this);var t=this._bounds,i=this._container,c=t.getSize(),f=ge.retina?2:1;vt(i,t.min),i.width=f*c.x,i.height=f*c.y,i.style.width=c.x+"px",i.style.height=c.y+"px",ge.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Pn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[_(t)]=t;var i=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=i),this._drawLast=i,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var i=t._order,c=i.next,f=i.prev;c?c.prev=f:this._drawLast=f,f?f.next=c:this._drawFirst=c,delete t._order,delete this._layers[_(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var i=t.options.dashArray.split(/[, ]+/),c=[],f,y;for(y=0;y<i.length;y++){if(f=Number(i[y]),isNaN(f))return;c.push(f)}t.options._dashArray=c}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||Pe(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var i=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new M,this._redrawBounds.extend(t._pxBounds.min.subtract([i,i])),this._redrawBounds.extend(t._pxBounds.max.add([i,i]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var i=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,i.x,i.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,i=this._redrawBounds;if(this._ctx.save(),i){var c=i.getSize();this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)t=f.layer,(!i||t._pxBounds&&t._pxBounds.intersects(i))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,i){if(this._drawing){var c,f,y,b,O=t._parts,D=O.length,$=this._ctx;if(D){for($.beginPath(),c=0;c<D;c++){for(f=0,y=O[c].length;f<y;f++)b=O[c][f],$[f?"lineTo":"moveTo"](b.x,b.y);i&&$.closePath()}this._fillStroke($,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var i=t._point,c=this._ctx,f=Math.max(Math.round(t._radius),1),y=(Math.max(Math.round(t._radiusY),1)||f)/f;y!==1&&(c.save(),c.scale(1,y)),c.beginPath(),c.arc(i.x,i.y/y,f,0,Math.PI*2,!1),y!==1&&c.restore(),this._fillStroke(c,t)}},_fillStroke:function(t,i){var c=i.options;c.fill&&(t.globalAlpha=c.fillOpacity,t.fillStyle=c.fillColor||c.color,t.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(t.setLineDash&&t.setLineDash(i.options&&i.options._dashArray||[]),t.globalAlpha=c.opacity,t.lineWidth=c.weight,t.strokeStyle=c.color,t.lineCap=c.lineCap,t.lineJoin=c.lineJoin,t.stroke())},_onClick:function(t){for(var i=this._map.mouseEventToLayerPoint(t),c,f,y=this._drawFirst;y;y=y.next)c=y.layer,c.options.interactive&&c._containsPoint(i)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(c))&&(f=c);this._fireEvent(f?[f]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var i=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,i)}},_handleMouseOut:function(t){var i=this._hoveredLayer;i&&(nt(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,i){if(!this._mouseHoverThrottled){for(var c,f,y=this._drawFirst;y;y=y.next)c=y.layer,c.options.interactive&&c._containsPoint(i)&&(f=c);f!==this._hoveredLayer&&(this._handleMouseOut(t),f&&(Le(this._container,"leaflet-interactive"),this._fireEvent([f],t,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,i,c){this._map._fireDOMEvent(i,c||i.type,t)},_bringToFront:function(t){var i=t._order;if(i){var c=i.next,f=i.prev;if(c)c.prev=f;else return;f?f.next=c:c&&(this._drawFirst=c),i.prev=this._drawLast,this._drawLast.next=i,i.next=null,this._drawLast=i,this._requestRedraw(t)}},_bringToBack:function(t){var i=t._order;if(i){var c=i.next,f=i.prev;if(f)f.next=c;else return;c?c.prev=f:f&&(this._drawLast=f),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(t)}}});function ea(t){return ge.canvas?new Xs(t):null}var si=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),fl={_initContainer:function(){this._container=Me("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Pn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var i=t._container=si("shape");Le(i,"leaflet-vml-shape "+(this.options.className||"")),i.coordsize="1 1",t._path=si("path"),i.appendChild(t._path),this._updateStyle(t),this._layers[_(t)]=t},_addPath:function(t){var i=t._container;this._container.appendChild(i),t.options.interactive&&t.addInteractiveTarget(i)},_removePath:function(t){var i=t._container;ot(i),t.removeInteractiveTarget(i),delete this._layers[_(t)]},_updateStyle:function(t){var i=t._stroke,c=t._fill,f=t.options,y=t._container;y.stroked=!!f.stroke,y.filled=!!f.fill,f.stroke?(i||(i=t._stroke=si("stroke")),y.appendChild(i),i.weight=f.weight+"px",i.color=f.color,i.opacity=f.opacity,f.dashArray?i.dashStyle=H(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):i.dashStyle="",i.endcap=f.lineCap.replace("butt","flat"),i.joinstyle=f.lineJoin):i&&(y.removeChild(i),t._stroke=null),f.fill?(c||(c=t._fill=si("fill")),y.appendChild(c),c.color=f.fillColor||f.color,c.opacity=f.fillOpacity):c&&(y.removeChild(c),t._fill=null)},_updateCircle:function(t){var i=t._point.round(),c=Math.round(t._radius),f=Math.round(t._radiusY||c);this._setPath(t,t._empty()?"M0 0":"AL "+i.x+","+i.y+" "+c+","+f+" 0,"+65535*360)},_setPath:function(t,i){t._path.v=i},_bringToFront:function(t){Vr(t._container)},_bringToBack:function(t){Rn(t._container)}},yn=ge.vml?si:Ne,Er=Pn.extend({_initContainer:function(){this._container=yn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=yn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ot(this._container),Xe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Pn.prototype._update.call(this);var t=this._bounds,i=t.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(i))&&(this._svgSize=i,c.setAttribute("width",i.x),c.setAttribute("height",i.y)),vt(c,t.min),c.setAttribute("viewBox",[t.min.x,t.min.y,i.x,i.y].join(" ")),this.fire("update")}},_initPath:function(t){var i=t._path=yn("path");t.options.className&&Le(i,t.options.className),t.options.interactive&&Le(i,"leaflet-interactive"),this._updateStyle(t),this._layers[_(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ot(t._path),t.removeInteractiveTarget(t._path),delete this._layers[_(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var i=t._path,c=t.options;i&&(c.stroke?(i.setAttribute("stroke",c.color),i.setAttribute("stroke-opacity",c.opacity),i.setAttribute("stroke-width",c.weight),i.setAttribute("stroke-linecap",c.lineCap),i.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?i.setAttribute("stroke-dasharray",c.dashArray):i.removeAttribute("stroke-dasharray"),c.dashOffset?i.setAttribute("stroke-dashoffset",c.dashOffset):i.removeAttribute("stroke-dashoffset")):i.setAttribute("stroke","none"),c.fill?(i.setAttribute("fill",c.fillColor||c.color),i.setAttribute("fill-opacity",c.fillOpacity),i.setAttribute("fill-rule",c.fillRule||"evenodd")):i.setAttribute("fill","none"))},_updatePoly:function(t,i){this._setPath(t,De(t._parts,i))},_updateCircle:function(t){var i=t._point,c=Math.max(Math.round(t._radius),1),f=Math.max(Math.round(t._radiusY),1)||c,y="a"+c+","+f+" 0 1,0 ",b=t._empty()?"M0 0":"M"+(i.x-c)+","+i.y+y+c*2+",0 "+y+-c*2+",0 ";this._setPath(t,b)},_setPath:function(t,i){t._path.setAttribute("d",i)},_bringToFront:function(t){Vr(t._path)},_bringToBack:function(t){Rn(t._path)}});ge.vml&&Er.include(fl);function Bo(t){return ge.svg||ge.vml?new Er(t):null}We.include({getRenderer:function(t){var i=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return i||(i=this._renderer=this._createRenderer()),this.hasLayer(i)||this.addLayer(i),i},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var i=this._paneRenderers[t];return i===void 0&&(i=this._createRenderer({pane:t}),this._paneRenderers[t]=i),i},_createRenderer:function(t){return this.options.preferCanvas&&ea(t)||Bo(t)}});var pl=Bn.extend({initialize:function(t,i){Bn.prototype.initialize.call(this,this._boundsToLatLngs(t),i)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=de(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Fu(t,i){return new pl(t,i)}Er.create=yn,Er.pointsToPath=De,bn.geometryToLayer=ti,bn.coordsToLatLng=Ao,bn.coordsToLatLngs=$i,bn.latLngToCoords=Ro,bn.latLngsToCoords=zo,bn.getFeature=ni,bn.asFeature=No,We.mergeOptions({boxZoom:!0});var ai=en.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Te(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Xe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ot(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ze(),So(),this._startPoint=this._map.mouseEventToContainerPoint(t),Te(document,{contextmenu:pn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=Me("div","leaflet-zoom-box",this._container),Le(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var i=new M(this._point,this._startPoint),c=i.getSize();vt(this._box,i.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(ot(this._box),nt(this._container,"leaflet-crosshair")),Kr(),ko(),Xe(document,{contextmenu:pn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var i=new Z(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(i).fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});We.addInitHook("addHandler","boxZoom",ai),We.mergeOptions({doubleClickZoom:!0});var ml=en.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var i=this._map,c=i.getZoom(),f=i.options.zoomDelta,y=t.originalEvent.shiftKey?c-f:c+f;i.options.doubleClickZoom==="center"?i.setZoom(y):i.setZoomAround(t.containerPoint,y)}});We.addInitHook("addHandler","doubleClickZoom",ml),We.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ta=en.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new mn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}Le(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){nt(this._map._container,"leaflet-grab"),nt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var i=de(this._map.options.maxBounds);this._offsetLimit=V(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var i=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(i),this._prunePositions(i)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,i){return t-(t-i)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),i=this._offsetLimit;t.x<i.min.x&&(t.x=this._viscousLimit(t.x,i.min.x)),t.y<i.min.y&&(t.y=this._viscousLimit(t.y,i.min.y)),t.x>i.max.x&&(t.x=this._viscousLimit(t.x,i.max.x)),t.y>i.max.y&&(t.y=this._viscousLimit(t.y,i.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,i=Math.round(t/2),c=this._initialWorldOffset,f=this._draggable._newPos.x,y=(f-i+c)%t+i-c,b=(f+i+c)%t-i-c,O=Math.abs(y+c)<Math.abs(b+c)?y:b;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=O},_onDragEnd:function(t){var i=this._map,c=i.options,f=!c.inertia||t.noInertia||this._times.length<2;if(i.fire("dragend",t),f)i.fire("moveend");else{this._prunePositions(+new Date);var y=this._lastPos.subtract(this._positions[0]),b=(this._lastTime-this._times[0])/1e3,O=c.easeLinearity,D=y.multiplyBy(O/b),$=D.distanceTo([0,0]),Y=Math.min(c.inertiaMaxSpeed,$),ce=D.multiplyBy(Y/$),Se=Y/(c.inertiaDeceleration*O),Ae=ce.multiplyBy(-Se/2).round();!Ae.x&&!Ae.y?i.fire("moveend"):(Ae=i._limitOffset(Ae,i.options.maxBounds),Pe(function(){i.panBy(Ae,{duration:Se,easeLinearity:O,noMoveStart:!0,animate:!0})}))}}});We.addInitHook("addHandler","dragging",ta),We.mergeOptions({keyboard:!0,keyboardPanDelta:80});var na=en.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Te(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Xe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,i=document.documentElement,c=t.scrollTop||i.scrollTop,f=t.scrollLeft||i.scrollLeft;this._map._container.focus(),window.scrollTo(f,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var i=this._panKeys={},c=this.keyCodes,f,y;for(f=0,y=c.left.length;f<y;f++)i[c.left[f]]=[-1*t,0];for(f=0,y=c.right.length;f<y;f++)i[c.right[f]]=[t,0];for(f=0,y=c.down.length;f<y;f++)i[c.down[f]]=[0,t];for(f=0,y=c.up.length;f<y;f++)i[c.up[f]]=[0,-1*t]},_setZoomDelta:function(t){var i=this._zoomKeys={},c=this.keyCodes,f,y;for(f=0,y=c.zoomIn.length;f<y;f++)i[c.zoomIn[f]]=t;for(f=0,y=c.zoomOut.length;f<y;f++)i[c.zoomOut[f]]=-t},_addHooks:function(){Te(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Xe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var i=t.keyCode,c=this._map,f;if(i in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(f=this._panKeys[i],t.shiftKey&&(f=q(f).multiplyBy(3)),c.options.maxBounds&&(f=c._limitOffset(q(f),c.options.maxBounds)),c.options.worldCopyJump){var y=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(f)));c.panTo(y)}else c.panBy(f)}else if(i in this._zoomKeys)c.setZoom(c.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else if(i===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;pn(t)}}});We.addInitHook("addHandler","keyboard",na),We.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var et=en.extend({addHooks:function(){Te(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Xe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var i=Ja(t),c=this._map.options.wheelDebounceTime;this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var f=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),f),pn(t)},_performZoom:function(){var t=this._map,i=t.getZoom(),c=this._map.options.zoomSnap||0;t._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),y=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,b=c?Math.ceil(y/c)*c:y,O=t._limitZoom(i+(this._delta>0?b:-b))-i;this._delta=0,this._startTime=null,O&&(t.options.scrollWheelZoom==="center"?t.setZoom(i+O):t.setZoomAround(this._lastMousePos,i+O))}});We.addInitHook("addHandler","scrollWheelZoom",et);var ra=600;We.mergeOptions({tapHold:ge.touchNative&&ge.safari&&ge.mobile,tapTolerance:15});var Zi=en.extend({addHooks:function(){Te(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Xe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var i=t.touches[0];this._startPos=this._newPos=new U(i.clientX,i.clientY),this._holdTimeout=setTimeout(m(function(){this._cancel(),this._isTapValid()&&(Te(document,"touchend",ht),Te(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",i))},this),ra),Te(document,"touchend touchcancel contextmenu",this._cancel,this),Te(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Xe(document,"touchend",ht),Xe(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Xe(document,"touchend touchcancel contextmenu",this._cancel,this),Xe(document,"touchmove",this._onMove,this)},_onMove:function(t){var i=t.touches[0];this._newPos=new U(i.clientX,i.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,i){var c=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY});c._simulated=!0,i.target.dispatchEvent(c)}});We.addInitHook("addHandler","tapHold",Zi),We.mergeOptions({touchZoom:ge.touch,bounceAtZoomLimits:!0});var li=en.extend({addHooks:function(){Le(this._map._container,"leaflet-touch-zoom"),Te(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){nt(this._map._container,"leaflet-touch-zoom"),Xe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var i=this._map;if(!(!t.touches||t.touches.length!==2||i._animatingZoom||this._zooming)){var c=i.mouseEventToContainerPoint(t.touches[0]),f=i.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),i.options.touchZoom!=="center"&&(this._pinchStartLatLng=i.containerPointToLatLng(c.add(f)._divideBy(2))),this._startDist=c.distanceTo(f),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),Te(document,"touchmove",this._onTouchMove,this),Te(document,"touchend touchcancel",this._onTouchEnd,this),ht(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var i=this._map,c=i.mouseEventToContainerPoint(t.touches[0]),f=i.mouseEventToContainerPoint(t.touches[1]),y=c.distanceTo(f)/this._startDist;if(this._zoom=i.getScaleZoom(y,this._startZoom),!i.options.bounceAtZoomLimits&&(this._zoom<i.getMinZoom()&&y<1||this._zoom>i.getMaxZoom()&&y>1)&&(this._zoom=i._limitZoom(this._zoom)),i.options.touchZoom==="center"){if(this._center=this._startLatLng,y===1)return}else{var b=c._add(f)._divideBy(2)._subtract(this._centerPoint);if(y===1&&b.x===0&&b.y===0)return;this._center=i.unproject(i.project(this._pinchStartLatLng,this._zoom).subtract(b),this._zoom)}this._moved||(i._moveStart(!0,!1),this._moved=!0),le(this._animRequest);var O=m(i._move,i,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Pe(O,this,!0),ht(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,le(this._animRequest),Xe(document,"touchmove",this._onTouchMove,this),Xe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});We.addInitHook("addHandler","touchZoom",li),We.BoxZoom=ai,We.DoubleClickZoom=ml,We.Drag=ta,We.Keyboard=na,We.ScrollWheelZoom=et,We.TapHold=Zi,We.TouchZoom=li,o.Bounds=M,o.Browser=ge,o.CRS=we,o.Canvas=Xs,o.Circle=Io,o.CircleMarker=Oo,o.Class=$e,o.Control=Kt,o.DivIcon=Fo,o.DivOverlay=En,o.DomEvent=Po,o.DomUtil=zi,o.Draggable=mn,o.Evented=je,o.FeatureGroup=Dn,o.GeoJSON=bn,o.GridLayer=ir,o.Handler=en,o.Icon=br,o.ImageOverlay=rr,o.LatLng=se,o.LatLngBounds=Z,o.Layer=gn,o.LayerGroup=tr,o.LineUtil=rl,o.Map=We,o.Marker=Fn,o.Mixin=Bs,o.Path=nr,o.Point=U,o.PolyUtil=Cu,o.Polygon=Bn,o.Polyline=Jt,o.Popup=Do,o.PosAnimation=To,o.Projection=Mu,o.Rectangle=pl,o.Renderer=Pn,o.SVG=Er,o.SVGOverlay=Js,o.TileLayer=or,o.Tooltip=ii,o.Transformation=ut,o.Util=ze,o.VideoOverlay=Ks,o.bind=m,o.bounds=V,o.canvas=ea,o.circle=Ui,o.circleMarker=al,o.control=er,o.divIcon=dl,o.extend=u,o.featureGroup=ol,o.geoJSON=ll,o.geoJson=vn,o.gridLayer=oi,o.icon=sl,o.imageOverlay=ul,o.latLng=ie,o.latLngBounds=de,o.layerGroup=Bi,o.map=Xn,o.marker=zu,o.point=q,o.polygon=Du,o.polyline=Nu,o.popup=ri,o.rectangle=Fu,o.setOptions=I,o.stamp=_,o.svg=Bo,o.svgOverlay=Ys,o.tileLayer=Qs,o.tooltip=Wi,o.transformation=zt,o.version=l,o.videoOverlay=cl;var gl=window.L;o.noConflict=function(){return window.L=gl,this},window.L=o})}(ba,ba.exports)),ba.exports}var kt=qy();const yu=Pd(kt);function Ra(a,r,o){return Object.freeze({instance:a,context:r,container:o})}function _u(a,r){return r==null?function(l,u){const h=P.useRef();return h.current||(h.current=a(l,u)),h}:function(l,u){const h=P.useRef();h.current||(h.current=a(l,u));const m=P.useRef(l),{instance:x}=h.current;return P.useEffect(function(){m.current!==l&&(r(x,l,m.current),m.current=l)},[x,l,u]),h}}function lm(a,r){P.useEffect(function(){return(r.layerContainer??r.map).addLayer(a.instance),function(){var h;(h=r.layerContainer)==null||h.removeLayer(a.instance),r.map.removeLayer(a.instance)}},[r,a])}function um(a){return function(o){const l=gu(),u=a(vu(o,l),l);return im(l.map,o.attribution),Fd(u.current,o.eventHandlers),lm(u.current,l),u}}function Ky(a,r){const o=P.useRef();P.useEffect(function(){if(r.pathOptions!==o.current){const u=r.pathOptions??{};a.instance.setStyle(u),o.current=u}},[a,r])}function Jy(a){return function(o){const l=gu(),u=a(vu(o,l),l);return Fd(u.current,o.eventHandlers),lm(u.current,l),Ky(u.current,o),u}}function Yy(a,r){const o=_u(a,r),l=um(o);return am(l)}function Qy(a,r){const o=_u(a),l=Vy(o,r);return Hy(l)}function cm(a,r){const o=_u(a,r),l=Jy(o);return am(l)}function Xy(a,r){const o=_u(a,r),l=um(o);return Zy(l)}function e_(a,r,o){const{opacity:l,zIndex:u}=r;l!=null&&l!==o.opacity&&a.setOpacity(l),u!=null&&u!==o.zIndex&&a.setZIndex(u)}function t_(){return gu().map}function dm(a){const r=t_();return P.useEffect(function(){return r.on(a),function(){r.off(a)}},[r,a]),r}const n_=cm(function({data:r,...o},l){const u=new kt.GeoJSON(r,o);return Ra(u,Dd(l,{overlayContainer:u}))},function(r,o,l){o.style!==l.style&&(o.style==null?r.resetStyle():r.setStyle(o.style))});function Sd(){return Sd=Object.assign||function(a){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])}return a},Sd.apply(this,arguments)}function r_({bounds:a,boundsOptions:r,center:o,children:l,className:u,id:h,placeholder:m,style:x,whenReady:_,zoom:w,...k},E){const[T]=P.useState({className:u,id:h,style:x}),[A,C]=P.useState(null);P.useImperativeHandle(E,()=>(A==null?void 0:A.map)??null,[A]);const I=P.useCallback(K=>{if(K!==null&&A===null){const G=new kt.Map(K,k);o!=null&&w!=null?G.setView(o,w):a!=null&&G.fitBounds(a,r),_!=null&&G.whenReady(_),C(Wy(G))}},[]);P.useEffect(()=>()=>{A==null||A.map.remove()},[A]);const N=A?cd.createElement(sm,{value:A},l):m??null;return cd.createElement("div",Sd({},T,{ref:I}),N)}const ys=P.forwardRef(r_),_s=Yy(function({position:r,...o},l){const u=new kt.Marker(r,o);return Ra(u,Dd(l,{overlayContainer:u}))},function(r,o,l){o.position!==l.position&&r.setLatLng(o.position),o.icon!=null&&o.icon!==l.icon&&r.setIcon(o.icon),o.zIndexOffset!=null&&o.zIndexOffset!==l.zIndexOffset&&r.setZIndexOffset(o.zIndexOffset),o.opacity!=null&&o.opacity!==l.opacity&&r.setOpacity(o.opacity),r.dragging!=null&&o.draggable!==l.draggable&&(o.draggable===!0?r.dragging.enable():r.dragging.disable())}),i_=cm(function({positions:r,...o},l){const u=new kt.Polyline(r,o);return Ra(u,Dd(l,{overlayContainer:u}))},function(r,o,l){o.positions!==l.positions&&r.setLatLngs(o.positions)}),dp=Qy(function(r,o){const l=new kt.Popup(r,o.overlayContainer);return Ra(l,o)},function(r,o,{position:l},u){P.useEffect(function(){const{instance:m}=r;function x(w){w.popup===m&&(m.update(),u(!0))}function _(w){w.popup===m&&u(!1)}return o.map.on({popupopen:x,popupclose:_}),o.overlayContainer==null?(l!=null&&m.setLatLng(l),m.openOn(o.map)):o.overlayContainer.bindPopup(m),function(){var k;o.map.off({popupopen:x,popupclose:_}),(k=o.overlayContainer)==null||k.unbindPopup(),o.map.removeLayer(m)}},[r,o,u,l])}),xs=Xy(function({url:r,...o},l){const u=new kt.TileLayer(r,vu(o,l));return Ra(u,l)},function(r,o,l){e_(r,o,l);const{url:u}=o;u!=null&&u!==l.url&&r.setUrl(u)}),Bd=({onClick:a})=>(dm({click(r){a(r.latlng)}}),null),od={id:void 0,name:"",description:"",latitude:"",longitude:"",category:"",address:"",imageUrl:""};new yu.Icon({iconUrl:"https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/images/marker-icon.png",iconSize:[32,48],iconAnchor:[16,48],popupAnchor:[0,-48]});const o_=()=>{const[a,r]=P.useState(od),[o,l]=P.useState(!1),[u,h]=P.useState(null),[m,x]=P.useState(null),[_,w]=P.useState(!1),[k,E]=P.useState(null),[T,A]=P.useState([]),[C,I]=P.useState(void 0),[N,K]=P.useState(null);P.useEffect(()=>{G()},[]);const G=async()=>{l(!0),x(null);try{const{data:re,error:xe}=await Kn.from("famous_places").select("*").order("name",{ascending:!0});xe?x("Erro ao buscar lugares: "+xe.message):A(re||[])}catch(re){x("Erro inesperado ao buscar lugares: "+re.message)}finally{l(!1)}},H=re=>{r({...a,[re.target.name]:re.target.value})},te=re=>{K(re),r(xe=>({...xe,latitude:re.lat.toString(),longitude:re.lng.toString()}))},ue=async re=>{var Pe;const xe=(Pe=re.target.files)==null?void 0:Pe[0];if(xe){w(!0),x(null),h(null);try{const le=xe.name.split(".").pop(),ze=`${Date.now()}-${Math.random().toString(36).substring(2,8)}.${le}`,{data:$e,error:Fe}=await Kn.storage.from("famous-places-images").upload(ze,xe,{upsert:!1});if(Fe){x("Erro ao fazer upload da imagem: "+Fe.message),w(!1);return}const{data:_e}=Kn.storage.from("famous-places-images").getPublicUrl(ze),je=_e==null?void 0:_e.publicUrl;je?(r(U=>({...U,imageUrl:je})),E(je),h("Imagem enviada com sucesso!")):x("Não foi possível obter a URL da imagem.")}catch(le){x("Erro inesperado no upload: "+le.message)}finally{w(!1)}}},ae=async re=>{re.preventDefault(),l(!0),h(null),x(null);try{if(!a.name||!a.latitude||!a.longitude){x("Preencha pelo menos nome, latitude e longitude!"),l(!1);return}if(C){const{error:xe}=await Kn.from("famous_places").update({name:a.name,description:a.description,latitude:parseFloat(a.latitude),longitude:parseFloat(a.longitude),category:a.category,address:a.address,image_url:a.imageUrl}).eq("id",C);xe?x("Erro ao atualizar: "+xe.message):h("Lugar atualizado com sucesso!")}else{const{error:xe}=await Kn.from("famous_places").insert([{name:a.name,description:a.description,latitude:parseFloat(a.latitude),longitude:parseFloat(a.longitude),category:a.category,address:a.address,image_url:a.imageUrl}]);xe?x("Erro ao cadastrar: "+xe.message):h("Lugar cadastrado com sucesso!")}r(od),E(null),I(void 0),G()}catch(xe){x("Erro inesperado: "+xe.message)}finally{l(!1)}},J=re=>{var xe,Pe;r({id:re.id,name:re.name||"",description:re.description||"",latitude:((xe=re.latitude)==null?void 0:xe.toString())||"",longitude:((Pe=re.longitude)==null?void 0:Pe.toString())||"",category:re.category||"",address:re.address||"",imageUrl:re.image_url||""}),E(re.image_url||null),I(re.id),h(null),x(null)},ve=()=>{r(od),E(null),I(void 0),h(null),x(null)};return a.latitude&&parseFloat(a.latitude),a.longitude&&parseFloat(a.longitude),g.jsxs("div",{style:{maxWidth:1400,minWidth:320,width:"100%",margin:"40px auto",background:"var(--bg-secondary)",border:"4px solid var(--accent-green)",borderRadius:0,boxShadow:"8px 8px 0 #222, 0 0 0 4px #fff",padding:24,fontFamily:"'Press Start 2P', monospace",color:"var(--text-primary)",minHeight:400,display:"flex",flexDirection:"row",gap:32,flexWrap:"wrap"},children:[g.jsxs("div",{style:{flex:"1 1 340px",minWidth:320,maxWidth:520,display:"flex",flexDirection:"column",gap:0},children:[g.jsx("h1",{style:{fontFamily:"'Press Start 2P', monospace",color:"var(--accent-green)",fontSize:"1.1rem",textAlign:"center",textTransform:"uppercase",fontWeight:700,letterSpacing:"1px",textShadow:"2px 2px 0 #222",marginBottom:24},children:C?"Editar Lugar Famoso":"Cadastrar Lugar Famoso"}),g.jsx("div",{style:{width:"100%",height:300,marginBottom:16,border:"2px solid #222",boxShadow:"2px 2px 0 #222"},children:g.jsxs(ys,{center:N?[N.lat,N.lng]:[-23.9676,-46.3287],zoom:13,style:{width:"100%",height:"100%"},scrollWheelZoom:!0,children:[g.jsx(xs,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© OpenStreetMap contributors"}),g.jsx(Bd,{onClick:te}),N&&g.jsx(_s,{position:N})]})}),g.jsxs("form",{onSubmit:ae,style:{display:"flex",flexDirection:"column",gap:16},children:[g.jsx("input",{name:"name",value:a.name,onChange:H,placeholder:"Nome",style:cr}),g.jsx("textarea",{name:"description",value:a.description,onChange:H,placeholder:"Descrição",style:{...cr,minHeight:60}}),g.jsx("input",{name:"latitude",value:a.latitude,onChange:H,placeholder:"Latitude",style:cr,type:"number",step:"any"}),g.jsx("input",{name:"longitude",value:a.longitude,onChange:H,placeholder:"Longitude",style:cr,type:"number",step:"any"}),g.jsx("input",{name:"category",value:a.category,onChange:H,placeholder:"Categoria",style:cr}),g.jsx("input",{name:"address",value:a.address,onChange:H,placeholder:"Endereço",style:cr}),g.jsx("input",{name:"imageUrl",value:a.imageUrl,onChange:H,placeholder:"URL da Imagem (ou use upload)",style:cr}),g.jsxs("label",{style:{fontSize:12,color:"#222",fontFamily:"'Press Start 2P', monospace"},children:["Upload de Imagem:",g.jsx("input",{type:"file",accept:"image/*",onChange:ue,style:{marginTop:6,fontFamily:"'Press Start 2P', monospace"}})]}),_&&g.jsx("div",{style:{color:"#888",fontSize:12},children:"Enviando imagem..."}),k&&g.jsx("img",{src:k,alt:"Preview",style:{width:"100%",maxWidth:180,margin:"8px auto",border:"2px solid #222",boxShadow:"2px 2px 0 #222",background:"#fff"}}),g.jsxs("div",{style:{display:"flex",gap:8},children:[g.jsx("button",{type:"submit",disabled:o,style:{...cr,background:"var(--accent-green)",color:"var(--bg-primary)",border:"3px solid #222",cursor:"pointer",fontWeight:700,fontSize:14,marginTop:8},children:o?C?"Salvando...":"Cadastrando...":C?"Salvar":"Cadastrar"}),C&&g.jsx("button",{type:"button",onClick:ve,style:{...cr,background:"var(--accent-red)",color:"var(--bg-primary)",border:"3px solid #222",cursor:"pointer",fontWeight:700,fontSize:14,marginTop:8},children:"Cancelar"})]})]})]}),g.jsxs("div",{style:{flex:"2 1 400px",minWidth:320,maxWidth:900,display:"flex",flexDirection:"column",gap:0,height:"calc(90vh - 80px)",overflowY:"auto",background:"#fff",border:"1px solid #222",borderRadius:0,boxShadow:"2px 2px 0 #222",padding:16},children:[g.jsx("h2",{style:{fontSize:15,color:"#222",marginBottom:12,fontFamily:"'Press Start 2P', monospace",textTransform:"uppercase"},children:"Lugares já cadastrados"}),T.length===0&&g.jsx("div",{style:{color:"#888",fontSize:13},children:"Nenhum lugar cadastrado ainda."}),T.map(re=>g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,borderBottom:"1px dashed #ccc",padding:"8px 0"},children:[g.jsx("img",{src:re.image_url,alt:re.name,style:{width:48,height:48,objectFit:"cover",border:"2px solid #222",background:"#fff",borderRadius:0}}),g.jsxs("div",{style:{flex:1},children:[g.jsx("div",{style:{fontWeight:700,fontSize:13,color:"#222",fontFamily:"'Press Start 2P', monospace"},children:re.name}),g.jsx("div",{style:{fontSize:12,color:"#444",fontFamily:"'VT323', monospace"},children:re.category}),g.jsxs("div",{style:{fontSize:11,color:"#888",fontFamily:"'VT323', monospace"},children:[re.latitude,", ",re.longitude]})]}),g.jsx("button",{onClick:()=>J(re),style:{...cr,background:"var(--accent-yellow)",color:"#222",border:"2px solid #222",fontWeight:700,fontSize:12,cursor:"pointer",padding:"6px 12px",minWidth:60},children:"Editar"})]},re.id))]})]})},cr={fontFamily:"'Press Start 2P', monospace",fontSize:13,border:"2px solid #222",borderRadius:0,padding:"10px 8px",background:"#fff",color:"#222",boxShadow:"2px 2px 0 #222",outline:"none"},s_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",a_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",l_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",u_=6371e3,c_=(a,r,o)=>{const l=r.lng,u=r.lat,h=o.lng,m=o.lat,x=a.lng,_=a.lat,w=Math.pow(h-l,2)+Math.pow(m-u,2);if(w===0)return r;const k=Math.max(0,Math.min(1,((x-l)*(h-l)+(_-u)*(m-u))/w));return new kt.LatLng(u+k*(m-u),l+k*(h-l))},kd=(a,r)=>{const o=a.lat*Math.PI/180,l=r.lat*Math.PI/180,u=(r.lat-a.lat)*Math.PI/180,h=(r.lng-a.lng)*Math.PI/180,m=Math.sin(u/2)*Math.sin(u/2)+Math.cos(o)*Math.cos(l)*Math.sin(h/2)*Math.sin(h/2),x=2*Math.atan2(Math.sqrt(m),Math.sqrt(1-m));return u_*x},hm=(a,r,o="neighborhoods")=>{if(o==="famous_places"){const m=a/1e3,x=Math.max(0,2e3*(1-m/3)),_=r<=5?Math.round(r/5*1e3):0;return{total:Math.round(x+_),distancePoints:Math.round(x),timePoints:_}}const l=a/1e3,u=Math.max(0,1e3*(1-l/10)),h=r<=2?Math.round(r/2*500):0;return{total:Math.round(u+h),distancePoints:Math.round(u),timePoints:h}},sd=(a,r,o)=>{var h,m;const l=r.has((h=a.properties)==null?void 0:h.NOME);return((m=a.properties)==null?void 0:m.NOME)===o&&l?{fillColor:"#00FF00",weight:2,opacity:1,color:"#000000",fillOpacity:.7,dashArray:"3"}:{fillColor:"#32CD32",weight:2,opacity:l?1:0,color:"#000000",fillOpacity:l?.3:0,dashArray:"3"}},hs=15,oo={PERFECT:3e3,EXCELLENT:2e3,GREAT:1750,GOOD:1500,DECENT:1250,FAIR:1e3,CLOSE:750},so={PERFECT:4,EXCELLENT:3.5,GREAT:3,GOOD:2.5,DECENT:2,FAIR:1.5,CLOSE:1},ad=(a,r="neighborhoods")=>{const l=r==="famous_places"?6:4;if(a<500)return 0;const u=(a-500)/2500;return Math.min(l,u*l)},hp=(a,r)=>{const o=a/r*100;return o>60?"#00FF66":o>30?"#FFD700":"#FF4444"},fm=(a,r=0,o=0)=>{const l=a/1e3;if(a===0){const h=["ACERTO PERFEITO!","BULLSEYE!","INCRÍVEL!","PERFEIÇÃO!","FANTÁSTICO!"];return o>=3?`${h[Math.floor(Math.random()*h.length)]} ${o} acertos seguidos!`:h[Math.floor(Math.random()*h.length)]}if(l<.5){const h=["QUASE PERFEITO!","INCRÍVEL!","EXCELENTE!","FANTÁSTICO!","IMPRESSIONANTE!"];return h[Math.floor(Math.random()*h.length)]}if(l<1){const h=["MUITO BOM!","EXCELENTE!","ÓTIMO!","FANTÁSTICO!","IMPRESSIONANTE!"];return h[Math.floor(Math.random()*h.length)]}if(l<2){const h=["BOM!","LEGAL!","OK!","ACEITÁVEL!","RAZOÁVEL!"];return h[Math.floor(Math.random()*h.length)]}if(l<5){const h=["QUASE LÁ!","HMMM!","OPS!","QUASE!","TENTE NOVAMENTE!"];return h[Math.floor(Math.random()*h.length)]}const u=["OPS!","EITA!","UAU!","VENDADO?","CONFUSÃO!"];return u[Math.floor(Math.random()*u.length)]},d_=(a=!1)=>{const[r,o]=P.useState({currentNeighborhood:"",score:0,globalTimeLeft:hs,roundTimeLeft:hs,roundInitialTime:hs,roundNumber:1,gameOver:!1,gameStarted:!1,isCountingDown:!1,isPaused:!1,clickedPosition:null,showFeedback:!1,feedbackOpacity:0,feedbackProgress:0,feedbackMessage:"",revealedNeighborhoods:new Set,clickTime:0,timeBonus:0,isMuted:!1,volume:.5,arrowPath:null,lastClickTime:0,totalDistance:0,gameMode:"neighborhoods"}),l=P.useRef(null);return P.useEffect(()=>{if(r.gameStarted&&!r.gameOver&&r.roundTimeLeft>0&&r.globalTimeLeft>0&&r.isCountingDown&&!r.isPaused&&!a){const _=setInterval(()=>{o(w=>w.roundTimeLeft<=0||w.globalTimeLeft<=0?{...w,gameOver:!0,roundTimeLeft:0,globalTimeLeft:0,showFeedback:!0}:{...w,roundTimeLeft:w.roundTimeLeft-.1,globalTimeLeft:w.globalTimeLeft-.1})},100);return()=>clearInterval(_)}},[r.gameStarted,r.gameOver,r.isCountingDown,r.isPaused,a]),{gameState:r,updateGameState:_=>{o(w=>({...w,..._}))},startGame:()=>{o(_=>{const w=_.gameMode==="famous_places";return{..._,gameStarted:!0,score:0,gameOver:!1,globalTimeLeft:hs,roundTimeLeft:hs,roundInitialTime:hs,roundNumber:1,isCountingDown:!0,isPaused:!1,revealedNeighborhoods:new Set,totalDistance:0,gameMode:_.gameMode||"neighborhoods",currentNeighborhood:w?"":_.currentNeighborhood}})},startNextRound:_=>{console.log("[startNextRound] Iniciando próxima rodada, estado atual:",{isCountingDown:r.isCountingDown,roundNumber:r.roundNumber,globalTimeLeft:r.globalTimeLeft,timeBonus:r.timeBonus});const w=()=>{o(k=>{var I;const E=k.roundNumber+1,T=k.timeBonus||0,A=Math.max(k.globalTimeLeft+T,0);console.log("[startNextRound] Configurando nova rodada:",{nextRoundNumber:E,timeBonus:T,newGlobalTime:A,prevIsCountingDown:k.isCountingDown});const C={clickedPosition:null,arrowPath:null,showFeedback:!1,feedbackOpacity:0,globalTimeLeft:A,roundTimeLeft:A,roundInitialTime:A,roundNumber:E,isCountingDown:!0,timeBonus:0};if(k.gameMode==="famous_places")return{...k,...C,currentNeighborhood:"",revealedNeighborhoods:new Set};{const N=_.features,K=Math.floor(Math.random()*N.length),G=(I=N[K].properties)==null?void 0:I.NOME;return console.log("[startNextRound] Novo bairro selecionado:",G),{...k,...C,currentNeighborhood:G,revealedNeighborhoods:new Set}}})};typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(w):w()},clearFeedbackTimer:()=>{l.current&&(clearTimeout(l.current),l.current=null)},feedbackTimerRef:l}},h_=(a,r)=>{const o=a.lng,l=a.lat;let u=!1;for(let h=0,m=r.length-1;h<r.length;m=h++){const x=r[h].lng,_=r[h].lat,w=r[m].lng,k=r[m].lat;_>l!=k>l&&o<(w-x)*(l-_)/(k-_)+x&&(u=!u)}return u},f_=(a,r="neighborhoods",o=null,l=!1)=>{console.log("[useMapGame] DEBUG - Hook inicializado com:",{geoJsonData:!!a,gameMode:r,currentFamousPlace:!!o,externalPause:l});const u=P.useRef(null),h=P.useRef(!1),m=P.useRef(!1),x=P.useRef(null),_=P.useRef(null),w=P.useRef(null),k=P.useRef(null),E=P.useRef(null),T=P.useRef(null),[A,C]=P.useState(!0),[I,N]=P.useState(!1),[K,G]=P.useState(0),[H,te]=P.useState(!1),[ue,ae]=P.useState(null),{gameState:J,updateGameState:ve,startGame:re,startNextRound:xe,feedbackTimerRef:Pe}=d_(l);return{mapRef:x,geoJsonRef:_,audioRef:w,successSoundRef:k,errorSoundRef:E,isLoading:A,isPaused:I,showPhaseOneMessage:H,distanceCircle:ue,gameState:J,handleMapClick:U=>{if(u.current&&clearTimeout(u.current),h.current){console.log("[useMapGame] Clique ignorado - ainda processando clique anterior");return}if(console.log("[useMapGame] Clique recebido:",{gameStarted:J.gameStarted,isCountingDown:J.isCountingDown,roundNumber:J.roundNumber,gameMode:J.gameMode,showFeedback:J.showFeedback,isPaused:J.isPaused}),console.log("[useMapGame] DEBUG - Estado exato:",{gameStarted:!!J.gameStarted,isCountingDown:!!J.isCountingDown,showFeedback:!!J.showFeedback,isPaused:!!J.isPaused}),!J.gameStarted||!J.isCountingDown){console.log("[useMapGame] Clique ignorado - jogo não iniciado ou não contando"),console.log("[useMapGame] DEBUG - Condições não atendidas:",{gameStarted:J.gameStarted,isCountingDown:J.isCountingDown,showFeedback:J.showFeedback});return}console.log("[useMapGame] ✅ Clique processado - condições atendidas, iniciando processamento"),h.current=!0,u.current=setTimeout(()=>{h.current=!1},100),m.current=!1,console.log("[useMapGame] DEBUG - Flag isAutoAdvancing resetada para false no início do clique");const oe=J.roundInitialTime-J.roundTimeLeft;if((()=>{T.current&&(clearInterval(T.current),T.current=null),Pe.current&&(clearTimeout(Pe.current),Pe.current=null)})(),ve({isCountingDown:!1,isPaused:!0}),r==="famous_places"&&o){const M=kt.latLng(o.latitude,o.longitude),V=kd(U,M),Z=V/1e3;let de=0,se="",ie=null,we=!1;if(Z<=.1){we=!0;const xt=2e3,Ne=J.roundTimeLeft<=5?Math.round(J.roundTimeLeft/5*1e3):0;de=xt+Ne,se=`Acertou! ${o.name}`}else{const xt=Math.max(0,1500*(1-Z/3)),Ne=J.roundTimeLeft<=5?Math.round(J.roundTimeLeft/5*500):0;de=xt+Ne,Z<.5?se="Quase lá! Continue tentando!":Z<1?se="Está no caminho certo!":Z<2?se="Ainda longe, mas continue!":se="Muito longe! Tente novamente!",ie=[U,M]}const ke=J.score+Math.round(de),Oe=oe,qe=ad(de,r),ut=Math.max(J.globalTimeLeft-Oe,0),zt=ut<=0;(()=>{k.current&&(we||V<=500)&&(k.current.currentTime=0,k.current.volume=.7,k.current.play().catch(De=>{console.log("Erro ao tocar som de sucesso:",De)})),E.current&&!we&&V>=700&&(E.current.currentTime=0,E.current.volume=.7,E.current.play().catch(De=>{console.log("Erro ao tocar som de erro:",De)})),ve({clickedPosition:U,clickTime:oe,score:ke,globalTimeLeft:ut,timeBonus:qe,gameOver:zt,showFeedback:!0,feedbackOpacity:1,feedbackProgress:0,feedbackMessage:se,revealedNeighborhoods:we?new Set([...J.revealedNeighborhoods,o.name]):J.revealedNeighborhoods,arrowPath:ie,totalDistance:J.totalDistance+V}),we||setTimeout(()=>{ae({center:U,radius:V})},400);let xt=0;console.log("[useMapGame] DEBUG - Iniciando setInterval para barra de progresso (modo lugares famosos)");const Ne=setInterval(()=>{xt+=3.33,console.log("[useMapGame] DEBUG - Progresso atual:",xt,"%"),xt>=100?(xt=100,clearInterval(Ne),console.log("[useMapGame] DEBUG - setInterval limpo, progresso chegou a 100%"),console.log("[useMapGame] Barra de progresso completa - avançando automaticamente (modo lugares famosos)"),console.log("[useMapGame] DEBUG - geoJsonData:",!!a,"isAutoAdvancing:",m.current),setTimeout(()=>{console.log("[useMapGame] DEBUG - Executando setTimeout para avanço automático (modo lugares famosos)"),a?(console.log("[useMapGame] Iniciando próxima rodada automaticamente (modo lugares famosos)"),xe(a)):console.log("[useMapGame] DEBUG - geoJsonData não disponível para avanço automático")},500)):ve({feedbackProgress:xt})},100)})();return}if(_.current){let M=null,V=null;const Z=_.current.getLayers();Z.forEach(se=>{var we;const ie=se.feature;try{((we=ie.properties)==null?void 0:we.NOME)===J.currentNeighborhood&&(M=se)}catch{}}),Z.forEach(se=>{var ke,Oe,qe,ut;const ie=se.feature,we=se;try{we.getBounds().contains(U)&&(((ke=ie.properties)==null?void 0:ke.NOME)===J.currentNeighborhood?(V=(Oe=ie.properties)==null?void 0:Oe.NOME,se instanceof kt.Polygon&&h_(U,se.getLatLngs()[0])&&(V=(qe=ie.properties)==null?void 0:qe.NOME)):V||(V=(ut=ie.properties)==null?void 0:ut.NOME))}catch{}});const de=V===J.currentNeighborhood;if(de){const se=3e3*Math.pow(J.roundTimeLeft/10,2),ie=J.score+Math.round(se),we=oe,ke=ad(se,r),Oe=Math.max(J.globalTimeLeft-we,0),qe=Oe<=0;setTimeout(()=>{k.current&&(k.current.currentTime=0,k.current.volume=.7,k.current.play().catch(ut=>{console.log("Erro ao tocar som de sucesso:",ut)})),ve({clickedPosition:U,clickTime:oe,score:ie,globalTimeLeft:Oe,timeBonus:ke,gameOver:qe,showFeedback:!0,feedbackOpacity:1,feedbackProgress:0,feedbackMessage:"",revealedNeighborhoods:new Set([...J.revealedNeighborhoods,J.currentNeighborhood]),arrowPath:null,totalDistance:J.totalDistance})},0);return}if(M){const ie=M.getLatLngs()[0];let we=1/0,ke=U;for(let gt=0;gt<ie.length;gt++){const Nt=ie[gt],Jn=ie[(gt+1)%ie.length],fr=c_(U,Nt,Jn),Yn=kd(U,fr);Yn<we&&(we=Yn,ke=fr)}const Oe=we,qe=Oe<10,ut=qe?2500*Math.pow(J.roundTimeLeft/15,2):hm(Oe,J.roundTimeLeft).total,zt=J.score+Math.round(ut),Lt=ut<0?K+Math.abs(ut):K;G(Lt);const xt=!de&&!qe?{center:U,radius:Oe}:null;let Ne="";qe||(Ne=fm(Oe)),E.current&&!de&&Oe>=700&&(E.current.currentTime=0,E.current.volume=.7,E.current.play().catch(gt=>{console.log("Erro ao tocar som de erro:",gt)})),k.current&&Oe<=500&&(k.current.currentTime=0,k.current.volume=.7,k.current.play().catch(gt=>{console.log("Erro ao tocar som de sucesso:",gt)}));const De=oe,Ye=ad(ut,r),Ke=Math.max(J.globalTimeLeft-De,0),Qe=J.totalDistance+Oe,tt=Ke<=0,ct=Lt>60||Qe>6e3,jt=tt||ct;(()=>{if(jt&&E.current&&(E.current.currentTime=0,E.current.volume=.7,E.current.play().catch(Jn=>{console.log("Erro ao tocar game over:",Jn)})),ve({clickedPosition:U,clickTime:oe,score:zt,globalTimeLeft:Ke,timeBonus:Ye,showFeedback:!0,feedbackOpacity:1,feedbackProgress:0,feedbackMessage:Ne,gameOver:jt,revealedNeighborhoods:new Set([...J.revealedNeighborhoods,J.currentNeighborhood]),arrowPath:!de&&!qe?[U,ke]:null,totalDistance:Qe}),Lt>50)return;xt&&setTimeout(()=>{ae(xt)},400);let gt=0;console.log("[useMapGame] DEBUG - Iniciando setInterval para barra de progresso (modo bairros)");const Nt=setInterval(()=>{gt+=3.33,console.log("[useMapGame] DEBUG - Progresso atual:",gt,"%"),gt>=100?(gt=100,clearInterval(Nt),console.log("[useMapGame] DEBUG - setInterval limpo, progresso chegou a 100%"),console.log("[useMapGame] Barra de progresso completa - avançando automaticamente (modo bairros)"),console.log("[useMapGame] DEBUG - geoJsonData:",!!a),setTimeout(()=>{console.log("[useMapGame] DEBUG - Executando setTimeout para avanço automático (modo bairros)"),a?(console.log("[useMapGame] Iniciando próxima rodada automaticamente (modo bairros)"),xe(a)):console.log("[useMapGame] DEBUG - geoJsonData não disponível para avanço automático")},500)):ve({feedbackProgress:gt})},100)})()}}},handleVolumeChange:U=>{const oe=parseFloat(U.target.value);ve({volume:oe}),oe>0&&ve({isMuted:!1})},handleToggleMute:()=>{ve({isMuted:!J.isMuted})},handlePauseGame:()=>{N(!0),T.current&&(clearInterval(T.current),T.current=null),Pe.current&&(clearTimeout(Pe.current),Pe.current=null),w.current&&w.current.pause(),ve({isCountingDown:!1,isPaused:!0})},handleNextRound:U=>{console.log("[handleNextRound] Iniciando próxima rodada, estado atual:",{isCountingDown:J.isCountingDown,gameStarted:J.gameStarted,gameOver:J.gameOver,roundNumber:J.roundNumber}),m.current=!1,console.log("[handleNextRound] DEBUG - Flag isAutoAdvancing resetada para false"),N(!1),w.current&&J.gameStarted&&!J.gameOver&&!J.isMuted&&w.current.play(),Pe.current&&(clearTimeout(Pe.current),Pe.current=null),T.current&&(clearInterval(T.current),T.current=null),console.log("[useMapGame] Restaurando isCountingDown para true (handleNextRound)"),ve({isPaused:!1,isCountingDown:!0,showFeedback:!1,feedbackOpacity:0,feedbackProgress:0,clickedPosition:null,arrowPath:null,revealedNeighborhoods:new Set}),console.log("[handleNextRound] Estado após updateGameState:",{isCountingDown:J.isCountingDown,showFeedback:J.showFeedback}),xe(U)},handleStartGame:()=>{console.log("[handleStartGame] Função chamada"),a?(console.log("[handleStartGame] GeoJSON data disponível, iniciando jogo"),te(!0),setTimeout(()=>{te(!1),re()},1e3)):console.log("[handleStartGame] GeoJSON data não disponível")},setDistanceCircle:ae,updateGameState:ve,gameMode:r}},xu=a=>{const r="/geosantos/",o=a.startsWith("/")?a.slice(1):a,l=`${r}${o}`;return console.log("🌐 getAssetUrl:",{path:a,baseUrl:r,cleanPath:o,finalUrl:l}),l},La=a=>{const r=xu(`assets/images/${a}`);return console.log("🔗 getImageUrl (utils):",{filename:a,url:r}),r},p_=a=>xu(`assets/audio/${a}`),Fr=a=>{const r=xu(`assets/markerclick/${a}`);return console.log("🎭 getSpriteUrl:",{filename:a,url:r,fullPath:`assets/markerclick/${a}`}),r},pm=a=>{const r=xu(`assets/marker_bandeira_lugar_correto/${a}`);return console.log("🏁 getBandeiraCorretaSpriteUrl:",{filename:a,url:r,fullPath:`assets/marker_bandeira_lugar_correto/${a}`}),r},at={size:122,anchorX:25,anchorY:104,fps:25,frameDelay:1e3/25},fp={markerclick:4e3,bandeira_correta:4e3};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),g_=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,o,l)=>l?l.toUpperCase():o.toLowerCase()),pp=a=>{const r=g_(a);return r.charAt(0).toUpperCase()+r.slice(1)},mm=(...a)=>a.filter((r,o,l)=>!!r&&r.trim()!==""&&l.indexOf(r)===o).join(" ").trim(),v_=a=>{for(const r in a)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var y_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=P.forwardRef(({color:a="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:u="",children:h,iconNode:m,...x},_)=>P.createElement("svg",{ref:_,...y_,width:r,height:r,stroke:a,strokeWidth:l?Number(o)*24/Number(r):o,className:mm("lucide",u),...!h&&!v_(x)&&{"aria-hidden":"true"},...x},[...m.map(([w,k])=>P.createElement(w,k)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=(a,r)=>{const o=P.forwardRef(({className:l,...u},h)=>P.createElement(__,{ref:h,iconNode:r,className:mm(`lucide-${m_(pp(a))}`,`lucide-${a}`,l),...u}));return o.displayName=pp(a),o};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],w_=Ue("arrow-left",x_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],k_=Ue("arrow-right",S_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],E_=Ue("award",b_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],T_=Ue("book-open",P_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],L_=Ue("circle-alert",C_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],O_=Ue("circle-check-big",j_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],M_=Ue("circle-question-mark",I_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],R_=Ue("circle-x",A_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],N_=Ue("clock",z_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],F_=Ue("compass",D_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],U_=Ue("crown",B_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],W_=Ue("flag",$_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],Z_=Ue("flame",H_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],G_=Ue("frown",V_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],K_=Ue("gift",q_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Y_=Ue("heart",J_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],gm=Ue("house",Q_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],vm=Ue("landmark",X_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],tx=Ue("lightbulb",ex);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ym=Ue("map-pin",nx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],ix=Ue("map",rx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],sx=Ue("medal",ox);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],lx=Ue("navigation",ax);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],cx=Ue("pause",ux);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],hx=Ue("play",dx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],px=Ue("plus",fx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],gx=Ue("rotate-ccw",mx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yx=Ue("settings",vx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],xx=Ue("share-2",_x);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Sx=Ue("sparkles",wx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],bx=Ue("star",kx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],mp=Ue("target",Ex);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],Tx=Ue("thumbs-up",Px);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Lx=Ue("trophy",Cx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}]],Ox=Ue("volume-1",jx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Mx=Ue("volume-2",Ix);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],Rx=Ue("volume-x",Ax);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Nx=Ue("zap",zx),bt=({name:a,size:r=24,color:o="var(--text-primary)",className:l=""})=>{const u={size:r,color:o,className:`game-icon ${l}`,style:{}};switch(a.toLowerCase()){case"target":return g.jsx(mp,{...u});case"clock":case"time":return g.jsx(N_,{...u});case"zap":case"lightning":case"bonus":return g.jsx(Nx,{...u});case"mappin":case"location":case"distance":return g.jsx(ym,{...u});case"volume2":case"volume-high":return g.jsx(Mx,{...u});case"volume1":case"volume-medium":return g.jsx(Ox,{...u});case"volumex":case"volume-mute":return g.jsx(Rx,{...u});case"trophy":case"winner":return g.jsx(Lx,{...u});case"share2":case"share":return g.jsx(xx,{...u});case"play":case"start":return g.jsx(hx,{...u});case"pause":return g.jsx(cx,{...u});case"rotateccw":case"retry":case"restart":return g.jsx(gx,{...u});case"arrowright":case"next":return g.jsx(k_,{...u});case"home":return g.jsx(gm,{...u});case"settings":return g.jsx(yx,{...u});case"star":return g.jsx(bx,{...u});case"award":return g.jsx(E_,{...u});case"flag":return g.jsx(W_,{...u});case"navigation":return g.jsx(lx,{...u});case"compass":return g.jsx(F_,{...u});case"map":return g.jsx(ix,{...u});case"landmark":return g.jsx(vm,{...u});case"sparkles":case"incredible":return g.jsx(Sx,{...u});case"thumbsup":case"good":return g.jsx(Tx,{...u});case"helpcircle":case"almost":return g.jsx(M_,{...u});case"frown":case"ops":return g.jsx(G_,{...u});case"checkcircle":case"perfect":return g.jsx(O_,{...u});case"xcircle":case"wrong":return g.jsx(R_,{...u});case"alertcircle":case"warning":return g.jsx(L_,{...u});case"heart":return g.jsx(Y_,{...u});case"flame":case"fire":case"streak":return g.jsx(Z_,{...u});case"crown":return g.jsx(U_,{...u});case"medal":return g.jsx(sx,{...u});case"gift":return g.jsx(K_,{...u});case"lightbulb":case"tip":return g.jsx(tx,{...u});default:return g.jsx(mp,{...u})}},bd=({size:a,color:r})=>g.jsx(bt,{name:"target",size:a,color:r}),_m=({size:a,color:r})=>g.jsx(bt,{name:"clock",size:a,color:r}),xm=({size:a,color:r})=>g.jsx(bt,{name:"zap",size:a,color:r}),Dx=({size:a,color:r})=>g.jsx(bt,{name:"mappin",size:a,color:r}),Ud=({size:a,color:r})=>g.jsx(bt,{name:"trophy",size:a,color:r}),Fx=({size:a,color:r})=>g.jsx(bt,{name:"share",size:a,color:r}),Bx=({size:a,color:r})=>g.jsx(bt,{name:"pause",size:a,color:r}),Ux=({size:a,color:r})=>g.jsx(bt,{name:"retry",size:a,color:r}),$x=({size:a,color:r})=>g.jsx(bt,{name:"next",size:a,color:r}),Wx=({size:a,color:r})=>g.jsx(bt,{name:"volume2",size:a,color:r}),gp=({size:a,color:r})=>g.jsx(bt,{name:"volume1",size:a,color:r}),Hx=({size:a,color:r})=>g.jsx(bt,{name:"volumex",size:a,color:r}),wm=({size:a,color:r})=>g.jsx(bt,{name:"x",size:a,color:r}),Zx=({size:a,color:r})=>g.jsx(bt,{name:"check",size:a,color:r}),vp=({size:a,color:r})=>g.jsx(bt,{name:"refresh-cw",size:a,color:r}),ld=({size:a,color:r})=>g.jsx(bt,{name:"medal",size:a,color:r}),Vx=({size:a,color:r})=>g.jsx(bt,{name:"landmark",size:a,color:r}),Gx=({size:a,color:r})=>g.jsx(bt,{name:"helpcircle",size:a,color:r}),qx=({isMuted:a,volume:r,onVolumeChange:o,onToggleMute:l})=>g.jsxs("div",{style:{position:"absolute",top:"clamp(10px, 2vw, 20px)",left:"clamp(10px, 2vw, 20px)",background:"var(--bg-secondary)",border:"none",color:"var(--text-primary)",padding:"clamp(8px, 1.5vw, 12px)",borderRadius:"2px",display:"flex",alignItems:"center",gap:"clamp(5px, 1vw, 10px)",zIndex:1e3,touchAction:"manipulation",boxShadow:"var(--shadow-md)"},children:[g.jsx("button",{onClick:l,style:{background:"none",border:"none",color:"white",cursor:"pointer",padding:"clamp(3px, 1vw, 5px)",display:"flex",alignItems:"center",touchAction:"manipulation"},children:a?g.jsx(Hx,{size:24,color:"var(--text-primary)"}):r>.3?g.jsx(Wx,{size:24,color:"var(--text-primary)"}):r>0?g.jsx(gp,{size:24,color:"var(--text-primary)"}):g.jsx(gp,{size:24,color:"var(--text-primary)"})}),g.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:a?0:r,onChange:o,style:{width:"clamp(60px, 15vw, 100px)",accentColor:"var(--accent-green)",touchAction:"manipulation"}})]}),Kx=({variant:a="game",onClose:r})=>{const[o,l]=P.useState([]),[u,h]=P.useState(!1),[m,x]=P.useState(!1),_=async()=>{h(!0);try{const{data:A,error:C}=await Kn.from("ranking").select("*").order("score",{ascending:!1}).limit(5);if(C){console.error("Erro ao buscar ranking:",C);return}l(A||[])}catch(A){console.error("Erro ao buscar ranking:",A)}finally{h(!1)}};P.useEffect(()=>{_()},[]);const w=A=>{switch(A){case 1:return"🥇";case 2:return"🥈";case 3:return"🥉";default:return"🏆"}},[k,E]=P.useState(!1);P.useEffect(()=>{const A=()=>{E(window.innerWidth<=768)};return A(),window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]);const T=()=>{const A={fontFamily:"'LaCartoonerie', sans-serif",transition:"none",pointerEvents:"auto"};return a==="startScreen"?k?{...A,position:"relative",width:"100%",marginBottom:"20px",border:"4px solid var(--accent-yellow)",borderRadius:"12px",background:"rgba(30, 30, 30, 0.98)",maxHeight:"400px",overflow:"hidden"}:{...A,position:"fixed",bottom:"40px",left:"40px",zIndex:2002,minWidth:"340px",maxWidth:"400px",boxShadow:"var(--shadow-md)",border:"none",borderRadius:"4px",background:"var(--bg-secondary)"}:{...A,position:"fixed",top:"20px",left:"20px",zIndex:1001}};return g.jsx("div",{style:T(),children:g.jsxs("div",{className:"ranking-container",style:{background:a==="startScreen"?"transparent":"var(--bg-secondary)",border:"none",borderRadius:a==="startScreen"?"0":"4px",boxShadow:a==="startScreen"?"none":"var(--shadow-md)",overflow:"hidden",minWidth:m?a==="startScreen"?k?"100%":"340px":"280px":a==="startScreen"?k?"100%":"340px":"200px",maxWidth:m?a==="startScreen"?k?"100%":"400px":"320px":a==="startScreen"?k?"100%":"400px":"220px"},children:[g.jsxs("div",{className:"ranking-header",onClick:()=>x(!m),style:{background:a==="startScreen"?"var(--bg-secondary)":"var(--accent-blue)",color:"var(--text-primary)",padding:a==="startScreen"?k?"12px 16px":"16px 24px":"8px 12px",cursor:"pointer",display:"flex",flexDirection:a==="startScreen"?"column":"row",justifyContent:"center",alignItems:"center",fontWeight:"bold",fontSize:a==="startScreen"?k?"1.3rem":"1.7rem":"1.1rem",textShadow:"none",borderTopLeftRadius:a==="startScreen"?"4px":"0",borderTopRightRadius:a==="startScreen"?"4px":"0",letterSpacing:"1px",boxShadow:a==="startScreen"?"var(--shadow-md)":"none",border:"none"},children:[g.jsx("span",{style:{fontSize:a==="startScreen"?k?"1.5rem":"2.1rem":"1.2rem",marginBottom:a==="startScreen"?"2px":0,textAlign:"center",width:"100%",fontFamily:"'LaCartoonerie', sans-serif"},children:"🏆 RANKING GERAL"}),g.jsx("button",{onClick:A=>{A.stopPropagation(),a==="startScreen"&&r?r():x(!m)},style:{background:"none",border:"none",color:"var(--text-primary)",cursor:"pointer",fontSize:a==="startScreen"?"1.5rem":"1.2rem",padding:"0",width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:a==="startScreen"?"12px":"8px",right:a==="startScreen"?"16px":"8px",zIndex:10},"aria-label":a==="startScreen"?"Fechar ranking":"Expandir/Recolher ranking",children:"✕"})]}),g.jsx("div",{style:{padding:a==="startScreen"?"18px 18px 12px 18px":"8px",background:a==="startScreen"?"rgba(255,255,255,0.08)":"var(--bg-primary)",maxHeight:m?a==="startScreen"?k?"300px":"520px":"400px":a==="startScreen"?k?"200px":"320px":"200px",overflowY:"auto",fontSize:a==="startScreen"?k?"1rem":"1.25rem":"0.9rem",color:"var(--text-primary)"},children:u?g.jsx("div",{style:{textAlign:"center",padding:"20px",color:"var(--text-secondary)",fontSize:"1rem"},children:"Carregando..."}):o.length===0?g.jsx("div",{style:{textAlign:"center",padding:"20px",color:"var(--text-secondary)",fontSize:"1rem"},children:"Nenhum jogador ainda"}):g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:o.map((A,C)=>g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",background:C===0?"rgba(16, 185, 129, 0.1)":C===1?"rgba(192, 192, 192, 0.1)":C===2?"rgba(205, 127, 50, 0.1)":"transparent",border:C<3?"1px solid var(--accent-green)":"1px solid transparent",borderRadius:"4px",fontFamily:"'LaCartoonerie', sans-serif"},children:[g.jsx("span",{style:{fontSize:"1.1rem",minWidth:"20px",textAlign:"center"},children:w(C+1)}),g.jsx("div",{style:{flex:1,minWidth:0,overflow:"hidden",fontFamily:"'LaCartoonerie', sans-serif"},children:g.jsx("div",{style:{color:"var(--text-primary)",fontWeight:"bold",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"1rem",fontFamily:"'LaCartoonerie', sans-serif"},children:A.player_name})}),g.jsx("div",{style:{color:"var(--accent-green)",fontWeight:"bold",fontSize:"1rem",textAlign:"right",minWidth:"50px",fontFamily:"'LaCartoonerie', sans-serif"},children:A.score.toLocaleString()})]},A.id))})}),m&&g.jsxs("div",{style:{padding:"6px 8px",background:"var(--bg-secondary)",borderTop:"none",fontSize:"0.8rem",color:"var(--text-secondary)",textAlign:"center"},children:["Clique para ",m?"recolher":"expandir"]})]})})},ud={name:"",description:"",latitude:"",longitude:"",category:"",address:"",imageUrl:"",suggestedBy:"",email:"",reason:""},Jx=new yu.Icon({iconUrl:"https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/images/marker-icon.png",iconSize:[32,48],iconAnchor:[16,48],popupAnchor:[0,-48]}),Sm=({onClose:a})=>{const[r,o]=P.useState(ud),[l,u]=P.useState(!1),[h,m]=P.useState(null),[x,_]=P.useState(null),[w,k]=P.useState(null),E=I=>{o({...r,[I.target.name]:I.target.value})},T=I=>{k(I),o(N=>({...N,latitude:I.lat.toString(),longitude:I.lng.toString()}))},A=async I=>{I.preventDefault(),u(!0),m(null),_(null);try{if(!r.name||!r.latitude||!r.longitude){_("Preencha pelo menos nome, latitude e longitude!"),u(!1);return}const N=`
Nova sugestão de lugar famoso para o GeoSantos!

Dados do lugar:
- Nome: ${r.name}
- Descrição: ${r.description}
- Categoria: ${r.category}
- Endereço: ${r.address}
- Coordenadas: ${r.latitude}, ${r.longitude}
- URL da imagem: ${r.imageUrl}

Dados de quem sugeriu:
- Nome: ${r.suggestedBy}
- Email: ${r.email}
- Motivo da sugestão: ${r.reason}

---
Enviado automaticamente pelo formulário de sugestões do GeoSantos
      `,K=`mailto:heric.moura@unifesp.br?subject=Sugestão de lugar famoso: ${r.name}&body=${encodeURIComponent(N)}`;window.open(K,"_blank"),m("Sugestão enviada com sucesso! Obrigado por contribuir com o GeoSantos!"),o(ud),k(null),setTimeout(()=>{a()},3e3)}catch(N){_("Erro inesperado: "+N.message)}finally{u(!1)}},C=()=>{o(ud),k(null),m(null),_(null),a()};return r.latitude&&parseFloat(r.latitude),r.longitude&&parseFloat(r.longitude),g.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px",boxSizing:"border-box"},children:g.jsxs("div",{style:{maxWidth:1200,width:"100%",maxHeight:"90vh",background:"var(--bg-secondary)",border:"4px solid var(--accent-blue)",borderRadius:"var(--radius-lg)",boxShadow:"var(--shadow-xl)",padding:32,fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-primary)",display:"flex",flexDirection:"row",gap:32,flexWrap:"wrap",overflowY:"auto",position:"relative"},children:[g.jsxs("div",{style:{flex:"1 1 400px",minWidth:320,maxWidth:600,display:"flex",flexDirection:"column",gap:0},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:24,gap:16},children:[g.jsxs("button",{onClick:a,style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",background:"var(--bg-accent)",border:"none",borderRadius:"4px",color:"var(--text-primary)",cursor:"pointer",fontFamily:"'LaCartoonerie', sans-serif",fontSize:"0.9rem",fontWeight:"bold",textTransform:"uppercase",transition:"all 0.2s ease",boxShadow:"2px 2px 0 #222"},onMouseEnter:I=>{I.currentTarget.style.background="var(--accent-blue)",I.currentTarget.style.color="var(--bg-primary)",I.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:I=>{I.currentTarget.style.background="var(--bg-accent)",I.currentTarget.style.color="var(--text-primary)",I.currentTarget.style.transform="translateY(0)"},children:[g.jsx(w_,{size:16}),"Voltar"]}),g.jsx("h1",{style:{fontFamily:"'LaCartoonerie', sans-serif",color:"var(--accent-green)",fontSize:"1.3rem",textAlign:"center",textTransform:"uppercase",fontWeight:"bold",letterSpacing:"1px",textShadow:"2px 2px 0 #222",margin:0,flex:1},children:"Sugerir Novo Lugar"}),g.jsx("p",{style:{fontSize:"1rem",color:"var(--text-secondary)",textAlign:"center",fontFamily:"'LaCartoonerie', sans-serif",lineHeight:1.5,margin:"16px 0 0 0",maxWidth:"600px"},children:"Conhece um lugar interessante em Santos que deveria estar no jogo? Sugira novos pontos turísticos, locais históricos ou lugares especiais para que outros jogadores possam descobrir!"}),g.jsx("div",{style:{width:"80px"}})]}),g.jsx("div",{style:{width:"100%",height:300,marginBottom:16,border:"2px solid var(--text-primary)",borderRadius:"var(--radius-md)",boxShadow:"var(--shadow-md)",overflow:"hidden"},children:g.jsxs(ys,{center:w?[w.lat,w.lng]:[-23.9676,-46.3287],zoom:13,style:{width:"100%",height:"100%"},scrollWheelZoom:!0,children:[g.jsx(xs,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© OpenStreetMap contributors"}),g.jsx(Bd,{onClick:T}),w&&g.jsx(_s,{position:w,icon:Jx})]})}),g.jsxs("form",{onSubmit:A,style:{display:"flex",flexDirection:"column",gap:16},children:[g.jsx("input",{name:"name",value:r.name,onChange:E,placeholder:"Nome do lugar",style:An,required:!0}),g.jsx("textarea",{name:"description",value:r.description,onChange:E,placeholder:"Descrição do lugar",style:{...An,minHeight:60}}),g.jsx("input",{name:"latitude",value:r.latitude,onChange:E,placeholder:"Latitude (clique no mapa)",style:An,type:"number",step:"any",required:!0}),g.jsx("input",{name:"longitude",value:r.longitude,onChange:E,placeholder:"Longitude (clique no mapa)",style:An,type:"number",step:"any",required:!0}),g.jsx("input",{name:"category",value:r.category,onChange:E,placeholder:"Categoria (ex: Turístico, Histórico, Cultural)",style:An}),g.jsx("input",{name:"address",value:r.address,onChange:E,placeholder:"Endereço completo",style:An}),g.jsx("input",{name:"imageUrl",value:r.imageUrl,onChange:E,placeholder:"URL da imagem (opcional)",style:An}),g.jsxs("div",{style:{borderTop:"2px solid var(--accent-blue)",paddingTop:20,marginTop:16,borderRadius:"var(--radius-sm)"},children:[g.jsx("input",{name:"suggestedBy",value:r.suggestedBy,onChange:E,placeholder:"Seu nome",style:An,required:!0}),g.jsx("input",{name:"email",value:r.email,onChange:E,placeholder:"Seu email",style:An,type:"email",required:!0}),g.jsx("textarea",{name:"reason",value:r.reason,onChange:E,placeholder:"Por que você sugere este lugar? (opcional)",style:{...An,minHeight:60}})]}),x&&g.jsx("div",{style:{color:"var(--accent-red)",fontSize:"0.9rem",fontFamily:"'LaCartoonerie', sans-serif",padding:"12px",background:"rgba(239, 68, 68, 0.1)",border:"2px solid var(--accent-red)",borderRadius:"var(--radius-md)",marginTop:8},children:x}),h&&g.jsx("div",{style:{color:"var(--accent-green)",fontSize:"0.9rem",fontFamily:"'LaCartoonerie', sans-serif",padding:"12px",background:"rgba(16, 185, 129, 0.1)",border:"2px solid var(--accent-green)",borderRadius:"var(--radius-md)",marginTop:8},children:h}),g.jsxs("div",{style:{display:"flex",gap:8},children:[g.jsx("button",{type:"submit",disabled:l,style:{...An,background:"var(--accent-green)",color:"var(--bg-primary)",border:"3px solid #222",cursor:"pointer",fontWeight:"bold",fontSize:14,marginTop:8,flex:1,fontFamily:"'LaCartoonerie', sans-serif",textTransform:"uppercase",transition:"all 0.2s ease"},onMouseEnter:I=>{l||(I.currentTarget.style.transform="translateY(-2px)",I.currentTarget.style.boxShadow="4px 4px 0 #222")},onMouseLeave:I=>{l||(I.currentTarget.style.transform="translateY(0)",I.currentTarget.style.boxShadow="2px 2px 0 #222")},children:l?"Enviando...":"Enviar Sugestão"}),g.jsx("button",{type:"button",onClick:C,style:{...An,background:"var(--bg-accent)",color:"var(--text-primary)",border:"2px solid var(--text-primary)",cursor:"pointer",fontWeight:"bold",fontSize:14,marginTop:8,fontFamily:"'LaCartoonerie', sans-serif",textTransform:"uppercase",transition:"all 0.2s ease"},onMouseEnter:I=>{I.currentTarget.style.background="var(--accent-red)",I.currentTarget.style.color="var(--bg-primary)",I.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:I=>{I.currentTarget.style.background="var(--bg-accent)",I.currentTarget.style.color="var(--text-primary)",I.currentTarget.style.transform="translateY(0)"},children:"Cancelar"})]})]})]}),g.jsxs("div",{style:{flex:"1 1 300px",minWidth:280,maxWidth:500,display:"flex",flexDirection:"column",gap:16,background:"var(--bg-accent)",border:"2px solid var(--accent-orange)",borderRadius:"var(--radius-md)",boxShadow:"var(--shadow-lg)",padding:24},children:[g.jsx("h2",{style:{fontSize:"1.2rem",color:"var(--accent-orange)",fontFamily:"'LaCartoonerie', sans-serif",textTransform:"uppercase",textAlign:"center",fontWeight:"bold",letterSpacing:"1px",marginBottom:8},children:"Como Sugerir"}),g.jsxs("div",{style:{fontSize:"1rem",color:"var(--text-primary)",fontFamily:"'LaCartoonerie', sans-serif",lineHeight:1.6},children:[g.jsxs("p",{style:{marginBottom:"16px"},children:[g.jsx("strong",{children:"1. Clique no mapa"})," para selecionar a localização exata do lugar"]}),g.jsxs("p",{style:{marginBottom:"16px"},children:[g.jsx("strong",{children:"2. Preencha os dados"})," do lugar (nome, descrição, categoria, etc.)"]}),g.jsxs("p",{style:{marginBottom:"16px"},children:[g.jsx("strong",{children:"3. Adicione seus dados"})," para que possamos entrar em contato"]}),g.jsxs("p",{style:{marginBottom:"16px"},children:[g.jsx("strong",{children:'4. Clique em "Enviar Sugestão"'})," para abrir seu cliente de email"]})]}),g.jsxs("div",{style:{background:"var(--bg-secondary)",border:"2px solid var(--accent-green)",borderRadius:"var(--radius-md)",padding:"16px",fontSize:"0.9rem",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-primary)"},children:[g.jsx("strong",{style:{color:"var(--accent-green)"},children:"💡 Dicas:"}),g.jsxs("ul",{style:{margin:"12px 0 0 20px",padding:0,lineHeight:1.5},children:[g.jsx("li",{children:"Lugares históricos e culturais são prioridade"}),g.jsx("li",{children:"Inclua uma imagem se possível"}),g.jsx("li",{children:"Descreva por que o lugar é importante"}),g.jsx("li",{children:"Verifique se as coordenadas estão corretas"})]})]}),g.jsxs("div",{style:{background:"var(--bg-secondary)",border:"2px solid var(--accent-orange)",borderRadius:"var(--radius-md)",padding:"16px",fontSize:"0.9rem",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-primary)"},children:[g.jsx("strong",{style:{color:"var(--accent-orange)"},children:"⚠️ Importante:"}),g.jsx("br",{}),"Sua sugestão será analisada pela equipe do GeoSantos. Lugares aprovados serão adicionados ao jogo em futuras atualizações."]})]})]})})},An={fontFamily:"'LaCartoonerie', sans-serif",fontSize:"1rem",border:"2px solid var(--text-primary)",borderRadius:"var(--radius-md)",padding:"12px 16px",background:"var(--bg-primary)",color:"var(--text-primary)",boxShadow:"var(--shadow-md)",outline:"none",transition:"all 0.2s ease",width:"100%",boxSizing:"border-box"},Yx="/geosantos/assets/background-BDwexB69.webm",Qx=({onStartGame:a,onShowLeaderboard:r,highScore:o=0,totalGames:l=0,averageScore:u=0,onSelectMode:h})=>{const[m,x]=P.useState(0),[_,w]=P.useState(!1),[k,E]=P.useState(!1),[T,A]=P.useState(null),[C,I]=P.useState(!0),[N,K]=P.useState(!1),[G,H]=P.useState(!1),te=P.useRef(null),ue=P.useRef(null),ae=P.useMemo(()=>[{id:"play_neighborhoods",label:"BAIRROS",icon:ym,action:()=>{console.log("[StartScreen] Modo Bairros selecionado"),console.log("[StartScreen] Chamando onSelectMode com neighborhoods"),h==null||h("neighborhoods"),console.log("[StartScreen] Chamando onStartGame"),a()},description:"Clique no mapa onde você acha que está o bairro. Quanto mais próximo da localização correta, mais pontos você ganha!"},{id:"play_famous_places",label:"LUGARES FAMOSOS",icon:Vx,action:()=>{console.log("[StartScreen] Modo Lugares Famosos selecionado"),console.log("[StartScreen] Chamando onSelectMode com famous_places"),h==null||h("famous_places"),console.log("[StartScreen] Chamando onStartGame"),a()},description:"Localize pontos turísticos e lugares históricos de Santos. Teste seus conhecimentos sobre a cidade!"},{id:"leaderboard",label:"VER RANKING",icon:Ud,action:r,description:"Veja as maiores pontuações e descubra sua posição no ranking dos melhores jogadores."}],[a,r,h]),J=P.useMemo(()=>[{id:"wiki",label:"WIKI-GEOSANTOS",icon:T_,action:()=>{window.location.href="/geosantos/lugares-famosos"},description:"Explore informações e curiosidades sobre os lugares do jogo.",as:gs,to:"/lugares-famosos"},{id:"suggest_place",label:"SUGERIR NOVO LOCAL",icon:px,action:()=>{K(!0)},description:"Sugira novos lugares para serem adicionados ao jogo.",as:"button"},{id:"controls",label:"CONTROLES",icon:()=>g.jsx("span",{style:{fontSize:"16px"},children:"🎮"}),action:()=>{},description:"Veja os controles do mapa.",as:"button",onMouseEnter:()=>H(!0),onMouseLeave:()=>H(!1)}],[]),ve=P.useCallback(le=>{var $e,Fe,_e,je;const ze=ae.length+J.length;if(le.key==="ArrowUp")le.preventDefault(),x(U=>U>0?U-1:ze-1);else if(le.key==="ArrowDown")le.preventDefault(),x(U=>U<ze-1?U+1:0);else if(le.key==="Enter"||le.key===" ")if(le.preventDefault(),m<ae.length)(Fe=($e=ae[m]).action)==null||Fe.call($e);else{const U=m-ae.length;(je=(_e=J[U]).action)==null||je.call(_e)}},[ae,J,m]),re=P.useCallback(()=>{const le=te.current,ze=ue.current;if(le&&ze&&le.videoWidth>0&&le.videoHeight>0){ze.width=le.videoWidth,ze.height=le.videoHeight;const $e=ze.getContext("2d");if($e){$e.drawImage(le,0,0,ze.width,ze.height);const Fe=ze.toDataURL("image/jpeg",.8);A(Fe)}}},[]),xe=P.useCallback(()=>{re(),w(!0)},[re]),Pe=P.useCallback(()=>{E(!0),console.warn("Erro ao carregar vídeo de background")},[]);return P.useEffect(()=>(document.addEventListener("keydown",ve),()=>document.removeEventListener("keydown",ve)),[ve]),P.useEffect(()=>{const le=te.current;if(le)return le.addEventListener("loadeddata",xe),le.addEventListener("error",Pe),le.addEventListener("canplay",re),()=>{le.removeEventListener("loadeddata",xe),le.removeEventListener("error",Pe),le.removeEventListener("canplay",re)}},[xe,Pe,re]),g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",overflow:"hidden",zIndex:0},children:[g.jsx("canvas",{ref:ue,style:{position:"absolute",top:"-9999px",left:"-9999px",width:"1px",height:"1px"}}),T&&g.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100vw",height:"100vh",backgroundImage:`url(${T})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",opacity:_&&!k?0:1,transition:"opacity 0.5s ease-in-out",zIndex:1}}),g.jsxs("video",{ref:te,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,style:{width:"100vw",height:"100vh",objectFit:"cover",position:"absolute",top:0,left:0,opacity:_&&!k?1:0,transition:"opacity 0.5s ease-in-out",zIndex:2},children:[g.jsx("source",{src:Yx,type:"video/webm"}),"Seu navegador não suporta vídeo em background."]})]}),g.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:4,padding:"20px",boxSizing:"border-box"},children:[g.jsx("div",{style:{textAlign:"center",marginBottom:"10px"},children:g.jsxs("h1",{style:{fontSize:"clamp(6.5rem, 26vw, 12rem)",fontFamily:"'LaCartoonerie', sans-serif",margin:"0",animation:"titleFloat 5s ease-in-out infinite",filter:"drop-shadow(3px 3px 0px #fff) drop-shadow(-3px -3px 0px #fff) drop-shadow(3px -3px 0px #fff) drop-shadow(-3px 3px 0px #fff)",fontWeight:"bold",lineHeight:1.2},children:[g.jsx("span",{style:{color:"#22c55e"},children:"Geo"}),g.jsx("span",{style:{color:"#3b82f6"},children:"Santos"})]})}),(o>0||l>0)&&g.jsxs("div",{style:{display:"flex",gap:"20px",flexWrap:"wrap",justifyContent:"center",marginBottom:"-50px"},children:[o>0&&g.jsxs("div",{style:{background:"var(--bg-secondary)",border:"2px solid var(--accent-green)",borderRadius:"4px",padding:"12px 16px",textAlign:"center",boxShadow:"var(--shadow-md)"},children:[g.jsx("div",{style:{fontSize:"clamp(0.8rem, 2vw, 1rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-secondary)",marginBottom:"4px"},children:"MELHOR PONTUAÇÃO"}),g.jsx("div",{style:{fontSize:"clamp(1.2rem, 3vw, 1.8rem)",fontFamily:"'VT323', monospace",color:"var(--accent-green)",fontWeight:"bold"},children:o.toLocaleString()})]}),l>0&&g.jsxs("div",{style:{background:"var(--bg-secondary)",border:"2px solid var(--accent-blue)",borderRadius:"4px",padding:"12px 16px",textAlign:"center",boxShadow:"var(--shadow-md)"},children:[g.jsx("div",{style:{fontSize:"clamp(0.8rem, 2vw, 1rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-secondary)",marginBottom:"4px"},children:"JOGOS JOGADOS"}),g.jsx("div",{style:{fontSize:"clamp(1.2rem, 3vw, 1.8rem)",fontFamily:"'VT323', monospace",color:"var(--accent-blue)",fontWeight:"bold"},children:l})]}),u>0&&g.jsxs("div",{style:{background:"var(--bg-secondary)",border:"2px solid var(--accent-orange)",borderRadius:"4px",padding:"12px 16px",textAlign:"center",boxShadow:"var(--shadow-md)"},children:[g.jsx("div",{style:{fontSize:"clamp(0.8rem, 2vw, 1rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-secondary)",marginBottom:"4px"},children:"MÉDIA"}),g.jsx("div",{style:{fontSize:"clamp(1.2rem, 3vw, 1.8rem)",fontFamily:"'VT323', monospace",color:"var(--accent-orange)",fontWeight:"bold"},children:Math.round(u)})]})]}),g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px",minWidth:"300px",alignItems:"center",marginTop:"-20px"},children:ae.map((le,ze)=>{const $e=le.icon,Fe=ze===m,_e={display:"flex",alignItems:"center",justifyContent:"center",gap:"16px",padding:"16px 24px",background:Fe?"var(--accent-blue)":"var(--bg-secondary)",border:"none",borderRadius:"4px",color:Fe?"var(--bg-primary)":"var(--text-primary)",cursor:"pointer",transition:"all 0.2s ease",fontFamily:"'LaCartoonerie', sans-serif",fontWeight:400,textTransform:"uppercase",letterSpacing:"1px",boxShadow:Fe?"var(--shadow-lg)":"var(--shadow-md)",transform:Fe?"translate(-2px, -2px)":"translate(0, 0)",position:"relative",overflow:"hidden",opacity:1,textDecoration:"none",width:"100%"};return g.jsxs("button",{style:_e,onClick:le.action,onMouseEnter:()=>x(ze),onMouseLeave:()=>x(0),children:[g.jsx($e,{size:24,color:Fe?"var(--bg-primary)":"var(--text-primary)"}),g.jsx("div",{style:{fontSize:"clamp(0.9rem, 2.2vw, 1.1rem)",fontWeight:"bold",lineHeight:1.2},children:le.label})]},le.id)})}),g.jsx("div",{style:{display:"flex",gap:"12px",marginTop:"20px",justifyContent:"center"},children:J.map((le,ze)=>{const $e=le.icon,Fe=le.as||"button",_e=m===ae.length+ze,je={display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"8px 16px",background:_e?"var(--accent-blue)":"var(--bg-accent)",border:"none",borderRadius:"4px",color:_e?"var(--bg-primary)":"var(--text-primary)",cursor:"pointer",transition:"all 0.2s ease",fontFamily:"'LaCartoonerie', sans-serif",fontSize:"clamp(0.7rem, 1.5vw, 0.8rem)",fontWeight:400,textTransform:"uppercase",letterSpacing:"1px",boxShadow:_e?"var(--shadow-lg)":"var(--shadow-md)",textDecoration:"none",transform:_e?"translateY(-2px)":"translateY(0)"},U=g.jsxs(g.Fragment,{children:[g.jsx($e,{size:16,color:"var(--text-primary)"}),le.label]});return Fe===gs?g.jsx(gs,{style:je,to:le.to,onMouseEnter:oe=>{oe.currentTarget.style.background="var(--accent-blue)",oe.currentTarget.style.color="var(--bg-primary)",oe.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:oe=>{oe.currentTarget.style.background="var(--bg-accent)",oe.currentTarget.style.color="var(--text-primary)",oe.currentTarget.style.transform="translateY(0)"},children:U},le.id):g.jsx("button",{style:je,onClick:le.action,onMouseEnter:oe=>{var q;oe.currentTarget.style.background="var(--accent-blue)",oe.currentTarget.style.color="var(--bg-primary)",oe.currentTarget.style.transform="translateY(-2px)",x(ae.length+ze),(q=le.onMouseEnter)==null||q.call(le)},onMouseLeave:oe=>{var q;m!==ae.length+ze&&(oe.currentTarget.style.background="var(--bg-accent)",oe.currentTarget.style.color="var(--text-primary)",oe.currentTarget.style.transform="translateY(0)"),(q=le.onMouseLeave)==null||q.call(le)},children:U},le.id)})}),g.jsxs("div",{style:{textAlign:"center",maxWidth:"600px",padding:"20px",background:"var(--bg-secondary)",border:"none",borderRadius:"4px",boxShadow:"var(--shadow-md)",marginTop:"40px"},children:[g.jsx("h3",{style:{fontSize:"clamp(1rem, 2.5vw, 1.3rem)",margin:"0 0 12px 0",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--accent-yellow)",textTransform:"uppercase"},children:"COMO JOGAR"}),g.jsxs("div",{style:{fontSize:"clamp(1rem, 2vw, 1.1rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-primary)",lineHeight:1.4},children:[g.jsx("p",{style:{margin:"15px 0"},children:"• Clique no mapa onde você acha que está o bairro"}),g.jsx("p",{style:{margin:"15px 0"},children:"• Quanto mais próximo, mais pontos você ganha"}),g.jsx("p",{style:{margin:"15px 0"},children:"• Quanto mais rápido, mais bônus de tempo"}),g.jsx("p",{style:{margin:"15px 0"},children:"• Use as setas do teclado para navegar no menu"}),G&&g.jsxs("div",{style:{position:"fixed",bottom:"80px",right:"20px",padding:"15px",background:"var(--bg-secondary)",borderRadius:"4px",border:"2px solid var(--accent-green)",boxShadow:"var(--shadow-xl)",animation:"fadeIn 0.3s ease-in",zIndex:1e3,minWidth:"280px"},children:[g.jsx("h4",{style:{fontSize:"clamp(0.9rem, 2vw, 1rem)",margin:"0 0 10px 0",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--accent-green)",textTransform:"uppercase",fontWeight:"bold",textAlign:"center"},children:"🎮 CONTROLES DO MAPA"}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"6px",fontSize:"clamp(0.75rem, 1.6vw, 0.85rem)"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[g.jsx("span",{style:{color:"var(--accent-green)",fontWeight:"bold",fontSize:"1.1em"},children:"Z"}),g.jsx("span",{children:"Zoom In"})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[g.jsx("span",{style:{color:"var(--accent-green)",fontWeight:"bold",fontSize:"1.1em"},children:"X"}),g.jsx("span",{children:"Zoom Out"})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[g.jsx("span",{style:{color:"var(--accent-blue)",fontWeight:"bold",fontSize:"1.1em"},children:"↑"}),g.jsx("span",{children:"Mover ↑"})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[g.jsx("span",{style:{color:"var(--accent-blue)",fontWeight:"bold",fontSize:"1.1em"},children:"↓"}),g.jsx("span",{children:"Mover ↓"})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[g.jsx("span",{style:{color:"var(--accent-blue)",fontWeight:"bold",fontSize:"1.1em"},children:"←"}),g.jsx("span",{children:"Mover ←"})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[g.jsx("span",{style:{color:"var(--accent-blue)",fontWeight:"bold",fontSize:"1.1em"},children:"→"}),g.jsx("span",{children:"Mover →"})]})]})]})]})]}),g.jsx("div",{style:{textAlign:"center",fontSize:"clamp(1rem, 2.5vw, 1.3rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"#000000",marginTop:"20px"},children:g.jsxs("p",{style:{margin:"4px 0",textShadow:"2px 2px 0px #fff, -2px -2px 0px #fff, 2px -2px 0px #fff, -2px 2px 0px #fff"},children:["Desenvolvido por"," ",g.jsx("a",{href:"https://hericmr.github.io/me/",target:"_blank",rel:"noopener noreferrer",style:{color:"#000000",textDecoration:"none",textShadow:"2px 2px 0px #fff, -2px -2px 0px #fff, 2px -2px 0px #fff, -2px 2px 0px #fff",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:le=>{le.currentTarget.style.color="#0066CC"},onMouseLeave:le=>{le.currentTarget.style.color="#000000"},children:"hericmr"})]})}),g.jsxs("div",{style:{position:"absolute",bottom:"20px",left:"20px",right:"20px",width:"calc(100% - 40px)",display:"flex",justifyContent:"space-between",alignItems:"flex-end",pointerEvents:"none"},children:[g.jsx("div",{style:{pointerEvents:"auto"},children:C&&g.jsx(Kx,{variant:"startScreen",onClose:()=>I(!1)})}),g.jsxs("div",{style:{pointerEvents:"auto",width:"320px",padding:"20px",background:"var(--bg-secondary)",border:"none",borderRadius:"4px",boxShadow:"var(--shadow-md)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-primary)",transition:"opacity 0.3s ease, transform 0.3s ease",opacity:m>=0?1:0,transform:m>=0?"translateY(0)":"translateY(20px)",visibility:m>=0?"visible":"hidden"},children:[g.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"clamp(1.1rem, 2.5vw, 1.4rem)",color:"var(--accent-yellow)",textTransform:"uppercase"},children:m<ae.length?ae[m].label:J[m-ae.length].label}),g.jsx("p",{style:{margin:0,fontSize:"clamp(1rem, 2vw, 1.1rem)",lineHeight:1.4},children:m<ae.length?ae[m].description:J[m-ae.length].description})]})]})]}),N&&g.jsx(Sm,{onClose:()=>K(!1)}),g.jsx("style",{children:`
          @keyframes titleFloat {
            0%, 100% {
              transform: translateY(0) rotate(-1deg);
            }
            50% {
              transform: translateY(-8px) rotate(1deg);
            }
          }
          
          @keyframes titleGlow {
            0%, 100% {
              filter: drop-shadow(0 0 5px var(--accent-yellow));
            }
            50% {
              filter: drop-shadow(0 0 15px var(--accent-yellow)) drop-shadow(0 0 25px var(--accent-yellow));
            }
          }
        `})]})},yp="geosantos_stats",Xx=()=>{const[a,r]=P.useState({highScore:0,totalGames:0,totalScore:0,averageScore:0,bestTime:0,totalPlayTime:0,gamesWon:0,gamesLost:0,winRate:0});P.useEffect(()=>{const _=localStorage.getItem(yp);if(_)try{const w=JSON.parse(_);r(w)}catch(w){console.error("Erro ao carregar estatísticas:",w)}},[]);const o=_=>{try{localStorage.setItem(yp,JSON.stringify(_)),r(_)}catch(w){console.error("Erro ao salvar estatísticas:",w)}},l=async(_,w,k,E,T,A)=>{const C={...a};_>C.highScore&&(C.highScore=_),w>C.bestTime&&(C.bestTime=w),C.totalGames+=1,C.totalScore+=_,C.totalPlayTime+=w,k?C.gamesWon+=1:C.gamesLost+=1,C.averageScore=Math.round(C.totalScore/C.totalGames),C.winRate=Math.round(C.gamesWon/C.totalGames*100),o(C);try{return await uo.addScore({player_name:E,score:_,play_time:w,rounds_played:T,accuracy:A}),!0}catch(I){return console.error("Erro ao salvar no ranking:",I),!1}},u=async(_,w,k,E,T)=>{try{return await uo.addScore({player_name:_,score:w,play_time:k,rounds_played:E,accuracy:T}),!0}catch(A){return console.error("Erro ao salvar no ranking:",A),!1}},h=()=>{o({highScore:0,totalGames:0,totalScore:0,averageScore:0,bestTime:0,totalPlayTime:0,gamesWon:0,gamesLost:0,winRate:0})},m=()=>({highScore:a.highScore.toLocaleString(),totalGames:a.totalGames.toLocaleString(),averageScore:a.averageScore.toLocaleString(),bestTime:x(a.bestTime),totalPlayTime:x(a.totalPlayTime),gamesWon:a.gamesWon.toLocaleString(),gamesLost:a.gamesLost.toLocaleString(),winRate:`${a.winRate}%`}),x=_=>{const w=Math.floor(_/60),k=_%60;return`${w.toString().padStart(2,"0")}:${k.toString().padStart(2,"0")}`};return{stats:a,addGameResult:l,saveToRanking:u,resetStats:h,getFormattedStats:m}},_p="geosantos_player_name",km=()=>{const[a,r]=P.useState("");return P.useEffect(()=>{const u=localStorage.getItem(_p);u&&r(u)},[]),{playerName:a,savePlayerName:u=>{const h=u.trim();h&&(localStorage.setItem(_p,h),r(h))},initializePlayerName:()=>a||"Seu nome"}},ew=({isOpen:a,onClose:r,currentPlayerScore:o,currentPlayerName:l})=>{const[u,h]=P.useState([]),[m,x]=P.useState(!0),[_,w]=P.useState(null),[k,E]=P.useState(null),T=async()=>{x(!0),w(null);try{const C=await uo.getTopPlayers(20);if(h(C),l&&o){const I=await uo.getPlayerPosition(l,o);E(I)}}catch(C){w("Erro ao carregar ranking"),console.error("Erro ao carregar ranking:",C)}finally{x(!1)}};P.useEffect(()=>{a&&T()},[a]);const A=C=>{switch(C){case 1:return g.jsx(ld,{size:20,color:"#FFD700"});case 2:return g.jsx(ld,{size:20,color:"#C0C0C0"});case 3:return g.jsx(ld,{size:20,color:"#CD7F32"});default:return g.jsxs("span",{style:{fontSize:"1.2rem",fontWeight:"bold"},children:["#",C]})}};return a?g.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10001,padding:"20px",boxSizing:"border-box"},children:g.jsxs("div",{style:{background:"var(--bg-secondary)",border:"none",borderRadius:"4px",padding:"24px",maxWidth:"800px",width:"100%",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:"var(--shadow-xl)",position:"relative",animation:"modalSlideIn 0.3s ease-out"},children:[g.jsx("style",{children:`
            @keyframes modalSlideIn {
              0% {
                transform: scale(0.8) translateY(-20px);
                opacity: 0;
              }
              100% {
                transform: scale(1) translateY(0);
                opacity: 1;
              }
            }
            
            @keyframes pulse {
              0%, 100% { opacity: 1; }
              50% { opacity: 0.7; }
            }
            
            .loading { animation: pulse 1.5s ease-in-out infinite; }
          `}),g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px",borderBottom:"none",paddingBottom:"12px"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[g.jsx(Ud,{size:24,color:"var(--accent-yellow)"}),g.jsx("h2",{style:{fontSize:"clamp(1.2rem, 3vw, 1.5rem)",margin:0,fontFamily:"'LaCartoonerie', sans-serif",color:"var(--accent-green)",textTransform:"uppercase"},children:"RANKING GLOBAL"})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx("button",{onClick:T,disabled:m,style:{background:"none",border:"none",cursor:m?"not-allowed":"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",opacity:m?.5:1},children:g.jsx(vp,{size:20,color:"var(--text-primary)"})}),g.jsx("button",{onClick:r,style:{background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center"},children:g.jsx(wm,{size:20,color:"var(--text-primary)"})})]})]}),o&&l&&k&&g.jsxs("div",{style:{background:"var(--accent-green)",border:"none",borderRadius:"4px",padding:"12px",marginBottom:"16px",textAlign:"center"},children:[g.jsx("h3",{style:{fontSize:"clamp(1rem, 2.5vw, 1.2rem)",margin:"0 0 8px 0",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-primary)",textTransform:"uppercase"},children:"SUA PONTUAÇÃO"}),g.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"16px",flexWrap:"wrap"},children:[g.jsxs("div",{style:{fontSize:"clamp(1.2rem, 3vw, 1.8rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-primary)",fontWeight:"bold"},children:[o.toLocaleString()," pts"]}),g.jsxs("div",{style:{fontSize:"clamp(1rem, 2.5vw, 1.3rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-primary)"},children:["Posição #",k]})]})]}),g.jsx("div",{style:{flex:1,overflow:"hidden",display:"flex",flexDirection:"column"},children:m?g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"40px",fontSize:"clamp(1rem, 2.5vw, 1.2rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-secondary)"},children:[g.jsx(vp,{size:24,color:"var(--text-secondary)"}),"Carregando ranking..."]}):_?g.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"40px",fontSize:"clamp(1rem, 2.5vw, 1.2rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--accent-red)",textAlign:"center"},children:_}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"60px 1fr 120px 100px",gap:"8px",padding:"12px",background:"var(--bg-primary)",border:"none",borderRadius:"4px",marginBottom:"8px",fontFamily:"'LaCartoonerie', sans-serif",fontSize:"clamp(0.7rem, 2vw, 0.9rem)",color:"var(--text-primary)",textTransform:"uppercase"},children:[g.jsx("div",{children:"POS"}),g.jsx("div",{children:"JOGADOR"}),g.jsx("div",{children:"PONTOS"}),g.jsx("div",{children:"RODADAS"})]}),g.jsx("div",{style:{flex:1,overflow:"auto",display:"flex",flexDirection:"column",gap:"4px"},children:u.length===0?g.jsx("div",{style:{textAlign:"center",padding:"40px",fontSize:"clamp(1rem, 2.5vw, 1.2rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-secondary)"},children:"Nenhum jogador ainda!"}):u.map((C,I)=>g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"60px 1fr 120px 100px",gap:"8px",padding:"8px 12px",background:I%2===0?"var(--bg-primary)":"var(--bg-secondary)",border:"none",borderRadius:"2px",alignItems:"center",fontFamily:"'LaCartoonerie', sans-serif",fontSize:"clamp(0.9rem, 2vw, 1.1rem)",color:"var(--text-primary)"},children:[g.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:A(I+1)}),g.jsx("div",{style:{fontWeight:"bold",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:C.player_name}),g.jsx("div",{style:{fontWeight:"bold",color:"var(--accent-green)"},children:C.score.toLocaleString()}),g.jsx("div",{children:C.rounds_played})]},C.id||I))})]})}),g.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"16px",paddingTop:"12px",borderTop:"none"},children:g.jsx("p",{style:{fontSize:"clamp(0.8rem, 2vw, 1rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"var(--text-muted)",margin:0,textAlign:"center"},children:"Top 20 jogadores • Atualizado em tempo real"})})]})}):null},tw=({gameStarted:a,currentNeighborhood:r,globalTimeLeft:o,roundTimeLeft:l,roundNumber:u,roundInitialTime:h,score:m,onStartGame:x,getProgressBarColor:_,currentMode:w,onModeChange:k,currentFamousPlace:E})=>{const[T,A]=P.useState(window.innerWidth<=768),{stats:C}=Xx(),[I,N]=P.useState(!1),{playerName:K,initializePlayerName:G}=km();return P.useEffect(()=>{const H=()=>{A(window.innerWidth<=768)};return window.addEventListener("resize",H),()=>window.removeEventListener("resize",H)},[]),g.jsxs("div",{style:{position:"fixed",bottom:0,left:0,width:"100%",background:"var(--bg-secondary)",border:"none",borderBottom:"none",color:"var(--text-primary)",padding:a?"0":"clamp(10px, 2vw, 15px)",textAlign:"center",zIndex:1002,boxSizing:"border-box",boxShadow:"var(--shadow-md)"},children:[g.jsx("style",{children:`
          @keyframes pulseText {
            0% { transform: scale(1); }
            50% { transform: scale(1.03); }
            100% { transform: scale(1); }
          }

          @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
          }

          .game-title { animation: pulseText 1.5s infinite; }
          .game-description { animation: fadeIn 0.3s ease-out; }
          .start-button { animation: fadeIn 0.3s ease-out 0.2s both; }
        `}),a?g.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"column"},children:[g.jsxs("div",{style:{width:"100vw",height:T?"clamp(110px, 22vw, 130px)":"clamp(90px, 18vw, 110px)",background:"#2A2A2A",overflow:"hidden",position:"relative",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",marginLeft:"calc(-50vw + 50%)",marginRight:"calc(-50vw + 50%)",bottom:0},children:[g.jsx("div",{style:{width:`${o/h*100}%`,height:"100%",background:`linear-gradient(90deg, ${_(o,h)}, ${_(o,h)}CC)`,transition:"width 0.1s linear",position:"absolute",left:0,top:0,bottom:0,boxShadow:o<=3?"0 0 20px rgba(255, 0, 0, 0.3)":"0 0 15px rgba(255, 255, 255, 0.1)",animation:o<=3?"pulse 1s infinite":"none"}}),g.jsx("style",{children:`
                @keyframes pulse {
                  0% { opacity: 1; }
                  50% { opacity: 0.8; }
                  100% { opacity: 1; }
                }
              `}),g.jsx("div",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",padding:"0",zIndex:2,background:"linear-gradient(90deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 50%, rgba(255,255,255,0.1) 100%)"},children:g.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:[g.jsxs("div",{style:{position:"absolute",left:"clamp(15px, 3vw, 25px)",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[g.jsxs("span",{style:{fontSize:T?"clamp(0.7rem, 1.8vw, 0.8rem)":"clamp(1rem, 2.5vw, 1.2rem)",color:"#000000",fontWeight:600,textShadow:"1px 1px 2px rgba(255, 255, 255, 0.8)"},children:["Rodada ",u]}),g.jsxs("span",{style:{fontSize:T?"clamp(0.9rem, 2vw, 1rem)":"clamp(1.4rem, 3.5vw, 1.8rem)",color:"#000000",fontWeight:700,textShadow:"1px 1px 2px rgba(255, 255, 255, 0.8)",whiteSpace:"nowrap"},children:[Math.round(o*10)/10,"s"]})]}),g.jsx("span",{style:{color:"white",fontWeight:800,fontSize:"clamp(1.8rem, 4.5vw, 2.8rem)",textShadow:"2px 2px 4px rgba(0, 0, 0, 0.7)",letterSpacing:"1px",fontFamily:"'LaCartoonerie', sans-serif",lineHeight:1.2,textAlign:"center",maxWidth:"80%",textTransform:"uppercase"},children:w==="neighborhoods"?r.charAt(0).toUpperCase()+r.slice(1).toLowerCase():(E==null?void 0:E.name)||"NOME INDISPONÍVEL"})]})})]}),g.jsxs("div",{style:{width:"100%",padding:"6px 0",textAlign:"center",background:"rgba(20, 83, 45, 0.85)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"},children:[g.jsx("p",{style:{fontSize:"clamp(0.7rem, 1.8vw, 0.9rem)",fontFamily:"'LaCartoonerie', sans-serif",fontWeight:400,color:"#FFFFFF",lineHeight:1.4,margin:0,textTransform:"uppercase",letterSpacing:"0.5px",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.5)",animation:"glowText 2s ease-in-out infinite alternate"},children:w==="neighborhoods"?"Encontre o bairro no mapa!":w==="famous_places"?"Encontre o lugar famoso!":"Quão bem você conhece a sua cidade?"}),g.jsx("style",{children:`
                @keyframes glowText {
                  0% { text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5), 0 0 5px rgba(255, 255, 255, 0.3); }
                  100% { text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5), 0 0 10px rgba(255, 255, 255, 0.6); }
                }
              `})]})]}):g.jsx(Qx,{onStartGame:x,onShowLeaderboard:()=>N(!0),highScore:C.highScore,totalGames:C.totalGames,averageScore:C.averageScore,onSelectMode:k}),g.jsx(ew,{isOpen:I,onClose:()=>N(!1),currentPlayerScore:m,currentPlayerName:K||G()})]})},qn={container:(a,r,o)=>({position:"fixed",top:a||r?"auto":o.top,bottom:r||a?0:"auto",left:a||r?0:o.left,right:r?0:"auto",transform:"none",width:r?"100%":"clamp(320px, 25vw, 450px)",maxWidth:a?"100%":"450px",background:"var(--bg-secondary)",color:"var(--text-primary)",zIndex:9999,padding:"clamp(16px, 3vw, 24px)",borderRadius:r?"4px 4px 0 0":"8px",boxShadow:"var(--shadow-xl)",border:"none",margin:"0",animation:a||r?"slideUp 0.3s ease-out":"slideInLeft 0.3s ease-out",maxHeight:r?"90vh":"85vh",overflowY:"auto",display:"flex",flexDirection:"column",gap:"clamp(12px, 2vw, 16px)",fontFamily:"'VT323', monospace",pointerEvents:"auto","@media (max-width: 1200px)":{width:"clamp(300px, 30vw, 400px)",maxWidth:"400px"},"@media (max-width: 768px)":{width:"100%",maxWidth:"100%"}}),contentContainer:{display:"flex",flexDirection:"column",alignItems:"center",gap:"clamp(12px, 2vw, 20px)",justifyContent:"center",flexWrap:"wrap"},scoreDisplay:{display:"flex",gap:"2px",alignItems:"center",justifyContent:"center",flexWrap:"wrap"},scoreValue:{fontSize:"clamp(1.4rem, 3.5vw, 1.8rem)",fontFamily:"'VT323', monospace",fontWeight:400,color:"var(--text-primary)",textShadow:"2px 2px 0px rgba(0, 0, 0, 0.8)"},scoreUnit:{fontSize:"clamp(0.9rem, 2.2vw, 1.1rem)",fontFamily:"'LaCartoonerie', sans-serif",fontWeight:400,marginLeft:"clamp(1px, 0.3vw, 2px)",opacity:.9,textTransform:"uppercase",letterSpacing:"1px"},timeBonus:{fontSize:"clamp(0.9rem, 2.2vw, 1.1rem)",fontFamily:"'LaCartoonerie', sans-serif",fontWeight:400,marginLeft:"clamp(4px, 1vw, 8px)",color:"#FFD700",display:"flex",alignItems:"center",gap:"2px",background:"rgba(255, 215, 0, 0.1)",padding:"2px 6px",borderRadius:"4px",border:"1px solid rgba(255, 215, 0, 0.2)",animation:"pulseText 1s infinite",textTransform:"uppercase",letterSpacing:"1px"},feedbackMessage:a=>({marginTop:"clamp(4px, 1vw, 8px)",color:"#FFD700",fontWeight:400,fontSize:"clamp(1rem, 2.5vw, 1.2rem)",textAlign:"center",fontFamily:"'LaCartoonerie', sans-serif",animation:a?"pulseText 1s infinite":"none",opacity:.95,background:"rgba(255, 215, 0, 0.1)",padding:"clamp(4px, 1vw, 8px)",borderRadius:"6px",border:"1px solid rgba(255, 215, 0, 0.2)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",textTransform:"uppercase",letterSpacing:"1px"}),buttonContainer:{display:"flex",gap:"clamp(8px, 2vw, 12px)",justifyContent:"center",marginTop:"clamp(12px, 3vw, 20px)",flexWrap:"nowrap",width:"100%"},button:a=>({padding:"clamp(8px, 2vw, 12px) clamp(16px, 3vw, 24px)",fontSize:"clamp(0.9rem, 2.2vw, 1.1rem)",background:a==="pause"?"var(--accent-orange)":a==="next"?"var(--accent-green)":"var(--accent-red)",color:a==="pause"?"#000000":"#ffffff",border:"none",borderRadius:"2px",cursor:"pointer",transition:"all 0.1s steps(1)",fontWeight:400,fontFamily:"'Press Start 2P', monospace",boxShadow:"var(--shadow-md)",flex:a==="pause"?"0.4":"0.6",maxWidth:a==="retry"?"100%":"none",position:"relative",overflow:"hidden",textTransform:"uppercase",letterSpacing:"1px",minWidth:a==="pause"?"100px":"120px",zIndex:1,"&:hover":{transform:"translate(-1px, -1px)",boxShadow:"var(--shadow-lg)"},"&:active":{transform:"translate(1px, 1px)",boxShadow:"var(--shadow-sm)"}}),progressBar:(a,r)=>({position:"absolute",top:0,left:0,width:`${a}%`,height:"100%",background:r,transition:"width 0.1s linear",zIndex:1,transform:"translateX(0)",transformOrigin:"left"})},nw=({gameOver:a,onPauseGame:r,onNextRound:o,feedbackProgress:l,currentMode:u="neighborhoods"})=>g.jsxs("div",{style:qn.buttonContainer,children:[!a&&u!=="famous_places"&&g.jsxs("button",{onClick:r,className:"pixel-btn pixel-btn--warning",style:qn.button("pause"),children:[g.jsx(Bx,{size:16,color:"var(--text-primary)"}),"Pausar"]}),!a&&g.jsxs("button",{onClick:o,className:"pixel-btn pixel-btn--success",style:qn.button("next"),children:[g.jsx("div",{style:qn.progressBar(l,"rgba(50, 205, 50, 0.3)")}),g.jsx("div",{style:qn.progressBar(100-l,"rgba(255, 0, 0, 0.5)")}),g.jsxs("span",{style:{position:"relative",zIndex:2,display:"flex",alignItems:"center",gap:"4px"},children:[g.jsx($x,{size:16,color:"var(--text-primary)"}),"Próximo"]})]}),a&&g.jsx("button",{onClick:o,className:"pixel-btn pixel-btn--danger",style:qn.button("retry"),children:g.jsxs("span",{style:{position:"relative",zIndex:2,display:"flex",alignItems:"center",gap:"4px"},children:[g.jsx(Ux,{size:16,color:"var(--text-primary)"}),"Tente Outra Vez"]})})]}),rw=({currentMode:a,currentNeighborhood:r,currentFamousPlace:o,isVisible:l})=>{var h;if(!l)return null;let u;if(a==="famous_places"&&o)u={description:o.description,icon:"landmark",category:((h=o.name)==null?void 0:h.toUpperCase())||"LUGAR FAMOSO"};else return null;return g.jsxs("div",{style:{background:"rgba(0, 0, 0, 0.85)",borderRadius:"12px",padding:"16px",margin:"12px 0 0 0",border:"2px solid rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",animation:"fadeInUp 0.5s ease-out"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",paddingBottom:"8px",borderBottom:"1px solid rgba(255, 255, 255, 0.2)"},children:[g.jsx(bt,{name:u.icon,size:20,color:"#FFD700"}),g.jsx("div",{style:{fontSize:"clamp(0.8rem, 2vw, 1rem)",color:"#FFD700",fontFamily:"'LaCartoonerie', sans-serif",fontWeight:400,textTransform:"uppercase",letterSpacing:"1px"},children:u.category})]}),g.jsx("div",{style:{fontSize:"clamp(0.9rem, 2.2vw, 1.1rem)",color:"#fff",fontFamily:"'LaCartoonerie', sans-serif",lineHeight:1.4,marginBottom:"12px",textAlign:"left"},children:u.description}),g.jsx("style",{children:`
          @keyframes fadeInUp {
            0% {
              opacity: 0;
              transform: translateY(20px);
            }
            100% {
              opacity: 1;
              transform: translateY(0);
            }
          }
        `})]})},iw=({achievementData:a,showStreakAnimation:r})=>g.jsxs("div",{style:{textAlign:"center",color:"#fff",fontSize:"clamp(1.1rem, 2.8vw, 1.4rem)",fontFamily:"'Inter', sans-serif",display:"flex",flexDirection:"column",gap:"8px",opacity:.95,marginBottom:"8px"},children:[g.jsxs("div",{style:{fontSize:"clamp(1.3rem, 3.2vw, 1.6rem)",color:a.color,fontFamily:"'LaCartoonerie', sans-serif",fontWeight:400,textAlign:"center",textTransform:"uppercase",letterSpacing:"1px",textShadow:"2px 2px 0px rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[g.jsx(bt,{name:a.icon,size:32,color:a.color}),a.title]}),a.streakBonus&&g.jsxs("div",{style:{fontSize:"clamp(0.9rem, 2.2vw, 1.1rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"#FFD700",fontWeight:400,textTransform:"uppercase",letterSpacing:"1px",textShadow:"1px 1px 0px rgba(0, 0, 0, 0.8)",animation:r?"pulseText 0.5s infinite":"none",display:"flex",alignItems:"center",gap:"4px",justifyContent:"center",marginTop:"4px"},children:[g.jsx("span",{style:{fontSize:"16px"},children:"🔥"}),a.streakBonus]})]}),xp=a=>a.split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()).join(" "),ow=({currentMode:a,currentNeighborhood:r,currentFamousPlace:o,displayedDistance:l,clickTime:u,isCorrectNeighborhood:h})=>g.jsx("div",{style:{fontSize:"clamp(0.9rem, 2.2vw, 1.1rem)",fontFamily:"'LaCartoonerie', sans-serif",color:"#fff",opacity:.9,textAlign:"center",marginTop:"4px",lineHeight:1.4},children:h?g.jsxs(g.Fragment,{children:[a==="famous_places"?`Em ${u.toFixed(2)} seg você acertou ${(o==null?void 0:o.name)||"o lugar famoso"}!`:`Em ${u.toFixed(2)} seg você acertou na mosca o bairro `,a==="neighborhoods"&&g.jsx("span",{style:{color:"#32CD32",fontWeight:600},children:xp(r)}),a==="neighborhoods"&&"!"]}):g.jsxs(g.Fragment,{children:[a==="famous_places"?`Em ${u.toFixed(2)} seg você clicou a ${Math.round(l)}m de ${(o==null?void 0:o.name)||"o lugar famoso"}`:`Em ${u.toFixed(2)} seg você clicou a ${Math.round(l)}m do bairro `,a==="neighborhoods"&&g.jsx("span",{style:{color:"#32CD32",fontWeight:600},children:xp(r)}),a==="neighborhoods"&&"!"]})}),Ed=({icon:a,value:r,unit:o,timeBonus:l})=>{const u=m=>m>=3?"var(--accent-yellow)":m>=2?"var(--accent-green)":m>=1?"var(--accent-blue)":"var(--accent-yellow)",h=()=>{switch(a){case"target":return g.jsx(bd,{size:24,color:"var(--accent-green)"});case"clock":return g.jsx(_m,{size:24,color:"var(--accent-orange)"});default:return g.jsx(bd,{size:24,color:"var(--accent-green)"})}};return g.jsxs("div",{style:qn.scoreDisplay,children:[g.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginRight:"clamp(2px, 0.5vw, 4px)",opacity:.9},children:h()}),g.jsx("div",{style:qn.scoreValue,children:Math.round(r)}),g.jsx("div",{style:qn.scoreUnit,children:o}),l&&l>0&&g.jsxs("div",{style:{fontSize:"clamp(0.9rem, 2.2vw, 1.1rem)",fontFamily:"'VT323', monospace",fontWeight:400,marginLeft:"clamp(4px, 1vw, 8px)",color:u(l),display:"flex",alignItems:"center",gap:"2px",background:`rgba(${l>=2?"255, 215, 0":"0, 255, 125"}, 0.15)`,padding:"3px 8px",borderRadius:"2px",border:`2px solid rgba(${l>=2?"255, 215, 0":"0, 255, 125"}, 0.3)`,animation:"pulseText 1s infinite",boxShadow:"2px 2px 0px rgba(0, 0, 0, 0.8)"},children:[g.jsx(xm,{size:16,color:"var(--accent-yellow)"})," +",l.toFixed(1),"s"]})]})},sw=({score:a,timeBonus:r,clickTime:o})=>g.jsxs("div",{style:{display:"flex",gap:"clamp(10px, 2vw, 20px)",alignItems:"center",justifyContent:"center",flexWrap:"wrap"},children:[g.jsx(Ed,{icon:"target",value:a,unit:"pts"}),g.jsx(Ed,{icon:"clock",value:1e3-o*100,unit:"pts",timeBonus:r})]}),aw=(a,r,o=0)=>{const l=a/1e3;return a===0?{title:"ACERTO PERFEITO!",subtitle:"",icon:"checkcircle",color:"#FFD700",achievement:"BULLSEYE",streakBonus:o>=3?`${o} acertos seguidos!`:null}:l<.5?{title:"INCRÍVEL!",subtitle:"",icon:"sparkles",color:"#FFA500",achievement:"NEAR_PERFECT",streakBonus:o>=2?`${o} acertos seguidos!`:null}:l<1?{title:"EXCELENTE!",subtitle:"",icon:"sparkles",color:"#32CD32",achievement:"EXCELLENT",streakBonus:null}:l<2?{title:"MUITO BOM!",subtitle:"",icon:"thumbsup",color:"#00CED1",achievement:"GOOD",streakBonus:null}:l<5?{title:"QUASE LÁ!",subtitle:"",icon:"helpcircle",color:"#FFD700",achievement:"CLOSE",streakBonus:null}:{title:"OPS!",subtitle:"",icon:"frown",color:"#FF6B6B",achievement:"FAR",streakBonus:null}},lw=a=>a>=oo.PERFECT?so.PERFECT:a>=oo.EXCELLENT?so.EXCELLENT:a>=oo.GREAT?so.GREAT:a>=oo.GOOD?so.GOOD:a>=oo.DECENT?so.DECENT:a>=oo.FAIR?so.FAIR:a>=oo.CLOSE?so.CLOSE:0,uw=(a,r,o)=>{if(!a||o)return{top:"20px",left:"20px"};const l="20px",u=a.lat,h=window.innerHeight,x=(u- -24.1)/.8;return{top:`${Math.max(20,Math.min(h-200,x*h*.6))}px`,left:l}},cw=(a,r,o,l,u)=>{const h=performance.now();let m,x=!1;const _=w=>{if(x)return;const k=w-h,E=Math.min(k/o,1),T=E<.5?4*E*E*E:1-Math.pow(-2*E+2,3)/2,A=a+(r-a)*T;l(A),E<1&&!x?m=requestAnimationFrame(_):x||u()};return typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(()=>{x||(m=requestAnimationFrame(_))}):m=requestAnimationFrame(_),()=>{x=!0,m&&cancelAnimationFrame(m)}},dw=(a,r)=>a===0&&r>=2,hw=(a,r,o)=>fm(a,r,o),fw=({showFeedback:a,clickedPosition:r,arrowPath:o,clickTime:l,feedbackProgress:u,onNextRound:h,calculateDistance:m,calculateScore:x,getProgressBarColor:_,geoJsonData:w,gameOver:k,onPauseGame:E,score:T,currentNeighborhood:A,currentMode:C="neighborhoods",currentFamousPlace:I,totalScore:N=0,roundNumber:K=1,consecutiveCorrect:G=0,bestStreak:H=0})=>{const[te,ue]=P.useState(0),[ae,J]=P.useState(0),[ve,re]=P.useState(!1),[xe,Pe]=P.useState(""),[le,ze]=P.useState({top:"50%",left:"50%"}),[$e,Fe]=P.useState(0),[_e,je]=P.useState(!1),U=window.innerWidth<=768;P.useEffect(()=>{if(a&&r){const M=o?m(r,o[1]):0,V=x(M,l);re(!0),ue(M),J(0),Pe(hw(M,l,G)),dw(M,G)&&(je(!0),setTimeout(()=>je(!1),3e3));const Z=lw(V.total);Fe(Z);const de=cw(0,l,2e3,se=>J(se),()=>re(!1));return()=>de()}},[a,r,o,l,x,m,G]),P.useEffect(()=>{if(r){const M=uw(r,o,U);ze(M)}},[r,o,U]);const oe=te===0,q=aw(te,l,G);return k?null:g.jsxs("div",{className:"feedback-panel-container",style:{...qn.container(!1,U,le),zIndex:10020},children:[r&&g.jsxs("div",{style:qn.contentContainer,children:[g.jsx(iw,{achievementData:q,showStreakAnimation:_e}),g.jsx(ow,{currentMode:C,currentNeighborhood:A,currentFamousPlace:I,displayedDistance:te,clickTime:l,isCorrectNeighborhood:oe}),g.jsx(sw,{score:T,timeBonus:$e,clickTime:l})]}),g.jsx(nw,{gameOver:k,onPauseGame:E,onNextRound:()=>{w&&h(w)},feedbackProgress:u,currentMode:C}),g.jsx(rw,{currentMode:C,currentNeighborhood:A,currentFamousPlace:I,isVisible:!0}),g.jsx("style",{children:`
          @keyframes rollDigits {
            0% {
              transform: translateY(-400px);
            }
            100% {
              transform: translateY(0);
            }
          }
          @keyframes pulseText {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
          }
          @keyframes fadeInScale {
            0% { 
              opacity: 0;
              transform: translate(-50%, -50%) scale(0.95);
            }
            100% { 
              opacity: 1;
              transform: translate(-50%, -50%) scale(1);
            }
          }
          @keyframes pulseScore {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
          }
          @keyframes slideIn {
            0% {
              opacity: 0;
              transform: translate(-50%, -20px);
            }
            100% {
              opacity: 1;
              transform: translate(-50%, 0);
            }
          }
          @keyframes slideInLeft {
            0% {
              opacity: 0;
              transform: translateX(-100%);
            }
            100% {
              opacity: 1;
              transform: translateX(0);
            }
          }
          @keyframes slideUp {
            0% {
              opacity: 0;
              transform: translateY(20px);
            }
            100% {
              opacity: 1;
              transform: translateY(0);
            }
          }
          @keyframes streakGlow {
            0% { 
              box-shadow: 0 0 5px rgba(255, 215, 0, 0.5);
            }
            50% { 
              box-shadow: 0 0 20px rgba(255, 215, 0, 0.8);
            }
            100% { 
              box-shadow: 0 0 5px rgba(255, 215, 0, 0.5);
            }
          }

          /* Estilos responsivos para o modal */
          @media (max-width: 1200px) {
            .feedback-panel-container {
              width: clamp(300px, 30vw, 400px) !important;
              max-width: 400px !important;
            }
          }
          
          @media (max-width: 768px) {
            .feedback-panel-container {
              width: 100% !important;
              max-width: 100% !important;
              left: 0 !important;
              right: 0 !important;
            }
          }
          
          @media (max-width: 480px) {
            .feedback-panel-container {
              padding: 12px !important;
              gap: 8px !important;
            }
          }

          button {
            -webkit-tap-highlight-color: transparent;
          }
          
          button:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.3);
          }
        `})]})},pw=({geoJsonData:a,revealedNeighborhoods:r,currentNeighborhood:o,onMapClick:l,geoJsonRef:u})=>g.jsx(n_,{data:a,style:h=>sd(h,r,o),eventHandlers:{click:h=>{kt.DomEvent.stopPropagation(h),l(h.latlng)},mouseover:h=>{var _;const m=h.target,x=m.feature;x&&r.has((_=x.properties)==null?void 0:_.NOME)&&m.setStyle({...sd(x,r,o),fillOpacity:.7})},mouseout:h=>{const m=h.target,x=m.feature;x&&m.setStyle(sd(x,r,o))}},ref:u}),mw=({map:a,distanceCircle:r,onAnimationComplete:o})=>{const l=P.useRef(null);return P.useEffect(()=>{if(!a||!r)return;l.current&&a.removeLayer(l.current);const u=r.center instanceof kt.LatLng?r.center:new kt.LatLng(r.center.lat,r.center.lng),h=kt.circle(u,{radius:r.radius,color:"var(--accent-red)",fillColor:"var(--accent-red)",fillOpacity:.15,weight:2,className:"distance-circle"}).addTo(a);l.current=h,setTimeout(()=>{a.removeLayer(h),o==null||o()},1200)},[a,r,o]),null},gw=({geoJsonData:a,geoJsonRef:r,updateGameState:o})=>(P.useEffect(()=>{var l;if(a){const h=a.features,m=Math.floor(Math.random()*h.length),x=(l=h[m].properties)==null?void 0:l.NOME;o({currentNeighborhood:x})}},[a]),null);function $d(){const[a,r]=P.useState([]),[o,l]=P.useState(!0),[u,h]=P.useState(null);P.useEffect(()=>{(async()=>{try{l(!0);const _=await Uy.getFamousPlaces();r(_),console.log("useFamousPlaces: Places after fetch:",_)}catch(_){console.error("Failed to fetch famous places:",_),h("Failed to load famous places.")}finally{l(!1)}})()},[]);function m(){if(a.length===0)return{id:"mock-id",name:"Placeholder",description:"No famous places loaded.",latitude:0,longitude:0,category:"unknown",address:"unknown",imageUrl:"https://via.placeholder.com/56"};const x=Math.floor(Math.random()*a.length);return a[x]}return{places:a,getRandomPlace:m,isLoading:o,error:u}}const vw=({onPlaceChange:a,currentPlace:r,isGameActive:o,roundNumber:l=1,onRoundComplete:u})=>{const{places:h,isLoading:m,error:x}=$d(),[_,w]=P.useState(new Set),[k,E]=P.useState([]),[T,A]=P.useState(0),C=()=>{if(h.length===0)return[];const G=Math.min(5,h.length),H=h.filter(ae=>!_.has(ae.id));if(H.length<G)return w(new Set),h.slice(0,G);const te=[],ue=[...H].sort(()=>.5-Math.random());for(let ae=0;ae<G;ae++)ue[ae]&&te.push(ue[ae]);return te},I=()=>{if(k.length===0)return;const G=T+1;if(G<k.length){const H=k[G];A(G),a(H)}else{const H=C();H.length>0&&(E(H),A(0),a(H[0]),w(te=>{const ue=new Set(te);return k.forEach(ae=>ue.add(ae.id)),ue}),u&&u())}},N=G=>{G>=0&&G<k.length&&(A(G),a(k[G]))};P.useEffect(()=>{if(o&&h.length>0&&k.length===0){const G=C();G.length>0&&(E(G),A(0),a(G[0]))}},[o,h]),P.useEffect(()=>{o||(w(new Set),E([]),A(0))},[o]);const K=()=>{I()};return P.useEffect(()=>{typeof window<"u"&&(window.famousPlacesManager={forceNextRound:K,selectNextPlace:I,selectPlaceFromRound:N,getCurrentRoundInfo:()=>({currentIndex:T,totalPlaces:k.length,currentPlace:k[T],roundPlaces:k})})},[T,k]),m?g.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"var(--text-primary)",fontFamily:"'VT323', monospace",fontSize:"1.2rem"},children:"Carregando lugares famosos..."}):x?g.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"var(--accent-red)",fontFamily:"'VT323', monospace",fontSize:"1.2rem",textAlign:"center"},children:["Erro ao carregar lugares famosos:",g.jsx("br",{}),x]}):h.length===0?g.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"var(--text-primary)",fontFamily:"'VT323', monospace",fontSize:"1.2rem"},children:"Nenhum lugar famoso encontrado."}):null},yw=({audioRef:a,successSoundRef:r,errorSoundRef:o,gameStartAudioRef:l,gameState:u,playSuccess:h,playError:m,showPhaseOneMessage:x})=>(P.useEffect(()=>{a.current&&(a.current.volume=u.isMuted?0:u.volume,a.current.loop=!0)},[u.volume,u.isMuted]),P.useEffect(()=>{a.current&&(u.gameStarted&&!u.gameOver?a.current.play():u.gameOver&&(a.current.pause(),a.current.currentTime=0))},[u.gameStarted,u.gameOver]),P.useEffect(()=>{h&&r.current&&(r.current.currentTime=0,r.current.volume=u.isMuted?0:Math.min(u.volume,.7),r.current.play().catch(_=>{console.log("Erro ao tocar som de sucesso:",_)}))},[h,u.volume,u.isMuted]),P.useEffect(()=>{m&&o.current&&(o.current.currentTime=0,o.current.volume=u.isMuted?0:Math.min(u.volume,.7),o.current.play().catch(_=>{console.log("Erro ao tocar som de erro:",_)}))},[m,u.volume,u.isMuted]),P.useEffect(()=>{x&&(l!=null&&l.current)&&!u.isMuted&&(l.current.currentTime=0,l.current.volume=Math.min(u.volume,.8),l.current.play().catch(_=>{console.log("Erro ao tocar música de início:",_)}))},[x,u.volume,u.isMuted,l]),null),_w=({totalDistance:a,maxDistance:r})=>{const o=(a/1e3).toFixed(1),l=a/r*100,u=h=>h>=90?"var(--accent-red)":h>=70?"var(--accent-orange)":"var(--accent-green)";return g.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"2px",background:"var(--bg-secondary)",border:"none",padding:"4px 8px",borderRadius:"2px",color:"var(--text-primary)",fontFamily:"'VT323', monospace",fontSize:"14px",boxShadow:"var(--shadow-sm)"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[g.jsx(Dx,{size:16,color:"var(--accent-green)"}),g.jsxs("span",{children:[o,"km"]})]}),g.jsx("div",{style:{width:"100%",height:"2px",background:"rgba(255, 255, 255, 0.2)",borderRadius:"1px",overflow:"hidden"},children:g.jsx("div",{style:{width:`${Math.min(l,100)}%`,height:"100%",background:u(l),transition:"width 0.3s ease-in-out"}})})]})},xw="_overlay_1h2y1_3",ww="_modal_1h2y1_18",Sw="_header_1h2y1_31",kw="_title_1h2y1_36",bw="_subtitle_1h2y1_47",Ew="_scoreContainer_1h2y1_55",Pw="_score_1h2y1_55",Tw="_scoreMessage_1h2y1_74",Cw="_statsGrid_1h2y1_84",Lw="_statItem_1h2y1_91",jw="_blue_1h2y1_99",Ow="_green_1h2y1_103",Iw="_orange_1h2y1_107",Mw="_statValue_1h2y1_111",Aw="_formSection_1h2y1_119",Rw="_formTitle_1h2y1_123",zw="_formRow_1h2y1_134",Nw="_nameInput_1h2y1_140",Dw="_saveButton_1h2y1_157",Fw="_errorMessage_1h2y1_182",Bw="_successMessage_1h2y1_192",Uw="_successText_1h2y1_202",$w="_rankingPosition_1h2y1_211",Ww="_rankingTitle_1h2y1_222",Hw="_rankingNumber_1h2y1_234",Zw="_rankingStatus_1h2y1_244",Vw="_topRanking_1h2y1_253",Gw="_topRankingTitle_1h2y1_264",qw="_rankingEntry_1h2y1_274",Kw="_emptyRanking_1h2y1_282",Jw="_actionButtons_1h2y1_291",Yw="_actionButton_1h2y1_291",Qw="_primary_1h2y1_321",Xw="_secondary_1h2y1_325",e1="_tertiary_1h2y1_329",t1="_confetti_1h2y1_334",n1="_confettiPiece_1h2y1_344",Ie={overlay:xw,modal:ww,header:Sw,title:kw,subtitle:bw,scoreContainer:Ew,score:Pw,scoreMessage:Tw,statsGrid:Cw,statItem:Lw,blue:jw,green:Ow,orange:Iw,statValue:Mw,formSection:Aw,formTitle:Rw,formRow:zw,nameInput:Nw,saveButton:Dw,errorMessage:Fw,successMessage:Bw,successText:Uw,rankingPosition:$w,rankingTitle:Ww,rankingNumber:Hw,rankingStatus:Zw,topRanking:Vw,topRankingTitle:Gw,rankingEntry:qw,emptyRanking:Kw,actionButtons:Jw,actionButton:Yw,primary:Qw,secondary:Xw,tertiary:e1,confetti:t1,confettiPiece:n1},r1=[{min:1e5,message:"REI DA GEOGRAFIA! Você conhece Santos!",color:"#FFD700"},{min:8e4,message:"MITO SANTISTA! Até as ondas do mar te aplaudem!",color:"#FFA500"},{min:6e4,message:"LENDÁRIO! Você é um Pelé da geografia santista!",color:"#FF8C00"},{min:5e4,message:"MESTRE DOS BAIRROS! Você é um GPS ambulante!",color:"#FF6347"},{min:4e4,message:"IMPRESSIONANTE! Quase um GPS humano!!",color:"#32CD32"},{min:3e4,message:"VC É MAIS SANTISTA QUE PASTEL DE VENTO NA FEIRA!",color:"#00CED1"},{min:25e3,message:"SANTISTA DE CORAÇÃO! Você manja dos bairros!",color:"#9370DB"},{min:2e4,message:"MUITO BOM! Você deve ter ido em algumas aulas de geografia!",color:"#FF69B4"},{min:15e3,message:"BOM JOGO! Mas ainda precisa andar mais pela zona noroeste!",color:"#FFD700"},{min:12e3,message:"QUASE LÁ! Dá um role no bondinho pra pegar umas dicas!",color:"#98FB98"},{min:1e4,message:"MAIS PERDIDO QUE DOIDO NA PONTA DA PRAIA!",color:"#F0E68C"},{min:8e3,message:"Eita! Parece que você não sabe nada de Santos!",color:"#87CEEB"},{min:6e3,message:"Confundiu Santos com o interior do Mato Grosso!",color:"#DDA0DD"},{min:4e3,message:"Te colocaram pra jogar vendado?",color:"#FFB6C1"},{min:2e3,message:"Você achava que o Boqueirão era em Salvador?",color:"#F0E68C"},{min:1e3,message:"Eita! Parece que você não sabe nada de Santos!",color:"#FF6B6B"},{min:500,message:"Confundiu Santos com o interior do Mato Grosso!",color:"#FF4500"},{min:100,message:"Te colocaram pra jogar vendado?",color:"#8B0000"}],i1=a=>r1.find(r=>a>=r.min)||{message:"Eita! Parece que você não sabe nada de Santos!",color:"#FF6B6B"},o1=({score:a})=>{const{message:r,color:o}=i1(a);return g.jsxs("div",{className:Ie.scoreContainer,children:[g.jsxs("div",{className:Ie.score,style:{color:o},"data-testid":"score-display",children:[a.toLocaleString()," PONTOS"]}),g.jsx("p",{className:Ie.scoreMessage,"data-testid":"score-message",children:r})]})},s1=a=>{const r=Math.floor(a/60),o=a%60;return`${r}:${o.toString().padStart(2,"0")}`},a1=a=>`${Math.round(a*100)}%`,l1=({playTime:a,roundsPlayed:r,accuracy:o})=>g.jsxs("div",{className:Ie.statsGrid,children:[g.jsxs("div",{className:`${Ie.statItem} ${Ie.blue}`,"data-testid":"play-time-stat",children:[g.jsx(_m,{size:20,color:"var(--accent-blue)"}),g.jsx("div",{className:Ie.statValue,children:s1(a)})]}),g.jsxs("div",{className:`${Ie.statItem} ${Ie.green}`,"data-testid":"rounds-stat",children:[g.jsx(bd,{size:20,color:"var(--accent-green)"}),g.jsxs("div",{className:Ie.statValue,children:[r," rodadas"]})]}),g.jsxs("div",{className:`${Ie.statItem} ${Ie.orange}`,"data-testid":"accuracy-stat",children:[g.jsx(xm,{size:20,color:"var(--accent-orange)"}),g.jsx("div",{className:Ie.statValue,children:a1(o)})]})]}),u1=a=>a.trim()?a.trim().length<2?"O nome deve ter pelo menos 2 caracteres!":a.trim().length>50?"O nome deve ter no máximo 50 caracteres!":a.replace(/[\u{1F600}-\u{1F64F}]|[\u{1F300}-\u{1F5FF}]|[\u{1F680}-\u{1F6FF}]|[\u{1F1E0}-\u{1F1FF}]|[\u{2600}-\u{26FF}]|[\u{2700}-\u{27BF}]/gu,"")!==a?"Não use emojis no nome!":/^[a-zA-ZÀ-ÿ0-9\s\-_\.]+$/.test(a.trim())?null:"Use apenas letras, números, espaços, hífens, pontos e underscores!":"Digite um nome para salvar sua pontuação!",c1=({currentPlayerName:a,score:r,playTime:o,roundsPlayed:l,accuracy:u,onScoreSaved:h})=>{const[m,x]=P.useState(a),[_,w]=P.useState(!1),[k,E]=P.useState(!1),[T,A]=P.useState(null),C=P.useRef(null);P.useEffect(()=>{C.current&&!k&&C.current.focus()},[k]);const I=async()=>{const K=u1(m);if(K){A(K);return}w(!0),A(null);try{await uo.addScore({player_name:m.trim(),score:r,play_time:o,rounds_played:l,accuracy:u})?(E(!0),h()):A("Erro ao salvar pontuação. Tente novamente!")}catch(G){A("Erro de conexão. Tente novamente!"),console.error("Erro ao salvar pontuação:",G)}finally{w(!1)}},N=K=>{K.key==="Enter"&&I()};return k?g.jsxs("div",{className:Ie.successMessage,role:"alert","aria-live":"polite",children:[g.jsx(Zx,{size:24,color:"var(--text-primary)"}),g.jsx("p",{className:Ie.successText,children:"PONTUAÇÃO SALVA COM SUCESSO!"})]}):g.jsxs("div",{className:Ie.formSection,children:[g.jsx("h3",{className:Ie.formTitle,children:"SALVAR NO RANKING"}),g.jsxs("div",{className:Ie.formRow,children:[g.jsx("input",{ref:C,type:"text",value:m,onChange:K=>x(K.target.value),placeholder:"Seu nome",maxLength:50,className:Ie.nameInput,onKeyPress:N,"aria-label":"Digite seu nome para salvar no ranking","data-testid":"player-name-input"}),g.jsx("button",{onClick:I,disabled:_,className:Ie.saveButton,"aria-label":"Salvar pontuação no ranking","data-testid":"save-score-button",children:_?"SALVANDO...":"SALVAR"})]}),T&&g.jsx("p",{className:Ie.errorMessage,role:"alert","aria-live":"polite","data-testid":"error-message",children:T})]})},d1=a=>a===1?"🏆 CAMPEÃO ABSOLUTO! 🏆":a<=3?"🥇 TOP 3 - LENDÁRIO! 🥇":a<=10?"🥈 TOP 10 - IMPRESSIONANTE! 🥈":a<=50?"🥉 TOP 50 - MUITO BOM! 🥉":"🎯 NO RANKING! 🎯",h1=({position:a,isVisible:r})=>!r||a===null?null:g.jsxs("div",{className:Ie.rankingPosition,"data-testid":"ranking-position",children:[g.jsx("div",{className:Ie.rankingTitle,children:"POSIÇÃO NO RANKING"}),g.jsxs("div",{className:Ie.rankingNumber,"data-testid":"ranking-number",children:["#",a]}),g.jsx("div",{className:Ie.rankingStatus,children:d1(a)})]}),f1=({rankingData:a})=>a.length===0?g.jsxs("div",{className:Ie.topRanking,"data-testid":"top-ranking",children:[g.jsx("h3",{className:Ie.topRankingTitle,children:"TOP 3 DO RANKING"}),g.jsx("p",{className:Ie.emptyRanking,children:"Seja o primeiro a entrar para o ranking!"})]}):g.jsxs("div",{className:Ie.topRanking,"data-testid":"top-ranking",children:[g.jsx("h3",{className:Ie.topRankingTitle,children:"TOP 3 DO RANKING"}),a.map((r,o)=>g.jsxs("p",{className:Ie.rankingEntry,"data-testid":`ranking-entry-${o}`,children:[o+1,". ",r.player_name," - ",r.score.toLocaleString()," pontos"]},o))]}),wp=["var(--accent-yellow)","var(--accent-green)","var(--accent-blue)","var(--accent-orange)","var(--accent-red)"],p1=({isVisible:a})=>a?g.jsx("div",{className:Ie.confetti,children:[...Array(50)].map((r,o)=>g.jsx("div",{className:Ie.confettiPiece,style:{left:`${Math.random()*100}%`,background:wp[Math.floor(Math.random()*wp.length)],animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*3}s`}},o))}):null,m1=a=>{var l;return`${((l=[{min:1e5,message:"REI DA GEOGRAFIA! Eu conheço Santos!"},{min:8e4,message:"MITO SANTISTA! Até as ondas do mar me aplaudem!"},{min:6e4,message:"LENDÁRIO! Eu sou um Pelé da geografia santista!"},{min:5e4,message:"MESTRE DOS BAIRROS! Eu sou um GPS ambulante!"},{min:4e4,message:"IMPRESSIONANTE! Quase um GPS humano!!"},{min:3e4,message:"SOU MAIS SANTISTA QUE PASTEL DE VENTO NA FEIRA!"},{min:25e3,message:"SANTISTA DE CORAÇÃO! Eu manjo dos bairros!"},{min:2e4,message:"MUITO BOM! Eu devo ter ido em algumas aulas de geografia!"},{min:15e3,message:"BOM JOGO! Mas ainda preciso andar mais pela zona noroeste!"},{min:12e3,message:"QUASE LÁ! Vou dar um rolê no bondinho pra pegar umas dicas!"},{min:1e4,message:"MAIS PERDIDO QUE DOIDO NA PONTA DA PRAIA!"},{min:8e3,message:"Eita! Parece que eu não sei nada de Santos!"},{min:6e3,message:"Confundi Santos com o interior do Mato Grosso!"},{min:4e3,message:"Me colocaram pra jogar vendado?"},{min:2e3,message:"Eu achava que o Boqueirão era em Salvador?"},{min:1e3,message:"Eita! Parece que eu não sei nada de Santos!"},{min:500,message:"Confundi Santos com o interior do Mato Grosso!"},{min:100,message:"Me colocaram pra jogar vendado?"}].find(u=>a>=u.min))==null?void 0:l.message)||"Eita! Parece que eu não sei nada de Santos!"} Joguei o Geosantos e fiz ${a} pontos! Jogue agora em https://hericmr.github.io/geosantos e veja quanto você consegue fazer!`},g1=async a=>{const r=m1(a);try{navigator.share?await navigator.share({text:r}):(await navigator.clipboard.writeText(r),alert("Texto copiado para a área de transferência! Desafie uma pessoa, compartilhe o jogo!"))}catch(o){console.error("Erro ao compartilhar:",o);try{await navigator.clipboard.writeText(r),alert("Texto copiado para a área de transferência! Desafie uma pessoa, compartilhe o jogo!")}catch(l){console.error("Erro no fallback:",l),alert("Erro ao compartilhar. Tente copiar manualmente o link do jogo.")}}},v1=({score:a,onPlayAgain:r,onClose:o})=>g.jsxs("div",{className:Ie.actionButtons,children:[g.jsxs("button",{onClick:r,className:`${Ie.actionButton} ${Ie.primary}`,"aria-label":"Jogar novamente","data-testid":"play-again-button",children:[g.jsx(Ud,{size:16,color:"var(--text-primary)"}),"JOGAR NOVAMENTE"]}),g.jsxs("button",{onClick:()=>g1(a),className:`${Ie.actionButton} ${Ie.secondary}`,"aria-label":"Compartilhar pontuação","data-testid":"share-button",children:[g.jsx(Fx,{size:16,color:"var(--text-primary)"}),"COMPARTILHAR"]}),g.jsxs("button",{onClick:o,className:`${Ie.actionButton} ${Ie.tertiary}`,"aria-label":"Voltar ao menu principal","data-testid":"close-button",children:[g.jsx(wm,{size:16,color:"var(--text-primary)"}),"MENU PRINCIPAL"]})]}),y1={"BOM JOGO! Mas ainda precisa andar mais pela zona noroeste!":"uau_bom_jogo.opus","Confundiu Santos com o interior do Mato Grosso!":"confundiu_santos_com_ointerior_do_mato_grosso.opus","Eita! Parece que você não sabe nada de Santos!":"eita_parece_que_voce_nao_sabe_nada_de_santos_mesmo.opus","Olha, confundiu Santos com":"olha_confundiu_santos_com.opus"},_1=({isOpen:a,onClose:r,onPlayAgain:o,score:l,playTime:u,roundsPlayed:h,accuracy:m,currentPlayerName:x})=>{const[_,w]=P.useState(!1),[k,E]=P.useState([]),[T,A]=P.useState(null),[C,I]=P.useState(!1),[N,K]=P.useState(""),G=P.useRef(null),H=ve=>{const xe=[{min:1e5,message:"REI DA GEOGRAFIA! Você conhece Santos!"},{min:8e4,message:"MITO SANTISTA! Até as ondas do mar te aplaudem!"},{min:6e4,message:"LENDÁRIO! Você é um Pelé da geografia santista!"},{min:5e4,message:"MESTRE DOS BAIRROS! Você é um GPS ambulante!"},{min:4e4,message:"IMPRESSIONANTE! Quase um GPS humano!!"},{min:3e4,message:"VC É MAIS SANTISTA QUE PASTEL DE VENTO NA FEIRA!"},{min:25e3,message:"SANTISTA DE CORAÇÃO! Você manja dos bairros!"},{min:2e4,message:"MUITO BOM! Você deve ter ido em algumas aulas de geografia!"},{min:15e3,message:"BOM JOGO! Mas ainda precisa andar mais pela zona noroeste!"},{min:12e3,message:"QUASE LÁ! Dá um role no bondinho pra pegar umas dicas!"},{min:1e4,message:"MAIS PERDIDO QUE DOIDO NA PONTA DA PRAIA!"},{min:8e3,message:"Eita! Parece que você não sabe nada de Santos!"},{min:6e3,message:"Confundiu Santos com o interior do Mato Grosso!"},{min:4e3,message:"Te colocaram pra jogar vendado?"},{min:2e3,message:"Você achava que o Boqueirão era em Salvador?"},{min:1e3,message:"Eita! Parece que você não sabe nada de Santos!"},{min:500,message:"Confundiu Santos com o interior do Mato Grosso!"},{min:100,message:"Te colocaram pra jogar vendado?"}].find(Pe=>ve>=Pe.min);return xe?xe.message:"Eita! Parece que você não sabe nada de Santos!"},te=ve=>{const re=y1[ve];re&&G.current&&(G.current.src=p_(re),G.current.volume=.7,G.current.play().catch(xe=>{console.log("Erro ao tocar áudio de game over:",xe)}))},ue=async()=>{try{const ve=await uo.getTopPlayers(3);ve&&E(ve.slice(0,3))}catch(ve){console.error("Erro ao buscar ranking:",ve)}},ae=async()=>{try{const ve=await uo.getPlayerPosition(x,l);A(ve),I(!0)}catch(ve){console.error("Erro ao buscar posição do jogador:",ve)}},J=async()=>{w(!0),await ue(),await ae(),setTimeout(()=>w(!1),3e3)};return P.useEffect(()=>{if(a){w(!1),I(!1),A(null);const ve=H(l);K(ve),setTimeout(()=>{te(ve)},500)}},[a,l]),a?g.jsxs("div",{className:Ie.overlay,role:"dialog","aria-modal":"true","aria-labelledby":"game-over-title","data-testid":"game-over-modal",children:[g.jsx(p1,{isVisible:_}),g.jsx("audio",{ref:G,preload:"auto"}),g.jsxs("div",{className:Ie.modal,children:[g.jsxs("div",{className:Ie.header,children:[g.jsx("h1",{id:"game-over-title",className:Ie.title,"data-testid":"game-over-title",children:"GAME OVER"}),g.jsx("p",{className:Ie.subtitle,children:"DESAFIO GEOGRÁFICO DE SANTOS"})]}),g.jsx(o1,{score:l}),g.jsx(l1,{playTime:u,roundsPlayed:h,accuracy:m}),g.jsx(c1,{currentPlayerName:x,score:l,playTime:u,roundsPlayed:h,accuracy:m,onScoreSaved:J}),g.jsx(h1,{position:T,isVisible:C}),C&&g.jsx(f1,{rankingData:k}),g.jsx(v1,{score:l,onPlayAgain:o,onClose:r})]})]}):null},x1=({open:a,onClose:r,famousPlace:o,isCentered:l=!0,onTransitionComplete:u,timeProgress:h=0})=>{const[m,x]=P.useState(!1),[_,w]=P.useState(!1),[k,E]=P.useState(!1);if(P.useEffect(()=>{if(a)E(!0),x(!1),w(!1);else{const N=setTimeout(()=>E(!1),300);return()=>clearTimeout(N)}},[a]),!k||!o)return null;const T=()=>x(!0),A=()=>w(!0),C=N=>{N.target===N.currentTarget&&r()},I=l?{position:"fixed",top:"50%",left:"50%",transform:a?"translate(-50%, -50%) scale(1)":"translate(-50%, -50%) scale(0.95)",width:"min(400px, 90vw)",maxHeight:"85vh",zIndex:10010}:{position:"fixed",top:"20px",right:"20px",transform:"none",width:"min(320px, 85vw)",maxHeight:"75vh",zIndex:10010};return g.jsxs(g.Fragment,{children:[l&&g.jsx("div",{onClick:C,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",zIndex:10009,animation:a?"fadeIn 0.3s ease-out":"fadeOut 0.3s ease-out"}}),g.jsxs("div",{style:{...I,background:"var(--bg-secondary)",color:"var(--text-primary)",border:"none",borderRadius:"4px",boxShadow:"var(--shadow-xl)",overflow:"hidden",animation:a?"modalSlideIn 0.3s ease-out":"modalSlideOut 0.3s ease-out",transition:"all 0.3s ease-out",margin:l?"0":"10px"},children:[g.jsxs("div",{style:{position:"relative",padding:l?"12px 16px":"8px 12px",background:"var(--accent-green)",borderBottom:"2px solid var(--text-primary)",overflow:"hidden"},children:[l&&g.jsx("div",{style:{position:"absolute",top:0,left:0,width:`${h}%`,height:"100%",background:"rgba(255, 255, 255, 0.3)",transition:"width 0.1s linear",zIndex:1}}),g.jsx("h2",{style:{margin:0,fontFamily:"'LaCartoonerie', sans-serif",color:"#000000",fontSize:l?"clamp(2.1rem, 2.8vw, 1.4rem)":"clamp(0.9rem, 2.4vw, 1.1rem)",textAlign:"center",textTransform:"none",fontWeight:800,letterSpacing:"1px",textShadow:"none",lineHeight:1.2,position:"relative",zIndex:2},children:o.name})]}),g.jsxs("div",{style:{padding:l?"16px":"8px",maxHeight:l?"calc(85vh - 80px)":"calc(75vh - 60px)",overflowY:"auto",display:"flex",flexDirection:"column",gap:l?"12px":"8px"},children:[g.jsxs("div",{style:{position:"relative",border:"none",borderRadius:"2px",overflow:"hidden",background:"#f0f0f0",minHeight:"120px",display:"flex",alignItems:"center",justifyContent:"center"},children:[!m&&!_&&g.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",background:"#f0f0f0",color:"#666",fontSize:"14px",fontFamily:"'VT323', monospace"},children:"Carregando..."}),_?g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"8px",color:"#666",fontSize:"14px",fontFamily:"'VT323', monospace"},children:[g.jsx(Gx,{size:24,color:"#666"}),"Sem imagem"]}):g.jsx("img",{src:o.imageUrl,alt:o.name,onLoad:T,onError:A,style:{width:"100%",height:"100%",display:m?"block":"none",transition:"opacity 0.3s ease"}})]}),l&&g.jsx("div",{style:{padding:"8px 12px",background:"var(--bg-primary)",border:"none",borderRadius:"2px",textAlign:"center"},children:g.jsx("span",{style:{color:"var(--accent-green)",fontWeight:600,fontSize:"clamp(0.7rem, 1.8vw, 0.9rem)",fontFamily:"'LaCartoonerie', sans-serif",textTransform:"uppercase",letterSpacing:"0.5px",textShadow:"1px 1px 0px #000"},children:o.category})})]}),g.jsx("style",{children:`
          @keyframes fadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
          }
          
          @keyframes fadeOut {
            0% { opacity: 1; }
            100% { opacity: 0; }
          }
          
          @keyframes modalSlideIn {
            0% { 
              opacity: 0;
              transform: ${l?"translate(-50%, -50%) scale(0.9)":"translateX(100%)"};
            }
            100% { 
              opacity: 1;
              transform: ${l?"translate(-50%, -50%) scale(1)":"translateX(0)"};
            }
          }
          
          @keyframes modalSlideOut {
            0% { 
              opacity: 1;
              transform: ${l?"translate(-50%, -50%) scale(1)":"translateX(0)"};
            }
            100% { 
              opacity: 0;
              transform: ${l?"translate(-50%, -50%) scale(0.9)":"translateX(100%)"};
            }
          }
          
          /* Scrollbar simplificada */
          ::-webkit-scrollbar {
            width: 8px;
          }
          
          ::-webkit-scrollbar-track {
            background: var(--bg-primary);
          }
          
          ::-webkit-scrollbar-thumb {
            background: var(--accent-green);
            border: 'none';
          }
          
          ::-webkit-scrollbar-thumb:hover {
            background: #2d5a2d;
          }
        `})]})]})},w1=()=>{P.useEffect(()=>{const a=La("80.png"),r=document.createElement("canvas"),o=r.getContext("2d"),l=new Image;return l.onload=()=>{if(o){r.width=l.width*1.5,r.height=l.height*1.5,o.imageSmoothingEnabled=!1,o.drawImage(l,0,0,r.width,r.height);const h=r.toDataURL(),m=document.createElement("style");m.setAttribute("data-cursor-style","true"),m.textContent=`
          .leaflet-container,
          .leaflet-container *,
          .leaflet-interactive,
          .leaflet-interactive * {
            cursor: url("${h}") ${l.width*1.5/2} ${l.height*1.5/2}, crosshair !important;
            touch-action: none !important;
          }
        `,document.head.appendChild(m),r.remove()}},l.src=a,()=>{const u=document.querySelector("style[data-cursor-style]");u&&u.remove()}},[])};delete kt.Icon.Default.prototype._getIconUrl;kt.Icon.Default.mergeOptions({iconRetinaUrl:s_,iconUrl:a_,shadowUrl:l_});new kt.Icon({iconUrl:La("bandeira2.png"),iconSize:[70,70],iconAnchor:[30,60],popupAnchor:[0,-50],className:"bandeira-marker"});new kt.Icon({iconUrl:La("bandeira1.png"),iconSize:[70,70],iconAnchor:[30,60],popupAnchor:[0,-50],className:"bandeira-marker"});const S1=({position:a,gameState:r})=>{const[o,l]=P.useState(1),[u,h]=P.useState(!1),[m,x]=P.useState(!0),[_,w]=P.useState(!1),k=P.useRef("");if(P.useEffect(()=>{r.showFeedback||(console.log("🏁 showFeedback é false, removendo animação da bandeira correta"),x(!1))},[r.showFeedback]),P.useEffect(()=>{const T=A=>{console.log("📡 Evento markerClickAnimationComplete recebido, iniciando segunda animação em 0.5s"),setTimeout(()=>{console.log("🎬 Iniciando segunda animação (bandeira correta)"),w(!0),h(!0)},200)};return window.addEventListener("markerClickAnimationComplete",T),()=>{window.removeEventListener("markerClickAnimationComplete",T)}},[]),P.useEffect(()=>{if(!u||!m||!_)return;k.current=`bandeira-correta-${Date.now()}-${Math.random()}`;let T=1;const A=16,C=1e3/at.fps,I=()=>{T<=A&&m&&(l(T),T++,T<=A?setTimeout(I,C):(console.log("🏁 Animação da bandeira correta terminou, último frame permanecerá até o fim do round"),h(!1)))};setTimeout(I,C)},[u,m,_]),!m)return null;const E=new kt.DivIcon({html:`
      <div class="bandeira-correta-marker" style="width: ${at.size}px; height: ${at.size}px; position: relative;">
        <img id="${k.current}" src="${pm(`${o}.png`)}"
             style="width: 100%; height: 100%; object-fit: contain; filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3)) drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2)) contrast(1.3) saturate(1.4);" />
      </div>
    `,className:"bandeira-correta-marker-icon",iconSize:[at.size,at.size],iconAnchor:[85,at.anchorY]});return g.jsx(_s,{position:a,icon:E})},k1=({center:a,zoom:r})=>{w1(),P.useEffect(()=>{(()=>{const De=new Image,Ye=new Image;De.src=La("bandeira1.png"),Ye.src=La("bandeira2.png");const Ke=[];for(let Qe=1;Qe<=16;Qe++){const tt=new Image;tt.src=Fr(`${Qe}.png`),Ke.push(tt)}console.log("🖼️ Pré-carregamento iniciado: 2 bandeiras + 16 sprites"),Promise.all([new Promise(Qe=>{De.onload=()=>Qe("bandeira1"),De.onerror=()=>console.warn("❌ Erro ao carregar bandeira1")}),new Promise(Qe=>{Ye.onload=()=>Qe("bandeira2"),Ye.onerror=()=>console.warn("❌ Erro ao carregar bandeira2")}),...Ke.map((Qe,tt)=>new Promise(ct=>{Qe.onload=()=>ct(`sprite${tt+1}`),Qe.onerror=()=>console.warn(`❌ Erro ao carregar sprite${tt+1}`)}))]).then(()=>{console.log("✅ Todas as imagens foram pré-carregadas com sucesso!")}).catch(Qe=>{console.error("❌ Erro durante o pré-carregamento:",Qe)})})()},[]);const[o,l]=P.useState(null),[u,h]=P.useState(!1),[m,x]=P.useState({playTime:0,roundsPlayed:0,accuracy:0}),{playerName:_,initializePlayerName:w}=km(),k=P.useRef(null),E=P.useRef(null),[T,A]=P.useState("neighborhoods"),[C,I]=P.useState(null),[N,K]=P.useState(!1),[G,H]=P.useState(!0),[te,ue]=P.useState(!1),[ae,J]=P.useState(0),ve=P.useRef(""),{places:re}=$d(),xe=P.useRef(null),[Pe,le]=P.useState(r),[ze,$e]=P.useState(a),Fe=P.useRef(null),{mapRef:_e,geoJsonRef:je,audioRef:U,successSoundRef:oe,errorSoundRef:q,showPhaseOneMessage:M,distanceCircle:V,gameState:Z,handleMapClick:de,handleVolumeChange:se,handleToggleMute:ie,handlePauseGame:we,handleNextRound:ke,handleStartGame:Oe,setDistanceCircle:qe,updateGameState:ut}=f_(o,T,C,te),zt=P.useCallback(Ne=>{console.log("🔍 [Map.tsx] handleMapClick chamado com:",Ne),console.log("🔍 [Map.tsx] Estado do jogo:",{gameStarted:Z.gameStarted,isCountingDown:Z.isCountingDown,showFeedback:Z.showFeedback}),de(Ne)},[de,Z.gameStarted,Z.isCountingDown,Z.showFeedback]),Lt=P.useCallback(()=>{if(!re||re.length===0)return;let Ne=Math.floor(Math.random()*re.length);if(re.length>1&&C){let De=0;for(;re[Ne].id===C.id&&De<10;)Ne=Math.floor(Math.random()*re.length),De++}console.log("[selectNextFamousPlace] currentFamousPlace antes:",C),I(re[Ne]),setTimeout(()=>{console.log("[selectNextFamousPlace] currentFamousPlace depois:",re[Ne])},0)},[re,C]);P.useEffect(()=>{xe.current=(C==null?void 0:C.id)??null},[C]),P.useEffect(()=>{!Z.clickedPosition&&Fe.current&&Fe.current.parentNode&&(console.log("🏁 clickedPosition é null, removendo sprite do clique"),Fe.current.parentNode.removeChild(Fe.current),Fe.current=null)},[Z.clickedPosition]),P.useEffect(()=>{T==="famous_places"&&Z.gameStarted&&re.length>0&&!C&&Lt(),T!=="famous_places"&&I(null)},[T,Z.gameStarted,re,Lt]),P.useEffect(()=>{var Ne;if(Z.clickedPosition){console.log("🎯 Clique detectado! Posição:",Z.clickedPosition),console.log("⚙️ Configuração do sprite:",at),ve.current=`sprite-frame-${Date.now()}-${Math.random()}`,console.log("🆔 ID do sprite gerado:",ve.current);let De=1;const Ye=16,Ke=document.createElement("div");Ke.id=ve.current,Ke.className="sprite-animation-container",Fe.current=Ke;const Qe=Z.clickedPosition.lng,tt=Z.clickedPosition.lat,ct=_e.current;if(ct){const Nt=ct.latLngToContainerPoint([tt,Qe]);Ke.style.cssText=`
          position: absolute;
          left: ${Nt.x-at.anchorX}px;
          top: ${Nt.y-at.anchorY}px;
          width: ${at.size}px;
          height: ${at.size}px;
          z-index: 10000;
          pointer-events: none;
          background: transparent;
        `,console.log(`📍 Posição do clique: ${Qe}, ${tt}`),console.log(`🖥️ Posição na tela: ${Nt.x}, ${Nt.y}`),console.log(`🎯 Posição final com ancoragem: ${Nt.x-at.anchorX}, ${Nt.y-at.anchorY}`)}else Ke.style.cssText=`
          position: fixed;
          left: 50%;
          top: 50%;
          transform: translate(-50%, -50%);
          width: ${at.size}px;
          height: ${at.size}px;
          z-index: 10000;
          pointer-events: none;
          background: transparent;
        `;const jt=document.createElement("img");jt.style.cssText=`
        width: 100%;
        height: 100%;
        object-fit: contain;
        display: block;
        filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3)) drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2)) contrast(1.3) saturate(1.4);
      `,jt.src=Fr("1.png"),Ke.appendChild(jt);const cn=(Ne=_e.current)==null?void 0:Ne.getContainer();cn?(cn.appendChild(Ke),console.log("🖼️ Sprite adicionado ao container do mapa")):(document.body.appendChild(Ke),console.log("🖼️ Sprite adicionado ao body (fallback)")),console.log("🖼️ Elemento HTML do sprite criado e adicionado ao DOM"),console.log(`📏 Tamanho: ${at.size}px`),console.log(`⏱️ Frame delay: ${at.frameDelay}ms`),console.log(`🎬 FPS: ${at.fps}`);const gt=()=>{if(console.log(`🖼️ Frame ${De}:`,Fr(`${De}.png`)),De<=Ye)if(jt.src=Fr(`${De}.png`),De++,De<=Ye)console.log(`⏰ Próximo frame em ${at.frameDelay}ms`),setTimeout(gt,at.frameDelay);else{console.log("🏁 Animação do clique terminou, último frame permanecerá até o fim do round");const Nt=new CustomEvent("markerClickAnimationComplete",{detail:{timestamp:Date.now(),position:Z.clickedPosition}});window.dispatchEvent(Nt),console.log("📡 Evento markerClickAnimationComplete disparado")}else console.log("❌ Animação finalizada")};console.log(`⏰ Iniciando animação em ${at.frameDelay}ms...`),setTimeout(gt,at.frameDelay)}},[Z.clickedPosition]),P.useEffect(()=>{const Ne=De=>{if(!Z.gameStarted||!_e.current)return;De.preventDefault();const Ye=_e.current,Ke=Ye.getZoom(),Qe=Ye.getCenter();switch(De.key.toLowerCase()){case"z":Ke<18&&(Ye.setZoom(Ke+1),le(Ke+1));break;case"x":Ke>10&&(Ye.setZoom(Ke-1),le(Ke-1));break;case"arrowup":case"arrowdown":case"arrowleft":case"arrowright":const tt=.01;let ct=Qe.lat,jt=Qe.lng;switch(De.key.toLowerCase()){case"arrowup":ct+=tt;break;case"arrowdown":ct-=tt;break;case"arrowleft":jt-=tt;break;case"arrowright":jt+=tt;break}const cn=kt.latLng(Math.max(-24.1,Math.min(-23.8,ct)),Math.max(-46.5,Math.min(-46.2,jt)));Ye.panTo(cn,{animate:!0}),$e([cn.lat,cn.lng]);break}};return window.addEventListener("keydown",Ne),()=>{window.removeEventListener("keydown",Ne)}},[Z.gameStarted]),P.useEffect(()=>{if(T==="famous_places"&&C&&Z.gameStarted){console.log("[useEffect] Iniciando sequência do modal do lugar famoso:",C),H(!0),K(!0),ue(!0),J(0);const Ne=Date.now(),De=2e3,Ye=setInterval(()=>{const tt=Date.now()-Ne,ct=Math.min(tt/De*100,100);J(ct)},50),Ke=setTimeout(()=>{console.log("[Modal] Movendo para o canto após 2 segundos"),H(!1),J(0),clearInterval(Ye)},2e3),Qe=setTimeout(()=>{console.log("[Modal] Iniciando timer após transição"),ue(!1)},2300);return()=>{clearTimeout(Ke),clearTimeout(Qe),clearInterval(Ye)}}else T!=="famous_places"&&(K(!1),H(!0),ue(!1),J(0))},[T,C,Z.gameStarted]),P.useEffect(()=>{(async()=>{try{const De=await fetch("/geosantos//data/bairros.geojson");if(!De.ok)throw new Error(`HTTP error! status: ${De.status}`);const Ye=await De.json();l(Ye)}catch(De){console.error("Error fetching geojson data:",De),l(null)}})()},[]),P.useEffect(()=>{_e.current&&(window.mapInstance=_e.current)},[_e.current]),P.useEffect(()=>{E.current&&(Z.gameStarted&&!Z.gameOver&&!Z.isMuted?(E.current.volume=Z.volume*.3,E.current.play().catch(Ne=>{console.log("Erro ao tocar música de fundo:",Ne)})):(Z.gameOver||Z.isMuted)&&E.current.pause())},[Z.gameStarted,Z.gameOver,Z.isMuted,Z.volume]),P.useEffect(()=>{E.current&&(E.current.volume=Z.volume*.3)},[Z.volume]),P.useEffect(()=>{if(Z.gameOver&&!u){const Ne=Date.now(),De=Math.floor((Ne-(Z.lastClickTime||Ne))/1e3),Ye=Math.max(0,Math.min(1,1-Z.totalDistance/6e3));x({playTime:Math.max(1,De),roundsPlayed:Z.roundNumber,accuracy:Ye}),h(!0)}},[Z.gameOver,u,Z.lastClickTime,Z.totalDistance,Z.roundNumber]);const xt=P.useCallback(Ne=>{console.log("[handleNextRoundWithFamousPlaceReset] chamada. currentFamousPlace:",C),ke(Ne),T==="famous_places"&&setTimeout(()=>{console.log("[handleNextRoundWithFamousPlaceReset] chamando selectNextFamousPlace"),Lt()},0)},[T,ke,Lt,C]);return g.jsxs("div",{style:{margin:0,padding:0,width:"100vw",height:"100vh",overflow:"hidden"},children:[g.jsx("audio",{ref:U,preload:"auto"}),g.jsx("audio",{ref:oe,src:"/geosantos//assets/audio/sucess.mp3",preload:"auto"}),g.jsx("audio",{ref:q,src:"/geosantos//assets/audio/error.mp3",preload:"auto"}),g.jsx("audio",{ref:k,src:"/geosantos//assets/audio/game-start.mp3",preload:"auto"}),g.jsx("audio",{ref:E,src:"/geosantos//assets/audio/game_music.mp3",preload:"auto",loop:!0,onError:Ne=>{console.error("Erro ao carregar game_music.mp3:",Ne)},onLoadStart:()=>{console.log("Iniciando carregamento de game_music.mp3")},onCanPlay:()=>{console.log("game_music.mp3 carregado com sucesso")}}),g.jsx("style",{children:`
          .bandeira-marker {
            animation: plantBandeira 0.3s ease-out;
            transform-origin: bottom center;
            z-index: 2000;
          }

          @keyframes plantBandeira {
            0% {
              transform: scale(0.1) translateY(50px);
              opacity: 0;
            }
            50% {
              transform: scale(1.2) translateY(-5px);
              opacity: 1;
            }
            100% {
              transform: scale(1) translateY(0);
              opacity: 1;
            }
          }

          @keyframes plantSprite {
            0% {
              transform: scale(0.1) translateY(50px);
              opacity: 0;
            }
            50% {
              transform: scale(1.2) translateY(-5px);
              opacity: 1;
            }
            100% {
              transform: scale(1) translateY(0);
              opacity: 1;
            }
          }




          /* Ajustes para dispositivos móveis */
          @media (max-width: 768px) {
            .leaflet-container {
              touch-action: none !important;
            }

            .leaflet-control-container {
              display: none;
            }
          }

          /* Melhorias de acessibilidade */
          @media (prefers-reduced-motion: reduce) {
            * {
              animation-duration: 0.01ms !important;
              animation-iteration-count: 1 !important;
              transition-duration: 0.01ms !important;
              scroll-behavior: auto !important;
            }
          }

          /* Melhor contraste para textos */
          .game-text {
            text-shadow: 2px 2px 0px rgba(0, 0, 0, 0.8);
            font-family: 'VT323', monospace;
          }

          /* Indicador de foco melhorado */
          *:focus {
            outline: 3px solid var(--accent-green);
            outline-offset: 2px;
          }

          /* Loading spinner */
          .loading-spinner {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 2000;
            background: var(--bg-secondary);
            border: 2px solid var(--text-primary);
            padding: 20px;
            border-radius: 2px;
            color: var(--text-primary);
            text-align: center;
            box-shadow: var(--shadow-md);
            font-family: 'VT323', monospace;
          }

          @keyframes fadeInOut {
            0% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
            10% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
            80% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
            100% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
          }

          @keyframes fadeInOut {
            0% { opacity: 0; }
            10% { opacity: 1; }
            80% { opacity: 1; }
            100% { opacity: 0; }
          }

          @keyframes slideInUp {
            0% {
              opacity: 0;
              transform: translateY(30px);
            }
            100% {
              opacity: 1;
              transform: translateY(0);
            }
          }

          @keyframes bounceIn {
            0% {
              opacity: 0;
              transform: scale(0.3);
            }
            50% {
              opacity: 1;
              transform: scale(1.05);
            }
            70% {
              transform: scale(0.9);
            }
            100% {
              opacity: 1;
              transform: scale(1);
            }
          }

          @keyframes pulseText {
            0% {
              transform: scale(1);
            }
            50% {
              transform: scale(1.03);
            }
            100% {
              transform: scale(1);
            }
          }
        `}),g.jsx(yw,{audioRef:U,successSoundRef:oe,errorSoundRef:q,gameStartAudioRef:k,gameState:Z,playSuccess:!1,playError:!1,showPhaseOneMessage:M}),Z.gameStarted&&g.jsxs(g.Fragment,{children:[g.jsx("div",{style:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",display:"flex",gap:"20px",alignItems:"center",zIndex:1e3},children:g.jsx(Ed,{icon:"target",value:Z.score,unit:"pts"})}),g.jsx("div",{style:{position:"fixed",top:"20px",right:"20px",zIndex:1e3},children:g.jsx(_w,{totalDistance:Z.totalDistance,maxDistance:4e3})})]}),Z.gameStarted&&g.jsxs(ys,{center:ze,zoom:Pe,style:{width:"100%",height:"100%",zIndex:1},zoomControl:!1,attributionControl:!1,ref:_e,children:[g.jsx(Bd,{onClick:zt}),g.jsx(xs,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"}),T==="famous_places"&&Z.showFeedback&&C&&g.jsx(S1,{position:[C.latitude,C.longitude],gameState:Z}),Z.arrowPath&&g.jsx(i_,{positions:Z.arrowPath,color:"#FF0000",weight:3,opacity:.8,dashArray:"10, 10",className:"arrow-path"}),o&&g.jsx(pw,{geoJsonData:o,revealedNeighborhoods:Z.revealedNeighborhoods,currentNeighborhood:Z.currentNeighborhood,onMapClick:zt,geoJsonRef:je}),T==="neighborhoods"?g.jsx(gw,{geoJsonData:o,geoJsonRef:je,updateGameState:ut}):g.jsx(vw,{onPlaceChange:I,currentPlace:C,isGameActive:Z.gameStarted}),_e.current&&V&&g.jsx(mw,{map:_e.current,distanceCircle:V,onAnimationComplete:()=>qe(null)})]}),Z.gameStarted&&g.jsx(qx,{isMuted:Z.isMuted,volume:Z.volume,onVolumeChange:se,onToggleMute:ie}),g.jsx(tw,{gameStarted:Z.gameStarted,currentNeighborhood:Z.currentNeighborhood,globalTimeLeft:Z.globalTimeLeft,roundTimeLeft:Z.roundTimeLeft,roundNumber:Z.roundNumber,roundInitialTime:Z.roundInitialTime,score:Z.score,onStartGame:()=>Oe(),getProgressBarColor:hp,currentMode:T,onModeChange:A,currentFamousPlace:C||void 0}),Z.gameStarted&&g.jsxs("div",{style:{position:"fixed",bottom:"20px",right:"20px",background:"rgba(0, 0, 0, 0.8)",color:"var(--text-primary)",padding:"8px 12px",borderRadius:"4px",fontSize:"0.8rem",fontFamily:"'LaCartoonerie', sans-serif",zIndex:1e3,display:"flex",flexDirection:"column",gap:"4px",backdropFilter:"blur(4px)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx("span",{style:{color:"var(--accent-green)"},children:"Z"}),g.jsx("span",{children:"Zoom In"}),g.jsx("span",{style:{marginLeft:"8px",color:"var(--accent-green)"},children:"X"}),g.jsx("span",{children:"Zoom Out"})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx("span",{style:{color:"var(--accent-blue)"},children:"↑↓←→"}),g.jsx("span",{children:"Mover Mapa"})]})]}),Z.showFeedback&&!u&&g.jsx(fw,{showFeedback:Z.showFeedback,clickedPosition:Z.clickedPosition,arrowPath:Z.arrowPath,clickTime:Z.clickTime,feedbackProgress:Z.feedbackProgress,onNextRound:xt,calculateDistance:kd,calculateScore:hm,getProgressBarColor:hp,geoJsonData:o,gameOver:Z.gameOver,onPauseGame:we,score:Z.score,currentNeighborhood:Z.currentNeighborhood,currentMode:T,currentFamousPlace:C||void 0}),M&&g.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.95)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",animation:"fadeInOut 3s forwards",zIndex:2e3},children:g.jsxs("div",{style:{textAlign:"center",maxWidth:"90%",animation:"slideInUp 0.8s ease-out 0.3s both"},children:[g.jsx("div",{style:{fontSize:window.innerWidth<768?"3rem":"4rem",marginBottom:"20px",animation:"bounceIn 1s ease-out 0.5s both"},children:T==="neighborhoods"?g.jsx(gm,{size:window.innerWidth<768?48:64,color:"var(--accent-green)"}):g.jsx(vm,{size:window.innerWidth<768?48:64,color:"var(--accent-green)"})}),g.jsx("h1",{style:{fontSize:window.innerWidth<768?"2rem":"3rem",color:"var(--accent-green)",marginBottom:"15px",fontWeight:800,textTransform:"uppercase",letterSpacing:"2px",animation:"slideInUp 0.8s ease-out 0.7s both",fontFamily:"'LaCartoonerie', cursive"},children:T==="neighborhoods"?"Nível 1: Bairros Conhecidos":"Lugares Famosos"}),g.jsx("p",{style:{fontSize:window.innerWidth<768?"1rem":"1.3rem",color:"var(--text-primary)",marginBottom:"25px",fontWeight:600,animation:"slideInUp 0.8s ease-out 0.9s both",fontFamily:"'LaCartoonerie', cursive"},children:T==="neighborhoods"?"Clique no mapa onde você acha que está o bairro!":"Encontre o lugar famoso no mapa!"})]})}),g.jsx(_1,{isOpen:u,onClose:()=>{h(!1),window.location.reload()},onPlayAgain:()=>{h(!1),window.location.reload()},score:Z.score,playTime:m.playTime,roundsPlayed:m.roundsPlayed,accuracy:m.accuracy,currentPlayerName:_||w()}),g.jsx(x1,{open:N,onClose:()=>K(!1),famousPlace:C,isCentered:G,timeProgress:ae})]})},b1=()=>{const{places:a,isLoading:r,error:o}=$d(),[l,u]=P.useState(null),[h,m]=P.useState(!1),x=new yu.Icon({iconUrl:"https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/images/marker-icon.png",iconSize:[32,48],iconAnchor:[16,48],popupAnchor:[0,-48]}),_=E=>{u(E)},w=()=>{m(!0)},k=()=>{m(!1)};return g.jsxs("div",{style:{maxWidth:1400,minWidth:320,width:"100%",margin:"40px auto",background:"var(--bg-secondary)",border:"4px solid var(--accent-green)",borderRadius:0,boxShadow:"8px 8px 0 #222, 0 0 0 4px #fff",padding:24,fontFamily:"'Press Start 2P', monospace",color:"var(--text-primary)",minHeight:"calc(100vh - 80px)",display:"flex",flexDirection:"row",gap:32,flexWrap:"wrap"},children:[g.jsx(gs,{to:"/",style:{position:"absolute",top:"20px",left:"20px",zIndex:10,background:"#1a4d2e",color:"#fff",border:"none",borderRadius:"6px",padding:"12px 20px",fontSize:"1rem",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",transition:"all 0.2s ease",textDecoration:"none"},children:"← Voltar ao Jogo"}),g.jsxs("div",{style:{flex:"1 1 300px",minWidth:280,maxWidth:400,display:"flex",flexDirection:"column",gap:0,height:"calc(100vh - 120px)",overflowY:"auto",background:"#fff",border:"2px solid #222",borderRadius:0,boxShadow:"4px 4px 0 #222",padding:16},children:[g.jsx("h2",{style:{fontSize:"1.2rem",color:"#222",marginBottom:16,fontFamily:"'Press Start 2P', monospace",textTransform:"uppercase",textAlign:"center",fontWeight:700,textShadow:"2px 2px 0 #ccc"},children:"Lugares Famosos"}),r&&g.jsx("div",{style:{color:"#888",fontSize:"0.9rem",textAlign:"center",fontFamily:"'VT323', monospace"},children:"Carregando lugares..."}),o&&g.jsxs("div",{style:{color:"red",fontSize:"0.9rem",textAlign:"center",fontFamily:"'VT323', monospace"},children:["Erro ao carregar lugares: ",o]}),a.length===0&&!r&&g.jsx("div",{style:{color:"#888",fontSize:"0.9rem",textAlign:"center",fontFamily:"'VT323', monospace"},children:"Nenhum lugar encontrado."}),a.map(E=>g.jsxs("div",{onClick:()=>_(E),style:{display:"flex",alignItems:"center",gap:12,borderBottom:"1px dashed #ccc",padding:"12px 8px",cursor:"pointer",background:(l==null?void 0:l.id)===E.id?"#f0f8f0":"transparent",border:(l==null?void 0:l.id)===E.id?"2px solid var(--accent-green)":"none",borderRadius:(l==null?void 0:l.id)===E.id?"4px":"0",transition:"all 0.2s ease"},onMouseEnter:T=>{(l==null?void 0:l.id)!==E.id&&(T.currentTarget.style.background="#f5f5f5")},onMouseLeave:T=>{(l==null?void 0:l.id)!==E.id&&(T.currentTarget.style.background="transparent")},children:[g.jsx("img",{src:E.imageUrl||"https://via.placeholder.com/48x48?text=?",alt:E.name,style:{width:48,height:48,objectFit:"cover",border:"2px solid #222",background:"#fff",borderRadius:0}}),g.jsxs("div",{style:{flex:1},children:[g.jsx("div",{style:{fontWeight:700,fontSize:"0.8rem",color:"#222",fontFamily:"'Press Start 2P', monospace",lineHeight:1.2,marginBottom:"4px"},children:E.name}),g.jsx("div",{style:{fontSize:"0.7rem",color:"#444",fontFamily:"'VT323', monospace",fontStyle:"italic"},children:E.category})]})]},E.id))]}),g.jsx("div",{style:{flex:"2 1 500px",minWidth:320,maxWidth:900,display:"flex",flexDirection:"column",gap:0,background:"#fff",border:"2px solid #222",borderRadius:0,boxShadow:"4px 4px 0 #222",padding:24,height:"calc(100vh - 120px)",overflowY:"auto",overflowX:"hidden"},children:l?g.jsxs(g.Fragment,{children:[g.jsx("h1",{style:{fontFamily:"'Press Start 2P', monospace",color:"var(--accent-green)",fontSize:"1.4rem",textAlign:"center",textTransform:"uppercase",fontWeight:700,letterSpacing:"1px",textShadow:"2px 2px 0 #222",marginBottom:16},children:l.name}),g.jsx("div",{style:{fontSize:"1rem",color:"#444",textAlign:"center",fontFamily:"'VT323', monospace",fontStyle:"italic",marginBottom:20,padding:"8px 16px",background:"#f0f0f0",border:"1px solid #ccc",borderRadius:"4px"},children:l.category}),g.jsx("img",{src:l.imageUrl||"https://via.placeholder.com/400x250?text=Sem+Imagem",alt:l.name,style:{width:"100%",maxWidth:400,height:250,objectFit:"cover",borderRadius:"8px",margin:"0 auto 20px auto",border:"3px solid #222",boxShadow:"4px 4px 0 #222",background:"#eee"}}),g.jsx("div",{style:{fontSize:"1rem",color:"#222",lineHeight:1.6,textAlign:"justify",fontFamily:"'Georgia', serif",marginBottom:20,padding:"16px",background:"#f9f9f9",border:"1px solid #ddd",borderRadius:"4px"},children:l.description}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",padding:"16px",background:"#f0f8f0",border:"1px solid var(--accent-green)",borderRadius:"4px"},children:[g.jsxs("div",{style:{fontSize:"0.9rem",color:"#222",fontFamily:"'VT323', monospace"},children:[g.jsx("strong",{children:"📍 Endereço:"})," ",l.address]}),g.jsxs("div",{style:{fontSize:"0.9rem",color:"#222",fontFamily:"'VT323', monospace"},children:[g.jsx("strong",{children:"🌍 Coordenadas:"})," ",l.latitude,", ",l.longitude]})]}),g.jsx("div",{style:{width:"100%",minHeight:350,height:"auto",marginTop:"20px",border:"3px solid #222",borderRadius:"8px",overflow:"hidden",boxShadow:"4px 4px 0 #222",flexShrink:0},children:g.jsxs(ys,{center:[l.latitude,l.longitude],zoom:15,style:{width:"100%",height:"100%"},scrollWheelZoom:!0,children:[g.jsx(xs,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© OpenStreetMap contributors"}),g.jsx(_s,{position:[l.latitude,l.longitude],icon:x,children:g.jsx(dp,{children:g.jsxs("div",{style:{fontFamily:"'Press Start 2P', monospace",fontSize:"0.8rem",textAlign:"center"},children:[g.jsx("strong",{children:l.name}),g.jsx("br",{}),g.jsx("span",{style:{fontFamily:"'VT323', monospace",fontSize:"0.9rem",fontStyle:"italic"},children:l.category})]})})})]})})]}):g.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"#888",fontFamily:"'VT323', monospace",fontSize:"1.2rem",textAlign:"center"},children:[g.jsx("div",{style:{fontSize:"3rem",marginBottom:"16px"},children:"📍"}),g.jsx("div",{style:{marginBottom:"8px",fontFamily:"'Press Start 2P', monospace",fontSize:"1rem",color:"#222"},children:"Selecione um lugar"}),g.jsx("div",{style:{marginBottom:"20px"},children:"Clique em um lugar na lista ao lado para ver seus detalhes"}),g.jsx("div",{style:{width:"100%",minHeight:450,height:"auto",border:"3px solid #222",borderRadius:"8px",overflow:"hidden",boxShadow:"4px 4px 0 #222",flexShrink:0},children:g.jsxs(ys,{center:[-23.9618,-46.3322],zoom:12,style:{width:"100%",height:"100%"},scrollWheelZoom:!0,children:[g.jsx(xs,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© OpenStreetMap contributors"}),a.map(E=>g.jsx(_s,{position:[E.latitude,E.longitude],icon:x,children:g.jsx(dp,{children:g.jsxs("div",{style:{fontFamily:"'Press Start 2P', monospace",fontSize:"0.7rem",textAlign:"center",maxWidth:"200px"},children:[g.jsx("strong",{children:E.name}),g.jsx("br",{}),g.jsx("span",{style:{fontFamily:"'VT323', monospace",fontSize:"0.8rem",fontStyle:"italic"},children:E.category}),g.jsx("br",{}),g.jsx("span",{style:{fontFamily:"'VT323', monospace",fontSize:"0.7rem",color:"#666"},children:E.address})]})})},E.id))]})}),g.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:g.jsx("button",{onClick:w,style:{background:"var(--accent-green)",color:"var(--bg-primary)",border:"3px solid #222",borderRadius:"4px",padding:"12px 20px",fontSize:"0.9rem",fontFamily:"'Press Start 2P', monospace",fontWeight:700,cursor:"pointer",textTransform:"uppercase",letterSpacing:"1px",boxShadow:"4px 4px 0 #222",transition:"all 0.1s ease"},onMouseEnter:E=>{E.currentTarget.style.transform="translate(-2px, -2px)",E.currentTarget.style.boxShadow="6px 6px 0 #222"},onMouseLeave:E=>{E.currentTarget.style.transform="translate(0, 0)",E.currentTarget.style.boxShadow="4px 4px 0 #222"},children:"💡 Sentiu falta de algum lugar? Envie uma sugestão!"})})]})}),h&&g.jsx(Sm,{onClose:k})]})},E1=()=>{const[a,r]=P.useState(null),[o,l]=P.useState("markerclick"),u=C=>({...{size:at.size,anchorY:at.anchorY,fps:at.fps},anchorX:C==="bandeira_correta"?85:25}),[h,m]=P.useState(()=>u(o)),[x,_]=P.useState(!1),w=P.useRef(""),k=()=>(dm({click:C=>{x||r([C.latlng.lat,C.latlng.lng])}}),null),E=(C,I)=>{let N;return I==="bandeira_correta"?(N=pm(`${C}.png`),console.log("🏁 Bandeira Correta - Frame:",C,"URL:",N)):(N=Fr(`${C}.png`),console.log("🎯 Marker Click - Frame:",C,"URL:",N)),N},T=C=>{if(x)return;console.log("🎬 Iniciando animação:",{position:C,type:o}),_(!0),w.current=`sprite-frame-${Date.now()}-${Math.random()}`;let I=1;const N=16,K=1e3/h.fps,G=()=>{const H=document.getElementById(w.current);if(H&&I<=N){const te=E(I,o);if(console.log(`🖼️ Frame ${I}:`,te),H.setAttribute("src",te),I++,I<=N)setTimeout(G,K);else{const ue=o==="bandeira_correta"?fp.bandeira_correta:fp.markerclick;console.log(`🎯 Animação terminou! Sprite final permanecerá por ${ue}ms`),setTimeout(()=>{console.log("🗑️ Removendo sprite final"),_(!1),r(null)},ue)}}else console.log("❌ Sprite não encontrado ou frame inválido"),_(!1),r(null)};setTimeout(G,K)};P.useEffect(()=>{console.log("🔄 useEffect chamado:",{clickedPosition:a,selectedAnimation:o}),a&&(console.log("🎯 Posição clicada, iniciando animação..."),T(a))},[a,o]),P.useEffect(()=>{console.log("🔄 Mudando tipo de animação para:",o);const C=u(o);m(C),console.log("⚙️ Novas configurações aplicadas:",C)},[o]);const A=(C,I)=>{m(N=>({...N,[C]:I}))};return g.jsxs("div",{style:{width:"100vw",height:"100vh",position:"relative"},children:[g.jsxs("div",{style:{position:"absolute",top:"20px",left:"20px",zIndex:1e3,backgroundColor:"rgba(255, 255, 255, 0.95)",padding:"20px",borderRadius:"10px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",minWidth:"300px"},children:[g.jsx("h2",{style:{margin:"0 0 20px 0",color:"#333"},children:"🎮 Configurações da Animação"}),g.jsxs("div",{style:{marginBottom:"20px"},children:[g.jsx("label",{style:{display:"block",marginBottom:"10px",fontWeight:"bold",color:"#333"},children:"🎬 Tipo de Animação:"}),g.jsxs("div",{style:{display:"flex",gap:"10px"},children:[g.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"5px",cursor:"pointer"},children:[g.jsx("input",{type:"radio",name:"animationType",value:"markerclick",checked:o==="markerclick",onChange:C=>{console.log("🎯 Mudando para Marker Click"),l(C.target.value)}}),g.jsx("span",{style:{fontSize:"14px"},children:"🎯 Marker Click"})]}),g.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"5px",cursor:"pointer"},children:[g.jsx("input",{type:"radio",name:"animationType",value:"bandeira_correta",checked:o==="bandeira_correta",onChange:C=>{console.log("🏁 Mudando para Bandeira Correta"),l(C.target.value)}}),g.jsx("span",{style:{fontSize:"14px"},children:"🏁 Bandeira Correta"})]})]})]}),g.jsxs("div",{style:{marginBottom:"15px"},children:[g.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:["Tamanho: ",h.size,"px"]}),g.jsx("input",{type:"range",min:"30",max:"150",value:h.size,onChange:C=>A("size",parseInt(C.target.value)),style:{width:"100%"}})]}),g.jsxs("div",{style:{marginBottom:"15px"},children:[g.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:["Âncora X: ",h.anchorX,"px"]}),g.jsx("input",{type:"range",min:"0",max:h.size,value:h.anchorX,onChange:C=>A("anchorX",parseInt(C.target.value)),style:{width:"100%"}})]}),g.jsxs("div",{style:{marginBottom:"15px"},children:[g.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:["Âncora Y: ",h.anchorY,"px"]}),g.jsx("input",{type:"range",min:"0",max:h.size,value:h.anchorY,onChange:C=>A("anchorY",parseInt(C.target.value)),style:{width:"100%"}})]}),g.jsxs("div",{style:{marginBottom:"15px"},children:[g.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:["FPS: ",h.fps]}),g.jsx("input",{type:"range",min:"5",max:"30",value:h.fps,onChange:C=>A("fps",parseInt(C.target.value)),style:{width:"100%"}})]}),g.jsx("div",{style:{padding:"10px",backgroundColor:x?"#ffeb3b":"#e8f5e8",borderRadius:"5px",textAlign:"center",fontWeight:"bold"},children:x?"🎬 Animando...":"✅ Pronto para clicar"}),g.jsxs("div",{style:{marginTop:"15px",fontSize:"12px",color:"#666"},children:[g.jsx("p",{children:g.jsx("strong",{children:"Instruções:"})}),g.jsx("p",{children:"• Escolha o tipo de animação acima"}),g.jsx("p",{children:"• Clique em qualquer lugar do mapa para ativar"}),g.jsx("p",{children:"• Ajuste as configurações para personalizar"}),g.jsx("p",{children:"• A animação só funciona quando não está rodando"})]})]}),g.jsxs("div",{style:{position:"absolute",top:"20px",right:"20px",zIndex:1e3,backgroundColor:"rgba(0, 0, 0, 0.9)",color:"white",padding:"20px",borderRadius:"10px",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",minWidth:"280px",fontFamily:"monospace"},children:[g.jsx("h3",{style:{margin:"0 0 15px 0",color:"#00ff88",textAlign:"center"},children:"📊 Dados em Tempo Real"}),g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsx("span",{style:{color:"#ffaa00"},children:"🎬 Tipo:"}),g.jsx("span",{style:{float:"right",color:"#00ff88"},children:o==="markerclick"?"🎯 Marker Click":"🏁 Bandeira Correta"})]}),g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsx("span",{style:{color:"#ffaa00"},children:"🎯 Tamanho:"}),g.jsxs("span",{style:{float:"right",color:"#00ff88"},children:[h.size,"px"]})]}),g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsx("span",{style:{color:"#ffaa00"},children:"📍 Âncora X:"}),g.jsxs("span",{style:{float:"right",color:"#00ff88"},children:[h.anchorX,"px"]})]}),g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsx("span",{style:{color:"#ffaa00"},children:"📍 Âncora Y:"}),g.jsxs("span",{style:{float:"right",color:"#00ff88"},children:[h.anchorY,"px"]})]}),g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsx("span",{style:{color:"#ffaa00"},children:"🎬 FPS:"}),g.jsx("span",{style:{float:"right",color:"#00ff88"},children:h.fps})]}),g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsx("span",{style:{color:"#ffaa00"},children:"⏱️ Delay:"}),g.jsxs("span",{style:{float:"right",color:"#00ff88"},children:[Math.round(1e3/h.fps),"ms"]})]}),g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsx("span",{style:{color:"#ffaa00"},children:"🔄 Duração Total:"}),g.jsxs("span",{style:{float:"right",color:"#00ff88"},children:[Math.round(16*1e3/h.fps),"ms"]})]}),g.jsx("div",{style:{marginTop:"15px",padding:"8px",backgroundColor:x?"#ff4444":"#00aa44",borderRadius:"5px",textAlign:"center",fontSize:"12px",fontWeight:"bold"},children:x?"🎬 ANIMANDO":"✅ PRONTO"}),a&&g.jsxs("div",{style:{marginTop:"10px",padding:"8px",backgroundColor:"#4444ff",borderRadius:"5px",fontSize:"11px",textAlign:"center"},children:["📍 Lat: ",a[0].toFixed(6),g.jsx("br",{}),"📍 Lng: ",a[1].toFixed(6)]})]}),g.jsxs(ys,{center:[-23.9618,-46.3322],zoom:13,style:{width:"100%",height:"100%"},zoomControl:!0,children:[g.jsx(xs,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),g.jsx(k,{}),a&&g.jsx(_s,{position:a,icon:new yu.DivIcon({html:`
                <div class="sprite-marker" style="width: ${h.size}px; height: ${h.size}px; position: relative;">
                  <img id="${w.current}" src="${E(1,o)}" 
                       style="width: 100%; height: 100%; object-fit: contain; animation: plantSprite 0.3s ease-out; filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3)) drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2)) contrast(1.3) saturate(1.4);" />
                </div>
              `,className:"sprite-marker-icon",iconSize:[h.size,h.size],iconAnchor:[h.anchorX,h.anchorY]})})]}),g.jsx("style",{children:`
        .sprite-marker-icon {
          background: transparent !important;
          border: none !important;
        }
        
        @keyframes plantSprite {
          0% {
            transform: scale(0) rotate(0deg);
            opacity: 0;
          }
          50% {
            transform: scale(1.2) rotate(180deg);
            opacity: 0.8;
          }
          100% {
            transform: scale(1) rotate(360deg);
            opacity: 1;
          }
        }
        
        .leaflet-control-zoom {
          margin-right: 20px !important;
        }
      `})]})},P1=()=>{const a=Fr("1.png");return console.log("🧪 SpriteDebug - URL gerada:",a),g.jsxs("div",{style:{padding:"20px",border:"2px solid red",margin:"20px",backgroundColor:"#fff"},children:[g.jsx("h2",{children:"🧪 Debug dos Sprites"}),g.jsxs("div",{style:{marginBottom:"20px"},children:[g.jsx("h3",{children:"URLs de teste:"}),g.jsxs("p",{children:[g.jsx("strong",{children:"getSpriteUrl('1.png'):"})," ",a]}),g.jsxs("p",{children:[g.jsx("strong",{children:"getSpriteUrl('2.png'):"})," ",Fr("2.png")]}),g.jsxs("p",{children:[g.jsx("strong",{children:"getSpriteUrl('16.png'):"})," ",Fr("16.png")]})]}),g.jsxs("div",{style:{marginBottom:"20px"},children:[g.jsx("h3",{children:"Teste de carregamento:"}),g.jsx("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16].map(r=>g.jsxs("div",{style:{border:"1px solid #ccc",padding:"5px",textAlign:"center",width:"80px"},children:[g.jsxs("p",{style:{margin:"0 0 5px 0",fontSize:"12px"},children:["Frame ",r]}),g.jsx("img",{src:Fr(`${r}.png`),alt:`Frame ${r}`,style:{width:"60px",height:"60px",objectFit:"contain",border:"1px solid #ddd"},onLoad:()=>console.log(`✅ Frame ${r} carregado com sucesso`),onError:o=>console.error(`❌ Erro ao carregar frame ${r}:`,o)})]},r))})]}),g.jsxs("div",{style:{marginTop:"20px",padding:"10px",backgroundColor:"#f0f0f0"},children:[g.jsx("h3",{children:"Console Logs:"}),g.jsx("p",{children:"Abra o console do navegador (F12) para ver os logs detalhados"}),g.jsx("p",{children:"Verifique se as URLs estão sendo geradas corretamente"}),g.jsx("p",{children:"Verifique se as imagens estão sendo carregadas"})]})]})};function T1(){return g.jsx(Tv,{basename:"/geosantos",children:g.jsxs(iv,{children:[g.jsx(fs,{path:"/admin/famous-places",element:g.jsx(o_,{})}),g.jsx(fs,{path:"/lugares-famosos",element:g.jsx(b1,{})}),g.jsx(fs,{path:"/teste-sprites",element:g.jsx(E1,{})}),g.jsx(fs,{path:"/debug-sprites",element:g.jsx(P1,{})}),g.jsx(fs,{path:"/",element:g.jsx("div",{style:{margin:0,padding:0,width:"100vw",height:"100vh",overflow:"hidden"},children:g.jsx(k1,{center:[-23.9618,-46.3322],zoom:13})})})]})})}fg.createRoot(document.getElementById("root")).render(g.jsx(P.StrictMode,{children:g.jsx(T1,{})}));
//# sourceMappingURL=index-L1BuxMa6.js.map
